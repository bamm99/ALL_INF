{
  "version": 3,
  "sources": ["../../../node_modules/@rails/actioncable/src/adapters.js", "../../../node_modules/@rails/actioncable/src/logger.js", "../../../node_modules/@rails/actioncable/src/connection_monitor.js", "../../../node_modules/@rails/actioncable/src/internal.js", "../../../node_modules/@rails/actioncable/src/connection.js", "../../../node_modules/@rails/actioncable/src/subscription.js", "../../../node_modules/@rails/actioncable/src/subscription_guarantor.js", "../../../node_modules/@rails/actioncable/src/subscriptions.js", "../../../node_modules/@rails/actioncable/src/consumer.js", "../../../node_modules/@rails/actioncable/src/index.js", "../../../node_modules/jquery/dist/jquery.js", "../../../node_modules/toastr/toastr.js", "../../../node_modules/datatables.net/js/dataTables.js", "../../../node_modules/datatables.net-buttons/js/dataTables.buttons.js", "../../../node_modules/datatables.net-buttons/js/buttons.html5.js", "../../../node_modules/datatables.net-buttons/js/buttons.print.js", "../../../node_modules/@rails/activestorage/app/assets/javascripts/activestorage.js", "../../../node_modules/@hotwired/turbo/dist/turbo.es2017-esm.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/snakeize.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable_stream_source_element.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/fetch_requests.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/index.js", "../../../node_modules/@hotwired/stimulus/dist/stimulus.js", "../../javascript/controllers/flash_controller.js", "../../javascript/controllers/index.js", "../../javascript/application.js", "../../../node_modules/@rails/ujs/app/assets/javascripts/rails-ujs.esm.js", "../../../node_modules/chartkick/dist/chartkick.esm.js", "../../../node_modules/@kurkle/color/dist/color.esm.js", "../../../node_modules/chart.js/src/helpers/helpers.core.ts", "../../../node_modules/chart.js/src/helpers/helpers.math.ts", "../../../node_modules/chart.js/src/helpers/helpers.collection.ts", "../../../node_modules/chart.js/src/helpers/helpers.extras.ts", "../../../node_modules/chart.js/src/helpers/helpers.easing.ts", "../../../node_modules/chart.js/src/helpers/helpers.color.ts", "../../../node_modules/chart.js/src/core/core.animations.defaults.js", "../../../node_modules/chart.js/src/core/core.layouts.defaults.js", "../../../node_modules/chart.js/src/helpers/helpers.intl.ts", "../../../node_modules/chart.js/src/core/core.ticks.js", "../../../node_modules/chart.js/src/core/core.scale.defaults.js", "../../../node_modules/chart.js/src/core/core.defaults.js", "../../../node_modules/chart.js/src/helpers/helpers.canvas.ts", "../../../node_modules/chart.js/src/helpers/helpers.options.ts", "../../../node_modules/chart.js/src/helpers/helpers.config.ts", "../../../node_modules/chart.js/src/helpers/helpers.curve.ts", "../../../node_modules/chart.js/src/helpers/helpers.dom.ts", "../../../node_modules/chart.js/src/helpers/helpers.interpolation.ts", "../../../node_modules/chart.js/src/helpers/helpers.rtl.ts", "../../../node_modules/chart.js/src/helpers/helpers.segment.js", "../../../node_modules/chart.js/src/core/core.animator.js", "../../../node_modules/chart.js/src/core/core.animation.js", "../../../node_modules/chart.js/src/core/core.animations.js", "../../../node_modules/chart.js/src/core/core.datasetController.js", "../../../node_modules/chart.js/src/controllers/controller.bar.js", "../../../node_modules/chart.js/src/controllers/controller.bubble.js", "../../../node_modules/chart.js/src/controllers/controller.doughnut.js", "../../../node_modules/chart.js/src/controllers/controller.line.js", "../../../node_modules/chart.js/src/controllers/controller.polarArea.js", "../../../node_modules/chart.js/src/controllers/controller.pie.js", "../../../node_modules/chart.js/src/controllers/controller.radar.js", "../../../node_modules/chart.js/src/controllers/controller.scatter.js", "../../../node_modules/chart.js/src/core/core.adapters.ts", "../../../node_modules/chart.js/src/core/core.interaction.js", "../../../node_modules/chart.js/src/core/core.layouts.js", "../../../node_modules/chart.js/src/platform/platform.base.js", "../../../node_modules/chart.js/src/platform/platform.basic.js", "../../../node_modules/chart.js/src/platform/platform.dom.js", "../../../node_modules/chart.js/src/platform/index.js", "../../../node_modules/chart.js/src/core/core.element.ts", "../../../node_modules/chart.js/src/core/core.scale.autoskip.js", "../../../node_modules/chart.js/src/core/core.scale.js", "../../../node_modules/chart.js/src/core/core.typedRegistry.js", "../../../node_modules/chart.js/src/core/core.registry.js", "../../../node_modules/chart.js/src/core/core.plugins.js", "../../../node_modules/chart.js/src/core/core.config.js", "../../../node_modules/chart.js/src/core/core.controller.js", "../../../node_modules/chart.js/src/elements/element.arc.ts", "../../../node_modules/chart.js/src/elements/element.line.js", "../../../node_modules/chart.js/src/elements/element.point.ts", "../../../node_modules/chart.js/src/elements/element.bar.js", "../../../node_modules/chart.js/src/plugins/plugin.colors.ts", "../../../node_modules/chart.js/src/plugins/plugin.decimation.js", "../../../node_modules/chart.js/src/plugins/plugin.filler/filler.segment.js", "../../../node_modules/chart.js/src/plugins/plugin.filler/filler.helper.js", "../../../node_modules/chart.js/src/plugins/plugin.filler/filler.options.js", "../../../node_modules/chart.js/src/plugins/plugin.filler/filler.target.stack.js", "../../../node_modules/chart.js/src/plugins/plugin.filler/simpleArc.js", "../../../node_modules/chart.js/src/plugins/plugin.filler/filler.target.js", "../../../node_modules/chart.js/src/plugins/plugin.filler/filler.drawing.js", "../../../node_modules/chart.js/src/plugins/plugin.filler/index.js", "../../../node_modules/chart.js/src/plugins/plugin.legend.js", "../../../node_modules/chart.js/src/plugins/plugin.title.js", "../../../node_modules/chart.js/src/plugins/plugin.subtitle.js", "../../../node_modules/chart.js/src/plugins/plugin.tooltip.js", "../../../node_modules/chart.js/src/scales/scale.category.js", "../../../node_modules/chart.js/src/scales/scale.linearbase.js", "../../../node_modules/chart.js/src/scales/scale.linear.js", "../../../node_modules/chart.js/src/scales/scale.logarithmic.js", "../../../node_modules/chart.js/src/scales/scale.radialLinear.js", "../../../node_modules/chart.js/src/scales/scale.time.js", "../../../node_modules/chart.js/src/scales/scale.timeseries.js", "../../../node_modules/chart.js/src/index.ts", "../../../node_modules/chart.js/auto/auto.js", "../../../node_modules/date-fns/toDate.mjs", "../../../node_modules/date-fns/constructFrom.mjs", "../../../node_modules/date-fns/addDays.mjs", "../../../node_modules/date-fns/addMonths.mjs", "../../../node_modules/date-fns/addMilliseconds.mjs", "../../../node_modules/date-fns/constants.mjs", "../../../node_modules/date-fns/addHours.mjs", "../../../node_modules/date-fns/_lib/defaultOptions.mjs", "../../../node_modules/date-fns/startOfWeek.mjs", "../../../node_modules/date-fns/startOfISOWeek.mjs", "../../../node_modules/date-fns/getISOWeekYear.mjs", "../../../node_modules/date-fns/startOfDay.mjs", "../../../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs", "../../../node_modules/date-fns/differenceInCalendarDays.mjs", "../../../node_modules/date-fns/startOfISOWeekYear.mjs", "../../../node_modules/date-fns/addMinutes.mjs", "../../../node_modules/date-fns/addQuarters.mjs", "../../../node_modules/date-fns/addSeconds.mjs", "../../../node_modules/date-fns/addWeeks.mjs", "../../../node_modules/date-fns/addYears.mjs", "../../../node_modules/date-fns/compareAsc.mjs", "../../../node_modules/date-fns/isDate.mjs", "../../../node_modules/date-fns/isValid.mjs", "../../../node_modules/date-fns/differenceInCalendarMonths.mjs", "../../../node_modules/date-fns/differenceInCalendarYears.mjs", "../../../node_modules/date-fns/differenceInDays.mjs", "../../../node_modules/date-fns/_lib/getRoundingMethod.mjs", "../../../node_modules/date-fns/differenceInMilliseconds.mjs", "../../../node_modules/date-fns/differenceInHours.mjs", "../../../node_modules/date-fns/differenceInMinutes.mjs", "../../../node_modules/date-fns/endOfDay.mjs", "../../../node_modules/date-fns/endOfMonth.mjs", "../../../node_modules/date-fns/isLastDayOfMonth.mjs", "../../../node_modules/date-fns/differenceInMonths.mjs", "../../../node_modules/date-fns/differenceInQuarters.mjs", "../../../node_modules/date-fns/differenceInSeconds.mjs", "../../../node_modules/date-fns/differenceInWeeks.mjs", "../../../node_modules/date-fns/differenceInYears.mjs", "../../../node_modules/date-fns/startOfMinute.mjs", "../../../node_modules/date-fns/startOfQuarter.mjs", "../../../node_modules/date-fns/startOfMonth.mjs", "../../../node_modules/date-fns/endOfYear.mjs", "../../../node_modules/date-fns/startOfYear.mjs", "../../../node_modules/date-fns/endOfHour.mjs", "../../../node_modules/date-fns/endOfWeek.mjs", "../../../node_modules/date-fns/endOfMinute.mjs", "../../../node_modules/date-fns/endOfQuarter.mjs", "../../../node_modules/date-fns/endOfSecond.mjs", "../../../node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs", "../../../node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs", "../../../node_modules/date-fns/locale/en-US/_lib/formatLong.mjs", "../../../node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs", "../../../node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs", "../../../node_modules/date-fns/locale/en-US/_lib/localize.mjs", "../../../node_modules/date-fns/locale/_lib/buildMatchFn.mjs", "../../../node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs", "../../../node_modules/date-fns/locale/en-US/_lib/match.mjs", "../../../node_modules/date-fns/locale/en-US.mjs", "../../../node_modules/date-fns/getDayOfYear.mjs", "../../../node_modules/date-fns/getISOWeek.mjs", "../../../node_modules/date-fns/getWeekYear.mjs", "../../../node_modules/date-fns/startOfWeekYear.mjs", "../../../node_modules/date-fns/getWeek.mjs", "../../../node_modules/date-fns/_lib/addLeadingZeros.mjs", "../../../node_modules/date-fns/_lib/format/lightFormatters.mjs", "../../../node_modules/date-fns/_lib/format/formatters.mjs", "../../../node_modules/date-fns/_lib/format/longFormatters.mjs", "../../../node_modules/date-fns/_lib/protectedTokens.mjs", "../../../node_modules/date-fns/format.mjs", "../../../node_modules/date-fns/getDefaultOptions.mjs", "../../../node_modules/date-fns/getISODay.mjs", "../../../node_modules/date-fns/transpose.mjs", "../../../node_modules/date-fns/parse/_lib/Setter.mjs", "../../../node_modules/date-fns/parse/_lib/Parser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/EraParser.mjs", "../../../node_modules/date-fns/parse/_lib/constants.mjs", "../../../node_modules/date-fns/parse/_lib/utils.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/YearParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/LocalWeekYearParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/ISOWeekYearParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/ExtendedYearParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/QuarterParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/StandAloneQuarterParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/MonthParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/StandAloneMonthParser.mjs", "../../../node_modules/date-fns/setWeek.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/LocalWeekParser.mjs", "../../../node_modules/date-fns/setISOWeek.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/ISOWeekParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/DateParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/DayOfYearParser.mjs", "../../../node_modules/date-fns/setDay.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/DayParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/LocalDayParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/StandAloneLocalDayParser.mjs", "../../../node_modules/date-fns/setISODay.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/ISODayParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/AMPMParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/AMPMMidnightParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/DayPeriodParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/Hour1to12Parser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/Hour0to23Parser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/Hour0To11Parser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/Hour1To24Parser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/MinuteParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/SecondParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/FractionOfSecondParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/ISOTimezoneWithZParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/ISOTimezoneParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/TimestampSecondsParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers/TimestampMillisecondsParser.mjs", "../../../node_modules/date-fns/parse/_lib/parsers.mjs", "../../../node_modules/date-fns/parse.mjs", "../../../node_modules/date-fns/startOfHour.mjs", "../../../node_modules/date-fns/startOfSecond.mjs", "../../../node_modules/date-fns/parseISO.mjs", "../../../node_modules/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.esm.js", "../../../node_modules/chartkick/chart.js/chart.esm.js"],
  "sourcesContent": ["export default {\n  logger: typeof console !== \"undefined\" ? console : undefined,\n  WebSocket: typeof WebSocket !== \"undefined\" ? WebSocket : undefined,\n}\n", "import adapters from \"./adapters\"\n\n// The logger is disabled by default. You can enable it with:\n//\n//   ActionCable.logger.enabled = true\n//\n//   Example:\n//\n//   import * as ActionCable from '@rails/actioncable'\n//\n//   ActionCable.logger.enabled = true\n//   ActionCable.logger.log('Connection Established.')\n//\n\nexport default {\n  log(...messages) {\n    if (this.enabled) {\n      messages.push(Date.now())\n      adapters.logger.log(\"[ActionCable]\", ...messages)\n    }\n  },\n}\n", "import logger from \"./logger\"\n\n// Responsible for ensuring the cable connection is in good health by validating the heartbeat pings sent from the server, and attempting\n// revival reconnections if things go astray. Internal class, not intended for direct user manipulation.\n\nconst now = () => new Date().getTime()\n\nconst secondsSince = time => (now() - time) / 1000\n\nclass ConnectionMonitor {\n  constructor(connection) {\n    this.visibilityDidChange = this.visibilityDidChange.bind(this)\n    this.connection = connection\n    this.reconnectAttempts = 0\n  }\n\n  start() {\n    if (!this.isRunning()) {\n      this.startedAt = now()\n      delete this.stoppedAt\n      this.startPolling()\n      addEventListener(\"visibilitychange\", this.visibilityDidChange)\n      logger.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`)\n    }\n  }\n\n  stop() {\n    if (this.isRunning()) {\n      this.stoppedAt = now()\n      this.stopPolling()\n      removeEventListener(\"visibilitychange\", this.visibilityDidChange)\n      logger.log(\"ConnectionMonitor stopped\")\n    }\n  }\n\n  isRunning() {\n    return this.startedAt && !this.stoppedAt\n  }\n\n  recordPing() {\n    this.pingedAt = now()\n  }\n\n  recordConnect() {\n    this.reconnectAttempts = 0\n    this.recordPing()\n    delete this.disconnectedAt\n    logger.log(\"ConnectionMonitor recorded connect\")\n  }\n\n  recordDisconnect() {\n    this.disconnectedAt = now()\n    logger.log(\"ConnectionMonitor recorded disconnect\")\n  }\n\n  // Private\n\n  startPolling() {\n    this.stopPolling()\n    this.poll()\n  }\n\n  stopPolling() {\n    clearTimeout(this.pollTimeout)\n  }\n\n  poll() {\n    this.pollTimeout = setTimeout(() => {\n      this.reconnectIfStale()\n      this.poll()\n    }\n    , this.getPollInterval())\n  }\n\n  getPollInterval() {\n    const { staleThreshold, reconnectionBackoffRate } = this.constructor\n    const backoff = Math.pow(1 + reconnectionBackoffRate, Math.min(this.reconnectAttempts, 10))\n    const jitterMax = this.reconnectAttempts === 0 ? 1.0 : reconnectionBackoffRate\n    const jitter = jitterMax * Math.random()\n    return staleThreshold * 1000 * backoff * (1 + jitter)\n  }\n\n  reconnectIfStale() {\n    if (this.connectionIsStale()) {\n      logger.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${secondsSince(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`)\n      this.reconnectAttempts++\n      if (this.disconnectedRecently()) {\n        logger.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${secondsSince(this.disconnectedAt)} s`)\n      } else {\n        logger.log(\"ConnectionMonitor reopening\")\n        this.connection.reopen()\n      }\n    }\n  }\n\n  get refreshedAt() {\n    return this.pingedAt ? this.pingedAt : this.startedAt\n  }\n\n  connectionIsStale() {\n    return secondsSince(this.refreshedAt) > this.constructor.staleThreshold\n  }\n\n  disconnectedRecently() {\n    return this.disconnectedAt && (secondsSince(this.disconnectedAt) < this.constructor.staleThreshold)\n  }\n\n  visibilityDidChange() {\n    if (document.visibilityState === \"visible\") {\n      setTimeout(() => {\n        if (this.connectionIsStale() || !this.connection.isOpen()) {\n          logger.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`)\n          this.connection.reopen()\n        }\n      }\n      , 200)\n    }\n  }\n\n}\n\nConnectionMonitor.staleThreshold = 6 // Server::Connections::BEAT_INTERVAL * 2 (missed two pings)\nConnectionMonitor.reconnectionBackoffRate = 0.15\n\nexport default ConnectionMonitor\n", "export default {\n  \"message_types\": {\n    \"welcome\": \"welcome\",\n    \"disconnect\": \"disconnect\",\n    \"ping\": \"ping\",\n    \"confirmation\": \"confirm_subscription\",\n    \"rejection\": \"reject_subscription\"\n  },\n  \"disconnect_reasons\": {\n    \"unauthorized\": \"unauthorized\",\n    \"invalid_request\": \"invalid_request\",\n    \"server_restart\": \"server_restart\",\n    \"remote\": \"remote\"\n  },\n  \"default_mount_path\": \"/cable\",\n  \"protocols\": [\n    \"actioncable-v1-json\",\n    \"actioncable-unsupported\"\n  ]\n}\n", "import adapters from \"./adapters\"\nimport ConnectionMonitor from \"./connection_monitor\"\nimport INTERNAL from \"./internal\"\nimport logger from \"./logger\"\n\n// Encapsulate the cable connection held by the consumer. This is an internal class not intended for direct user manipulation.\n\nconst {message_types, protocols} = INTERNAL\nconst supportedProtocols = protocols.slice(0, protocols.length - 1)\n\nconst indexOf = [].indexOf\n\nclass Connection {\n  constructor(consumer) {\n    this.open = this.open.bind(this)\n    this.consumer = consumer\n    this.subscriptions = this.consumer.subscriptions\n    this.monitor = new ConnectionMonitor(this)\n    this.disconnected = true\n  }\n\n  send(data) {\n    if (this.isOpen()) {\n      this.webSocket.send(JSON.stringify(data))\n      return true\n    } else {\n      return false\n    }\n  }\n\n  open() {\n    if (this.isActive()) {\n      logger.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`)\n      return false\n    } else {\n      const socketProtocols = [...protocols, ...this.consumer.subprotocols || []]\n      logger.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${socketProtocols}`)\n      if (this.webSocket) { this.uninstallEventHandlers() }\n      this.webSocket = new adapters.WebSocket(this.consumer.url, socketProtocols)\n      this.installEventHandlers()\n      this.monitor.start()\n      return true\n    }\n  }\n\n  close({allowReconnect} = {allowReconnect: true}) {\n    if (!allowReconnect) { this.monitor.stop() }\n    // Avoid closing websockets in a \"connecting\" state due to Safari 15.1+ bug. See: https://github.com/rails/rails/issues/43835#issuecomment-1002288478\n    if (this.isOpen()) {\n      return this.webSocket.close()\n    }\n  }\n\n  reopen() {\n    logger.log(`Reopening WebSocket, current state is ${this.getState()}`)\n    if (this.isActive()) {\n      try {\n        return this.close()\n      } catch (error) {\n        logger.log(\"Failed to reopen WebSocket\", error)\n      }\n      finally {\n        logger.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`)\n        setTimeout(this.open, this.constructor.reopenDelay)\n      }\n    } else {\n      return this.open()\n    }\n  }\n\n  getProtocol() {\n    if (this.webSocket) {\n      return this.webSocket.protocol\n    }\n  }\n\n  isOpen() {\n    return this.isState(\"open\")\n  }\n\n  isActive() {\n    return this.isState(\"open\", \"connecting\")\n  }\n\n  triedToReconnect() {\n    return this.monitor.reconnectAttempts > 0\n  }\n\n  // Private\n\n  isProtocolSupported() {\n    return indexOf.call(supportedProtocols, this.getProtocol()) >= 0\n  }\n\n  isState(...states) {\n    return indexOf.call(states, this.getState()) >= 0\n  }\n\n  getState() {\n    if (this.webSocket) {\n      for (let state in adapters.WebSocket) {\n        if (adapters.WebSocket[state] === this.webSocket.readyState) {\n          return state.toLowerCase()\n        }\n      }\n    }\n    return null\n  }\n\n  installEventHandlers() {\n    for (let eventName in this.events) {\n      const handler = this.events[eventName].bind(this)\n      this.webSocket[`on${eventName}`] = handler\n    }\n  }\n\n  uninstallEventHandlers() {\n    for (let eventName in this.events) {\n      this.webSocket[`on${eventName}`] = function() {}\n    }\n  }\n\n}\n\nConnection.reopenDelay = 500\n\nConnection.prototype.events = {\n  message(event) {\n    if (!this.isProtocolSupported()) { return }\n    const {identifier, message, reason, reconnect, type} = JSON.parse(event.data)\n    switch (type) {\n      case message_types.welcome:\n        if (this.triedToReconnect()) {\n          this.reconnectAttempted = true\n        }\n        this.monitor.recordConnect()\n        return this.subscriptions.reload()\n      case message_types.disconnect:\n        logger.log(`Disconnecting. Reason: ${reason}`)\n        return this.close({allowReconnect: reconnect})\n      case message_types.ping:\n        return this.monitor.recordPing()\n      case message_types.confirmation:\n        this.subscriptions.confirmSubscription(identifier)\n        if (this.reconnectAttempted) {\n          this.reconnectAttempted = false\n          return this.subscriptions.notify(identifier, \"connected\", {reconnected: true})\n        } else {\n          return this.subscriptions.notify(identifier, \"connected\", {reconnected: false})\n        }\n      case message_types.rejection:\n        return this.subscriptions.reject(identifier)\n      default:\n        return this.subscriptions.notify(identifier, \"received\", message)\n    }\n  },\n\n  open() {\n    logger.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`)\n    this.disconnected = false\n    if (!this.isProtocolSupported()) {\n      logger.log(\"Protocol is unsupported. Stopping monitor and disconnecting.\")\n      return this.close({allowReconnect: false})\n    }\n  },\n\n  close(event) {\n    logger.log(\"WebSocket onclose event\")\n    if (this.disconnected) { return }\n    this.disconnected = true\n    this.monitor.recordDisconnect()\n    return this.subscriptions.notifyAll(\"disconnected\", {willAttemptReconnect: this.monitor.isRunning()})\n  },\n\n  error() {\n    logger.log(\"WebSocket onerror event\")\n  }\n}\n\nexport default Connection\n", "// A new subscription is created through the ActionCable.Subscriptions instance available on the consumer.\n// It provides a number of callbacks and a method for calling remote procedure calls on the corresponding\n// Channel instance on the server side.\n//\n// An example demonstrates the basic functionality:\n//\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\", {\n//     connected() {\n//       // Called once the subscription has been successfully completed\n//     },\n//\n//     disconnected({ willAttemptReconnect: boolean }) {\n//       // Called when the client has disconnected with the server.\n//       // The object will have an `willAttemptReconnect` property which\n//       // says whether the client has the intention of attempting\n//       // to reconnect.\n//     },\n//\n//     appear() {\n//       this.perform('appear', {appearing_on: this.appearingOn()})\n//     },\n//\n//     away() {\n//       this.perform('away')\n//     },\n//\n//     appearingOn() {\n//       $('main').data('appearing-on')\n//     }\n//   })\n//\n// The methods #appear and #away forward their intent to the remote AppearanceChannel instance on the server\n// by calling the `perform` method with the first parameter being the action (which maps to AppearanceChannel#appear/away).\n// The second parameter is a hash that'll get JSON encoded and made available on the server in the data parameter.\n//\n// This is how the server component would look:\n//\n//   class AppearanceChannel < ApplicationActionCable::Channel\n//     def subscribed\n//       current_user.appear\n//     end\n//\n//     def unsubscribed\n//       current_user.disappear\n//     end\n//\n//     def appear(data)\n//       current_user.appear on: data['appearing_on']\n//     end\n//\n//     def away\n//       current_user.away\n//     end\n//   end\n//\n// The \"AppearanceChannel\" name is automatically mapped between the client-side subscription creation and the server-side Ruby class name.\n// The AppearanceChannel#appear/away public methods are exposed automatically to client-side invocation through the perform method.\n\nconst extend = function(object, properties) {\n  if (properties != null) {\n    for (let key in properties) {\n      const value = properties[key]\n      object[key] = value\n    }\n  }\n  return object\n}\n\nexport default class Subscription {\n  constructor(consumer, params = {}, mixin) {\n    this.consumer = consumer\n    this.identifier = JSON.stringify(params)\n    extend(this, mixin)\n  }\n\n  // Perform a channel action with the optional data passed as an attribute\n  perform(action, data = {}) {\n    data.action = action\n    return this.send(data)\n  }\n\n  send(data) {\n    return this.consumer.send({command: \"message\", identifier: this.identifier, data: JSON.stringify(data)})\n  }\n\n  unsubscribe() {\n    return this.consumer.subscriptions.remove(this)\n  }\n}\n", "import logger from \"./logger\"\n\n// Responsible for ensuring channel subscribe command is confirmed, retrying until confirmation is received.\n// Internal class, not intended for direct user manipulation.\n\nclass SubscriptionGuarantor {\n  constructor(subscriptions) {\n    this.subscriptions = subscriptions\n    this.pendingSubscriptions = []\n  }\n\n  guarantee(subscription) {\n    if(this.pendingSubscriptions.indexOf(subscription) == -1){ \n      logger.log(`SubscriptionGuarantor guaranteeing ${subscription.identifier}`)\n      this.pendingSubscriptions.push(subscription) \n    }\n    else {\n      logger.log(`SubscriptionGuarantor already guaranteeing ${subscription.identifier}`)\n    }\n    this.startGuaranteeing()\n  }\n\n  forget(subscription) {\n    logger.log(`SubscriptionGuarantor forgetting ${subscription.identifier}`)\n    this.pendingSubscriptions = (this.pendingSubscriptions.filter((s) => s !== subscription))\n  }\n\n  startGuaranteeing() {\n    this.stopGuaranteeing()\n    this.retrySubscribing()\n  }\n  \n  stopGuaranteeing() {\n    clearTimeout(this.retryTimeout)\n  }\n\n  retrySubscribing() {\n    this.retryTimeout = setTimeout(() => {\n      if (this.subscriptions && typeof(this.subscriptions.subscribe) === \"function\") {\n        this.pendingSubscriptions.map((subscription) => {\n          logger.log(`SubscriptionGuarantor resubscribing ${subscription.identifier}`)\n          this.subscriptions.subscribe(subscription)\n        })\n      }\n    }\n    , 500)\n  }\n}\n\nexport default SubscriptionGuarantor", "import Subscription from \"./subscription\"\nimport SubscriptionGuarantor from \"./subscription_guarantor\"\nimport logger from \"./logger\"\n\n// Collection class for creating (and internally managing) channel subscriptions.\n// The only method intended to be triggered by the user is ActionCable.Subscriptions#create,\n// and it should be called through the consumer like so:\n//\n//   App = {}\n//   App.cable = ActionCable.createConsumer(\"ws://example.com/accounts/1\")\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\")\n//\n// For more details on how you'd configure an actual channel subscription, see ActionCable.Subscription.\n\nexport default class Subscriptions {\n  constructor(consumer) {\n    this.consumer = consumer\n    this.guarantor = new SubscriptionGuarantor(this)\n    this.subscriptions = []\n  }\n\n  create(channelName, mixin) {\n    const channel = channelName\n    const params = typeof channel === \"object\" ? channel : {channel}\n    const subscription = new Subscription(this.consumer, params, mixin)\n    return this.add(subscription)\n  }\n\n  // Private\n\n  add(subscription) {\n    this.subscriptions.push(subscription)\n    this.consumer.ensureActiveConnection()\n    this.notify(subscription, \"initialized\")\n    this.subscribe(subscription)\n    return subscription\n  }\n\n  remove(subscription) {\n    this.forget(subscription)\n    if (!this.findAll(subscription.identifier).length) {\n      this.sendCommand(subscription, \"unsubscribe\")\n    }\n    return subscription\n  }\n\n  reject(identifier) {\n    return this.findAll(identifier).map((subscription) => {\n      this.forget(subscription)\n      this.notify(subscription, \"rejected\")\n      return subscription\n    })\n  }\n\n  forget(subscription) {\n    this.guarantor.forget(subscription)\n    this.subscriptions = (this.subscriptions.filter((s) => s !== subscription))\n    return subscription\n  }\n\n  findAll(identifier) {\n    return this.subscriptions.filter((s) => s.identifier === identifier)\n  }\n\n  reload() {\n    return this.subscriptions.map((subscription) =>\n      this.subscribe(subscription))\n  }\n\n  notifyAll(callbackName, ...args) {\n    return this.subscriptions.map((subscription) =>\n      this.notify(subscription, callbackName, ...args))\n  }\n\n  notify(subscription, callbackName, ...args) {\n    let subscriptions\n    if (typeof subscription === \"string\") {\n      subscriptions = this.findAll(subscription)\n    } else {\n      subscriptions = [subscription]\n    }\n\n    return subscriptions.map((subscription) =>\n      (typeof subscription[callbackName] === \"function\" ? subscription[callbackName](...args) : undefined))\n  }\n\n  subscribe(subscription) {\n    if (this.sendCommand(subscription, \"subscribe\")) {\n      this.guarantor.guarantee(subscription)\n    }\n  }\n\n  confirmSubscription(identifier) {\n    logger.log(`Subscription confirmed ${identifier}`)\n    this.findAll(identifier).map((subscription) =>\n      this.guarantor.forget(subscription))\n  }\n\n  sendCommand(subscription, command) {\n    const {identifier} = subscription\n    return this.consumer.send({command, identifier})\n  }\n}\n", "import Connection from \"./connection\"\nimport Subscriptions from \"./subscriptions\"\n\n// The ActionCable.Consumer establishes the connection to a server-side Ruby Connection object. Once established,\n// the ActionCable.ConnectionMonitor will ensure that its properly maintained through heartbeats and checking for stale updates.\n// The Consumer instance is also the gateway to establishing subscriptions to desired channels through the #createSubscription\n// method.\n//\n// The following example shows how this can be set up:\n//\n//   App = {}\n//   App.cable = ActionCable.createConsumer(\"ws://example.com/accounts/1\")\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\")\n//\n// For more details on how you'd configure an actual channel subscription, see ActionCable.Subscription.\n//\n// When a consumer is created, it automatically connects with the server.\n//\n// To disconnect from the server, call\n//\n//   App.cable.disconnect()\n//\n// and to restart the connection:\n//\n//   App.cable.connect()\n//\n// Any channel subscriptions which existed prior to disconnecting will\n// automatically resubscribe.\n\nexport default class Consumer {\n  constructor(url) {\n    this._url = url\n    this.subscriptions = new Subscriptions(this)\n    this.connection = new Connection(this)\n    this.subprotocols = []\n  }\n\n  get url() {\n    return createWebSocketURL(this._url)\n  }\n\n  send(data) {\n    return this.connection.send(data)\n  }\n\n  connect() {\n    return this.connection.open()\n  }\n\n  disconnect() {\n    return this.connection.close({allowReconnect: false})\n  }\n\n  ensureActiveConnection() {\n    if (!this.connection.isActive()) {\n      return this.connection.open()\n    }\n  }\n\n  addSubProtocol(subprotocol) {\n    this.subprotocols = [...this.subprotocols, subprotocol]\n  }\n}\n\nexport function createWebSocketURL(url) {\n  if (typeof url === \"function\") {\n    url = url()\n  }\n\n  if (url && !/^wss?:/i.test(url)) {\n    const a = document.createElement(\"a\")\n    a.href = url\n    // Fix populating Location properties in IE. Otherwise, protocol will be blank.\n    a.href = a.href\n    a.protocol = a.protocol.replace(\"http\", \"ws\")\n    return a.href\n  } else {\n    return url\n  }\n}\n", "import Connection from \"./connection\"\nimport ConnectionMonitor from \"./connection_monitor\"\nimport Consumer, { createWebSocketURL } from \"./consumer\"\nimport INTERNAL from \"./internal\"\nimport Subscription from \"./subscription\"\nimport Subscriptions from \"./subscriptions\"\nimport SubscriptionGuarantor from \"./subscription_guarantor\"\nimport adapters from \"./adapters\"\nimport logger from \"./logger\"\n\nexport {\n  Connection,\n  ConnectionMonitor,\n  Consumer,\n  INTERNAL,\n  Subscription,\n  Subscriptions,\n  SubscriptionGuarantor,\n  adapters,\n  createWebSocketURL,\n  logger,\n}\n\nexport function createConsumer(url = getConfig(\"url\") || INTERNAL.default_mount_path) {\n  return new Consumer(url)\n}\n\nexport function getConfig(name) {\n  const element = document.head.querySelector(`meta[name='action-cable-${name}']`)\n  if (element) {\n    return element.getAttribute(\"content\")\n  }\n}\n", "/*!\n * jQuery JavaScript Library v3.7.1\n * https://jquery.com/\n *\n * Copyright OpenJS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2023-08-28T13:37Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket trac-14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar flat = arr.flat ? function( array ) {\n\treturn arr.flat.call( array );\n} : function( array ) {\n\treturn arr.concat.apply( [], array );\n};\n\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n\t\t// Support: Chrome <=57, Firefox <=52\n\t\t// In some browsers, typeof returns \"function\" for HTML <object> elements\n\t\t// (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n\t\t// We don't want to classify *any* DOM node as a function.\n\t\t// Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5\n\t\t// Plus for old WebKit, typeof returns \"function\" for HTML collections\n\t\t// (e.g., `typeof document.getElementsByTagName(\"div\") === \"function\"`). (gh-4756)\n\t\treturn typeof obj === \"function\" && typeof obj.nodeType !== \"number\" &&\n\t\t\ttypeof obj.item !== \"function\";\n\t};\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\nvar document = window.document;\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar version = \"3.7.1\",\n\n\trhtmlSuffix = /HTML$/i,\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teven: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn ( i + 1 ) % 2;\n\t\t} ) );\n\t},\n\n\todd: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn i % 2;\n\t\t} ) );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a provided context; falls back to the global one\n\t// if not specified.\n\tglobalEval: function( code, options, doc ) {\n\t\tDOMEval( code, { nonce: options && options.nonce }, doc );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\n\t// Retrieve the text value of an array of DOM nodes\n\ttext: function( elem ) {\n\t\tvar node,\n\t\t\tret = \"\",\n\t\t\ti = 0,\n\t\t\tnodeType = elem.nodeType;\n\n\t\tif ( !nodeType ) {\n\n\t\t\t// If no nodeType, this is expected to be an array\n\t\t\twhile ( ( node = elem[ i++ ] ) ) {\n\n\t\t\t\t// Do not traverse comment nodes\n\t\t\t\tret += jQuery.text( node );\n\t\t\t}\n\t\t}\n\t\tif ( nodeType === 1 || nodeType === 11 ) {\n\t\t\treturn elem.textContent;\n\t\t}\n\t\tif ( nodeType === 9 ) {\n\t\t\treturn elem.documentElement.textContent;\n\t\t}\n\t\tif ( nodeType === 3 || nodeType === 4 ) {\n\t\t\treturn elem.nodeValue;\n\t\t}\n\n\t\t// Do not include comment or processing instruction nodes\n\n\t\treturn ret;\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\tisXMLDoc: function( elem ) {\n\t\tvar namespace = elem && elem.namespaceURI,\n\t\t\tdocElem = elem && ( elem.ownerDocument || elem ).documentElement;\n\n\t\t// Assume HTML when documentElement doesn't yet exist, such as inside\n\t\t// document fragments.\n\t\treturn !rhtmlSuffix.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn flat( ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\n\tfunction( _i, name ) {\n\t\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n\t} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\n\n\nfunction nodeName( elem, name ) {\n\n\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n}\nvar pop = arr.pop;\n\n\nvar sort = arr.sort;\n\n\nvar splice = arr.splice;\n\n\nvar whitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\";\n\n\nvar rtrimCSS = new RegExp(\n\t\"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\",\n\t\"g\"\n);\n\n\n\n\n// Note: an element does not contain itself\njQuery.contains = function( a, b ) {\n\tvar bup = b && b.parentNode;\n\n\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\n\t\t// Support: IE 9 - 11+\n\t\t// IE doesn't have `contains` on SVG.\n\t\ta.contains ?\n\t\t\ta.contains( bup ) :\n\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t) );\n};\n\n\n\n\n// CSS string/identifier serialization\n// https://drafts.csswg.org/cssom/#common-serializing-idioms\nvar rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n\nfunction fcssescape( ch, asCodePoint ) {\n\tif ( asCodePoint ) {\n\n\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\tif ( ch === \"\\0\" ) {\n\t\t\treturn \"\\uFFFD\";\n\t\t}\n\n\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t}\n\n\t// Other potentially-special ASCII characters get backslash-escaped\n\treturn \"\\\\\" + ch;\n}\n\njQuery.escapeSelector = function( sel ) {\n\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n};\n\n\n\n\nvar preferredDoc = document,\n\tpushNative = push;\n\n( function() {\n\nvar i,\n\tExpr,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\tpush = pushNative,\n\n\t// Local document vars\n\tdocument,\n\tdocumentElement,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\tmatches,\n\n\t// Instance-specific data\n\texpando = jQuery.expando,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|\" +\n\t\t\"loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\n\tidentifier = \"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",\n\n\t// Attribute selectors: https://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" +\n\t\twhitespace + \"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trleadingCombinator = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" +\n\t\twhitespace + \"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\tID: new RegExp( \"^#(\" + identifier + \")\" ),\n\t\tCLASS: new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\tTAG: new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\tATTR: new RegExp( \"^\" + attributes ),\n\t\tPSEUDO: new RegExp( \"^\" + pseudos ),\n\t\tCHILD: new RegExp(\n\t\t\t\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" +\n\t\t\t\twhitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" +\n\t\t\t\twhitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\tbool: new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\tneedsContext: new RegExp( \"^\" + whitespace +\n\t\t\t\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace +\n\t\t\t\"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// https://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\", \"g\" ),\n\tfunescape = function( escape, nonHex ) {\n\t\tvar high = \"0x\" + escape.slice( 1 ) - 0x10000;\n\n\t\tif ( nonHex ) {\n\n\t\t\t// Strip the backslash prefix from a non-hex escape sequence\n\t\t\treturn nonHex;\n\t\t}\n\n\t\t// Replace a hexadecimal escape sequence with the encoded Unicode code point\n\t\t// Support: IE <=11+\n\t\t// For values outside the Basic Multilingual Plane (BMP), manually construct a\n\t\t// surrogate pair\n\t\treturn high < 0 ?\n\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// Used for iframes; see `setDocument`.\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE/Edge.\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && nodeName( elem, \"fieldset\" );\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t( arr = slice.call( preferredDoc.childNodes ) ),\n\t\tpreferredDoc.childNodes\n\t);\n\n\t// Support: Android <=4.0\n\t// Detect silently failing push.apply\n\t// eslint-disable-next-line no-unused-expressions\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = {\n\t\tapply: function( target, els ) {\n\t\t\tpushNative.apply( target, slice.call( els ) );\n\t\t},\n\t\tcall: function( target ) {\n\t\t\tpushNative.apply( target, slice.call( arguments, 1 ) );\n\t\t}\n\t};\n}\n\nfunction find( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\t\tsetDocument( context );\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( ( m = match[ 1 ] ) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( ( elem = context.getElementById( m ) ) ) {\n\n\t\t\t\t\t\t\t// Support: IE 9 only\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE 9 only\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && ( elem = newContext.getElementById( m ) ) &&\n\t\t\t\t\t\t\tfind.contains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[ 2 ] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( ( m = match[ 3 ] ) && context.getElementsByClassName ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( !nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t( !rbuggyQSA || !rbuggyQSA.test( selector ) ) ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// The technique has to be used as well when a leading combinator is used\n\t\t\t\t// as such selectors are not recognized by querySelectorAll.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 &&\n\t\t\t\t\t( rdescend.test( selector ) || rleadingCombinator.test( selector ) ) ) {\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\n\t\t\t\t\t// We can use :scope instead of the ID hack if the browser\n\t\t\t\t\t// supports it & if we're not changing the context.\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when\n\t\t\t\t\t// strict-comparing two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( newContext != context || !support.scope ) {\n\n\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\t\tif ( ( nid = context.getAttribute( \"id\" ) ) ) {\n\t\t\t\t\t\t\tnid = jQuery.escapeSelector( nid );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute( \"id\", ( nid = expando ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[ i ] = ( nid ? \"#\" + nid : \":scope\" ) + \" \" +\n\t\t\t\t\t\t\ttoSelector( groups[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrimCSS, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\n\t\t// Use (key + \" \") to avoid collision with native prototype properties\n\t\t// (see https://github.com/jquery/sizzle/issues/157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn ( cache[ key + \" \" ] = value );\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by jQuery selector module\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement( \"fieldset\" );\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch ( e ) {\n\t\treturn false;\n\t} finally {\n\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\treturn nodeName( elem, \"input\" ) && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\treturn ( nodeName( elem, \"input\" ) || nodeName( elem, \"button\" ) ) &&\n\t\t\telem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11+\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction( function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction( function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ ( j = matchIndexes[ i ] ) ] ) {\n\t\t\t\t\tseed[ j ] = !( matches[ j ] = seed[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Checks a node for validity as a jQuery selector context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [node] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nfunction setDocument( node ) {\n\tvar subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocumentElement = document.documentElement;\n\tdocumentIsHTML = !jQuery.isXMLDoc( document );\n\n\t// Support: iOS 7 only, IE 9 - 11+\n\t// Older browsers didn't support unprefixed `matches`.\n\tmatches = documentElement.matches ||\n\t\tdocumentElement.webkitMatchesSelector ||\n\t\tdocumentElement.msMatchesSelector;\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Accessing iframe documents after unload throws \"permission denied\" errors\n\t// (see trac-13936).\n\t// Limit the fix to IE & Edge Legacy; despite Edge 15+ implementing `matches`,\n\t// all IE 9+ and Edge Legacy versions implement `msMatchesSelector` as well.\n\tif ( documentElement.msMatchesSelector &&\n\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tpreferredDoc != document &&\n\t\t( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t\tsubWindow.addEventListener( \"unload\", unloadHandler );\n\t}\n\n\t// Support: IE <10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert( function( el ) {\n\t\tdocumentElement.appendChild( el ).id = jQuery.expando;\n\t\treturn !document.getElementsByName ||\n\t\t\t!document.getElementsByName( jQuery.expando ).length;\n\t} );\n\n\t// Support: IE 9 only\n\t// Check to see if it's possible to do matchesSelector\n\t// on a disconnected node.\n\tsupport.disconnectedMatch = assert( function( el ) {\n\t\treturn matches.call( el, \"*\" );\n\t} );\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// IE/Edge don't support the :scope pseudo-class.\n\tsupport.scope = assert( function() {\n\t\treturn document.querySelectorAll( \":scope\" );\n\t} );\n\n\t// Support: Chrome 105 - 111 only, Safari 15.4 - 16.3 only\n\t// Make sure the `:has()` argument is parsed unforgivingly.\n\t// We include `*` in the test to detect buggy implementations that are\n\t// _selectively_ forgiving (specifically when the list includes at least\n\t// one valid selector).\n\t// Note that we treat complete lack of support for `:has()` as if it were\n\t// spec-compliant support, which is fine because use of `:has()` in such\n\t// environments will fail in the qSA path and fall back to jQuery traversal\n\t// anyway.\n\tsupport.cssHas = assert( function() {\n\t\ttry {\n\t\t\tdocument.querySelector( \":has(*,:jqfake)\" );\n\t\t\treturn false;\n\t\t} catch ( e ) {\n\t\t\treturn true;\n\t\t}\n\t} );\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter.ID = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"id\" ) === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find.ID = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter.ID =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode( \"id\" );\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find.ID = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( ( elem = elems[ i++ ] ) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find.TAG = function( tag, context ) {\n\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t// DocumentFragment nodes don't have gEBTN\n\t\t} else {\n\t\t\treturn context.querySelectorAll( tag );\n\t\t}\n\t};\n\n\t// Class\n\tExpr.find.CLASS = function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\trbuggyQSA = [];\n\n\t// Build QSA regex\n\t// Regex strategy adopted from Diego Perini\n\tassert( function( el ) {\n\n\t\tvar input;\n\n\t\tdocumentElement.appendChild( el ).innerHTML =\n\t\t\t\"<a id='\" + expando + \"' href='' disabled='disabled'></a>\" +\n\t\t\t\"<select id='\" + expando + \"-\\r\\\\' disabled='disabled'>\" +\n\t\t\t\"<option selected=''></option></select>\";\n\n\t\t// Support: iOS <=7 - 8 only\n\t\t// Boolean attributes and \"value\" are not treated correctly in some XML documents\n\t\tif ( !el.querySelectorAll( \"[selected]\" ).length ) {\n\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t}\n\n\t\t// Support: iOS <=7 - 8 only\n\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\trbuggyQSA.push( \"~=\" );\n\t\t}\n\n\t\t// Support: iOS 8 only\n\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\trbuggyQSA.push( \".#.+[+~]\" );\n\t\t}\n\n\t\t// Support: Chrome <=105+, Firefox <=104+, Safari <=15.4+\n\t\t// In some of the document kinds, these selectors wouldn't work natively.\n\t\t// This is probably OK but for backwards compatibility we want to maintain\n\t\t// handling them through jQuery traversal in jQuery 3.x.\n\t\tif ( !el.querySelectorAll( \":checked\" ).length ) {\n\t\t\trbuggyQSA.push( \":checked\" );\n\t\t}\n\n\t\t// Support: Windows 8 Native Apps\n\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\tinput = document.createElement( \"input\" );\n\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t// Support: IE 9 - 11+\n\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t// Support: Chrome <=105+, Firefox <=104+, Safari <=15.4+\n\t\t// In some of the document kinds, these selectors wouldn't work natively.\n\t\t// This is probably OK but for backwards compatibility we want to maintain\n\t\t// handling them through jQuery traversal in jQuery 3.x.\n\t\tdocumentElement.appendChild( el ).disabled = true;\n\t\tif ( el.querySelectorAll( \":disabled\" ).length !== 2 ) {\n\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t}\n\n\t\t// Support: IE 11+, Edge 15 - 18+\n\t\t// IE 11/Edge don't find elements on a `[name='']` query in some cases.\n\t\t// Adding a temporary attribute to the document before the selection works\n\t\t// around the issue.\n\t\t// Interestingly, IE 10 & older don't seem to have the issue.\n\t\tinput = document.createElement( \"input\" );\n\t\tinput.setAttribute( \"name\", \"\" );\n\t\tel.appendChild( input );\n\t\tif ( !el.querySelectorAll( \"[name='']\" ).length ) {\n\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*name\" + whitespace + \"*=\" +\n\t\t\t\twhitespace + \"*(?:''|\\\"\\\")\" );\n\t\t}\n\t} );\n\n\tif ( !support.cssHas ) {\n\n\t\t// Support: Chrome 105 - 110+, Safari 15.4 - 16.3+\n\t\t// Our regular `try-catch` mechanism fails to detect natively-unsupported\n\t\t// pseudo-classes inside `:has()` (such as `:has(:contains(\"Foo\"))`)\n\t\t// in browsers that parse the `:has()` argument as a forgiving selector list.\n\t\t// https://drafts.csswg.org/selectors/#relational now requires the argument\n\t\t// to be parsed unforgivingly, but browsers have not yet fully adjusted.\n\t\trbuggyQSA.push( \":has\" );\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( \"|\" ) );\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = function( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( a === document || a.ownerDocument == preferredDoc &&\n\t\t\t\tfind.contains( preferredDoc, a ) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( b === document || b.ownerDocument == preferredDoc &&\n\t\t\t\tfind.contains( preferredDoc, b ) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t};\n\n\treturn document;\n}\n\nfind.matches = function( expr, elements ) {\n\treturn find( expr, null, null, elements );\n};\n\nfind.matchesSelector = function( elem, expr ) {\n\tsetDocument( elem );\n\n\tif ( documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyQSA || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn find( expr, document, null, [ elem ] ).length > 0;\n};\n\nfind.contains = function( context, elem ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( context.ownerDocument || context ) != document ) {\n\t\tsetDocument( context );\n\t}\n\treturn jQuery.contains( context, elem );\n};\n\n\nfind.attr = function( elem, name ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( elem.ownerDocument || elem ) != document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\n\t\t// Don't get fooled by Object.prototype properties (see trac-13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\tif ( val !== undefined ) {\n\t\treturn val;\n\t}\n\n\treturn elem.getAttribute( name );\n};\n\nfind.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\njQuery.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\t//\n\t// Support: Android <=4.0+\n\t// Testing for detecting duplicates is unpredictable so instead assume we can't\n\t// depend on duplicate detection in all browsers without a stable sort.\n\thasDuplicate = !support.sortStable;\n\tsortInput = !support.sortStable && slice.call( results, 0 );\n\tsort.call( results, sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tsplice.call( results, duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\njQuery.fn.uniqueSort = function() {\n\treturn this.pushStack( jQuery.uniqueSort( slice.apply( this ) ) );\n};\n\nExpr = jQuery.expr = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\tATTR: function( match ) {\n\t\t\tmatch[ 1 ] = match[ 1 ].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] || match[ 5 ] || \"\" )\n\t\t\t\t.replace( runescape, funescape );\n\n\t\t\tif ( match[ 2 ] === \"~=\" ) {\n\t\t\t\tmatch[ 3 ] = \" \" + match[ 3 ] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\tCHILD: function( match ) {\n\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[ 1 ] = match[ 1 ].toLowerCase();\n\n\t\t\tif ( match[ 1 ].slice( 0, 3 ) === \"nth\" ) {\n\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[ 3 ] ) {\n\t\t\t\t\tfind.error( match[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[ 4 ] = +( match[ 4 ] ?\n\t\t\t\t\tmatch[ 5 ] + ( match[ 6 ] || 1 ) :\n\t\t\t\t\t2 * ( match[ 3 ] === \"even\" || match[ 3 ] === \"odd\" )\n\t\t\t\t);\n\t\t\t\tmatch[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[ 3 ] ) {\n\t\t\t\tfind.error( match[ 0 ] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\tPSEUDO: function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[ 6 ] && match[ 2 ];\n\n\t\t\tif ( matchExpr.CHILD.test( match[ 0 ] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[ 3 ] ) {\n\t\t\t\tmatch[ 2 ] = match[ 4 ] || match[ 5 ] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t( excess = tokenize( unquoted, true ) ) &&\n\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t( excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length ) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[ 0 ] = match[ 0 ].slice( 0, excess );\n\t\t\t\tmatch[ 2 ] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\tTAG: function( nodeNameSelector ) {\n\t\t\tvar expectedNodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn true;\n\t\t\t\t} :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn nodeName( elem, expectedNodeName );\n\t\t\t\t};\n\t\t},\n\n\t\tCLASS: function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t( pattern = new RegExp( \"(^|\" + whitespace + \")\" + className +\n\t\t\t\t\t\"(\" + whitespace + \"|$)\" ) ) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test(\n\t\t\t\t\t\ttypeof elem.className === \"string\" && elem.className ||\n\t\t\t\t\t\t\ttypeof elem.getAttribute !== \"undefined\" &&\n\t\t\t\t\t\t\t\telem.getAttribute( \"class\" ) ||\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t},\n\n\t\tATTR: function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = find.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\tif ( operator === \"=\" ) {\n\t\t\t\t\treturn result === check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"!=\" ) {\n\t\t\t\t\treturn result !== check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"^=\" ) {\n\t\t\t\t\treturn check && result.indexOf( check ) === 0;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"*=\" ) {\n\t\t\t\t\treturn check && result.indexOf( check ) > -1;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"$=\" ) {\n\t\t\t\t\treturn check && result.slice( -check.length ) === check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"~=\" ) {\n\t\t\t\t\treturn ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" )\n\t\t\t\t\t\t.indexOf( check ) > -1;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"|=\" ) {\n\t\t\t\t\treturn result === check || result.slice( 0, check.length + 1 ) === check + \"-\";\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\t\t},\n\n\t\tCHILD: function( type, what, _argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tvar cache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( ( node = node[ dir ] ) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnodeName( node, name ) :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\t\t\t\t\t\t\touterCache = parent[ expando ] || ( parent[ expando ] = {} );\n\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\t\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnodeName( node, name ) :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( node[ expando ] = {} );\n\t\t\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\tPSEUDO: function( pseudo, argument ) {\n\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// https://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tfind.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as jQuery does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction( function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf.call( seed, matched[ i ] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\n\t\t// Potentially complex pseudos\n\t\tnot: markFunction( function( selector ) {\n\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrimCSS, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction( function( seed, matches, _context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\t\t\t\t\tseed[ i ] = !( matches[ i ] = elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ) :\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tinput[ 0 ] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\n\t\t\t\t\t// Don't keep the element\n\t\t\t\t\t// (see https://github.com/jquery/sizzle/issues/299)\n\t\t\t\t\tinput[ 0 ] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t} ),\n\n\t\thas: markFunction( function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn find( selector, elem ).length > 0;\n\t\t\t};\n\t\t} ),\n\n\t\tcontains: markFunction( function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || jQuery.text( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t} ),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// https://www.w3.org/TR/selectors/#lang-pseudo\n\t\tlang: markFunction( function( lang ) {\n\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test( lang || \"\" ) ) {\n\t\t\t\tfind.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( ( elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute( \"xml:lang\" ) || elem.getAttribute( \"lang\" ) ) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t} ),\n\n\t\t// Miscellaneous\n\t\ttarget: function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\troot: function( elem ) {\n\t\t\treturn elem === documentElement;\n\t\t},\n\n\t\tfocus: function( elem ) {\n\t\t\treturn elem === safeActiveElement() &&\n\t\t\t\tdocument.hasFocus() &&\n\t\t\t\t!!( elem.type || elem.href || ~elem.tabIndex );\n\t\t},\n\n\t\t// Boolean properties\n\t\tenabled: createDisabledPseudo( false ),\n\t\tdisabled: createDisabledPseudo( true ),\n\n\t\tchecked: function( elem ) {\n\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// https://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\treturn ( nodeName( elem, \"input\" ) && !!elem.checked ) ||\n\t\t\t\t( nodeName( elem, \"option\" ) && !!elem.selected );\n\t\t},\n\n\t\tselected: function( elem ) {\n\n\t\t\t// Support: IE <=11+\n\t\t\t// Accessing the selectedIndex property\n\t\t\t// forces the browser to treat the default option as\n\t\t\t// selected when in an optgroup.\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\tempty: function( elem ) {\n\n\t\t\t// https://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\tparent: function( elem ) {\n\t\t\treturn !Expr.pseudos.empty( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\theader: function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\tinput: function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\tbutton: function( elem ) {\n\t\t\treturn nodeName( elem, \"input\" ) && elem.type === \"button\" ||\n\t\t\t\tnodeName( elem, \"button\" );\n\t\t},\n\n\t\ttext: function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn nodeName( elem, \"input\" ) && elem.type === \"text\" &&\n\n\t\t\t\t// Support: IE <10 only\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear\n\t\t\t\t// with elem.type === \"text\"\n\t\t\t\t( ( attr = elem.getAttribute( \"type\" ) ) == null ||\n\t\t\t\t\tattr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\tfirst: createPositionalPseudo( function() {\n\t\t\treturn [ 0 ];\n\t\t} ),\n\n\t\tlast: createPositionalPseudo( function( _matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t} ),\n\n\t\teq: createPositionalPseudo( function( _matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t} ),\n\n\t\teven: createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\todd: createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\tlt: createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i;\n\n\t\t\tif ( argument < 0 ) {\n\t\t\t\ti = argument + length;\n\t\t\t} else if ( argument > length ) {\n\t\t\t\ti = length;\n\t\t\t} else {\n\t\t\t\ti = argument;\n\t\t\t}\n\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\tgt: createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} )\n\t}\n};\n\nExpr.pseudos.nth = Expr.pseudos.eq;\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\nfunction tokenize( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || ( match = rcomma.exec( soFar ) ) ) {\n\t\t\tif ( match ) {\n\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[ 0 ].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( ( tokens = [] ) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( ( match = rleadingCombinator.exec( soFar ) ) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[ 0 ].replace( rtrimCSS, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||\n\t\t\t\t( match = preFilters[ type ]( match ) ) ) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\tif ( parseOnly ) {\n\t\treturn soFar.length;\n\t}\n\n\treturn soFar ?\n\t\tfind.error( selector ) :\n\n\t\t// Cache the tokens\n\t\ttokenCache( selector, groups ).slice( 0 );\n}\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[ i ].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\n\t\t\t\t\t\tif ( skip && nodeName( elem, skip ) ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( ( oldCache = outerCache[ key ] ) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn ( newCache[ 2 ] = oldCache[ 2 ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\touterCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[ i ]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[ 0 ];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tfind( selector, contexts[ i ], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction( function( seed, results, context, xml ) {\n\t\tvar temp, i, elem, matcherOut,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed ||\n\t\t\t\tmultipleContexts( selector || \"*\",\n\t\t\t\t\tcontext.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems;\n\n\t\tif ( matcher ) {\n\n\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter\n\t\t\t// or preexisting results,\n\t\t\tmatcherOut = postFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t[] :\n\n\t\t\t\t// ...otherwise use results directly\n\t\t\t\tresults;\n\n\t\t\t// Find primary matches\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t} else {\n\t\t\tmatcherOut = matcherIn;\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( ( elem = temp[ i ] ) ) {\n\t\t\t\t\tmatcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) ) {\n\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( ( matcherIn[ i ] = elem ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, ( matcherOut = [] ), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) &&\n\t\t\t\t\t\t( temp = postFinder ? indexOf.call( seed, elem ) : preMap[ i ] ) > -1 ) {\n\n\t\t\t\t\t\tseed[ temp ] = !( results[ temp ] = elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[ 0 ].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[ \" \" ],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf.call( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tvar ret = ( !leadingRelative && ( xml || context != outermostContext ) ) || (\n\t\t\t\t( checkContext = context ).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\n\t\t\t// Avoid hanging onto element\n\t\t\t// (see https://github.com/jquery/sizzle/issues/299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {\n\t\t\tmatchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[ j ].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 )\n\t\t\t\t\t\t\t.concat( { value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" } )\n\t\t\t\t\t).replace( rtrimCSS, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find.TAG( \"*\", outermost ),\n\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\n\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\toutermostContext = context == document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: iOS <=7 - 9 only\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching\n\t\t\t// elements by id. (see trac-14142)\n\t\t\tfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( !context && elem.ownerDocument != document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( ( matcher = elementMatchers[ j++ ] ) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml ) ) {\n\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( ( elem = !matcher && elem ) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( ( matcher = setMatchers[ j++ ] ) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !( unmatched[ i ] || setMatched[ i ] ) ) {\n\t\t\t\t\t\t\t\tsetMatched[ i ] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tjQuery.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\nfunction compile( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[ i ] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector,\n\t\t\tmatcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n}\n\n/**\n * A low-level selection function that works with jQuery's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with jQuery selector compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nfunction select( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( ( selector = compiled.selector || selector ) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[ 0 ] = match[ 0 ].slice( 0 );\n\t\tif ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === \"ID\" &&\n\t\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {\n\n\t\t\tcontext = ( Expr.find.ID(\n\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\tcontext\n\t\t\t) || [] )[ 0 ];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr.needsContext.test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[ i ];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ ( type = token.type ) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( ( find = Expr.find[ type ] ) ) {\n\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( ( seed = find(\n\t\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[ 0 ].type ) &&\n\t\t\t\t\t\ttestContext( context.parentNode ) || context\n\t\t\t\t) ) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n}\n\n// One-time assignments\n\n// Support: Android <=4.0 - 4.1+\n// Sort stability\nsupport.sortStable = expando.split( \"\" ).sort( sortOrder ).join( \"\" ) === expando;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Android <=4.0 - 4.1+\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert( function( el ) {\n\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement( \"fieldset\" ) ) & 1;\n} );\n\njQuery.find = find;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.unique = jQuery.uniqueSort;\n\n// These have always been private, but they used to be documented as part of\n// Sizzle so let's maintain them for now for backwards compatibility purposes.\nfind.compile = compile;\nfind.select = select;\nfind.setDocument = setDocument;\nfind.tokenize = tokenize;\n\nfind.escape = jQuery.escapeSelector;\nfind.getText = jQuery.text;\nfind.isXML = jQuery.isXMLDoc;\nfind.selectors = jQuery.expr;\nfind.support = jQuery.support;\nfind.uniqueSort = jQuery.uniqueSort;\n\n\t/* eslint-enable */\n\n} )();\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (trac-9521)\n\t// Strict HTML recognition (trac-11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to jQuery#find\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( elem.contentDocument != null &&\n\n\t\t\t// Support: IE 11+\n\t\t\t// <object> elements with no `data` attribute has an object\n\t\t\t// `contentDocument` with a `null` prototype.\n\t\t\tgetProto( elem.contentDocument ) ) {\n\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( _i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.error );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the error, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getErrorHook ) {\n\t\t\t\t\t\t\t\t\tprocess.error = jQuery.Deferred.getErrorHook();\n\n\t\t\t\t\t\t\t\t// The deprecated alias of the above. While the name suggests\n\t\t\t\t\t\t\t\t// returning the stack, not an error instance, jQuery just passes\n\t\t\t\t\t\t\t\t// it directly to `console.warn` so both will work; an instance\n\t\t\t\t\t\t\t\t// just better cooperates with source maps.\n\t\t\t\t\t\t\t\t} else if ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.error = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the primary Deferred\n\t\t\tprimary = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tprimary.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( primary.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn primary.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );\n\t\t}\n\n\t\treturn primary.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\n// If `jQuery.Deferred.getErrorHook` is defined, `asyncError` is an error\n// captured before the async barrier to get the original error cause\n// which may otherwise be hidden.\njQuery.Deferred.exceptionHook = function( error, asyncError ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message,\n\t\t\terror.stack, asyncError );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See trac-6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, _key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\t\tvalue :\n\t\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( _all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (trac-9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see trac-8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (trac-14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (trac-11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (trac-14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// Support: IE <=9 only\n\t// IE <=9 replaces <option> tags with their contents when inserted outside of\n\t// the select element.\n\tdiv.innerHTML = \"<option></option>\";\n\tsupport.option = !!div.lastChild;\n} )();\n\n\n// We have to close these tags to support XHTML (trac-13200)\nvar wrapMap = {\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: IE <=9 only\nif ( !support.option ) {\n\twrapMap.optgroup = wrapMap.option = [ 1, \"<select multiple='multiple'>\", \"</select>\" ];\n}\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (trac-15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (trac-12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\nvar rtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Only attach events to objects that accept data\n\t\tif ( !acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = Object.create( null );\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix( nativeEvent ),\n\n\t\t\thandlers = (\n\t\t\t\tdataPriv.get( this, \"events\" ) || Object.create( null )\n\t\t\t)[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (trac-13208)\n\t\t\t\t// Don't process clicks on disabled elements (trac-6911, trac-8165, trac-11382, trac-11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (trac-13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", true );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, isSetup ) {\n\n\t// Missing `isSetup` indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !isSetup ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\tif ( !saved ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tdataPriv.set( this, type, false );\n\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering\n\t\t\t\t// the native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, jQuery.event.trigger(\n\t\t\t\t\tsaved[ 0 ],\n\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\tthis\n\t\t\t\t) );\n\n\t\t\t\t// Abort handling of the native event by all jQuery handlers while allowing\n\t\t\t\t// native handlers on the same element to run. On target, this is achieved\n\t\t\t\t// by stopping immediate propagation just on the jQuery event. However,\n\t\t\t\t// the native event is re-wrapped by a jQuery one on each level of the\n\t\t\t\t// propagation so the only way to stop it for jQuery is to stop it for\n\t\t\t\t// everyone via native `stopPropagation()`. This is not a problem for\n\t\t\t\t// focus/blur which don't bubble, but it does also stop click on checkboxes\n\t\t\t\t// and radios. We accept this limitation.\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.isImmediatePropagationStopped = returnTrue;\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (trac-504, trac-13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\twhich: true\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\n\tfunction focusMappedHandler( nativeEvent ) {\n\t\tif ( document.documentMode ) {\n\n\t\t\t// Support: IE 11+\n\t\t\t// Attach a single focusin/focusout handler on the document while someone wants\n\t\t\t// focus/blur. This is because the former are synchronous in IE while the latter\n\t\t\t// are async. In other browsers, all those handlers are invoked synchronously.\n\n\t\t\t// `handle` from private data would already wrap the event, but we need\n\t\t\t// to change the `type` here.\n\t\t\tvar handle = dataPriv.get( this, \"handle\" ),\n\t\t\t\tevent = jQuery.event.fix( nativeEvent );\n\t\t\tevent.type = nativeEvent.type === \"focusin\" ? \"focus\" : \"blur\";\n\t\t\tevent.isSimulated = true;\n\n\t\t\t// First, handle focusin/focusout\n\t\t\thandle( nativeEvent );\n\n\t\t\t// ...then, handle focus/blur\n\t\t\t//\n\t\t\t// focus/blur don't bubble while focusin/focusout do; simulate the former by only\n\t\t\t// invoking the handler at the lower level.\n\t\t\tif ( event.target === event.currentTarget ) {\n\n\t\t\t\t// The setup part calls `leverageNative`, which, in turn, calls\n\t\t\t\t// `jQuery.event.add`, so event handle will already have been set\n\t\t\t\t// by this point.\n\t\t\t\thandle( event );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// For non-IE browsers, attach a single capturing handler on the document\n\t\t\t// while someone wants focusin/focusout.\n\t\t\tjQuery.event.simulate( delegateType, nativeEvent.target,\n\t\t\t\tjQuery.event.fix( nativeEvent ) );\n\t\t}\n\t}\n\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\tvar attaches;\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, true );\n\n\t\t\tif ( document.documentMode ) {\n\n\t\t\t\t// Support: IE 9 - 11+\n\t\t\t\t// We use the same native handler for focusin & focus (and focusout & blur)\n\t\t\t\t// so we need to coordinate setup & teardown parts between those events.\n\t\t\t\t// Use `delegateType` as the key as `type` is already used by `leverageNative`.\n\t\t\t\tattaches = dataPriv.get( this, delegateType );\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tthis.addEventListener( delegateType, focusMappedHandler );\n\t\t\t\t}\n\t\t\t\tdataPriv.set( this, delegateType, ( attaches || 0 ) + 1 );\n\t\t\t} else {\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar attaches;\n\n\t\t\tif ( document.documentMode ) {\n\t\t\t\tattaches = dataPriv.get( this, delegateType ) - 1;\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tthis.removeEventListener( delegateType, focusMappedHandler );\n\t\t\t\t\tdataPriv.remove( this, delegateType );\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.set( this, delegateType, attaches );\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Return false to indicate standard teardown should be applied\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Suppress native focus or blur if we're currently inside\n\t\t// a leveraged native-event stack\n\t\t_default: function( event ) {\n\t\t\treturn dataPriv.get( event.target, type );\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n\n\t// Support: Firefox <=44\n\t// Firefox doesn't have focus(in | out) events\n\t// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n\t//\n\t// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n\t// focus(in | out) events fire after focus & blur events,\n\t// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n\t// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\n\t//\n\t// Support: IE 9 - 11+\n\t// To preserve relative focusin/focus & focusout/blur event order guaranteed on the 3.x branch,\n\t// attach a single handler for both events in IE.\n\tjQuery.event.special[ delegateType ] = {\n\t\tsetup: function() {\n\n\t\t\t// Handle: regular nodes (via `this.ownerDocument`), window\n\t\t\t// (via `this.document`) & document (via `this`).\n\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\tdataHolder = document.documentMode ? this : doc,\n\t\t\t\tattaches = dataPriv.get( dataHolder, delegateType );\n\n\t\t\t// Support: IE 9 - 11+\n\t\t\t// We use the same native handler for focusin & focus (and focusout & blur)\n\t\t\t// so we need to coordinate setup & teardown parts between those events.\n\t\t\t// Use `delegateType` as the key as `type` is already used by `leverageNative`.\n\t\t\tif ( !attaches ) {\n\t\t\t\tif ( document.documentMode ) {\n\t\t\t\t\tthis.addEventListener( delegateType, focusMappedHandler );\n\t\t\t\t} else {\n\t\t\t\t\tdoc.addEventListener( type, focusMappedHandler, true );\n\t\t\t\t}\n\t\t\t}\n\t\t\tdataPriv.set( dataHolder, delegateType, ( attaches || 0 ) + 1 );\n\t\t},\n\t\tteardown: function() {\n\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\tdataHolder = document.documentMode ? this : doc,\n\t\t\t\tattaches = dataPriv.get( dataHolder, delegateType ) - 1;\n\n\t\t\tif ( !attaches ) {\n\t\t\t\tif ( document.documentMode ) {\n\t\t\t\t\tthis.removeEventListener( delegateType, focusMappedHandler );\n\t\t\t\t} else {\n\t\t\t\t\tdoc.removeEventListener( type, focusMappedHandler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( dataHolder, delegateType );\n\t\t\t} else {\n\t\t\t\tdataPriv.set( dataHolder, delegateType, attaches );\n\t\t\t}\n\t\t}\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\n\trcleanScript = /^\\s*<!\\[CDATA\\[|\\]\\]>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.get( src );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdataPriv.remove( dest, \"handle events\" );\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = flat( args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (trac-8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Re-enable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t}, doc );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Unwrap a CDATA section containing script contents. This shouldn't be\n\t\t\t\t\t\t\t// needed as in XML documents they're already not visible when\n\t\t\t\t\t\t\t// inspecting element contents and in HTML documents they have no\n\t\t\t\t\t\t\t// meaning but we're preserving that logic for backwards compatibility.\n\t\t\t\t\t\t\t// This will be removed completely in 4.0. See gh-4904.\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html;\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew jQuery#find here for performance reasons:\n\t\t\t// https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar rcustomProp = /^--/;\n\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (trac-15098, trac-14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.call( elem );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableTrDimensionsVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (trac-8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t},\n\n\t\t// Support: IE 9 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Behavior in IE 9 is more subtle than in newer versions & it passes\n\t\t// some versions of this test; make sure not to make it pass there!\n\t\t//\n\t\t// Support: Firefox 70+\n\t\t// Only Firefox includes border widths\n\t\t// in computed dimensions. (gh-4529)\n\t\treliableTrDimensions: function() {\n\t\t\tvar table, tr, trChild, trStyle;\n\t\t\tif ( reliableTrDimensionsVal == null ) {\n\t\t\t\ttable = document.createElement( \"table\" );\n\t\t\t\ttr = document.createElement( \"tr\" );\n\t\t\t\ttrChild = document.createElement( \"div\" );\n\n\t\t\t\ttable.style.cssText = \"position:absolute;left:-11111px;border-collapse:separate\";\n\t\t\t\ttr.style.cssText = \"box-sizing:content-box;border:1px solid\";\n\n\t\t\t\t// Support: Chrome 86+\n\t\t\t\t// Height set through cssText does not get applied.\n\t\t\t\t// Computed height then comes back as 0.\n\t\t\t\ttr.style.height = \"1px\";\n\t\t\t\ttrChild.style.height = \"9px\";\n\n\t\t\t\t// Support: Android 8 Chrome 86+\n\t\t\t\t// In our bodyBackground.html iframe,\n\t\t\t\t// display for all div elements is set to \"inline\",\n\t\t\t\t// which causes a problem only in Android 8 Chrome 86.\n\t\t\t\t// Ensuring the div is `display: block`\n\t\t\t\t// gets around this issue.\n\t\t\t\ttrChild.style.display = \"block\";\n\n\t\t\t\tdocumentElement\n\t\t\t\t\t.appendChild( table )\n\t\t\t\t\t.appendChild( tr )\n\t\t\t\t\t.appendChild( trChild );\n\n\t\t\t\ttrStyle = window.getComputedStyle( tr );\n\t\t\t\treliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderTopWidth, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;\n\n\t\t\t\tdocumentElement.removeChild( table );\n\t\t\t}\n\t\t\treturn reliableTrDimensionsVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tisCustomProp = rcustomProp.test( name ),\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, trac-12537)\n\t//   .css('--customProperty) (gh-3144)\n\tif ( computed ) {\n\n\t\t// Support: IE <=9 - 11+\n\t\t// IE only supports `\"float\"` in `getPropertyValue`; in computed styles\n\t\t// it's only available as `\"cssFloat\"`. We no longer modify properties\n\t\t// sent to `.css()` apart from camelCasing, so we need to check both.\n\t\t// Normally, this would create difference in behavior: if\n\t\t// `getPropertyValue` returns an empty string, the value returned\n\t\t// by `.css()` would be `undefined`. This is usually the case for\n\t\t// disconnected elements. However, in IE even disconnected elements\n\t\t// with no styles return `\"none\"` for `getPropertyValue( \"float\" )`\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( isCustomProp && ret ) {\n\n\t\t\t// Support: Firefox 105+, Chrome <=105+\n\t\t\t// Spec requires trimming whitespace for custom properties (gh-4926).\n\t\t\t// Firefox only trims leading whitespace. Chrome just collapses\n\t\t\t// both leading & trailing whitespace to a single space.\n\t\t\t//\n\t\t\t// Fall back to `undefined` if empty string returned.\n\t\t\t// This collapses a missing definition with property defined\n\t\t\t// and set to an empty string but there's no standard API\n\t\t\t// allowing us to differentiate them without a performance penalty\n\t\t\t// and returning `undefined` aligns with older jQuery.\n\t\t\t//\n\t\t\t// rtrimCSS treats U+000D CARRIAGE RETURN and U+000C FORM FEED\n\t\t\t// as whitespace while CSS does not, but this is not a problem\n\t\t\t// because CSS preprocessing replaces them with U+000A LINE FEED\n\t\t\t// (which *is* CSS whitespace)\n\t\t\t// https://www.w3.org/TR/css-syntax-3/#input-preprocessing\n\t\t\tret = ret.replace( rtrimCSS, \"$1\" ) || undefined;\n\t\t}\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( _elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0,\n\t\tmarginDelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\t// Count margin delta separately to only add it after scroll gutter adjustment.\n\t\t// This is needed to make negative margins work with `outerHeight( true )` (gh-3982).\n\t\tif ( box === \"margin\" ) {\n\t\t\tmarginDelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta + marginDelta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Support: IE 9 - 11 only\n\t// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n\t// In those cases, the computed value can be trusted to be border-box.\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\n\t\t// Support: IE 10 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Interestingly, in some cases IE 9 doesn't suffer from this issue.\n\t\t!support.reliableTrDimensions() && nodeName( elem, \"tr\" ) ||\n\n\t\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t\t// This happens for inline elements with no explicit setting (gh-3571)\n\t\tval === \"auto\" ||\n\n\t\t// Support: Android <=4.1 - 4.3 only\n\t\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\n\t\t// Make sure the element is visible & connected\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\tanimationIterationCount: true,\n\t\taspectRatio: true,\n\t\tborderImageSlice: true,\n\t\tcolumnCount: true,\n\t\tflexGrow: true,\n\t\tflexShrink: true,\n\t\tfontWeight: true,\n\t\tgridArea: true,\n\t\tgridColumn: true,\n\t\tgridColumnEnd: true,\n\t\tgridColumnStart: true,\n\t\tgridRow: true,\n\t\tgridRowEnd: true,\n\t\tgridRowStart: true,\n\t\tlineHeight: true,\n\t\topacity: true,\n\t\torder: true,\n\t\torphans: true,\n\t\tscale: true,\n\t\twidows: true,\n\t\tzIndex: true,\n\t\tzoom: true,\n\n\t\t// SVG-related\n\t\tfillOpacity: true,\n\t\tfloodOpacity: true,\n\t\tstopOpacity: true,\n\t\tstrokeMiterlimit: true,\n\t\tstrokeOpacity: true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (trac-7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug trac-9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (trac-7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( _i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t} ) :\n\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (trac-12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\n\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( _i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( _i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// Use proper attribute retrieval (trac-12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + className + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += className + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + className + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + className + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar classNames, className, i, self,\n\t\t\ttype = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\treturn this.each( function() {\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\tself = jQuery( this );\n\n\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (trac-14686, trac-14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (trac-2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\nvar location = window.location;\n\nvar nonce = { guid: Date.now() };\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml, parserErrorElem;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {}\n\n\tparserErrorElem = xml && xml.getElementsByTagName( \"parsererror\" )[ 0 ];\n\tif ( !xml || parserErrorElem ) {\n\t\tjQuery.error( \"Invalid XML: \" + (\n\t\t\tparserErrorElem ?\n\t\t\t\tjQuery.map( parserErrorElem.childNodes, function( el ) {\n\t\t\t\t\treturn el.textContent;\n\t\t\t\t} ).join( \"\\n\" ) :\n\t\t\t\tdata\n\t\t) );\n\t}\n\treturn xml;\n};\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (trac-9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (trac-9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || Object.create( null ) )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (trac-6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} ).filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} ).map( function( _i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// trac-7653, trac-8125, trac-8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (trac-10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\noriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes trac-9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (trac-10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket trac-12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (trac-15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// trac-9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce.guid++ ) +\n\t\t\t\t\tuncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Use a noop converter for missing script but not if jsonp\n\t\t\tif ( !isSuccess &&\n\t\t\t\tjQuery.inArray( \"script\", s.dataTypes ) > -1 &&\n\t\t\t\tjQuery.inArray( \"json\", s.dataTypes ) < 0 ) {\n\t\t\t\ts.converters[ \"text script\" ] = function() {};\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( _i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\njQuery.ajaxPrefilter( function( s ) {\n\tvar i;\n\tfor ( i in s.headers ) {\n\t\tif ( i.toLowerCase() === \"content-type\" ) {\n\t\t\ts.contentType = s.headers[ i ] || \"\";\n\t\t}\n\t}\n} );\n\n\njQuery._evalUrl = function( url, options, doc ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (trac-11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options, doc );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// trac-1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see trac-8605, trac-14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// trac-14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce.guid++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( _i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( {\n\t\tpadding: \"inner\" + name,\n\t\tcontent: type,\n\t\t\"\": \"outer\" + name\n\t}, function( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( _i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this\n\t\t\t.on( \"mouseenter\", fnOver )\n\t\t\t.on( \"mouseleave\", fnOut || fnOver );\n\t}\n} );\n\njQuery.each(\n\t( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( _i, name ) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[ name ] = function( data, fn ) {\n\t\t\treturn arguments.length > 0 ?\n\t\t\t\tthis.on( name, null, data, fn ) :\n\t\t\t\tthis.trigger( name );\n\t\t};\n\t}\n);\n\n\n\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\n// Require that the \"whitespace run\" starts from a non-whitespace\n// to avoid O(N^2) behavior when the engine would try matching \"\\s+$\" at each space position.\nvar rtrim = /^[\\s\\uFEFF\\xA0]+|([^\\s\\uFEFF\\xA0])[\\s\\uFEFF\\xA0]+$/g;\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\njQuery.trim = function( text ) {\n\treturn text == null ?\n\t\t\"\" :\n\t\t( text + \"\" ).replace( rtrim, \"$1\" );\n};\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (trac-7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (trac-13566)\nif ( typeof noGlobal === \"undefined\" ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n", "/*\n * Toastr\n * Copyright 2012-2015\n * Authors: John Papa, Hans Fj\u00E4llemark, and Tim Ferrell.\n * All Rights Reserved.\n * Use, reproduction, distribution, and modification of this code is subject to the terms and\n * conditions of the MIT license, available at http://www.opensource.org/licenses/mit-license.php\n *\n * ARIA Support: Greta Krafsig\n *\n * Project: https://github.com/CodeSeven/toastr\n */\n/* global define */\n(function (define) {\n    define(['jquery'], function ($) {\n        return (function () {\n            var $container;\n            var listener;\n            var toastId = 0;\n            var toastType = {\n                error: 'error',\n                info: 'info',\n                success: 'success',\n                warning: 'warning'\n            };\n\n            var toastr = {\n                clear: clear,\n                remove: remove,\n                error: error,\n                getContainer: getContainer,\n                info: info,\n                options: {},\n                subscribe: subscribe,\n                success: success,\n                version: '2.1.4',\n                warning: warning\n            };\n\n            var previousToast;\n\n            return toastr;\n\n            ////////////////\n\n            function error(message, title, optionsOverride) {\n                return notify({\n                    type: toastType.error,\n                    iconClass: getOptions().iconClasses.error,\n                    message: message,\n                    optionsOverride: optionsOverride,\n                    title: title\n                });\n            }\n\n            function getContainer(options, create) {\n                if (!options) { options = getOptions(); }\n                $container = $('#' + options.containerId);\n                if ($container.length) {\n                    return $container;\n                }\n                if (create) {\n                    $container = createContainer(options);\n                }\n                return $container;\n            }\n\n            function info(message, title, optionsOverride) {\n                return notify({\n                    type: toastType.info,\n                    iconClass: getOptions().iconClasses.info,\n                    message: message,\n                    optionsOverride: optionsOverride,\n                    title: title\n                });\n            }\n\n            function subscribe(callback) {\n                listener = callback;\n            }\n\n            function success(message, title, optionsOverride) {\n                return notify({\n                    type: toastType.success,\n                    iconClass: getOptions().iconClasses.success,\n                    message: message,\n                    optionsOverride: optionsOverride,\n                    title: title\n                });\n            }\n\n            function warning(message, title, optionsOverride) {\n                return notify({\n                    type: toastType.warning,\n                    iconClass: getOptions().iconClasses.warning,\n                    message: message,\n                    optionsOverride: optionsOverride,\n                    title: title\n                });\n            }\n\n            function clear($toastElement, clearOptions) {\n                var options = getOptions();\n                if (!$container) { getContainer(options); }\n                if (!clearToast($toastElement, options, clearOptions)) {\n                    clearContainer(options);\n                }\n            }\n\n            function remove($toastElement) {\n                var options = getOptions();\n                if (!$container) { getContainer(options); }\n                if ($toastElement && $(':focus', $toastElement).length === 0) {\n                    removeToast($toastElement);\n                    return;\n                }\n                if ($container.children().length) {\n                    $container.remove();\n                }\n            }\n\n            // internal functions\n\n            function clearContainer (options) {\n                var toastsToClear = $container.children();\n                for (var i = toastsToClear.length - 1; i >= 0; i--) {\n                    clearToast($(toastsToClear[i]), options);\n                }\n            }\n\n            function clearToast ($toastElement, options, clearOptions) {\n                var force = clearOptions && clearOptions.force ? clearOptions.force : false;\n                if ($toastElement && (force || $(':focus', $toastElement).length === 0)) {\n                    $toastElement[options.hideMethod]({\n                        duration: options.hideDuration,\n                        easing: options.hideEasing,\n                        complete: function () { removeToast($toastElement); }\n                    });\n                    return true;\n                }\n                return false;\n            }\n\n            function createContainer(options) {\n                $container = $('<div/>')\n                    .attr('id', options.containerId)\n                    .addClass(options.positionClass);\n\n                $container.appendTo($(options.target));\n                return $container;\n            }\n\n            function getDefaults() {\n                return {\n                    tapToDismiss: true,\n                    toastClass: 'toast',\n                    containerId: 'toast-container',\n                    debug: false,\n\n                    showMethod: 'fadeIn', //fadeIn, slideDown, and show are built into jQuery\n                    showDuration: 300,\n                    showEasing: 'swing', //swing and linear are built into jQuery\n                    onShown: undefined,\n                    hideMethod: 'fadeOut',\n                    hideDuration: 1000,\n                    hideEasing: 'swing',\n                    onHidden: undefined,\n                    closeMethod: false,\n                    closeDuration: false,\n                    closeEasing: false,\n                    closeOnHover: true,\n\n                    extendedTimeOut: 1000,\n                    iconClasses: {\n                        error: 'toast-error',\n                        info: 'toast-info',\n                        success: 'toast-success',\n                        warning: 'toast-warning'\n                    },\n                    iconClass: 'toast-info',\n                    positionClass: 'toast-top-right',\n                    timeOut: 5000, // Set timeOut and extendedTimeOut to 0 to make it sticky\n                    titleClass: 'toast-title',\n                    messageClass: 'toast-message',\n                    escapeHtml: false,\n                    target: 'body',\n                    closeHtml: '<button type=\"button\">&times;</button>',\n                    closeClass: 'toast-close-button',\n                    newestOnTop: true,\n                    preventDuplicates: false,\n                    progressBar: false,\n                    progressClass: 'toast-progress',\n                    rtl: false\n                };\n            }\n\n            function publish(args) {\n                if (!listener) { return; }\n                listener(args);\n            }\n\n            function notify(map) {\n                var options = getOptions();\n                var iconClass = map.iconClass || options.iconClass;\n\n                if (typeof (map.optionsOverride) !== 'undefined') {\n                    options = $.extend(options, map.optionsOverride);\n                    iconClass = map.optionsOverride.iconClass || iconClass;\n                }\n\n                if (shouldExit(options, map)) { return; }\n\n                toastId++;\n\n                $container = getContainer(options, true);\n\n                var intervalId = null;\n                var $toastElement = $('<div/>');\n                var $titleElement = $('<div/>');\n                var $messageElement = $('<div/>');\n                var $progressElement = $('<div/>');\n                var $closeElement = $(options.closeHtml);\n                var progressBar = {\n                    intervalId: null,\n                    hideEta: null,\n                    maxHideTime: null\n                };\n                var response = {\n                    toastId: toastId,\n                    state: 'visible',\n                    startTime: new Date(),\n                    options: options,\n                    map: map\n                };\n\n                personalizeToast();\n\n                displayToast();\n\n                handleEvents();\n\n                publish(response);\n\n                if (options.debug && console) {\n                    console.log(response);\n                }\n\n                return $toastElement;\n\n                function escapeHtml(source) {\n                    if (source == null) {\n                        source = '';\n                    }\n\n                    return source\n                        .replace(/&/g, '&amp;')\n                        .replace(/\"/g, '&quot;')\n                        .replace(/'/g, '&#39;')\n                        .replace(/</g, '&lt;')\n                        .replace(/>/g, '&gt;');\n                }\n\n                function personalizeToast() {\n                    setIcon();\n                    setTitle();\n                    setMessage();\n                    setCloseButton();\n                    setProgressBar();\n                    setRTL();\n                    setSequence();\n                    setAria();\n                }\n\n                function setAria() {\n                    var ariaValue = '';\n                    switch (map.iconClass) {\n                        case 'toast-success':\n                        case 'toast-info':\n                            ariaValue =  'polite';\n                            break;\n                        default:\n                            ariaValue = 'assertive';\n                    }\n                    $toastElement.attr('aria-live', ariaValue);\n                }\n\n                function handleEvents() {\n                    if (options.closeOnHover) {\n                        $toastElement.hover(stickAround, delayedHideToast);\n                    }\n\n                    if (!options.onclick && options.tapToDismiss) {\n                        $toastElement.click(hideToast);\n                    }\n\n                    if (options.closeButton && $closeElement) {\n                        $closeElement.click(function (event) {\n                            if (event.stopPropagation) {\n                                event.stopPropagation();\n                            } else if (event.cancelBubble !== undefined && event.cancelBubble !== true) {\n                                event.cancelBubble = true;\n                            }\n\n                            if (options.onCloseClick) {\n                                options.onCloseClick(event);\n                            }\n\n                            hideToast(true);\n                        });\n                    }\n\n                    if (options.onclick) {\n                        $toastElement.click(function (event) {\n                            options.onclick(event);\n                            hideToast();\n                        });\n                    }\n                }\n\n                function displayToast() {\n                    $toastElement.hide();\n\n                    $toastElement[options.showMethod](\n                        {duration: options.showDuration, easing: options.showEasing, complete: options.onShown}\n                    );\n\n                    if (options.timeOut > 0) {\n                        intervalId = setTimeout(hideToast, options.timeOut);\n                        progressBar.maxHideTime = parseFloat(options.timeOut);\n                        progressBar.hideEta = new Date().getTime() + progressBar.maxHideTime;\n                        if (options.progressBar) {\n                            progressBar.intervalId = setInterval(updateProgress, 10);\n                        }\n                    }\n                }\n\n                function setIcon() {\n                    if (map.iconClass) {\n                        $toastElement.addClass(options.toastClass).addClass(iconClass);\n                    }\n                }\n\n                function setSequence() {\n                    if (options.newestOnTop) {\n                        $container.prepend($toastElement);\n                    } else {\n                        $container.append($toastElement);\n                    }\n                }\n\n                function setTitle() {\n                    if (map.title) {\n                        var suffix = map.title;\n                        if (options.escapeHtml) {\n                            suffix = escapeHtml(map.title);\n                        }\n                        $titleElement.append(suffix).addClass(options.titleClass);\n                        $toastElement.append($titleElement);\n                    }\n                }\n\n                function setMessage() {\n                    if (map.message) {\n                        var suffix = map.message;\n                        if (options.escapeHtml) {\n                            suffix = escapeHtml(map.message);\n                        }\n                        $messageElement.append(suffix).addClass(options.messageClass);\n                        $toastElement.append($messageElement);\n                    }\n                }\n\n                function setCloseButton() {\n                    if (options.closeButton) {\n                        $closeElement.addClass(options.closeClass).attr('role', 'button');\n                        $toastElement.prepend($closeElement);\n                    }\n                }\n\n                function setProgressBar() {\n                    if (options.progressBar) {\n                        $progressElement.addClass(options.progressClass);\n                        $toastElement.prepend($progressElement);\n                    }\n                }\n\n                function setRTL() {\n                    if (options.rtl) {\n                        $toastElement.addClass('rtl');\n                    }\n                }\n\n                function shouldExit(options, map) {\n                    if (options.preventDuplicates) {\n                        if (map.message === previousToast) {\n                            return true;\n                        } else {\n                            previousToast = map.message;\n                        }\n                    }\n                    return false;\n                }\n\n                function hideToast(override) {\n                    var method = override && options.closeMethod !== false ? options.closeMethod : options.hideMethod;\n                    var duration = override && options.closeDuration !== false ?\n                        options.closeDuration : options.hideDuration;\n                    var easing = override && options.closeEasing !== false ? options.closeEasing : options.hideEasing;\n                    if ($(':focus', $toastElement).length && !override) {\n                        return;\n                    }\n                    clearTimeout(progressBar.intervalId);\n                    return $toastElement[method]({\n                        duration: duration,\n                        easing: easing,\n                        complete: function () {\n                            removeToast($toastElement);\n                            clearTimeout(intervalId);\n                            if (options.onHidden && response.state !== 'hidden') {\n                                options.onHidden();\n                            }\n                            response.state = 'hidden';\n                            response.endTime = new Date();\n                            publish(response);\n                        }\n                    });\n                }\n\n                function delayedHideToast() {\n                    if (options.timeOut > 0 || options.extendedTimeOut > 0) {\n                        intervalId = setTimeout(hideToast, options.extendedTimeOut);\n                        progressBar.maxHideTime = parseFloat(options.extendedTimeOut);\n                        progressBar.hideEta = new Date().getTime() + progressBar.maxHideTime;\n                    }\n                }\n\n                function stickAround() {\n                    clearTimeout(intervalId);\n                    progressBar.hideEta = 0;\n                    $toastElement.stop(true, true)[options.showMethod](\n                        {duration: options.showDuration, easing: options.showEasing}\n                    );\n                }\n\n                function updateProgress() {\n                    var percentage = ((progressBar.hideEta - (new Date().getTime())) / progressBar.maxHideTime) * 100;\n                    $progressElement.width(percentage + '%');\n                }\n            }\n\n            function getOptions() {\n                return $.extend({}, getDefaults(), toastr.options);\n            }\n\n            function removeToast($toastElement) {\n                if (!$container) { $container = getContainer(); }\n                if ($toastElement.is(':visible')) {\n                    return;\n                }\n                $toastElement.remove();\n                $toastElement = null;\n                if ($container.children().length === 0) {\n                    $container.remove();\n                    previousToast = undefined;\n                }\n            }\n\n        })();\n    });\n}(typeof define === 'function' && define.amd ? define : function (deps, factory) {\n    if (typeof module !== 'undefined' && module.exports) { //Node\n        module.exports = factory(require('jquery'));\n    } else {\n        window.toastr = factory(window.jQuery);\n    }\n}));\n", "/*! DataTables 2.0.8\n * \u00A9 SpryMedia Ltd - datatables.net/license\n */\n\n/**\n * @summary     DataTables\n * @description Paginate, search and order HTML tables\n * @version     2.0.8\n * @author      SpryMedia Ltd\n * @contact     www.datatables.net\n * @copyright   SpryMedia Ltd.\n *\n * This source file is free software, available under the following license:\n *   MIT license - https://datatables.net/license\n *\n * This source file is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.\n *\n * For details please refer to: https://www.datatables.net\n */\n\n(function( factory ) {\n\t\"use strict\";\n\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( ['jquery'], function ( $ ) {\n\t\t\treturn factory( $, window, document );\n\t\t} );\n\t}\n\telse if ( typeof exports === 'object' ) {\n\t\t// CommonJS\n\t\t// jQuery's factory checks for a global window - if it isn't present then it\n\t\t// returns a factory function that expects the window object\n\t\tvar jq = require('jquery');\n\n\t\tif (typeof window === 'undefined') {\n\t\t\tmodule.exports = function (root, $) {\n\t\t\t\tif ( ! root ) {\n\t\t\t\t\t// CommonJS environments without a window global must pass a\n\t\t\t\t\t// root. This will give an error otherwise\n\t\t\t\t\troot = window;\n\t\t\t\t}\n\n\t\t\t\tif ( ! $ ) {\n\t\t\t\t\t$ = jq( root );\n\t\t\t\t}\n\n\t\t\t\treturn factory( $, root, root.document );\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tmodule.exports = factory( jq, window, window.document );\n\t\t}\n\t}\n\telse {\n\t\t// Browser\n\t\twindow.DataTable = factory( jQuery, window, document );\n\t}\n}(function( $, window, document ) {\n\t\"use strict\";\n\n\t\n\tvar DataTable = function ( selector, options )\n\t{\n\t\t// Check if called with a window or jQuery object for DOM less applications\n\t\t// This is for backwards compatibility\n\t\tif (DataTable.factory(selector, options)) {\n\t\t\treturn DataTable;\n\t\t}\n\t\n\t\t// When creating with `new`, create a new DataTable, returning the API instance\n\t\tif (this instanceof DataTable) {\n\t\t\treturn $(selector).DataTable(options);\n\t\t}\n\t\telse {\n\t\t\t// Argument switching\n\t\t\toptions = selector;\n\t\t}\n\t\n\t\tvar _that = this;\n\t\tvar emptyInit = options === undefined;\n\t\tvar len = this.length;\n\t\n\t\tif ( emptyInit ) {\n\t\t\toptions = {};\n\t\t}\n\t\n\t\t// Method to get DT API instance from jQuery object\n\t\tthis.api = function ()\n\t\t{\n\t\t\treturn new _Api( this );\n\t\t};\n\t\n\t\tthis.each(function() {\n\t\t\t// For each initialisation we want to give it a clean initialisation\n\t\t\t// object that can be bashed around\n\t\t\tvar o = {};\n\t\t\tvar oInit = len > 1 ? // optimisation for single table case\n\t\t\t\t_fnExtend( o, options, true ) :\n\t\t\t\toptions;\n\t\n\t\t\t\n\t\t\tvar i=0, iLen;\n\t\t\tvar sId = this.getAttribute( 'id' );\n\t\t\tvar bInitHandedOff = false;\n\t\t\tvar defaults = DataTable.defaults;\n\t\t\tvar $this = $(this);\n\t\t\t\n\t\t\t\n\t\t\t/* Sanity check */\n\t\t\tif ( this.nodeName.toLowerCase() != 'table' )\n\t\t\t{\n\t\t\t\t_fnLog( null, 0, 'Non-table node initialisation ('+this.nodeName+')', 2 );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t$(this).trigger( 'options.dt', oInit );\n\t\t\t\n\t\t\t/* Backwards compatibility for the defaults */\n\t\t\t_fnCompatOpts( defaults );\n\t\t\t_fnCompatCols( defaults.column );\n\t\t\t\n\t\t\t/* Convert the camel-case defaults to Hungarian */\n\t\t\t_fnCamelToHungarian( defaults, defaults, true );\n\t\t\t_fnCamelToHungarian( defaults.column, defaults.column, true );\n\t\t\t\n\t\t\t/* Setting up the initialisation object */\n\t\t\t_fnCamelToHungarian( defaults, $.extend( oInit, $this.data() ), true );\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t/* Check to see if we are re-initialising a table */\n\t\t\tvar allSettings = DataTable.settings;\n\t\t\tfor ( i=0, iLen=allSettings.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\tvar s = allSettings[i];\n\t\t\t\n\t\t\t\t/* Base check on table node */\n\t\t\t\tif (\n\t\t\t\t\ts.nTable == this ||\n\t\t\t\t\t(s.nTHead && s.nTHead.parentNode == this) ||\n\t\t\t\t\t(s.nTFoot && s.nTFoot.parentNode == this)\n\t\t\t\t) {\n\t\t\t\t\tvar bRetrieve = oInit.bRetrieve !== undefined ? oInit.bRetrieve : defaults.bRetrieve;\n\t\t\t\t\tvar bDestroy = oInit.bDestroy !== undefined ? oInit.bDestroy : defaults.bDestroy;\n\t\t\t\n\t\t\t\t\tif ( emptyInit || bRetrieve )\n\t\t\t\t\t{\n\t\t\t\t\t\treturn s.oInstance;\n\t\t\t\t\t}\n\t\t\t\t\telse if ( bDestroy )\n\t\t\t\t\t{\n\t\t\t\t\t\tnew DataTable.Api(s).destroy();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t_fnLog( s, 0, 'Cannot reinitialise DataTable', 3 );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\t/* If the element we are initialising has the same ID as a table which was previously\n\t\t\t\t * initialised, but the table nodes don't match (from before) then we destroy the old\n\t\t\t\t * instance by simply deleting it. This is under the assumption that the table has been\n\t\t\t\t * destroyed by other methods. Anyone using non-id selectors will need to do this manually\n\t\t\t\t */\n\t\t\t\tif ( s.sTableId == this.id )\n\t\t\t\t{\n\t\t\t\t\tallSettings.splice( i, 1 );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* Ensure the table has an ID - required for accessibility */\n\t\t\tif ( sId === null || sId === \"\" )\n\t\t\t{\n\t\t\t\tsId = \"DataTables_Table_\"+(DataTable.ext._unique++);\n\t\t\t\tthis.id = sId;\n\t\t\t}\n\t\t\t\n\t\t\t/* Create the settings object for this table and set some of the default parameters */\n\t\t\tvar oSettings = $.extend( true, {}, DataTable.models.oSettings, {\n\t\t\t\t\"sDestroyWidth\": $this[0].style.width,\n\t\t\t\t\"sInstance\":     sId,\n\t\t\t\t\"sTableId\":      sId,\n\t\t\t\tcolgroup: $('<colgroup>').prependTo(this),\n\t\t\t\tfastData: function (row, column, type) {\n\t\t\t\t\treturn _fnGetCellData(oSettings, row, column, type);\n\t\t\t\t}\n\t\t\t} );\n\t\t\toSettings.nTable = this;\n\t\t\toSettings.oInit  = oInit;\n\t\t\t\n\t\t\tallSettings.push( oSettings );\n\t\t\t\n\t\t\t// Make a single API instance available for internal handling\n\t\t\toSettings.api = new _Api( oSettings );\n\t\t\t\n\t\t\t// Need to add the instance after the instance after the settings object has been added\n\t\t\t// to the settings array, so we can self reference the table instance if more than one\n\t\t\toSettings.oInstance = (_that.length===1) ? _that : $this.dataTable();\n\t\t\t\n\t\t\t// Backwards compatibility, before we apply all the defaults\n\t\t\t_fnCompatOpts( oInit );\n\t\t\t\n\t\t\t// If the length menu is given, but the init display length is not, use the length menu\n\t\t\tif ( oInit.aLengthMenu && ! oInit.iDisplayLength )\n\t\t\t{\n\t\t\t\toInit.iDisplayLength = Array.isArray(oInit.aLengthMenu[0])\n\t\t\t\t\t? oInit.aLengthMenu[0][0]\n\t\t\t\t\t: $.isPlainObject( oInit.aLengthMenu[0] )\n\t\t\t\t\t\t? oInit.aLengthMenu[0].value\n\t\t\t\t\t\t: oInit.aLengthMenu[0];\n\t\t\t}\n\t\t\t\n\t\t\t// Apply the defaults and init options to make a single init object will all\n\t\t\t// options defined from defaults and instance options.\n\t\t\toInit = _fnExtend( $.extend( true, {}, defaults ), oInit );\n\t\t\t\n\t\t\t\n\t\t\t// Map the initialisation options onto the settings object\n\t\t\t_fnMap( oSettings.oFeatures, oInit, [\n\t\t\t\t\"bPaginate\",\n\t\t\t\t\"bLengthChange\",\n\t\t\t\t\"bFilter\",\n\t\t\t\t\"bSort\",\n\t\t\t\t\"bSortMulti\",\n\t\t\t\t\"bInfo\",\n\t\t\t\t\"bProcessing\",\n\t\t\t\t\"bAutoWidth\",\n\t\t\t\t\"bSortClasses\",\n\t\t\t\t\"bServerSide\",\n\t\t\t\t\"bDeferRender\"\n\t\t\t] );\n\t\t\t_fnMap( oSettings, oInit, [\n\t\t\t\t\"ajax\",\n\t\t\t\t\"fnFormatNumber\",\n\t\t\t\t\"sServerMethod\",\n\t\t\t\t\"aaSorting\",\n\t\t\t\t\"aaSortingFixed\",\n\t\t\t\t\"aLengthMenu\",\n\t\t\t\t\"sPaginationType\",\n\t\t\t\t\"iStateDuration\",\n\t\t\t\t\"bSortCellsTop\",\n\t\t\t\t\"iTabIndex\",\n\t\t\t\t\"sDom\",\n\t\t\t\t\"fnStateLoadCallback\",\n\t\t\t\t\"fnStateSaveCallback\",\n\t\t\t\t\"renderer\",\n\t\t\t\t\"searchDelay\",\n\t\t\t\t\"rowId\",\n\t\t\t\t\"caption\",\n\t\t\t\t\"layout\",\n\t\t\t\t[ \"iCookieDuration\", \"iStateDuration\" ], // backwards compat\n\t\t\t\t[ \"oSearch\", \"oPreviousSearch\" ],\n\t\t\t\t[ \"aoSearchCols\", \"aoPreSearchCols\" ],\n\t\t\t\t[ \"iDisplayLength\", \"_iDisplayLength\" ]\n\t\t\t] );\n\t\t\t_fnMap( oSettings.oScroll, oInit, [\n\t\t\t\t[ \"sScrollX\", \"sX\" ],\n\t\t\t\t[ \"sScrollXInner\", \"sXInner\" ],\n\t\t\t\t[ \"sScrollY\", \"sY\" ],\n\t\t\t\t[ \"bScrollCollapse\", \"bCollapse\" ]\n\t\t\t] );\n\t\t\t_fnMap( oSettings.oLanguage, oInit, \"fnInfoCallback\" );\n\t\t\t\n\t\t\t/* Callback functions which are array driven */\n\t\t\t_fnCallbackReg( oSettings, 'aoDrawCallback',       oInit.fnDrawCallback );\n\t\t\t_fnCallbackReg( oSettings, 'aoStateSaveParams',    oInit.fnStateSaveParams );\n\t\t\t_fnCallbackReg( oSettings, 'aoStateLoadParams',    oInit.fnStateLoadParams );\n\t\t\t_fnCallbackReg( oSettings, 'aoStateLoaded',        oInit.fnStateLoaded );\n\t\t\t_fnCallbackReg( oSettings, 'aoRowCallback',        oInit.fnRowCallback );\n\t\t\t_fnCallbackReg( oSettings, 'aoRowCreatedCallback', oInit.fnCreatedRow );\n\t\t\t_fnCallbackReg( oSettings, 'aoHeaderCallback',     oInit.fnHeaderCallback );\n\t\t\t_fnCallbackReg( oSettings, 'aoFooterCallback',     oInit.fnFooterCallback );\n\t\t\t_fnCallbackReg( oSettings, 'aoInitComplete',       oInit.fnInitComplete );\n\t\t\t_fnCallbackReg( oSettings, 'aoPreDrawCallback',    oInit.fnPreDrawCallback );\n\t\t\t\n\t\t\toSettings.rowIdFn = _fnGetObjectDataFn( oInit.rowId );\n\t\t\t\n\t\t\t/* Browser support detection */\n\t\t\t_fnBrowserDetect( oSettings );\n\t\t\t\n\t\t\tvar oClasses = oSettings.oClasses;\n\t\t\t\n\t\t\t$.extend( oClasses, DataTable.ext.classes, oInit.oClasses );\n\t\t\t$this.addClass( oClasses.table );\n\t\t\t\n\t\t\tif (! oSettings.oFeatures.bPaginate) {\n\t\t\t\toInit.iDisplayStart = 0;\n\t\t\t}\n\t\t\t\n\t\t\tif ( oSettings.iInitDisplayStart === undefined )\n\t\t\t{\n\t\t\t\t/* Display start point, taking into account the save saving */\n\t\t\t\toSettings.iInitDisplayStart = oInit.iDisplayStart;\n\t\t\t\toSettings._iDisplayStart = oInit.iDisplayStart;\n\t\t\t}\n\t\t\t\n\t\t\t/* Language definitions */\n\t\t\tvar oLanguage = oSettings.oLanguage;\n\t\t\t$.extend( true, oLanguage, oInit.oLanguage );\n\t\t\t\n\t\t\tif ( oLanguage.sUrl )\n\t\t\t{\n\t\t\t\t/* Get the language definitions from a file - because this Ajax call makes the language\n\t\t\t\t * get async to the remainder of this function we use bInitHandedOff to indicate that\n\t\t\t\t * _fnInitialise will be fired by the returned Ajax handler, rather than the constructor\n\t\t\t\t */\n\t\t\t\t$.ajax( {\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\turl: oLanguage.sUrl,\n\t\t\t\t\tsuccess: function ( json ) {\n\t\t\t\t\t\t_fnCamelToHungarian( defaults.oLanguage, json );\n\t\t\t\t\t\t$.extend( true, oLanguage, json, oSettings.oInit.oLanguage );\n\t\t\t\n\t\t\t\t\t\t_fnCallbackFire( oSettings, null, 'i18n', [oSettings], true);\n\t\t\t\t\t\t_fnInitialise( oSettings );\n\t\t\t\t\t},\n\t\t\t\t\terror: function () {\n\t\t\t\t\t\t// Error occurred loading language file\n\t\t\t\t\t\t_fnLog( oSettings, 0, 'i18n file loading error', 21 );\n\t\t\t\n\t\t\t\t\t\t// continue on as best we can\n\t\t\t\t\t\t_fnInitialise( oSettings );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbInitHandedOff = true;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_fnCallbackFire( oSettings, null, 'i18n', [oSettings]);\n\t\t\t}\n\t\t\t\n\t\t\t/*\n\t\t\t * Columns\n\t\t\t * See if we should load columns automatically or use defined ones\n\t\t\t */\n\t\t\tvar columnsInit = [];\n\t\t\tvar thead = this.getElementsByTagName('thead');\n\t\t\tvar initHeaderLayout = _fnDetectHeader( oSettings, thead[0] );\n\t\t\t\n\t\t\t// If we don't have a columns array, then generate one with nulls\n\t\t\tif ( oInit.aoColumns ) {\n\t\t\t\tcolumnsInit = oInit.aoColumns;\n\t\t\t}\n\t\t\telse if ( initHeaderLayout.length ) {\n\t\t\t\tfor ( i=0, iLen=initHeaderLayout[0].length ; i<iLen ; i++ ) {\n\t\t\t\t\tcolumnsInit.push( null );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Add the columns\n\t\t\tfor ( i=0, iLen=columnsInit.length ; i<iLen ; i++ ) {\n\t\t\t\t_fnAddColumn( oSettings );\n\t\t\t}\n\t\t\t\n\t\t\t// Apply the column definitions\n\t\t\t_fnApplyColumnDefs( oSettings, oInit.aoColumnDefs, columnsInit, initHeaderLayout, function (iCol, oDef) {\n\t\t\t\t_fnColumnOptions( oSettings, iCol, oDef );\n\t\t\t} );\n\t\t\t\n\t\t\t/* HTML5 attribute detection - build an mData object automatically if the\n\t\t\t * attributes are found\n\t\t\t */\n\t\t\tvar rowOne = $this.children('tbody').find('tr').eq(0);\n\t\t\t\n\t\t\tif ( rowOne.length ) {\n\t\t\t\tvar a = function ( cell, name ) {\n\t\t\t\t\treturn cell.getAttribute( 'data-'+name ) !== null ? name : null;\n\t\t\t\t};\n\t\t\t\n\t\t\t\t$( rowOne[0] ).children('th, td').each( function (i, cell) {\n\t\t\t\t\tvar col = oSettings.aoColumns[i];\n\t\t\t\n\t\t\t\t\tif (! col) {\n\t\t\t\t\t\t_fnLog( oSettings, 0, 'Incorrect column count', 18 );\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\tif ( col.mData === i ) {\n\t\t\t\t\t\tvar sort = a( cell, 'sort' ) || a( cell, 'order' );\n\t\t\t\t\t\tvar filter = a( cell, 'filter' ) || a( cell, 'search' );\n\t\t\t\n\t\t\t\t\t\tif ( sort !== null || filter !== null ) {\n\t\t\t\t\t\t\tcol.mData = {\n\t\t\t\t\t\t\t\t_:      i+'.display',\n\t\t\t\t\t\t\t\tsort:   sort !== null   ? i+'.@data-'+sort   : undefined,\n\t\t\t\t\t\t\t\ttype:   sort !== null   ? i+'.@data-'+sort   : undefined,\n\t\t\t\t\t\t\t\tfilter: filter !== null ? i+'.@data-'+filter : undefined\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcol._isArrayHost = true;\n\t\t\t\n\t\t\t\t\t\t\t_fnColumnOptions( oSettings, i );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t\t\n\t\t\tvar features = oSettings.oFeatures;\n\t\t\tvar loadedInit = function () {\n\t\t\t\t/*\n\t\t\t\t * Sorting\n\t\t\t\t * @todo For modularisation (1.11) this needs to do into a sort start up handler\n\t\t\t\t */\n\t\t\t\n\t\t\t\t// If aaSorting is not defined, then we use the first indicator in asSorting\n\t\t\t\t// in case that has been altered, so the default sort reflects that option\n\t\t\t\tif ( oInit.aaSorting === undefined ) {\n\t\t\t\t\tvar sorting = oSettings.aaSorting;\n\t\t\t\t\tfor ( i=0, iLen=sorting.length ; i<iLen ; i++ ) {\n\t\t\t\t\t\tsorting[i][1] = oSettings.aoColumns[ i ].asSorting[0];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\t/* Do a first pass on the sorting classes (allows any size changes to be taken into\n\t\t\t\t * account, and also will apply sorting disabled classes if disabled\n\t\t\t\t */\n\t\t\t\t_fnSortingClasses( oSettings );\n\t\t\t\n\t\t\t\t_fnCallbackReg( oSettings, 'aoDrawCallback', function () {\n\t\t\t\t\tif ( oSettings.bSorted || _fnDataSource( oSettings ) === 'ssp' || features.bDeferRender ) {\n\t\t\t\t\t\t_fnSortingClasses( oSettings );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\n\t\t\t\n\t\t\t\t/*\n\t\t\t\t * Final init\n\t\t\t\t * Cache the header, body and footer as required, creating them if needed\n\t\t\t\t */\n\t\t\t\tvar caption = $this.children('caption');\n\t\t\t\n\t\t\t\tif ( oSettings.caption ) {\n\t\t\t\t\tif ( caption.length === 0 ) {\n\t\t\t\t\t\tcaption = $('<caption/>').appendTo( $this );\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\tcaption.html( oSettings.caption );\n\t\t\t\t}\n\t\t\t\n\t\t\t\t// Store the caption side, so we can remove the element from the document\n\t\t\t\t// when creating the element\n\t\t\t\tif (caption.length) {\n\t\t\t\t\tcaption[0]._captionSide = caption.css('caption-side');\n\t\t\t\t\toSettings.captionNode = caption[0];\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif ( thead.length === 0 ) {\n\t\t\t\t\tthead = $('<thead/>').appendTo($this);\n\t\t\t\t}\n\t\t\t\toSettings.nTHead = thead[0];\n\t\t\t\t$('tr', thead).addClass(oClasses.thead.row);\n\t\t\t\n\t\t\t\tvar tbody = $this.children('tbody');\n\t\t\t\tif ( tbody.length === 0 ) {\n\t\t\t\t\ttbody = $('<tbody/>').insertAfter(thead);\n\t\t\t\t}\n\t\t\t\toSettings.nTBody = tbody[0];\n\t\t\t\n\t\t\t\tvar tfoot = $this.children('tfoot');\n\t\t\t\tif ( tfoot.length === 0 ) {\n\t\t\t\t\t// If we are a scrolling table, and no footer has been given, then we need to create\n\t\t\t\t\t// a tfoot element for the caption element to be appended to\n\t\t\t\t\ttfoot = $('<tfoot/>').appendTo($this);\n\t\t\t\t}\n\t\t\t\toSettings.nTFoot = tfoot[0];\n\t\t\t\t$('tr', tfoot).addClass(oClasses.tfoot.row);\n\t\t\t\n\t\t\t\t// Check if there is data passing into the constructor\n\t\t\t\tif ( oInit.aaData ) {\n\t\t\t\t\tfor ( i=0 ; i<oInit.aaData.length ; i++ ) {\n\t\t\t\t\t\t_fnAddData( oSettings, oInit.aaData[ i ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if ( _fnDataSource( oSettings ) == 'dom' ) {\n\t\t\t\t\t// Grab the data from the page\n\t\t\t\t\t_fnAddTr( oSettings, $(oSettings.nTBody).children('tr') );\n\t\t\t\t}\n\t\t\t\n\t\t\t\t/* Copy the data index array */\n\t\t\t\toSettings.aiDisplay = oSettings.aiDisplayMaster.slice();\n\t\t\t\n\t\t\t\t/* Initialisation complete - table can be drawn */\n\t\t\t\toSettings.bInitialised = true;\n\t\t\t\n\t\t\t\t/* Check if we need to initialise the table (it might not have been handed off to the\n\t\t\t\t * language processor)\n\t\t\t\t */\n\t\t\t\tif ( bInitHandedOff === false ) {\n\t\t\t\t\t_fnInitialise( oSettings );\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\t/* Must be done after everything which can be overridden by the state saving! */\n\t\t\t_fnCallbackReg( oSettings, 'aoDrawCallback', _fnSaveState );\n\t\t\t\n\t\t\tif ( oInit.bStateSave )\n\t\t\t{\n\t\t\t\tfeatures.bStateSave = true;\n\t\t\t\t_fnLoadState( oSettings, oInit, loadedInit );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tloadedInit();\n\t\t\t}\n\t\t\t\n\t\t} );\n\t\t_that = null;\n\t\treturn this;\n\t};\n\t\n\t\n\t\n\t/**\n\t * DataTables extensions\n\t * \n\t * This namespace acts as a collection area for plug-ins that can be used to\n\t * extend DataTables capabilities. Indeed many of the build in methods\n\t * use this method to provide their own capabilities (sorting methods for\n\t * example).\n\t *\n\t * Note that this namespace is aliased to `jQuery.fn.dataTableExt` for legacy\n\t * reasons\n\t *\n\t *  @namespace\n\t */\n\tDataTable.ext = _ext = {\n\t\t/**\n\t\t * Buttons. For use with the Buttons extension for DataTables. This is\n\t\t * defined here so other extensions can define buttons regardless of load\n\t\t * order. It is _not_ used by DataTables core.\n\t\t *\n\t\t *  @type object\n\t\t *  @default {}\n\t\t */\n\t\tbuttons: {},\n\t\n\t\n\t\t/**\n\t\t * Element class names\n\t\t *\n\t\t *  @type object\n\t\t *  @default {}\n\t\t */\n\t\tclasses: {},\n\t\n\t\n\t\t/**\n\t\t * DataTables build type (expanded by the download builder)\n\t\t *\n\t\t *  @type string\n\t\t */\n\t\tbuilder: \"-source-\",\n\t\n\t\n\t\t/**\n\t\t * Error reporting.\n\t\t * \n\t\t * How should DataTables report an error. Can take the value 'alert',\n\t\t * 'throw', 'none' or a function.\n\t\t *\n\t\t *  @type string|function\n\t\t *  @default alert\n\t\t */\n\t\terrMode: \"alert\",\n\t\n\t\n\t\t/**\n\t\t * Legacy so v1 plug-ins don't throw js errors on load\n\t\t */\n\t\tfeature: [],\n\t\n\t\t/**\n\t\t * Feature plug-ins.\n\t\t * \n\t\t * This is an object of callbacks which provide the features for DataTables\n\t\t * to be initialised via the `layout` option.\n\t\t */\n\t\tfeatures: {},\n\t\n\t\n\t\t/**\n\t\t * Row searching.\n\t\t * \n\t\t * This method of searching is complimentary to the default type based\n\t\t * searching, and a lot more comprehensive as it allows you complete control\n\t\t * over the searching logic. Each element in this array is a function\n\t\t * (parameters described below) that is called for every row in the table,\n\t\t * and your logic decides if it should be included in the searching data set\n\t\t * or not.\n\t\t *\n\t\t * Searching functions have the following input parameters:\n\t\t *\n\t\t * 1. `{object}` DataTables settings object: see\n\t\t *    {@link DataTable.models.oSettings}\n\t\t * 2. `{array|object}` Data for the row to be processed (same as the\n\t\t *    original format that was passed in as the data source, or an array\n\t\t *    from a DOM data source\n\t\t * 3. `{int}` Row index ({@link DataTable.models.oSettings.aoData}), which\n\t\t *    can be useful to retrieve the `TR` element if you need DOM interaction.\n\t\t *\n\t\t * And the following return is expected:\n\t\t *\n\t\t * * {boolean} Include the row in the searched result set (true) or not\n\t\t *   (false)\n\t\t *\n\t\t * Note that as with the main search ability in DataTables, technically this\n\t\t * is \"filtering\", since it is subtractive. However, for consistency in\n\t\t * naming we call it searching here.\n\t\t *\n\t\t *  @type array\n\t\t *  @default []\n\t\t *\n\t\t *  @example\n\t\t *    // The following example shows custom search being applied to the\n\t\t *    // fourth column (i.e. the data[3] index) based on two input values\n\t\t *    // from the end-user, matching the data in a certain range.\n\t\t *    $.fn.dataTable.ext.search.push(\n\t\t *      function( settings, data, dataIndex ) {\n\t\t *        var min = document.getElementById('min').value * 1;\n\t\t *        var max = document.getElementById('max').value * 1;\n\t\t *        var version = data[3] == \"-\" ? 0 : data[3]*1;\n\t\t *\n\t\t *        if ( min == \"\" && max == \"\" ) {\n\t\t *          return true;\n\t\t *        }\n\t\t *        else if ( min == \"\" && version < max ) {\n\t\t *          return true;\n\t\t *        }\n\t\t *        else if ( min < version && \"\" == max ) {\n\t\t *          return true;\n\t\t *        }\n\t\t *        else if ( min < version && version < max ) {\n\t\t *          return true;\n\t\t *        }\n\t\t *        return false;\n\t\t *      }\n\t\t *    );\n\t\t */\n\t\tsearch: [],\n\t\n\t\n\t\t/**\n\t\t * Selector extensions\n\t\t *\n\t\t * The `selector` option can be used to extend the options available for the\n\t\t * selector modifier options (`selector-modifier` object data type) that\n\t\t * each of the three built in selector types offer (row, column and cell +\n\t\t * their plural counterparts). For example the Select extension uses this\n\t\t * mechanism to provide an option to select only rows, columns and cells\n\t\t * that have been marked as selected by the end user (`{selected: true}`),\n\t\t * which can be used in conjunction with the existing built in selector\n\t\t * options.\n\t\t *\n\t\t * Each property is an array to which functions can be pushed. The functions\n\t\t * take three attributes:\n\t\t *\n\t\t * * Settings object for the host table\n\t\t * * Options object (`selector-modifier` object type)\n\t\t * * Array of selected item indexes\n\t\t *\n\t\t * The return is an array of the resulting item indexes after the custom\n\t\t * selector has been applied.\n\t\t *\n\t\t *  @type object\n\t\t */\n\t\tselector: {\n\t\t\tcell: [],\n\t\t\tcolumn: [],\n\t\t\trow: []\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * Legacy configuration options. Enable and disable legacy options that\n\t\t * are available in DataTables.\n\t\t *\n\t\t *  @type object\n\t\t */\n\t\tlegacy: {\n\t\t\t/**\n\t\t\t * Enable / disable DataTables 1.9 compatible server-side processing\n\t\t\t * requests\n\t\t\t *\n\t\t\t *  @type boolean\n\t\t\t *  @default null\n\t\t\t */\n\t\t\tajax: null\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * Pagination plug-in methods.\n\t\t * \n\t\t * Each entry in this object is a function and defines which buttons should\n\t\t * be shown by the pagination rendering method that is used for the table:\n\t\t * {@link DataTable.ext.renderer.pageButton}. The renderer addresses how the\n\t\t * buttons are displayed in the document, while the functions here tell it\n\t\t * what buttons to display. This is done by returning an array of button\n\t\t * descriptions (what each button will do).\n\t\t *\n\t\t * Pagination types (the four built in options and any additional plug-in\n\t\t * options defined here) can be used through the `paginationType`\n\t\t * initialisation parameter.\n\t\t *\n\t\t * The functions defined take two parameters:\n\t\t *\n\t\t * 1. `{int} page` The current page index\n\t\t * 2. `{int} pages` The number of pages in the table\n\t\t *\n\t\t * Each function is expected to return an array where each element of the\n\t\t * array can be one of:\n\t\t *\n\t\t * * `first` - Jump to first page when activated\n\t\t * * `last` - Jump to last page when activated\n\t\t * * `previous` - Show previous page when activated\n\t\t * * `next` - Show next page when activated\n\t\t * * `{int}` - Show page of the index given\n\t\t * * `{array}` - A nested array containing the above elements to add a\n\t\t *   containing 'DIV' element (might be useful for styling).\n\t\t *\n\t\t * Note that DataTables v1.9- used this object slightly differently whereby\n\t\t * an object with two functions would be defined for each plug-in. That\n\t\t * ability is still supported by DataTables 1.10+ to provide backwards\n\t\t * compatibility, but this option of use is now decremented and no longer\n\t\t * documented in DataTables 1.10+.\n\t\t *\n\t\t *  @type object\n\t\t *  @default {}\n\t\t *\n\t\t *  @example\n\t\t *    // Show previous, next and current page buttons only\n\t\t *    $.fn.dataTableExt.oPagination.current = function ( page, pages ) {\n\t\t *      return [ 'previous', page, 'next' ];\n\t\t *    };\n\t\t */\n\t\tpager: {},\n\t\n\t\n\t\trenderer: {\n\t\t\tpageButton: {},\n\t\t\theader: {}\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * Ordering plug-ins - custom data source\n\t\t * \n\t\t * The extension options for ordering of data available here is complimentary\n\t\t * to the default type based ordering that DataTables typically uses. It\n\t\t * allows much greater control over the the data that is being used to\n\t\t * order a column, but is necessarily therefore more complex.\n\t\t * \n\t\t * This type of ordering is useful if you want to do ordering based on data\n\t\t * live from the DOM (for example the contents of an 'input' element) rather\n\t\t * than just the static string that DataTables knows of.\n\t\t * \n\t\t * The way these plug-ins work is that you create an array of the values you\n\t\t * wish to be ordering for the column in question and then return that\n\t\t * array. The data in the array much be in the index order of the rows in\n\t\t * the table (not the currently ordering order!). Which order data gathering\n\t\t * function is run here depends on the `dt-init columns.orderDataType`\n\t\t * parameter that is used for the column (if any).\n\t\t *\n\t\t * The functions defined take two parameters:\n\t\t *\n\t\t * 1. `{object}` DataTables settings object: see\n\t\t *    {@link DataTable.models.oSettings}\n\t\t * 2. `{int}` Target column index\n\t\t *\n\t\t * Each function is expected to return an array:\n\t\t *\n\t\t * * `{array}` Data for the column to be ordering upon\n\t\t *\n\t\t *  @type array\n\t\t *\n\t\t *  @example\n\t\t *    // Ordering using `input` node values\n\t\t *    $.fn.dataTable.ext.order['dom-text'] = function  ( settings, col )\n\t\t *    {\n\t\t *      return this.api().column( col, {order:'index'} ).nodes().map( function ( td, i ) {\n\t\t *        return $('input', td).val();\n\t\t *      } );\n\t\t *    }\n\t\t */\n\t\torder: {},\n\t\n\t\n\t\t/**\n\t\t * Type based plug-ins.\n\t\t *\n\t\t * Each column in DataTables has a type assigned to it, either by automatic\n\t\t * detection or by direct assignment using the `type` option for the column.\n\t\t * The type of a column will effect how it is ordering and search (plug-ins\n\t\t * can also make use of the column type if required).\n\t\t *\n\t\t * @namespace\n\t\t */\n\t\ttype: {\n\t\t\t/**\n\t\t\t * Automatic column class assignment\n\t\t\t */\n\t\t\tclassName: {},\n\t\n\t\t\t/**\n\t\t\t * Type detection functions.\n\t\t\t *\n\t\t\t * The functions defined in this object are used to automatically detect\n\t\t\t * a column's type, making initialisation of DataTables super easy, even\n\t\t\t * when complex data is in the table.\n\t\t\t *\n\t\t\t * The functions defined take two parameters:\n\t\t\t *\n\t\t     *  1. `{*}` Data from the column cell to be analysed\n\t\t     *  2. `{settings}` DataTables settings object. This can be used to\n\t\t     *     perform context specific type detection - for example detection\n\t\t     *     based on language settings such as using a comma for a decimal\n\t\t     *     place. Generally speaking the options from the settings will not\n\t\t     *     be required\n\t\t\t *\n\t\t\t * Each function is expected to return:\n\t\t\t *\n\t\t\t * * `{string|null}` Data type detected, or null if unknown (and thus\n\t\t\t *   pass it on to the other type detection functions.\n\t\t\t *\n\t\t\t *  @type array\n\t\t\t *\n\t\t\t *  @example\n\t\t\t *    // Currency type detection plug-in:\n\t\t\t *    $.fn.dataTable.ext.type.detect.push(\n\t\t\t *      function ( data, settings ) {\n\t\t\t *        // Check the numeric part\n\t\t\t *        if ( ! data.substring(1).match(/[0-9]/) ) {\n\t\t\t *          return null;\n\t\t\t *        }\n\t\t\t *\n\t\t\t *        // Check prefixed by currency\n\t\t\t *        if ( data.charAt(0) == '$' || data.charAt(0) == '&pound;' ) {\n\t\t\t *          return 'currency';\n\t\t\t *        }\n\t\t\t *        return null;\n\t\t\t *      }\n\t\t\t *    );\n\t\t\t */\n\t\t\tdetect: [],\n\t\n\t\t\t/**\n\t\t\t * Automatic renderer assignment\n\t\t\t */\n\t\t\trender: {},\n\t\n\t\n\t\t\t/**\n\t\t\t * Type based search formatting.\n\t\t\t *\n\t\t\t * The type based searching functions can be used to pre-format the\n\t\t\t * data to be search on. For example, it can be used to strip HTML\n\t\t\t * tags or to de-format telephone numbers for numeric only searching.\n\t\t\t *\n\t\t\t * Note that is a search is not defined for a column of a given type,\n\t\t\t * no search formatting will be performed.\n\t\t\t * \n\t\t\t * Pre-processing of searching data plug-ins - When you assign the sType\n\t\t\t * for a column (or have it automatically detected for you by DataTables\n\t\t\t * or a type detection plug-in), you will typically be using this for\n\t\t\t * custom sorting, but it can also be used to provide custom searching\n\t\t\t * by allowing you to pre-processing the data and returning the data in\n\t\t\t * the format that should be searched upon. This is done by adding\n\t\t\t * functions this object with a parameter name which matches the sType\n\t\t\t * for that target column. This is the corollary of <i>afnSortData</i>\n\t\t\t * for searching data.\n\t\t\t *\n\t\t\t * The functions defined take a single parameter:\n\t\t\t *\n\t\t     *  1. `{*}` Data from the column cell to be prepared for searching\n\t\t\t *\n\t\t\t * Each function is expected to return:\n\t\t\t *\n\t\t\t * * `{string|null}` Formatted string that will be used for the searching.\n\t\t\t *\n\t\t\t *  @type object\n\t\t\t *  @default {}\n\t\t\t *\n\t\t\t *  @example\n\t\t\t *    $.fn.dataTable.ext.type.search['title-numeric'] = function ( d ) {\n\t\t\t *      return d.replace(/\\n/g,\" \").replace( /<.*?>/g, \"\" );\n\t\t\t *    }\n\t\t\t */\n\t\t\tsearch: {},\n\t\n\t\n\t\t\t/**\n\t\t\t * Type based ordering.\n\t\t\t *\n\t\t\t * The column type tells DataTables what ordering to apply to the table\n\t\t\t * when a column is sorted upon. The order for each type that is defined,\n\t\t\t * is defined by the functions available in this object.\n\t\t\t *\n\t\t\t * Each ordering option can be described by three properties added to\n\t\t\t * this object:\n\t\t\t *\n\t\t\t * * `{type}-pre` - Pre-formatting function\n\t\t\t * * `{type}-asc` - Ascending order function\n\t\t\t * * `{type}-desc` - Descending order function\n\t\t\t *\n\t\t\t * All three can be used together, only `{type}-pre` or only\n\t\t\t * `{type}-asc` and `{type}-desc` together. It is generally recommended\n\t\t\t * that only `{type}-pre` is used, as this provides the optimal\n\t\t\t * implementation in terms of speed, although the others are provided\n\t\t\t * for compatibility with existing Javascript sort functions.\n\t\t\t *\n\t\t\t * `{type}-pre`: Functions defined take a single parameter:\n\t\t\t *\n\t\t     *  1. `{*}` Data from the column cell to be prepared for ordering\n\t\t\t *\n\t\t\t * And return:\n\t\t\t *\n\t\t\t * * `{*}` Data to be sorted upon\n\t\t\t *\n\t\t\t * `{type}-asc` and `{type}-desc`: Functions are typical Javascript sort\n\t\t\t * functions, taking two parameters:\n\t\t\t *\n\t\t     *  1. `{*}` Data to compare to the second parameter\n\t\t     *  2. `{*}` Data to compare to the first parameter\n\t\t\t *\n\t\t\t * And returning:\n\t\t\t *\n\t\t\t * * `{*}` Ordering match: <0 if first parameter should be sorted lower\n\t\t\t *   than the second parameter, ===0 if the two parameters are equal and\n\t\t\t *   >0 if the first parameter should be sorted height than the second\n\t\t\t *   parameter.\n\t\t\t * \n\t\t\t *  @type object\n\t\t\t *  @default {}\n\t\t\t *\n\t\t\t *  @example\n\t\t\t *    // Numeric ordering of formatted numbers with a pre-formatter\n\t\t\t *    $.extend( $.fn.dataTable.ext.type.order, {\n\t\t\t *      \"string-pre\": function(x) {\n\t\t\t *        a = (a === \"-\" || a === \"\") ? 0 : a.replace( /[^\\d\\-\\.]/g, \"\" );\n\t\t\t *        return parseFloat( a );\n\t\t\t *      }\n\t\t\t *    } );\n\t\t\t *\n\t\t\t *  @example\n\t\t\t *    // Case-sensitive string ordering, with no pre-formatting method\n\t\t\t *    $.extend( $.fn.dataTable.ext.order, {\n\t\t\t *      \"string-case-asc\": function(x,y) {\n\t\t\t *        return ((x < y) ? -1 : ((x > y) ? 1 : 0));\n\t\t\t *      },\n\t\t\t *      \"string-case-desc\": function(x,y) {\n\t\t\t *        return ((x < y) ? 1 : ((x > y) ? -1 : 0));\n\t\t\t *      }\n\t\t\t *    } );\n\t\t\t */\n\t\t\torder: {}\n\t\t},\n\t\n\t\t/**\n\t\t * Unique DataTables instance counter\n\t\t *\n\t\t * @type int\n\t\t * @private\n\t\t */\n\t\t_unique: 0,\n\t\n\t\n\t\t//\n\t\t// Depreciated\n\t\t// The following properties are retained for backwards compatibility only.\n\t\t// The should not be used in new projects and will be removed in a future\n\t\t// version\n\t\t//\n\t\n\t\t/**\n\t\t * Version check function.\n\t\t *  @type function\n\t\t *  @depreciated Since 1.10\n\t\t */\n\t\tfnVersionCheck: DataTable.fnVersionCheck,\n\t\n\t\n\t\t/**\n\t\t * Index for what 'this' index API functions should use\n\t\t *  @type int\n\t\t *  @deprecated Since v1.10\n\t\t */\n\t\tiApiIndex: 0,\n\t\n\t\n\t\t/**\n\t\t * Software version\n\t\t *  @type string\n\t\t *  @deprecated Since v1.10\n\t\t */\n\t\tsVersion: DataTable.version\n\t};\n\t\n\t\n\t//\n\t// Backwards compatibility. Alias to pre 1.10 Hungarian notation counter parts\n\t//\n\t$.extend( _ext, {\n\t\tafnFiltering: _ext.search,\n\t\taTypes:       _ext.type.detect,\n\t\tofnSearch:    _ext.type.search,\n\t\toSort:        _ext.type.order,\n\t\tafnSortData:  _ext.order,\n\t\taoFeatures:   _ext.feature,\n\t\toStdClasses:  _ext.classes,\n\t\toPagination:  _ext.pager\n\t} );\n\t\n\t\n\t$.extend( DataTable.ext.classes, {\n\t\tcontainer: 'dt-container',\n\t\tempty: {\n\t\t\trow: 'dt-empty'\n\t\t},\n\t\tinfo: {\n\t\t\tcontainer: 'dt-info'\n\t\t},\n\t\tlength: {\n\t\t\tcontainer: 'dt-length',\n\t\t\tselect: 'dt-input'\n\t\t},\n\t\torder: {\n\t\t\tcanAsc: 'dt-orderable-asc',\n\t\t\tcanDesc: 'dt-orderable-desc',\n\t\t\tisAsc: 'dt-ordering-asc',\n\t\t\tisDesc: 'dt-ordering-desc',\n\t\t\tnone: 'dt-orderable-none',\n\t\t\tposition: 'sorting_'\n\t\t},\n\t\tprocessing: {\n\t\t\tcontainer: 'dt-processing'\n\t\t},\n\t\tscrolling: {\n\t\t\tbody: 'dt-scroll-body',\n\t\t\tcontainer: 'dt-scroll',\n\t\t\tfooter: {\n\t\t\t\tself: 'dt-scroll-foot',\n\t\t\t\tinner: 'dt-scroll-footInner'\n\t\t\t},\n\t\t\theader: {\n\t\t\t\tself: 'dt-scroll-head',\n\t\t\t\tinner: 'dt-scroll-headInner'\n\t\t\t}\n\t\t},\n\t\tsearch: {\n\t\t\tcontainer: 'dt-search',\n\t\t\tinput: 'dt-input'\n\t\t},\n\t\ttable: 'dataTable',\t\n\t\ttbody: {\n\t\t\tcell: '',\n\t\t\trow: ''\n\t\t},\n\t\tthead: {\n\t\t\tcell: '',\n\t\t\trow: ''\n\t\t},\n\t\ttfoot: {\n\t\t\tcell: '',\n\t\t\trow: ''\n\t\t},\n\t\tpaging: {\n\t\t\tactive: 'current',\n\t\t\tbutton: 'dt-paging-button',\n\t\t\tcontainer: 'dt-paging',\n\t\t\tdisabled: 'disabled'\n\t\t}\n\t} );\n\t\n\t\n\t/*\n\t * It is useful to have variables which are scoped locally so only the\n\t * DataTables functions can access them and they don't leak into global space.\n\t * At the same time these functions are often useful over multiple files in the\n\t * core and API, so we list, or at least document, all variables which are used\n\t * by DataTables as private variables here. This also ensures that there is no\n\t * clashing of variable names and that they can easily referenced for reuse.\n\t */\n\t\n\t\n\t// Defined else where\n\t//  _selector_run\n\t//  _selector_opts\n\t//  _selector_row_indexes\n\t\n\tvar _ext; // DataTable.ext\n\tvar _Api; // DataTable.Api\n\tvar _api_register; // DataTable.Api.register\n\tvar _api_registerPlural; // DataTable.Api.registerPlural\n\t\n\tvar _re_dic = {};\n\tvar _re_new_lines = /[\\r\\n\\u2028]/g;\n\tvar _re_html = /<([^>]*>)/g;\n\tvar _max_str_len = Math.pow(2, 28);\n\t\n\t// This is not strict ISO8601 - Date.parse() is quite lax, although\n\t// implementations differ between browsers.\n\tvar _re_date = /^\\d{2,4}[./-]\\d{1,2}[./-]\\d{1,2}([T ]{1}\\d{1,2}[:.]\\d{2}([.:]\\d{2})?)?$/;\n\t\n\t// Escape regular expression special characters\n\tvar _re_escape_regex = new RegExp( '(\\\\' + [ '/', '.', '*', '+', '?', '|', '(', ')', '[', ']', '{', '}', '\\\\', '$', '^', '-' ].join('|\\\\') + ')', 'g' );\n\t\n\t// https://en.wikipedia.org/wiki/Foreign_exchange_market\n\t// - \\u20BD - Russian ruble.\n\t// - \\u20a9 - South Korean Won\n\t// - \\u20BA - Turkish Lira\n\t// - \\u20B9 - Indian Rupee\n\t// - R - Brazil (R$) and South Africa\n\t// - fr - Swiss Franc\n\t// - kr - Swedish krona, Norwegian krone and Danish krone\n\t// - \\u2009 is thin space and \\u202F is narrow no-break space, both used in many\n\t// - \u0243 - Bitcoin\n\t// - \u039E - Ethereum\n\t//   standards as thousands separators.\n\tvar _re_formatted_numeric = /['\\u00A0,$\u00A3\u20AC\u00A5%\\u2009\\u202F\\u20BD\\u20a9\\u20BArfk\u0243\u039E]/gi;\n\t\n\t\n\tvar _empty = function ( d ) {\n\t\treturn !d || d === true || d === '-' ? true : false;\n\t};\n\t\n\t\n\tvar _intVal = function ( s ) {\n\t\tvar integer = parseInt( s, 10 );\n\t\treturn !isNaN(integer) && isFinite(s) ? integer : null;\n\t};\n\t\n\t// Convert from a formatted number with characters other than `.` as the\n\t// decimal place, to a Javascript number\n\tvar _numToDecimal = function ( num, decimalPoint ) {\n\t\t// Cache created regular expressions for speed as this function is called often\n\t\tif ( ! _re_dic[ decimalPoint ] ) {\n\t\t\t_re_dic[ decimalPoint ] = new RegExp( _fnEscapeRegex( decimalPoint ), 'g' );\n\t\t}\n\t\treturn typeof num === 'string' && decimalPoint !== '.' ?\n\t\t\tnum.replace( /\\./g, '' ).replace( _re_dic[ decimalPoint ], '.' ) :\n\t\t\tnum;\n\t};\n\t\n\t\n\tvar _isNumber = function ( d, decimalPoint, formatted ) {\n\t\tvar type = typeof d;\n\t\tvar strType = type === 'string';\n\t\n\t\tif ( type === 'number' || type === 'bigint') {\n\t\t\treturn true;\n\t\t}\n\t\n\t\t// If empty return immediately so there must be a number if it is a\n\t\t// formatted string (this stops the string \"k\", or \"kr\", etc being detected\n\t\t// as a formatted number for currency\n\t\tif ( _empty( d ) ) {\n\t\t\treturn true;\n\t\t}\n\t\n\t\tif ( decimalPoint && strType ) {\n\t\t\td = _numToDecimal( d, decimalPoint );\n\t\t}\n\t\n\t\tif ( formatted && strType ) {\n\t\t\td = d.replace( _re_formatted_numeric, '' );\n\t\t}\n\t\n\t\treturn !isNaN( parseFloat(d) ) && isFinite( d );\n\t};\n\t\n\t\n\t// A string without HTML in it can be considered to be HTML still\n\tvar _isHtml = function ( d ) {\n\t\treturn _empty( d ) || typeof d === 'string';\n\t};\n\t\n\t// Is a string a number surrounded by HTML?\n\tvar _htmlNumeric = function ( d, decimalPoint, formatted ) {\n\t\tif ( _empty( d ) ) {\n\t\t\treturn true;\n\t\t}\n\t\n\t\t// input and select strings mean that this isn't just a number\n\t\tif (typeof d === 'string' && d.match(/<(input|select)/i)) {\n\t\t\treturn null;\n\t\t}\n\t\n\t\tvar html = _isHtml( d );\n\t\treturn ! html ?\n\t\t\tnull :\n\t\t\t_isNumber( _stripHtml( d ), decimalPoint, formatted ) ?\n\t\t\t\ttrue :\n\t\t\t\tnull;\n\t};\n\t\n\t\n\tvar _pluck = function ( a, prop, prop2 ) {\n\t\tvar out = [];\n\t\tvar i=0, ien=a.length;\n\t\n\t\t// Could have the test in the loop for slightly smaller code, but speed\n\t\t// is essential here\n\t\tif ( prop2 !== undefined ) {\n\t\t\tfor ( ; i<ien ; i++ ) {\n\t\t\t\tif ( a[i] && a[i][ prop ] ) {\n\t\t\t\t\tout.push( a[i][ prop ][ prop2 ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfor ( ; i<ien ; i++ ) {\n\t\t\t\tif ( a[i] ) {\n\t\t\t\t\tout.push( a[i][ prop ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn out;\n\t};\n\t\n\t\n\t// Basically the same as _pluck, but rather than looping over `a` we use `order`\n\t// as the indexes to pick from `a`\n\tvar _pluck_order = function ( a, order, prop, prop2 )\n\t{\n\t\tvar out = [];\n\t\tvar i=0, ien=order.length;\n\t\n\t\t// Could have the test in the loop for slightly smaller code, but speed\n\t\t// is essential here\n\t\tif ( prop2 !== undefined ) {\n\t\t\tfor ( ; i<ien ; i++ ) {\n\t\t\t\tif ( a[ order[i] ][ prop ] ) {\n\t\t\t\t\tout.push( a[ order[i] ][ prop ][ prop2 ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfor ( ; i<ien ; i++ ) {\n\t\t\t\tif ( a[ order[i] ] ) {\n\t\t\t\t\tout.push( a[ order[i] ][ prop ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn out;\n\t};\n\t\n\t\n\tvar _range = function ( len, start )\n\t{\n\t\tvar out = [];\n\t\tvar end;\n\t\n\t\tif ( start === undefined ) {\n\t\t\tstart = 0;\n\t\t\tend = len;\n\t\t}\n\t\telse {\n\t\t\tend = start;\n\t\t\tstart = len;\n\t\t}\n\t\n\t\tfor ( var i=start ; i<end ; i++ ) {\n\t\t\tout.push( i );\n\t\t}\n\t\n\t\treturn out;\n\t};\n\t\n\t\n\tvar _removeEmpty = function ( a )\n\t{\n\t\tvar out = [];\n\t\n\t\tfor ( var i=0, ien=a.length ; i<ien ; i++ ) {\n\t\t\tif ( a[i] ) { // careful - will remove all falsy values!\n\t\t\t\tout.push( a[i] );\n\t\t\t}\n\t\t}\n\t\n\t\treturn out;\n\t};\n\t\n\t// Replaceable function in api.util\n\tvar _stripHtml = function (input) {\n\t\t// Irrelevant check to workaround CodeQL's false positive on the regex\n\t\tif (input.length > _max_str_len) {\n\t\t\tthrow new Error('Exceeded max str len');\n\t\t}\n\t\n\t\tvar previous;\n\t\n\t\tinput = input.replace(_re_html, ''); // Complete tags\n\t\n\t\t// Safety for incomplete script tag - use do / while to ensure that\n\t\t// we get all instances\n\t\tdo {\n\t\t\tprevious = input;\n\t\t\tinput = input.replace(/<script/i, '');\n\t\t} while (input !== previous);\n\t\n\t\treturn previous;\n\t};\n\t\n\t// Replaceable function in api.util\n\tvar _escapeHtml = function ( d ) {\n\t\tif (Array.isArray(d)) {\n\t\t\td = d.join(',');\n\t\t}\n\t\n\t\treturn typeof d === 'string' ?\n\t\t\td\n\t\t\t\t.replace(/&/g, '&amp;')\n\t\t\t\t.replace(/</g, '&lt;')\n\t\t\t\t.replace(/>/g, '&gt;')\n\t\t\t\t.replace(/\"/g, '&quot;') :\n\t\t\td;\n\t};\n\t\n\t// Remove diacritics from a string by decomposing it and then removing\n\t// non-ascii characters\n\tvar _normalize = function (str, both) {\n\t\tif (typeof str !== 'string') {\n\t\t\treturn str;\n\t\t}\n\t\n\t\t// It is faster to just run `normalize` than it is to check if\n\t\t// we need to with a regex!\n\t\tvar res = str.normalize(\"NFD\");\n\t\n\t\t// Equally, here we check if a regex is needed or not\n\t\treturn res.length !== str.length\n\t\t\t? (both === true ? str + ' ' : '' ) + res.replace(/[\\u0300-\\u036f]/g, \"\")\n\t\t\t: res;\n\t}\n\t\n\t/**\n\t * Determine if all values in the array are unique. This means we can short\n\t * cut the _unique method at the cost of a single loop. A sorted array is used\n\t * to easily check the values.\n\t *\n\t * @param  {array} src Source array\n\t * @return {boolean} true if all unique, false otherwise\n\t * @ignore\n\t */\n\tvar _areAllUnique = function ( src ) {\n\t\tif ( src.length < 2 ) {\n\t\t\treturn true;\n\t\t}\n\t\n\t\tvar sorted = src.slice().sort();\n\t\tvar last = sorted[0];\n\t\n\t\tfor ( var i=1, ien=sorted.length ; i<ien ; i++ ) {\n\t\t\tif ( sorted[i] === last ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tlast = sorted[i];\n\t\t}\n\t\n\t\treturn true;\n\t};\n\t\n\t\n\t/**\n\t * Find the unique elements in a source array.\n\t *\n\t * @param  {array} src Source array\n\t * @return {array} Array of unique items\n\t * @ignore\n\t */\n\tvar _unique = function ( src )\n\t{\n\t\tif (Array.from && Set) {\n\t\t\treturn Array.from(new Set(src));\n\t\t}\n\t\n\t\tif ( _areAllUnique( src ) ) {\n\t\t\treturn src.slice();\n\t\t}\n\t\n\t\t// A faster unique method is to use object keys to identify used values,\n\t\t// but this doesn't work with arrays or objects, which we must also\n\t\t// consider. See jsperf.app/compare-array-unique-versions/4 for more\n\t\t// information.\n\t\tvar\n\t\t\tout = [],\n\t\t\tval,\n\t\t\ti, ien=src.length,\n\t\t\tj, k=0;\n\t\n\t\tagain: for ( i=0 ; i<ien ; i++ ) {\n\t\t\tval = src[i];\n\t\n\t\t\tfor ( j=0 ; j<k ; j++ ) {\n\t\t\t\tif ( out[j] === val ) {\n\t\t\t\t\tcontinue again;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tout.push( val );\n\t\t\tk++;\n\t\t}\n\t\n\t\treturn out;\n\t};\n\t\n\t// Surprisingly this is faster than [].concat.apply\n\t// https://jsperf.com/flatten-an-array-loop-vs-reduce/2\n\tvar _flatten = function (out, val) {\n\t\tif (Array.isArray(val)) {\n\t\t\tfor (var i=0 ; i<val.length ; i++) {\n\t\t\t\t_flatten(out, val[i]);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tout.push(val);\n\t\t}\n\t\n\t\treturn out;\n\t}\n\t\n\t// Similar to jQuery's addClass, but use classList.add\n\tfunction _addClass(el, name) {\n\t\tif (name) {\n\t\t\tname.split(' ').forEach(function (n) {\n\t\t\t\tif (n) {\n\t\t\t\t\t// `add` does deduplication, so no need to check `contains`\n\t\t\t\t\tel.classList.add(n);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\t/**\n\t * DataTables utility methods\n\t * \n\t * This namespace provides helper methods that DataTables uses internally to\n\t * create a DataTable, but which are not exclusively used only for DataTables.\n\t * These methods can be used by extension authors to save the duplication of\n\t * code.\n\t *\n\t *  @namespace\n\t */\n\tDataTable.util = {\n\t\t/**\n\t\t * Return a string with diacritic characters decomposed\n\t\t * @param {*} mixed Function or string to normalize\n\t\t * @param {*} both Return original string and the normalized string\n\t\t * @returns String or undefined\n\t\t */\n\t\tdiacritics: function (mixed, both) {\n\t\t\tvar type = typeof mixed;\n\t\n\t\t\tif (type !== 'function') {\n\t\t\t\treturn _normalize(mixed, both);\n\t\t\t}\n\t\t\t_normalize = mixed;\n\t\t},\n\t\n\t\t/**\n\t\t * Debounce a function\n\t\t *\n\t\t * @param {function} fn Function to be called\n\t\t * @param {integer} freq Call frequency in mS\n\t\t * @return {function} Wrapped function\n\t\t */\n\t\tdebounce: function ( fn, timeout ) {\n\t\t\tvar timer;\n\t\n\t\t\treturn function () {\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\n\t\t\t\tclearTimeout(timer);\n\t\n\t\t\t\ttimer = setTimeout( function () {\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t}, timeout || 250 );\n\t\t\t};\n\t\t},\n\t\n\t\t/**\n\t\t * Throttle the calls to a function. Arguments and context are maintained\n\t\t * for the throttled function.\n\t\t *\n\t\t * @param {function} fn Function to be called\n\t\t * @param {integer} freq Call frequency in mS\n\t\t * @return {function} Wrapped function\n\t\t */\n\t\tthrottle: function ( fn, freq ) {\n\t\t\tvar\n\t\t\t\tfrequency = freq !== undefined ? freq : 200,\n\t\t\t\tlast,\n\t\t\t\ttimer;\n\t\n\t\t\treturn function () {\n\t\t\t\tvar\n\t\t\t\t\tthat = this,\n\t\t\t\t\tnow  = +new Date(),\n\t\t\t\t\targs = arguments;\n\t\n\t\t\t\tif ( last && now < last + frequency ) {\n\t\t\t\t\tclearTimeout( timer );\n\t\n\t\t\t\t\ttimer = setTimeout( function () {\n\t\t\t\t\t\tlast = undefined;\n\t\t\t\t\t\tfn.apply( that, args );\n\t\t\t\t\t}, frequency );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlast = now;\n\t\t\t\t\tfn.apply( that, args );\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\n\t\t/**\n\t\t * Escape a string such that it can be used in a regular expression\n\t\t *\n\t\t *  @param {string} val string to escape\n\t\t *  @returns {string} escaped string\n\t\t */\n\t\tescapeRegex: function ( val ) {\n\t\t\treturn val.replace( _re_escape_regex, '\\\\$1' );\n\t\t},\n\t\n\t\t/**\n\t\t * Create a function that will write to a nested object or array\n\t\t * @param {*} source JSON notation string\n\t\t * @returns Write function\n\t\t */\n\t\tset: function ( source ) {\n\t\t\tif ( $.isPlainObject( source ) ) {\n\t\t\t\t/* Unlike get, only the underscore (global) option is used for for\n\t\t\t\t * setting data since we don't know the type here. This is why an object\n\t\t\t\t * option is not documented for `mData` (which is read/write), but it is\n\t\t\t\t * for `mRender` which is read only.\n\t\t\t\t */\n\t\t\t\treturn DataTable.util.set( source._ );\n\t\t\t}\n\t\t\telse if ( source === null ) {\n\t\t\t\t// Nothing to do when the data source is null\n\t\t\t\treturn function () {};\n\t\t\t}\n\t\t\telse if ( typeof source === 'function' ) {\n\t\t\t\treturn function (data, val, meta) {\n\t\t\t\t\tsource( data, 'set', val, meta );\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if (\n\t\t\t\ttypeof source === 'string' && (source.indexOf('.') !== -1 ||\n\t\t\t\tsource.indexOf('[') !== -1 || source.indexOf('(') !== -1)\n\t\t\t) {\n\t\t\t\t// Like the get, we need to get data from a nested object\n\t\t\t\tvar setData = function (data, val, src) {\n\t\t\t\t\tvar a = _fnSplitObjNotation( src ), b;\n\t\t\t\t\tvar aLast = a[a.length-1];\n\t\t\t\t\tvar arrayNotation, funcNotation, o, innerSrc;\n\t\t\n\t\t\t\t\tfor ( var i=0, iLen=a.length-1 ; i<iLen ; i++ ) {\n\t\t\t\t\t\t// Protect against prototype pollution\n\t\t\t\t\t\tif (a[i] === '__proto__' || a[i] === 'constructor') {\n\t\t\t\t\t\t\tthrow new Error('Cannot set prototype values');\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t// Check if we are dealing with an array notation request\n\t\t\t\t\t\tarrayNotation = a[i].match(__reArray);\n\t\t\t\t\t\tfuncNotation = a[i].match(__reFn);\n\t\t\n\t\t\t\t\t\tif ( arrayNotation ) {\n\t\t\t\t\t\t\ta[i] = a[i].replace(__reArray, '');\n\t\t\t\t\t\t\tdata[ a[i] ] = [];\n\t\t\n\t\t\t\t\t\t\t// Get the remainder of the nested object to set so we can recurse\n\t\t\t\t\t\t\tb = a.slice();\n\t\t\t\t\t\t\tb.splice( 0, i+1 );\n\t\t\t\t\t\t\tinnerSrc = b.join('.');\n\t\t\n\t\t\t\t\t\t\t// Traverse each entry in the array setting the properties requested\n\t\t\t\t\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\t\t\t\t\tfor ( var j=0, jLen=val.length ; j<jLen ; j++ ) {\n\t\t\t\t\t\t\t\t\to = {};\n\t\t\t\t\t\t\t\t\tsetData( o, val[j], innerSrc );\n\t\t\t\t\t\t\t\t\tdata[ a[i] ].push( o );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t// We've been asked to save data to an array, but it\n\t\t\t\t\t\t\t\t// isn't array data to be saved. Best that can be done\n\t\t\t\t\t\t\t\t// is to just save the value.\n\t\t\t\t\t\t\t\tdata[ a[i] ] = val;\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t// The inner call to setData has already traversed through the remainder\n\t\t\t\t\t\t\t// of the source and has set the data, thus we can exit here\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ( funcNotation ) {\n\t\t\t\t\t\t\t// Function call\n\t\t\t\t\t\t\ta[i] = a[i].replace(__reFn, '');\n\t\t\t\t\t\t\tdata = data[ a[i] ]( val );\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t// If the nested object doesn't currently exist - since we are\n\t\t\t\t\t\t// trying to set the value - create it\n\t\t\t\t\t\tif ( data[ a[i] ] === null || data[ a[i] ] === undefined ) {\n\t\t\t\t\t\t\tdata[ a[i] ] = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata = data[ a[i] ];\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t// Last item in the input - i.e, the actual set\n\t\t\t\t\tif ( aLast.match(__reFn ) ) {\n\t\t\t\t\t\t// Function call\n\t\t\t\t\t\tdata = data[ aLast.replace(__reFn, '') ]( val );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// If array notation is used, we just want to strip it and use the property name\n\t\t\t\t\t\t// and assign the value. If it isn't used, then we get the result we want anyway\n\t\t\t\t\t\tdata[ aLast.replace(__reArray, '') ] = val;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\treturn function (data, val) { // meta is also passed in, but not used\n\t\t\t\t\treturn setData( data, val, source );\n\t\t\t\t};\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Array or flat object mapping\n\t\t\t\treturn function (data, val) { // meta is also passed in, but not used\n\t\t\t\t\tdata[source] = val;\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Create a function that will read nested objects from arrays, based on JSON notation\n\t\t * @param {*} source JSON notation string\n\t\t * @returns Value read\n\t\t */\n\t\tget: function ( source ) {\n\t\t\tif ( $.isPlainObject( source ) ) {\n\t\t\t\t// Build an object of get functions, and wrap them in a single call\n\t\t\t\tvar o = {};\n\t\t\t\t$.each( source, function (key, val) {\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\to[key] = DataTable.util.get( val );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\n\t\t\t\treturn function (data, type, row, meta) {\n\t\t\t\t\tvar t = o[type] || o._;\n\t\t\t\t\treturn t !== undefined ?\n\t\t\t\t\t\tt(data, type, row, meta) :\n\t\t\t\t\t\tdata;\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if ( source === null ) {\n\t\t\t\t// Give an empty string for rendering / sorting etc\n\t\t\t\treturn function (data) { // type, row and meta also passed, but not used\n\t\t\t\t\treturn data;\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if ( typeof source === 'function' ) {\n\t\t\t\treturn function (data, type, row, meta) {\n\t\t\t\t\treturn source( data, type, row, meta );\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if (\n\t\t\t\ttypeof source === 'string' && (source.indexOf('.') !== -1 ||\n\t\t\t\tsource.indexOf('[') !== -1 || source.indexOf('(') !== -1)\n\t\t\t) {\n\t\t\t\t/* If there is a . in the source string then the data source is in a\n\t\t\t\t * nested object so we loop over the data for each level to get the next\n\t\t\t\t * level down. On each loop we test for undefined, and if found immediately\n\t\t\t\t * return. This allows entire objects to be missing and sDefaultContent to\n\t\t\t\t * be used if defined, rather than throwing an error\n\t\t\t\t */\n\t\t\t\tvar fetchData = function (data, type, src) {\n\t\t\t\t\tvar arrayNotation, funcNotation, out, innerSrc;\n\t\t\n\t\t\t\t\tif ( src !== \"\" ) {\n\t\t\t\t\t\tvar a = _fnSplitObjNotation( src );\n\t\t\n\t\t\t\t\t\tfor ( var i=0, iLen=a.length ; i<iLen ; i++ ) {\n\t\t\t\t\t\t\t// Check if we are dealing with special notation\n\t\t\t\t\t\t\tarrayNotation = a[i].match(__reArray);\n\t\t\t\t\t\t\tfuncNotation = a[i].match(__reFn);\n\t\t\n\t\t\t\t\t\t\tif ( arrayNotation ) {\n\t\t\t\t\t\t\t\t// Array notation\n\t\t\t\t\t\t\t\ta[i] = a[i].replace(__reArray, '');\n\t\t\n\t\t\t\t\t\t\t\t// Condition allows simply [] to be passed in\n\t\t\t\t\t\t\t\tif ( a[i] !== \"\" ) {\n\t\t\t\t\t\t\t\t\tdata = data[ a[i] ];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tout = [];\n\t\t\n\t\t\t\t\t\t\t\t// Get the remainder of the nested object to get\n\t\t\t\t\t\t\t\ta.splice( 0, i+1 );\n\t\t\t\t\t\t\t\tinnerSrc = a.join('.');\n\t\t\n\t\t\t\t\t\t\t\t// Traverse each entry in the array getting the properties requested\n\t\t\t\t\t\t\t\tif ( Array.isArray( data ) ) {\n\t\t\t\t\t\t\t\t\tfor ( var j=0, jLen=data.length ; j<jLen ; j++ ) {\n\t\t\t\t\t\t\t\t\t\tout.push( fetchData( data[j], type, innerSrc ) );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\t// If a string is given in between the array notation indicators, that\n\t\t\t\t\t\t\t\t// is used to join the strings together, otherwise an array is returned\n\t\t\t\t\t\t\t\tvar join = arrayNotation[0].substring(1, arrayNotation[0].length-1);\n\t\t\t\t\t\t\t\tdata = (join===\"\") ? out : out.join(join);\n\t\t\n\t\t\t\t\t\t\t\t// The inner call to fetchData has already traversed through the remainder\n\t\t\t\t\t\t\t\t// of the source requested, so we exit from the loop\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if ( funcNotation ) {\n\t\t\t\t\t\t\t\t// Function call\n\t\t\t\t\t\t\t\ta[i] = a[i].replace(__reFn, '');\n\t\t\t\t\t\t\t\tdata = data[ a[i] ]();\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\tif (data === null || data[ a[i] ] === null) {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if ( data === undefined || data[ a[i] ] === undefined ) {\n\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tdata = data[ a[i] ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn data;\n\t\t\t\t};\n\t\t\n\t\t\t\treturn function (data, type) { // row and meta also passed, but not used\n\t\t\t\t\treturn fetchData( data, type, source );\n\t\t\t\t};\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Array or flat object mapping\n\t\t\t\treturn function (data) { // row and meta also passed, but not used\n\t\t\t\t\treturn data[source];\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\n\t\tstripHtml: function (mixed) {\n\t\t\tvar type = typeof mixed;\n\t\n\t\t\tif (type === 'function') {\n\t\t\t\t_stripHtml = mixed;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (type === 'string') {\n\t\t\t\treturn _stripHtml(mixed);\n\t\t\t}\n\t\t\treturn mixed;\n\t\t},\n\t\n\t\tescapeHtml: function (mixed) {\n\t\t\tvar type = typeof mixed;\n\t\n\t\t\tif (type === 'function') {\n\t\t\t\t_escapeHtml = mixed;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (type === 'string' || Array.isArray(mixed)) {\n\t\t\t\treturn _escapeHtml(mixed);\n\t\t\t}\n\t\t\treturn mixed;\n\t\t},\n\t\n\t\tunique: _unique\n\t};\n\t\n\t\n\t\n\t/**\n\t * Create a mapping object that allows camel case parameters to be looked up\n\t * for their Hungarian counterparts. The mapping is stored in a private\n\t * parameter called `_hungarianMap` which can be accessed on the source object.\n\t *  @param {object} o\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnHungarianMap ( o )\n\t{\n\t\tvar\n\t\t\thungarian = 'a aa ai ao as b fn i m o s ',\n\t\t\tmatch,\n\t\t\tnewKey,\n\t\t\tmap = {};\n\t\n\t\t$.each( o, function (key) {\n\t\t\tmatch = key.match(/^([^A-Z]+?)([A-Z])/);\n\t\n\t\t\tif ( match && hungarian.indexOf(match[1]+' ') !== -1 )\n\t\t\t{\n\t\t\t\tnewKey = key.replace( match[0], match[2].toLowerCase() );\n\t\t\t\tmap[ newKey ] = key;\n\t\n\t\t\t\tif ( match[1] === 'o' )\n\t\t\t\t{\n\t\t\t\t\t_fnHungarianMap( o[key] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t\n\t\to._hungarianMap = map;\n\t}\n\t\n\t\n\t/**\n\t * Convert from camel case parameters to Hungarian, based on a Hungarian map\n\t * created by _fnHungarianMap.\n\t *  @param {object} src The model object which holds all parameters that can be\n\t *    mapped.\n\t *  @param {object} user The object to convert from camel case to Hungarian.\n\t *  @param {boolean} force When set to `true`, properties which already have a\n\t *    Hungarian value in the `user` object will be overwritten. Otherwise they\n\t *    won't be.\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnCamelToHungarian ( src, user, force )\n\t{\n\t\tif ( ! src._hungarianMap ) {\n\t\t\t_fnHungarianMap( src );\n\t\t}\n\t\n\t\tvar hungarianKey;\n\t\n\t\t$.each( user, function (key) {\n\t\t\thungarianKey = src._hungarianMap[ key ];\n\t\n\t\t\tif ( hungarianKey !== undefined && (force || user[hungarianKey] === undefined) )\n\t\t\t{\n\t\t\t\t// For objects, we need to buzz down into the object to copy parameters\n\t\t\t\tif ( hungarianKey.charAt(0) === 'o' )\n\t\t\t\t{\n\t\t\t\t\t// Copy the camelCase options over to the hungarian\n\t\t\t\t\tif ( ! user[ hungarianKey ] ) {\n\t\t\t\t\t\tuser[ hungarianKey ] = {};\n\t\t\t\t\t}\n\t\t\t\t\t$.extend( true, user[hungarianKey], user[key] );\n\t\n\t\t\t\t\t_fnCamelToHungarian( src[hungarianKey], user[hungarianKey], force );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tuser[hungarianKey] = user[ key ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\t\n\t/**\n\t * Map one parameter onto another\n\t *  @param {object} o Object to map\n\t *  @param {*} knew The new parameter name\n\t *  @param {*} old The old parameter name\n\t */\n\tvar _fnCompatMap = function ( o, knew, old ) {\n\t\tif ( o[ knew ] !== undefined ) {\n\t\t\to[ old ] = o[ knew ];\n\t\t}\n\t};\n\t\n\t\n\t/**\n\t * Provide backwards compatibility for the main DT options. Note that the new\n\t * options are mapped onto the old parameters, so this is an external interface\n\t * change only.\n\t *  @param {object} init Object to map\n\t */\n\tfunction _fnCompatOpts ( init )\n\t{\n\t\t_fnCompatMap( init, 'ordering',      'bSort' );\n\t\t_fnCompatMap( init, 'orderMulti',    'bSortMulti' );\n\t\t_fnCompatMap( init, 'orderClasses',  'bSortClasses' );\n\t\t_fnCompatMap( init, 'orderCellsTop', 'bSortCellsTop' );\n\t\t_fnCompatMap( init, 'order',         'aaSorting' );\n\t\t_fnCompatMap( init, 'orderFixed',    'aaSortingFixed' );\n\t\t_fnCompatMap( init, 'paging',        'bPaginate' );\n\t\t_fnCompatMap( init, 'pagingType',    'sPaginationType' );\n\t\t_fnCompatMap( init, 'pageLength',    'iDisplayLength' );\n\t\t_fnCompatMap( init, 'searching',     'bFilter' );\n\t\n\t\t// Boolean initialisation of x-scrolling\n\t\tif ( typeof init.sScrollX === 'boolean' ) {\n\t\t\tinit.sScrollX = init.sScrollX ? '100%' : '';\n\t\t}\n\t\tif ( typeof init.scrollX === 'boolean' ) {\n\t\t\tinit.scrollX = init.scrollX ? '100%' : '';\n\t\t}\n\t\n\t\t// Column search objects are in an array, so it needs to be converted\n\t\t// element by element\n\t\tvar searchCols = init.aoSearchCols;\n\t\n\t\tif ( searchCols ) {\n\t\t\tfor ( var i=0, ien=searchCols.length ; i<ien ; i++ ) {\n\t\t\t\tif ( searchCols[i] ) {\n\t\t\t\t\t_fnCamelToHungarian( DataTable.models.oSearch, searchCols[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t// Enable search delay if server-side processing is enabled\n\t\tif (init.serverSide && ! init.searchDelay) {\n\t\t\tinit.searchDelay = 400;\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Provide backwards compatibility for column options. Note that the new options\n\t * are mapped onto the old parameters, so this is an external interface change\n\t * only.\n\t *  @param {object} init Object to map\n\t */\n\tfunction _fnCompatCols ( init )\n\t{\n\t\t_fnCompatMap( init, 'orderable',     'bSortable' );\n\t\t_fnCompatMap( init, 'orderData',     'aDataSort' );\n\t\t_fnCompatMap( init, 'orderSequence', 'asSorting' );\n\t\t_fnCompatMap( init, 'orderDataType', 'sortDataType' );\n\t\n\t\t// orderData can be given as an integer\n\t\tvar dataSort = init.aDataSort;\n\t\tif ( typeof dataSort === 'number' && ! Array.isArray( dataSort ) ) {\n\t\t\tinit.aDataSort = [ dataSort ];\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Browser feature detection for capabilities, quirks\n\t *  @param {object} settings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnBrowserDetect( settings )\n\t{\n\t\t// We don't need to do this every time DataTables is constructed, the values\n\t\t// calculated are specific to the browser and OS configuration which we\n\t\t// don't expect to change between initialisations\n\t\tif ( ! DataTable.__browser ) {\n\t\t\tvar browser = {};\n\t\t\tDataTable.__browser = browser;\n\t\n\t\t\t// Scrolling feature / quirks detection\n\t\t\tvar n = $('<div/>')\n\t\t\t\t.css( {\n\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: -1 * window.pageXOffset, // allow for scrolling\n\t\t\t\t\theight: 1,\n\t\t\t\t\twidth: 1,\n\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t} )\n\t\t\t\t.append(\n\t\t\t\t\t$('<div/>')\n\t\t\t\t\t\t.css( {\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: 1,\n\t\t\t\t\t\t\tleft: 1,\n\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\toverflow: 'scroll'\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.append(\n\t\t\t\t\t\t\t$('<div/>')\n\t\t\t\t\t\t\t\t.css( {\n\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\theight: 10\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.appendTo( 'body' );\n\t\n\t\t\tvar outer = n.children();\n\t\t\tvar inner = outer.children();\n\t\n\t\t\t// Get scrollbar width\n\t\t\tbrowser.barWidth = outer[0].offsetWidth - outer[0].clientWidth;\n\t\n\t\t\t// In rtl text layout, some browsers (most, but not all) will place the\n\t\t\t// scrollbar on the left, rather than the right.\n\t\t\tbrowser.bScrollbarLeft = Math.round( inner.offset().left ) !== 1;\n\t\n\t\t\tn.remove();\n\t\t}\n\t\n\t\t$.extend( settings.oBrowser, DataTable.__browser );\n\t\tsettings.oScroll.iBarWidth = DataTable.__browser.barWidth;\n\t}\n\t\n\t/**\n\t * Add a column to the list used for the table with default values\n\t *  @param {object} oSettings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnAddColumn( oSettings )\n\t{\n\t\t// Add column to aoColumns array\n\t\tvar oDefaults = DataTable.defaults.column;\n\t\tvar iCol = oSettings.aoColumns.length;\n\t\tvar oCol = $.extend( {}, DataTable.models.oColumn, oDefaults, {\n\t\t\t\"aDataSort\": oDefaults.aDataSort ? oDefaults.aDataSort : [iCol],\n\t\t\t\"mData\": oDefaults.mData ? oDefaults.mData : iCol,\n\t\t\tidx: iCol,\n\t\t\tsearchFixed: {},\n\t\t\tcolEl: $('<col>').attr('data-dt-column', iCol)\n\t\t} );\n\t\toSettings.aoColumns.push( oCol );\n\t\n\t\t// Add search object for column specific search. Note that the `searchCols[ iCol ]`\n\t\t// passed into extend can be undefined. This allows the user to give a default\n\t\t// with only some of the parameters defined, and also not give a default\n\t\tvar searchCols = oSettings.aoPreSearchCols;\n\t\tsearchCols[ iCol ] = $.extend( {}, DataTable.models.oSearch, searchCols[ iCol ] );\n\t}\n\t\n\t\n\t/**\n\t * Apply options for a column\n\t *  @param {object} oSettings dataTables settings object\n\t *  @param {int} iCol column index to consider\n\t *  @param {object} oOptions object with sType, bVisible and bSearchable etc\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnColumnOptions( oSettings, iCol, oOptions )\n\t{\n\t\tvar oCol = oSettings.aoColumns[ iCol ];\n\t\n\t\t/* User specified column options */\n\t\tif ( oOptions !== undefined && oOptions !== null )\n\t\t{\n\t\t\t// Backwards compatibility\n\t\t\t_fnCompatCols( oOptions );\n\t\n\t\t\t// Map camel case parameters to their Hungarian counterparts\n\t\t\t_fnCamelToHungarian( DataTable.defaults.column, oOptions, true );\n\t\n\t\t\t/* Backwards compatibility for mDataProp */\n\t\t\tif ( oOptions.mDataProp !== undefined && !oOptions.mData )\n\t\t\t{\n\t\t\t\toOptions.mData = oOptions.mDataProp;\n\t\t\t}\n\t\n\t\t\tif ( oOptions.sType )\n\t\t\t{\n\t\t\t\toCol._sManualType = oOptions.sType;\n\t\t\t}\n\t\t\n\t\t\t// `class` is a reserved word in Javascript, so we need to provide\n\t\t\t// the ability to use a valid name for the camel case input\n\t\t\tif ( oOptions.className && ! oOptions.sClass )\n\t\t\t{\n\t\t\t\toOptions.sClass = oOptions.className;\n\t\t\t}\n\t\n\t\t\tvar origClass = oCol.sClass;\n\t\n\t\t\t$.extend( oCol, oOptions );\n\t\t\t_fnMap( oCol, oOptions, \"sWidth\", \"sWidthOrig\" );\n\t\n\t\t\t// Merge class from previously defined classes with this one, rather than just\n\t\t\t// overwriting it in the extend above\n\t\t\tif (origClass !== oCol.sClass) {\n\t\t\t\toCol.sClass = origClass + ' ' + oCol.sClass;\n\t\t\t}\n\t\n\t\t\t/* iDataSort to be applied (backwards compatibility), but aDataSort will take\n\t\t\t * priority if defined\n\t\t\t */\n\t\t\tif ( oOptions.iDataSort !== undefined )\n\t\t\t{\n\t\t\t\toCol.aDataSort = [ oOptions.iDataSort ];\n\t\t\t}\n\t\t\t_fnMap( oCol, oOptions, \"aDataSort\" );\n\t\t}\n\t\n\t\t/* Cache the data get and set functions for speed */\n\t\tvar mDataSrc = oCol.mData;\n\t\tvar mData = _fnGetObjectDataFn( mDataSrc );\n\t\n\t\t// The `render` option can be given as an array to access the helper rendering methods.\n\t\t// The first element is the rendering method to use, the rest are the parameters to pass\n\t\tif ( oCol.mRender && Array.isArray( oCol.mRender ) ) {\n\t\t\tvar copy = oCol.mRender.slice();\n\t\t\tvar name = copy.shift();\n\t\n\t\t\toCol.mRender = DataTable.render[name].apply(window, copy);\n\t\t}\n\t\n\t\toCol._render = oCol.mRender ? _fnGetObjectDataFn( oCol.mRender ) : null;\n\t\n\t\tvar attrTest = function( src ) {\n\t\t\treturn typeof src === 'string' && src.indexOf('@') !== -1;\n\t\t};\n\t\toCol._bAttrSrc = $.isPlainObject( mDataSrc ) && (\n\t\t\tattrTest(mDataSrc.sort) || attrTest(mDataSrc.type) || attrTest(mDataSrc.filter)\n\t\t);\n\t\toCol._setter = null;\n\t\n\t\toCol.fnGetData = function (rowData, type, meta) {\n\t\t\tvar innerData = mData( rowData, type, undefined, meta );\n\t\n\t\t\treturn oCol._render && type ?\n\t\t\t\toCol._render( innerData, type, rowData, meta ) :\n\t\t\t\tinnerData;\n\t\t};\n\t\toCol.fnSetData = function ( rowData, val, meta ) {\n\t\t\treturn _fnSetObjectDataFn( mDataSrc )( rowData, val, meta );\n\t\t};\n\t\n\t\t// Indicate if DataTables should read DOM data as an object or array\n\t\t// Used in _fnGetRowElements\n\t\tif ( typeof mDataSrc !== 'number' && ! oCol._isArrayHost ) {\n\t\t\toSettings._rowReadObject = true;\n\t\t}\n\t\n\t\t/* Feature sorting overrides column specific when off */\n\t\tif ( !oSettings.oFeatures.bSort )\n\t\t{\n\t\t\toCol.bSortable = false;\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Adjust the table column widths for new data. Note: you would probably want to\n\t * do a redraw after calling this function!\n\t *  @param {object} settings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnAdjustColumnSizing ( settings )\n\t{\n\t\t_fnCalculateColumnWidths( settings );\n\t\t_fnColumnSizes( settings );\n\t\n\t\tvar scroll = settings.oScroll;\n\t\tif ( scroll.sY !== '' || scroll.sX !== '') {\n\t\t\t_fnScrollDraw( settings );\n\t\t}\n\t\n\t\t_fnCallbackFire( settings, null, 'column-sizing', [settings] );\n\t}\n\t\n\t/**\n\t * Apply column sizes\n\t *\n\t * @param {*} settings DataTables settings object\n\t */\n\tfunction _fnColumnSizes ( settings )\n\t{\n\t\tvar cols = settings.aoColumns;\n\t\n\t\tfor (var i=0 ; i<cols.length ; i++) {\n\t\t\tvar width = _fnColumnsSumWidth(settings, [i], false, false);\n\t\n\t\t\tcols[i].colEl.css('width', width);\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Convert the index of a visible column to the index in the data array (take account\n\t * of hidden columns)\n\t *  @param {object} oSettings dataTables settings object\n\t *  @param {int} iMatch Visible column index to lookup\n\t *  @returns {int} i the data index\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnVisibleToColumnIndex( oSettings, iMatch )\n\t{\n\t\tvar aiVis = _fnGetColumns( oSettings, 'bVisible' );\n\t\n\t\treturn typeof aiVis[iMatch] === 'number' ?\n\t\t\taiVis[iMatch] :\n\t\t\tnull;\n\t}\n\t\n\t\n\t/**\n\t * Convert the index of an index in the data array and convert it to the visible\n\t *   column index (take account of hidden columns)\n\t *  @param {int} iMatch Column index to lookup\n\t *  @param {object} oSettings dataTables settings object\n\t *  @returns {int} i the data index\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnColumnIndexToVisible( oSettings, iMatch )\n\t{\n\t\tvar aiVis = _fnGetColumns( oSettings, 'bVisible' );\n\t\tvar iPos = aiVis.indexOf(iMatch);\n\t\n\t\treturn iPos !== -1 ? iPos : null;\n\t}\n\t\n\t\n\t/**\n\t * Get the number of visible columns\n\t *  @param {object} oSettings dataTables settings object\n\t *  @returns {int} i the number of visible columns\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnVisbleColumns( settings )\n\t{\n\t\tvar layout = settings.aoHeader;\n\t\tvar columns = settings.aoColumns;\n\t\tvar vis = 0;\n\t\n\t\tif ( layout.length ) {\n\t\t\tfor ( var i=0, ien=layout[0].length ; i<ien ; i++ ) {\n\t\t\t\tif ( columns[i].bVisible && $(layout[0][i].cell).css('display') !== 'none' ) {\n\t\t\t\t\tvis++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn vis;\n\t}\n\t\n\t\n\t/**\n\t * Get an array of column indexes that match a given property\n\t *  @param {object} oSettings dataTables settings object\n\t *  @param {string} sParam Parameter in aoColumns to look for - typically\n\t *    bVisible or bSearchable\n\t *  @returns {array} Array of indexes with matched properties\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnGetColumns( oSettings, sParam )\n\t{\n\t\tvar a = [];\n\t\n\t\toSettings.aoColumns.map( function(val, i) {\n\t\t\tif ( val[sParam] ) {\n\t\t\t\ta.push( i );\n\t\t\t}\n\t\t} );\n\t\n\t\treturn a;\n\t}\n\t\n\t\n\t/**\n\t * Calculate the 'type' of a column\n\t *  @param {object} settings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnColumnTypes ( settings )\n\t{\n\t\tvar columns = settings.aoColumns;\n\t\tvar data = settings.aoData;\n\t\tvar types = DataTable.ext.type.detect;\n\t\tvar i, ien, j, jen, k, ken;\n\t\tvar col, detectedType, cache;\n\t\n\t\t// For each column, spin over the \n\t\tfor ( i=0, ien=columns.length ; i<ien ; i++ ) {\n\t\t\tcol = columns[i];\n\t\t\tcache = [];\n\t\n\t\t\tif ( ! col.sType && col._sManualType ) {\n\t\t\t\tcol.sType = col._sManualType;\n\t\t\t}\n\t\t\telse if ( ! col.sType ) {\n\t\t\t\tfor ( j=0, jen=types.length ; j<jen ; j++ ) {\n\t\t\t\t\tfor ( k=0, ken=data.length ; k<ken ; k++ ) {\n\t\n\t\t\t\t\t\tif (! data[k]) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Use a cache array so we only need to get the type data\n\t\t\t\t\t\t// from the formatter once (when using multiple detectors)\n\t\t\t\t\t\tif ( cache[k] === undefined ) {\n\t\t\t\t\t\t\tcache[k] = _fnGetCellData( settings, k, i, 'type' );\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tdetectedType = types[j]( cache[k], settings );\n\t\n\t\t\t\t\t\t// If null, then this type can't apply to this column, so\n\t\t\t\t\t\t// rather than testing all cells, break out. There is an\n\t\t\t\t\t\t// exception for the last type which is `html`. We need to\n\t\t\t\t\t\t// scan all rows since it is possible to mix string and HTML\n\t\t\t\t\t\t// types\n\t\t\t\t\t\tif ( ! detectedType && j !== types.length-2 ) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Only a single match is needed for html type since it is\n\t\t\t\t\t\t// bottom of the pile and very similar to string - but it\n\t\t\t\t\t\t// must not be empty\n\t\t\t\t\t\tif ( detectedType === 'html' && ! _empty(cache[k]) ) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Type is valid for all data points in the column - use this\n\t\t\t\t\t// type\n\t\t\t\t\tif ( detectedType ) {\n\t\t\t\t\t\tcol.sType = detectedType;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t// Fall back - if no type was detected, always use string\n\t\t\t\tif ( ! col.sType ) {\n\t\t\t\t\tcol.sType = 'string';\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// Set class names for header / footer for auto type classes\n\t\t\tvar autoClass = _ext.type.className[col.sType];\n\t\n\t\t\tif (autoClass) {\n\t\t\t\t_columnAutoClass(settings.aoHeader, i, autoClass);\n\t\t\t\t_columnAutoClass(settings.aoFooter, i, autoClass);\n\t\t\t}\n\t\n\t\t\tvar renderer = _ext.type.render[col.sType];\n\t\n\t\t\t// This can only happen once! There is no way to remover\n\t\t\t// a renderer. After the first time the renderer has\n\t\t\t// already been set so createTr will run the renderer itself.\n\t\t\tif (renderer && ! col._render) {\n\t\t\t\tcol._render = DataTable.util.get(renderer);\n\t\n\t\t\t\t_columnAutoRender(settings, i);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/**\n\t * Apply an auto detected renderer to data which doesn't yet have\n\t * a renderer\n\t */\n\tfunction _columnAutoRender(settings, colIdx) {\n\t\tvar data = settings.aoData;\n\t\n\t\tfor (var i=0 ; i<data.length ; i++) {\n\t\t\tif (data[i].nTr) {\n\t\t\t\t// We have to update the display here since there is no\n\t\t\t\t// invalidation check for the data\n\t\t\t\tvar display = _fnGetCellData( settings, i, colIdx, 'display' );\n\t\n\t\t\t\tdata[i].displayData[colIdx] = display;\n\t\t\t\t_fnWriteCell(data[i].anCells[colIdx], display);\n\t\n\t\t\t\t// No need to update sort / filter data since it has\n\t\t\t\t// been invalidated and will be re-read with the\n\t\t\t\t// renderer now applied\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/**\n\t * Apply a class name to a column's header cells\n\t */\n\tfunction _columnAutoClass(container, colIdx, className) {\n\t\tcontainer.forEach(function (row) {\n\t\t\tif (row[colIdx] && row[colIdx].unique) {\n\t\t\t\t_addClass(row[colIdx].cell, className);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t/**\n\t * Take the column definitions and static columns arrays and calculate how\n\t * they relate to column indexes. The callback function will then apply the\n\t * definition found for a column to a suitable configuration object.\n\t *  @param {object} oSettings dataTables settings object\n\t *  @param {array} aoColDefs The aoColumnDefs array that is to be applied\n\t *  @param {array} aoCols The aoColumns array that defines columns individually\n\t *  @param {array} headerLayout Layout for header as it was loaded\n\t *  @param {function} fn Callback function - takes two parameters, the calculated\n\t *    column index and the definition for that column.\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnApplyColumnDefs( oSettings, aoColDefs, aoCols, headerLayout, fn )\n\t{\n\t\tvar i, iLen, j, jLen, k, kLen, def;\n\t\tvar columns = oSettings.aoColumns;\n\t\n\t\tif ( aoCols ) {\n\t\t\tfor ( i=0, iLen=aoCols.length ; i<iLen ; i++ ) {\n\t\t\t\tif (aoCols[i] && aoCols[i].name) {\n\t\t\t\t\tcolumns[i].sName = aoCols[i].name;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t// Column definitions with aTargets\n\t\tif ( aoColDefs )\n\t\t{\n\t\t\t/* Loop over the definitions array - loop in reverse so first instance has priority */\n\t\t\tfor ( i=aoColDefs.length-1 ; i>=0 ; i-- )\n\t\t\t{\n\t\t\t\tdef = aoColDefs[i];\n\t\n\t\t\t\t/* Each definition can target multiple columns, as it is an array */\n\t\t\t\tvar aTargets = def.target !== undefined\n\t\t\t\t\t? def.target\n\t\t\t\t\t: def.targets !== undefined\n\t\t\t\t\t\t? def.targets\n\t\t\t\t\t\t: def.aTargets;\n\t\n\t\t\t\tif ( ! Array.isArray( aTargets ) )\n\t\t\t\t{\n\t\t\t\t\taTargets = [ aTargets ];\n\t\t\t\t}\n\t\n\t\t\t\tfor ( j=0, jLen=aTargets.length ; j<jLen ; j++ )\n\t\t\t\t{\n\t\t\t\t\tvar target = aTargets[j];\n\t\n\t\t\t\t\tif ( typeof target === 'number' && target >= 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Add columns that we don't yet know about */\n\t\t\t\t\t\twhile( columns.length <= target )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_fnAddColumn( oSettings );\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t/* Integer, basic index */\n\t\t\t\t\t\tfn( target, def );\n\t\t\t\t\t}\n\t\t\t\t\telse if ( typeof target === 'number' && target < 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Negative integer, right to left column counting */\n\t\t\t\t\t\tfn( columns.length+target, def );\n\t\t\t\t\t}\n\t\t\t\t\telse if ( typeof target === 'string' )\n\t\t\t\t\t{\n\t\t\t\t\t\tfor ( k=0, kLen=columns.length ; k<kLen ; k++ ) {\n\t\t\t\t\t\t\tif (target === '_all') {\n\t\t\t\t\t\t\t\t// Apply to all columns\n\t\t\t\t\t\t\t\tfn( k, def );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (target.indexOf(':name') !== -1) {\n\t\t\t\t\t\t\t\t// Column selector\n\t\t\t\t\t\t\t\tif (columns[k].sName === target.replace(':name', '')) {\n\t\t\t\t\t\t\t\t\tfn( k, def );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t// Cell selector\n\t\t\t\t\t\t\t\theaderLayout.forEach(function (row) {\n\t\t\t\t\t\t\t\t\tif (row[k]) {\n\t\t\t\t\t\t\t\t\t\tvar cell = $(row[k].cell);\n\t\n\t\t\t\t\t\t\t\t\t\t// Legacy support. Note that it means that we don't support\n\t\t\t\t\t\t\t\t\t\t// an element name selector only, since they are treated as\n\t\t\t\t\t\t\t\t\t\t// class names for 1.x compat.\n\t\t\t\t\t\t\t\t\t\tif (target.match(/^[a-z][\\w-]*$/i)) {\n\t\t\t\t\t\t\t\t\t\t\ttarget = '.' + target;\n\t\t\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t\t\tif (cell.is( target )) {\n\t\t\t\t\t\t\t\t\t\t\tfn( k, def );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t// Statically defined columns array\n\t\tif ( aoCols ) {\n\t\t\tfor ( i=0, iLen=aoCols.length ; i<iLen ; i++ ) {\n\t\t\t\tfn( i, aoCols[i] );\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Get the width for a given set of columns\n\t *\n\t * @param {*} settings DataTables settings object\n\t * @param {*} targets Columns - comma separated string or array of numbers\n\t * @param {*} original Use the original width (true) or calculated (false)\n\t * @param {*} incVisible Include visible columns (true) or not (false)\n\t * @returns Combined CSS value\n\t */\n\tfunction _fnColumnsSumWidth( settings, targets, original, incVisible ) {\n\t\tif ( ! Array.isArray( targets ) ) {\n\t\t\ttargets = _fnColumnsFromHeader( targets );\n\t\t}\n\t\n\t\tvar sum = 0;\n\t\tvar unit;\n\t\tvar columns = settings.aoColumns;\n\t\t\n\t\tfor ( var i=0, ien=targets.length ; i<ien ; i++ ) {\n\t\t\tvar column = columns[ targets[i] ];\n\t\t\tvar definedWidth = original ?\n\t\t\t\tcolumn.sWidthOrig :\n\t\t\t\tcolumn.sWidth;\n\t\n\t\t\tif ( ! incVisible && column.bVisible === false ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\tif ( definedWidth === null || definedWidth === undefined ) {\n\t\t\t\treturn null; // can't determine a defined width - browser defined\n\t\t\t}\n\t\t\telse if ( typeof definedWidth === 'number' ) {\n\t\t\t\tunit = 'px';\n\t\t\t\tsum += definedWidth;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar matched = definedWidth.match(/([\\d\\.]+)([^\\d]*)/);\n\t\n\t\t\t\tif ( matched ) {\n\t\t\t\t\tsum += matched[1] * 1;\n\t\t\t\t\tunit = matched.length === 3 ?\n\t\t\t\t\t\tmatched[2] :\n\t\t\t\t\t\t'px';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn sum + unit;\n\t}\n\t\n\tfunction _fnColumnsFromHeader( cell )\n\t{\n\t\tvar attr = $(cell).closest('[data-dt-column]').attr('data-dt-column');\n\t\n\t\tif ( ! attr ) {\n\t\t\treturn [];\n\t\t}\n\t\n\t\treturn attr.split(',').map( function (val) {\n\t\t\treturn val * 1;\n\t\t} );\n\t}\n\t/**\n\t * Add a data array to the table, creating DOM node etc. This is the parallel to\n\t * _fnGatherData, but for adding rows from a Javascript source, rather than a\n\t * DOM source.\n\t *  @param {object} settings dataTables settings object\n\t *  @param {array} data data array to be added\n\t *  @param {node} [tr] TR element to add to the table - optional. If not given,\n\t *    DataTables will create a row automatically\n\t *  @param {array} [tds] Array of TD|TH elements for the row - must be given\n\t *    if nTr is.\n\t *  @returns {int} >=0 if successful (index of new aoData entry), -1 if failed\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnAddData ( settings, dataIn, tr, tds )\n\t{\n\t\t/* Create the object for storing information about this new row */\n\t\tvar rowIdx = settings.aoData.length;\n\t\tvar rowModel = $.extend( true, {}, DataTable.models.oRow, {\n\t\t\tsrc: tr ? 'dom' : 'data',\n\t\t\tidx: rowIdx\n\t\t} );\n\t\n\t\trowModel._aData = dataIn;\n\t\tsettings.aoData.push( rowModel );\n\t\n\t\tvar columns = settings.aoColumns;\n\t\n\t\tfor ( var i=0, iLen=columns.length ; i<iLen ; i++ )\n\t\t{\n\t\t\t// Invalidate the column types as the new data needs to be revalidated\n\t\t\tcolumns[i].sType = null;\n\t\t}\n\t\n\t\t/* Add to the display array */\n\t\tsettings.aiDisplayMaster.push( rowIdx );\n\t\n\t\tvar id = settings.rowIdFn( dataIn );\n\t\tif ( id !== undefined ) {\n\t\t\tsettings.aIds[ id ] = rowModel;\n\t\t}\n\t\n\t\t/* Create the DOM information, or register it if already present */\n\t\tif ( tr || ! settings.oFeatures.bDeferRender )\n\t\t{\n\t\t\t_fnCreateTr( settings, rowIdx, tr, tds );\n\t\t}\n\t\n\t\treturn rowIdx;\n\t}\n\t\n\t\n\t/**\n\t * Add one or more TR elements to the table. Generally we'd expect to\n\t * use this for reading data from a DOM sourced table, but it could be\n\t * used for an TR element. Note that if a TR is given, it is used (i.e.\n\t * it is not cloned).\n\t *  @param {object} settings dataTables settings object\n\t *  @param {array|node|jQuery} trs The TR element(s) to add to the table\n\t *  @returns {array} Array of indexes for the added rows\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnAddTr( settings, trs )\n\t{\n\t\tvar row;\n\t\n\t\t// Allow an individual node to be passed in\n\t\tif ( ! (trs instanceof $) ) {\n\t\t\ttrs = $(trs);\n\t\t}\n\t\n\t\treturn trs.map( function (i, el) {\n\t\t\trow = _fnGetRowElements( settings, el );\n\t\t\treturn _fnAddData( settings, row.data, el, row.cells );\n\t\t} );\n\t}\n\t\n\t\n\t/**\n\t * Get the data for a given cell from the internal cache, taking into account data mapping\n\t *  @param {object} settings dataTables settings object\n\t *  @param {int} rowIdx aoData row id\n\t *  @param {int} colIdx Column index\n\t *  @param {string} type data get type ('display', 'type' 'filter|search' 'sort|order')\n\t *  @returns {*} Cell data\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnGetCellData( settings, rowIdx, colIdx, type )\n\t{\n\t\tif (type === 'search') {\n\t\t\ttype = 'filter';\n\t\t}\n\t\telse if (type === 'order') {\n\t\t\ttype = 'sort';\n\t\t}\n\t\n\t\tvar row = settings.aoData[rowIdx];\n\t\n\t\tif (! row) {\n\t\t\treturn undefined;\n\t\t}\n\t\n\t\tvar draw           = settings.iDraw;\n\t\tvar col            = settings.aoColumns[colIdx];\n\t\tvar rowData        = row._aData;\n\t\tvar defaultContent = col.sDefaultContent;\n\t\tvar cellData       = col.fnGetData( rowData, type, {\n\t\t\tsettings: settings,\n\t\t\trow:      rowIdx,\n\t\t\tcol:      colIdx\n\t\t} );\n\t\n\t\t// Allow for a node being returned for non-display types\n\t\tif (type !== 'display' && cellData && typeof cellData === 'object' && cellData.nodeName) {\n\t\t\tcellData = cellData.innerHTML;\n\t\t}\n\t\n\t\tif ( cellData === undefined ) {\n\t\t\tif ( settings.iDrawError != draw && defaultContent === null ) {\n\t\t\t\t_fnLog( settings, 0, \"Requested unknown parameter \"+\n\t\t\t\t\t(typeof col.mData=='function' ? '{function}' : \"'\"+col.mData+\"'\")+\n\t\t\t\t\t\" for row \"+rowIdx+\", column \"+colIdx, 4 );\n\t\t\t\tsettings.iDrawError = draw;\n\t\t\t}\n\t\t\treturn defaultContent;\n\t\t}\n\t\n\t\t// When the data source is null and a specific data type is requested (i.e.\n\t\t// not the original data), we can use default column data\n\t\tif ( (cellData === rowData || cellData === null) && defaultContent !== null && type !== undefined ) {\n\t\t\tcellData = defaultContent;\n\t\t}\n\t\telse if ( typeof cellData === 'function' ) {\n\t\t\t// If the data source is a function, then we run it and use the return,\n\t\t\t// executing in the scope of the data object (for instances)\n\t\t\treturn cellData.call( rowData );\n\t\t}\n\t\n\t\tif ( cellData === null && type === 'display' ) {\n\t\t\treturn '';\n\t\t}\n\t\n\t\tif ( type === 'filter' ) {\n\t\t\tvar fomatters = DataTable.ext.type.search;\n\t\n\t\t\tif ( fomatters[ col.sType ] ) {\n\t\t\t\tcellData = fomatters[ col.sType ]( cellData );\n\t\t\t}\n\t\t}\n\t\n\t\treturn cellData;\n\t}\n\t\n\t\n\t/**\n\t * Set the value for a specific cell, into the internal data cache\n\t *  @param {object} settings dataTables settings object\n\t *  @param {int} rowIdx aoData row id\n\t *  @param {int} colIdx Column index\n\t *  @param {*} val Value to set\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnSetCellData( settings, rowIdx, colIdx, val )\n\t{\n\t\tvar col     = settings.aoColumns[colIdx];\n\t\tvar rowData = settings.aoData[rowIdx]._aData;\n\t\n\t\tcol.fnSetData( rowData, val, {\n\t\t\tsettings: settings,\n\t\t\trow:      rowIdx,\n\t\t\tcol:      colIdx\n\t\t}  );\n\t}\n\t\n\t/**\n\t * Write a value to a cell\n\t * @param {*} td Cell\n\t * @param {*} val Value\n\t */\n\tfunction _fnWriteCell(td, val)\n\t{\n\t\tif (val && typeof val === 'object' && val.nodeName) {\n\t\t\t$(td)\n\t\t\t\t.empty()\n\t\t\t\t.append(val);\n\t\t}\n\t\telse {\n\t\t\ttd.innerHTML = val;\n\t\t}\n\t}\n\t\n\t\n\t// Private variable that is used to match action syntax in the data property object\n\tvar __reArray = /\\[.*?\\]$/;\n\tvar __reFn = /\\(\\)$/;\n\t\n\t/**\n\t * Split string on periods, taking into account escaped periods\n\t * @param  {string} str String to split\n\t * @return {array} Split string\n\t */\n\tfunction _fnSplitObjNotation( str )\n\t{\n\t\tvar parts = str.match(/(\\\\.|[^.])+/g) || [''];\n\t\n\t\treturn parts.map( function ( s ) {\n\t\t\treturn s.replace(/\\\\\\./g, '.');\n\t\t} );\n\t}\n\t\n\t\n\t/**\n\t * Return a function that can be used to get data from a source object, taking\n\t * into account the ability to use nested objects as a source\n\t *  @param {string|int|function} mSource The data source for the object\n\t *  @returns {function} Data get function\n\t *  @memberof DataTable#oApi\n\t */\n\tvar _fnGetObjectDataFn = DataTable.util.get;\n\t\n\t\n\t/**\n\t * Return a function that can be used to set data from a source object, taking\n\t * into account the ability to use nested objects as a source\n\t *  @param {string|int|function} mSource The data source for the object\n\t *  @returns {function} Data set function\n\t *  @memberof DataTable#oApi\n\t */\n\tvar _fnSetObjectDataFn = DataTable.util.set;\n\t\n\t\n\t/**\n\t * Return an array with the full table data\n\t *  @param {object} oSettings dataTables settings object\n\t *  @returns array {array} aData Master data array\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnGetDataMaster ( settings )\n\t{\n\t\treturn _pluck( settings.aoData, '_aData' );\n\t}\n\t\n\t\n\t/**\n\t * Nuke the table\n\t *  @param {object} oSettings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnClearTable( settings )\n\t{\n\t\tsettings.aoData.length = 0;\n\t\tsettings.aiDisplayMaster.length = 0;\n\t\tsettings.aiDisplay.length = 0;\n\t\tsettings.aIds = {};\n\t}\n\t\n\t\n\t/**\n\t * Mark cached data as invalid such that a re-read of the data will occur when\n\t * the cached data is next requested. Also update from the data source object.\n\t *\n\t * @param {object} settings DataTables settings object\n\t * @param {int}    rowIdx   Row index to invalidate\n\t * @param {string} [src]    Source to invalidate from: undefined, 'auto', 'dom'\n\t *     or 'data'\n\t * @param {int}    [colIdx] Column index to invalidate. If undefined the whole\n\t *     row will be invalidated\n\t * @memberof DataTable#oApi\n\t *\n\t * @todo For the modularisation of v1.11 this will need to become a callback, so\n\t *   the sort and filter methods can subscribe to it. That will required\n\t *   initialisation options for sorting, which is why it is not already baked in\n\t */\n\tfunction _fnInvalidate( settings, rowIdx, src, colIdx )\n\t{\n\t\tvar row = settings.aoData[ rowIdx ];\n\t\tvar i, ien;\n\t\n\t\t// Remove the cached data for the row\n\t\trow._aSortData = null;\n\t\trow._aFilterData = null;\n\t\trow.displayData = null;\n\t\n\t\t// Are we reading last data from DOM or the data object?\n\t\tif ( src === 'dom' || ((! src || src === 'auto') && row.src === 'dom') ) {\n\t\t\t// Read the data from the DOM\n\t\t\trow._aData = _fnGetRowElements(\n\t\t\t\t\tsettings, row, colIdx, colIdx === undefined ? undefined : row._aData\n\t\t\t\t)\n\t\t\t\t.data;\n\t\t}\n\t\telse {\n\t\t\t// Reading from data object, update the DOM\n\t\t\tvar cells = row.anCells;\n\t\t\tvar display = _fnGetRowDisplay(settings, rowIdx);\n\t\n\t\t\tif ( cells ) {\n\t\t\t\tif ( colIdx !== undefined ) {\n\t\t\t\t\t_fnWriteCell(cells[colIdx], display[colIdx]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfor ( i=0, ien=cells.length ; i<ien ; i++ ) {\n\t\t\t\t\t\t_fnWriteCell(cells[i], display[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t// Column specific invalidation\n\t\tvar cols = settings.aoColumns;\n\t\tif ( colIdx !== undefined ) {\n\t\t\t// Type - the data might have changed\n\t\t\tcols[ colIdx ].sType = null;\n\t\n\t\t\t// Max length string. Its a fairly cheep recalculation, so not worth\n\t\t\t// something more complicated\n\t\t\tcols[ colIdx ].maxLenString = null;\n\t\t}\n\t\telse {\n\t\t\tfor ( i=0, ien=cols.length ; i<ien ; i++ ) {\n\t\t\t\tcols[i].sType = null;\n\t\t\t\tcols[i].maxLenString = null;\n\t\t\t}\n\t\n\t\t\t// Update DataTables special `DT_*` attributes for the row\n\t\t\t_fnRowAttributes( settings, row );\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Build a data source object from an HTML row, reading the contents of the\n\t * cells that are in the row.\n\t *\n\t * @param {object} settings DataTables settings object\n\t * @param {node|object} TR element from which to read data or existing row\n\t *   object from which to re-read the data from the cells\n\t * @param {int} [colIdx] Optional column index\n\t * @param {array|object} [d] Data source object. If `colIdx` is given then this\n\t *   parameter should also be given and will be used to write the data into.\n\t *   Only the column in question will be written\n\t * @returns {object} Object with two parameters: `data` the data read, in\n\t *   document order, and `cells` and array of nodes (they can be useful to the\n\t *   caller, so rather than needing a second traversal to get them, just return\n\t *   them from here).\n\t * @memberof DataTable#oApi\n\t */\n\tfunction _fnGetRowElements( settings, row, colIdx, d )\n\t{\n\t\tvar\n\t\t\ttds = [],\n\t\t\ttd = row.firstChild,\n\t\t\tname, col, i=0, contents,\n\t\t\tcolumns = settings.aoColumns,\n\t\t\tobjectRead = settings._rowReadObject;\n\t\n\t\t// Allow the data object to be passed in, or construct\n\t\td = d !== undefined ?\n\t\t\td :\n\t\t\tobjectRead ?\n\t\t\t\t{} :\n\t\t\t\t[];\n\t\n\t\tvar attr = function ( str, td  ) {\n\t\t\tif ( typeof str === 'string' ) {\n\t\t\t\tvar idx = str.indexOf('@');\n\t\n\t\t\t\tif ( idx !== -1 ) {\n\t\t\t\t\tvar attr = str.substring( idx+1 );\n\t\t\t\t\tvar setter = _fnSetObjectDataFn( str );\n\t\t\t\t\tsetter( d, td.getAttribute( attr ) );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\t// Read data from a cell and store into the data object\n\t\tvar cellProcess = function ( cell ) {\n\t\t\tif ( colIdx === undefined || colIdx === i ) {\n\t\t\t\tcol = columns[i];\n\t\t\t\tcontents = (cell.innerHTML).trim();\n\t\n\t\t\t\tif ( col && col._bAttrSrc ) {\n\t\t\t\t\tvar setter = _fnSetObjectDataFn( col.mData._ );\n\t\t\t\t\tsetter( d, contents );\n\t\n\t\t\t\t\tattr( col.mData.sort, cell );\n\t\t\t\t\tattr( col.mData.type, cell );\n\t\t\t\t\tattr( col.mData.filter, cell );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Depending on the `data` option for the columns the data can\n\t\t\t\t\t// be read to either an object or an array.\n\t\t\t\t\tif ( objectRead ) {\n\t\t\t\t\t\tif ( ! col._setter ) {\n\t\t\t\t\t\t\t// Cache the setter function\n\t\t\t\t\t\t\tcol._setter = _fnSetObjectDataFn( col.mData );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcol._setter( d, contents );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\td[i] = contents;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\ti++;\n\t\t};\n\t\n\t\tif ( td ) {\n\t\t\t// `tr` element was passed in\n\t\t\twhile ( td ) {\n\t\t\t\tname = td.nodeName.toUpperCase();\n\t\n\t\t\t\tif ( name == \"TD\" || name == \"TH\" ) {\n\t\t\t\t\tcellProcess( td );\n\t\t\t\t\ttds.push( td );\n\t\t\t\t}\n\t\n\t\t\t\ttd = td.nextSibling;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// Existing row object passed in\n\t\t\ttds = row.anCells;\n\t\n\t\t\tfor ( var j=0, jen=tds.length ; j<jen ; j++ ) {\n\t\t\t\tcellProcess( tds[j] );\n\t\t\t}\n\t\t}\n\t\n\t\t// Read the ID from the DOM if present\n\t\tvar rowNode = row.firstChild ? row : row.nTr;\n\t\n\t\tif ( rowNode ) {\n\t\t\tvar id = rowNode.getAttribute( 'id' );\n\t\n\t\t\tif ( id ) {\n\t\t\t\t_fnSetObjectDataFn( settings.rowId )( d, id );\n\t\t\t}\n\t\t}\n\t\n\t\treturn {\n\t\t\tdata: d,\n\t\t\tcells: tds\n\t\t};\n\t}\n\t\n\t/**\n\t * Render and cache a row's display data for the columns, if required\n\t * @returns \n\t */\n\tfunction _fnGetRowDisplay (settings, rowIdx) {\n\t\tlet rowModal = settings.aoData[rowIdx];\n\t\tlet columns = settings.aoColumns;\n\t\n\t\tif (! rowModal.displayData) {\n\t\t\t// Need to render and cache\n\t\t\trowModal.displayData = [];\n\t\t\n\t\t\tfor ( var colIdx=0, len=columns.length ; colIdx<len ; colIdx++ ) {\n\t\t\t\trowModal.displayData.push(\n\t\t\t\t\t_fnGetCellData( settings, rowIdx, colIdx, 'display' )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\n\t\treturn rowModal.displayData;\n\t}\n\t\n\t/**\n\t * Create a new TR element (and it's TD children) for a row\n\t *  @param {object} oSettings dataTables settings object\n\t *  @param {int} iRow Row to consider\n\t *  @param {node} [nTrIn] TR element to add to the table - optional. If not given,\n\t *    DataTables will create a row automatically\n\t *  @param {array} [anTds] Array of TD|TH elements for the row - must be given\n\t *    if nTr is.\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnCreateTr ( oSettings, iRow, nTrIn, anTds )\n\t{\n\t\tvar\n\t\t\trow = oSettings.aoData[iRow],\n\t\t\trowData = row._aData,\n\t\t\tcells = [],\n\t\t\tnTr, nTd, oCol,\n\t\t\ti, iLen, create,\n\t\t\ttrClass = oSettings.oClasses.tbody.row;\n\t\n\t\tif ( row.nTr === null )\n\t\t{\n\t\t\tnTr = nTrIn || document.createElement('tr');\n\t\n\t\t\trow.nTr = nTr;\n\t\t\trow.anCells = cells;\n\t\n\t\t\t_addClass(nTr, trClass);\n\t\n\t\t\t/* Use a private property on the node to allow reserve mapping from the node\n\t\t\t * to the aoData array for fast look up\n\t\t\t */\n\t\t\tnTr._DT_RowIndex = iRow;\n\t\n\t\t\t/* Special parameters can be given by the data source to be used on the row */\n\t\t\t_fnRowAttributes( oSettings, row );\n\t\n\t\t\t/* Process each column */\n\t\t\tfor ( i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\n\t\t\t{\n\t\t\t\toCol = oSettings.aoColumns[i];\n\t\t\t\tcreate = nTrIn && anTds[i] ? false : true;\n\t\n\t\t\t\tnTd = create ? document.createElement( oCol.sCellType ) : anTds[i];\n\t\n\t\t\t\tif (! nTd) {\n\t\t\t\t\t_fnLog( oSettings, 0, 'Incorrect column count', 18 );\n\t\t\t\t}\n\t\n\t\t\t\tnTd._DT_CellIndex = {\n\t\t\t\t\trow: iRow,\n\t\t\t\t\tcolumn: i\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tcells.push( nTd );\n\t\t\t\t\n\t\t\t\tvar display = _fnGetRowDisplay(oSettings, iRow);\n\t\n\t\t\t\t// Need to create the HTML if new, or if a rendering function is defined\n\t\t\t\tif (\n\t\t\t\t\tcreate ||\n\t\t\t\t\t(\n\t\t\t\t\t\t(oCol.mRender || oCol.mData !== i) &&\n\t\t\t\t\t\t(!$.isPlainObject(oCol.mData) || oCol.mData._ !== i+'.display')\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\t_fnWriteCell(nTd, display[i]);\n\t\t\t\t}\n\t\n\t\t\t\t// Visibility - add or remove as required\n\t\t\t\tif ( oCol.bVisible && create )\n\t\t\t\t{\n\t\t\t\t\tnTr.appendChild( nTd );\n\t\t\t\t}\n\t\t\t\telse if ( ! oCol.bVisible && ! create )\n\t\t\t\t{\n\t\t\t\t\tnTd.parentNode.removeChild( nTd );\n\t\t\t\t}\n\t\n\t\t\t\tif ( oCol.fnCreatedCell )\n\t\t\t\t{\n\t\t\t\t\toCol.fnCreatedCell.call( oSettings.oInstance,\n\t\t\t\t\t\tnTd, _fnGetCellData( oSettings, iRow, i ), rowData, iRow, i\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t_fnCallbackFire( oSettings, 'aoRowCreatedCallback', 'row-created', [nTr, rowData, iRow, cells] );\n\t\t}\n\t\telse {\n\t\t\t_addClass(row.nTr, trClass);\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Add attributes to a row based on the special `DT_*` parameters in a data\n\t * source object.\n\t *  @param {object} settings DataTables settings object\n\t *  @param {object} DataTables row object for the row to be modified\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnRowAttributes( settings, row )\n\t{\n\t\tvar tr = row.nTr;\n\t\tvar data = row._aData;\n\t\n\t\tif ( tr ) {\n\t\t\tvar id = settings.rowIdFn( data );\n\t\n\t\t\tif ( id ) {\n\t\t\t\ttr.id = id;\n\t\t\t}\n\t\n\t\t\tif ( data.DT_RowClass ) {\n\t\t\t\t// Remove any classes added by DT_RowClass before\n\t\t\t\tvar a = data.DT_RowClass.split(' ');\n\t\t\t\trow.__rowc = row.__rowc ?\n\t\t\t\t\t_unique( row.__rowc.concat( a ) ) :\n\t\t\t\t\ta;\n\t\n\t\t\t\t$(tr)\n\t\t\t\t\t.removeClass( row.__rowc.join(' ') )\n\t\t\t\t\t.addClass( data.DT_RowClass );\n\t\t\t}\n\t\n\t\t\tif ( data.DT_RowAttr ) {\n\t\t\t\t$(tr).attr( data.DT_RowAttr );\n\t\t\t}\n\t\n\t\t\tif ( data.DT_RowData ) {\n\t\t\t\t$(tr).data( data.DT_RowData );\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Create the HTML header for the table\n\t *  @param {object} oSettings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnBuildHead( settings, side )\n\t{\n\t\tvar classes = settings.oClasses;\n\t\tvar columns = settings.aoColumns;\n\t\tvar i, ien, row;\n\t\tvar target = side === 'header'\n\t\t\t? settings.nTHead\n\t\t\t: settings.nTFoot;\n\t\tvar titleProp = side === 'header' ? 'sTitle' : side;\n\t\n\t\t// Footer might be defined\n\t\tif (! target) {\n\t\t\treturn;\n\t\t}\n\t\n\t\t// If no cells yet and we have content for them, then create\n\t\tif (side === 'header' || _pluck(settings.aoColumns, titleProp).join('')) {\n\t\t\trow = $('tr', target);\n\t\n\t\t\t// Add a row if needed\n\t\t\tif (! row.length) {\n\t\t\t\trow = $('<tr/>').appendTo(target)\n\t\t\t}\n\t\n\t\t\t// Add the number of cells needed to make up to the number of columns\n\t\t\tif (row.length === 1) {\n\t\t\t\tvar cells = $('td, th', row);\n\t\n\t\t\t\tfor ( i=cells.length, ien=columns.length ; i<ien ; i++ ) {\n\t\t\t\t\t$('<th/>')\n\t\t\t\t\t\t.html( columns[i][titleProp] || '' )\n\t\t\t\t\t\t.appendTo( row );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tvar detected = _fnDetectHeader( settings, target, true );\n\t\n\t\tif (side === 'header') {\n\t\t\tsettings.aoHeader = detected;\n\t\t}\n\t\telse {\n\t\t\tsettings.aoFooter = detected;\n\t\t}\n\t\n\t\t// ARIA role for the rows\n\t\t$(target).children('tr').attr('role', 'row');\n\t\n\t\t// Every cell needs to be passed through the renderer\n\t\t$(target).children('tr').children('th, td')\n\t\t\t.each( function () {\n\t\t\t\t_fnRenderer( settings, side )(\n\t\t\t\t\tsettings, $(this), classes\n\t\t\t\t);\n\t\t\t} );\n\t}\n\t\n\t/**\n\t * Build a layout structure for a header or footer\n\t *\n\t * @param {*} settings DataTables settings\n\t * @param {*} source Source layout array\n\t * @param {*} incColumns What columns should be included\n\t * @returns Layout array\n\t */\n\tfunction _fnHeaderLayout( settings, source, incColumns )\n\t{\n\t\tvar row, column, cell;\n\t\tvar local = [];\n\t\tvar structure = [];\n\t\tvar columns = settings.aoColumns;\n\t\tvar columnCount = columns.length;\n\t\tvar rowspan, colspan;\n\t\n\t\tif ( ! source ) {\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Default is to work on only visible columns\n\t\tif ( ! incColumns ) {\n\t\t\tincColumns = _range(columnCount)\n\t\t\t\t.filter(function (idx) {\n\t\t\t\t\treturn columns[idx].bVisible;\n\t\t\t\t});\n\t\t}\n\t\n\t\t// Make a copy of the master layout array, but with only the columns we want\n\t\tfor ( row=0 ; row<source.length ; row++ ) {\n\t\t\t// Remove any columns we haven't selected\n\t\t\tlocal[row] = source[row].slice().filter(function (cell, i) {\n\t\t\t\treturn incColumns.includes(i);\n\t\t\t});\n\t\n\t\t\t// Prep the structure array - it needs an element for each row\n\t\t\tstructure.push( [] );\n\t\t}\n\t\n\t\tfor ( row=0 ; row<local.length ; row++ ) {\n\t\t\tfor ( column=0 ; column<local[row].length ; column++ ) {\n\t\t\t\trowspan = 1;\n\t\t\t\tcolspan = 1;\n\t\n\t\t\t\t// Check to see if there is already a cell (row/colspan) covering our target\n\t\t\t\t// insert point. If there is, then there is nothing to do.\n\t\t\t\tif ( structure[row][column] === undefined ) {\n\t\t\t\t\tcell = local[row][column].cell;\n\t\n\t\t\t\t\t// Expand for rowspan\n\t\t\t\t\twhile (\n\t\t\t\t\t\tlocal[row+rowspan] !== undefined &&\n\t\t\t\t\t\tlocal[row][column].cell == local[row+rowspan][column].cell\n\t\t\t\t\t) {\n\t\t\t\t\t\tstructure[row+rowspan][column] = null;\n\t\t\t\t\t\trowspan++;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// And for colspan\n\t\t\t\t\twhile (\n\t\t\t\t\t\tlocal[row][column+colspan] !== undefined &&\n\t\t\t\t\t\tlocal[row][column].cell == local[row][column+colspan].cell\n\t\t\t\t\t) {\n\t\t\t\t\t\t// Which also needs to go over rows\n\t\t\t\t\t\tfor ( var k=0 ; k<rowspan ; k++ ) {\n\t\t\t\t\t\t\tstructure[row+k][column+colspan] = null;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tcolspan++;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar titleSpan = $('span.dt-column-title', cell);\n\t\n\t\t\t\t\tstructure[row][column] = {\n\t\t\t\t\t\tcell: cell,\n\t\t\t\t\t\tcolspan: colspan,\n\t\t\t\t\t\trowspan: rowspan,\n\t\t\t\t\t\ttitle: titleSpan.length\n\t\t\t\t\t\t\t? titleSpan.html()\n\t\t\t\t\t\t\t: $(cell).html()\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn structure;\n\t}\n\t\n\t\n\t/**\n\t * Draw the header (or footer) element based on the column visibility states.\n\t *\n\t *  @param object oSettings dataTables settings object\n\t *  @param array aoSource Layout array from _fnDetectHeader\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnDrawHead( settings, source )\n\t{\n\t\tvar layout = _fnHeaderLayout(settings, source);\n\t\tvar tr, n;\n\t\n\t\tfor ( var row=0 ; row<source.length ; row++ ) {\n\t\t\ttr = source[row].row;\n\t\n\t\t\t// All cells are going to be replaced, so empty out the row\n\t\t\t// Can't use $().empty() as that kills event handlers\n\t\t\tif (tr) {\n\t\t\t\twhile( (n = tr.firstChild) ) {\n\t\t\t\t\ttr.removeChild( n );\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfor ( var column=0 ; column<layout[row].length ; column++ ) {\n\t\t\t\tvar point = layout[row][column];\n\t\n\t\t\t\tif (point) {\n\t\t\t\t\t$(point.cell)\n\t\t\t\t\t\t.appendTo(tr)\n\t\t\t\t\t\t.attr('rowspan', point.rowspan)\n\t\t\t\t\t\t.attr('colspan', point.colspan);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Insert the required TR nodes into the table for display\n\t *  @param {object} oSettings dataTables settings object\n\t *  @param ajaxComplete true after ajax call to complete rendering\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnDraw( oSettings, ajaxComplete )\n\t{\n\t\t// Allow for state saving and a custom start position\n\t\t_fnStart( oSettings );\n\t\n\t\t/* Provide a pre-callback function which can be used to cancel the draw is false is returned */\n\t\tvar aPreDraw = _fnCallbackFire( oSettings, 'aoPreDrawCallback', 'preDraw', [oSettings] );\n\t\tif ( aPreDraw.indexOf(false) !== -1 )\n\t\t{\n\t\t\t_fnProcessingDisplay( oSettings, false );\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar anRows = [];\n\t\tvar iRowCount = 0;\n\t\tvar bServerSide = _fnDataSource( oSettings ) == 'ssp';\n\t\tvar aiDisplay = oSettings.aiDisplay;\n\t\tvar iDisplayStart = oSettings._iDisplayStart;\n\t\tvar iDisplayEnd = oSettings.fnDisplayEnd();\n\t\tvar columns = oSettings.aoColumns;\n\t\tvar body = $(oSettings.nTBody);\n\t\n\t\toSettings.bDrawing = true;\n\t\n\t\t/* Server-side processing draw intercept */\n\t\tif ( !bServerSide )\n\t\t{\n\t\t\toSettings.iDraw++;\n\t\t}\n\t\telse if ( !oSettings.bDestroying && !ajaxComplete)\n\t\t{\n\t\t\t// Show loading message for server-side processing\n\t\t\tif (oSettings.iDraw === 0) {\n\t\t\t\tbody.empty().append(_emptyRow(oSettings));\n\t\t\t}\n\t\n\t\t\t_fnAjaxUpdate( oSettings );\n\t\t\treturn;\n\t\t}\n\t\n\t\tif ( aiDisplay.length !== 0 )\n\t\t{\n\t\t\tvar iStart = bServerSide ? 0 : iDisplayStart;\n\t\t\tvar iEnd = bServerSide ? oSettings.aoData.length : iDisplayEnd;\n\t\n\t\t\tfor ( var j=iStart ; j<iEnd ; j++ )\n\t\t\t{\n\t\t\t\tvar iDataIndex = aiDisplay[j];\n\t\t\t\tvar aoData = oSettings.aoData[ iDataIndex ];\n\t\t\t\tif ( aoData.nTr === null )\n\t\t\t\t{\n\t\t\t\t\t_fnCreateTr( oSettings, iDataIndex );\n\t\t\t\t}\n\t\n\t\t\t\tvar nRow = aoData.nTr;\n\t\n\t\t\t\t// Add various classes as needed\n\t\t\t\tfor (var i=0 ; i<columns.length ; i++) {\n\t\t\t\t\tvar col = columns[i];\n\t\t\t\t\tvar td = aoData.anCells[i];\n\t\n\t\t\t\t\t_addClass(td, _ext.type.className[col.sType]); // auto class\n\t\t\t\t\t_addClass(td, col.sClass); // column class\n\t\t\t\t\t_addClass(td, oSettings.oClasses.tbody.cell); // all cells\n\t\t\t\t}\n\t\n\t\t\t\t// Row callback functions - might want to manipulate the row\n\t\t\t\t// iRowCount and j are not currently documented. Are they at all\n\t\t\t\t// useful?\n\t\t\t\t_fnCallbackFire( oSettings, 'aoRowCallback', null,\n\t\t\t\t\t[nRow, aoData._aData, iRowCount, j, iDataIndex] );\n\t\n\t\t\t\tanRows.push( nRow );\n\t\t\t\tiRowCount++;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tanRows[ 0 ] = _emptyRow(oSettings);\n\t\t}\n\t\n\t\t/* Header and footer callbacks */\n\t\t_fnCallbackFire( oSettings, 'aoHeaderCallback', 'header', [ $(oSettings.nTHead).children('tr')[0],\n\t\t\t_fnGetDataMaster( oSettings ), iDisplayStart, iDisplayEnd, aiDisplay ] );\n\t\n\t\t_fnCallbackFire( oSettings, 'aoFooterCallback', 'footer', [ $(oSettings.nTFoot).children('tr')[0],\n\t\t\t_fnGetDataMaster( oSettings ), iDisplayStart, iDisplayEnd, aiDisplay ] );\n\t\n\t\t// replaceChildren is faster, but only became widespread in 2020,\n\t\t// so a fall back in jQuery is provided for older browsers.\n\t\tif (body[0].replaceChildren) {\n\t\t\tbody[0].replaceChildren.apply(body[0], anRows);\n\t\t}\n\t\telse {\n\t\t\tbody.children().detach();\n\t\t\tbody.append( $(anRows) );\n\t\t}\n\t\n\t\t// Empty table needs a specific class\n\t\t$(oSettings.nTableWrapper).toggleClass('dt-empty-footer', $('tr', oSettings.nTFoot).length === 0);\n\t\n\t\t/* Call all required callback functions for the end of a draw */\n\t\t_fnCallbackFire( oSettings, 'aoDrawCallback', 'draw', [oSettings], true );\n\t\n\t\t/* Draw is complete, sorting and filtering must be as well */\n\t\toSettings.bSorted = false;\n\t\toSettings.bFiltered = false;\n\t\toSettings.bDrawing = false;\n\t}\n\t\n\t\n\t/**\n\t * Redraw the table - taking account of the various features which are enabled\n\t *  @param {object} oSettings dataTables settings object\n\t *  @param {boolean} [holdPosition] Keep the current paging position. By default\n\t *    the paging is reset to the first page\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnReDraw( settings, holdPosition, recompute )\n\t{\n\t\tvar\n\t\t\tfeatures = settings.oFeatures,\n\t\t\tsort     = features.bSort,\n\t\t\tfilter   = features.bFilter;\n\t\n\t\tif (recompute === undefined || recompute === true) {\n\t\t\tif ( sort ) {\n\t\t\t\t_fnSort( settings );\n\t\t\t}\n\t\n\t\t\tif ( filter ) {\n\t\t\t\t_fnFilterComplete( settings, settings.oPreviousSearch );\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// No filtering, so we want to just use the display master\n\t\t\t\tsettings.aiDisplay = settings.aiDisplayMaster.slice();\n\t\t\t}\n\t\t}\n\t\n\t\tif ( holdPosition !== true ) {\n\t\t\tsettings._iDisplayStart = 0;\n\t\t}\n\t\n\t\t// Let any modules know about the draw hold position state (used by\n\t\t// scrolling internally)\n\t\tsettings._drawHold = holdPosition;\n\t\n\t\t_fnDraw( settings );\n\t\n\t\tsettings._drawHold = false;\n\t}\n\t\n\t\n\t/*\n\t * Table is empty - create a row with an empty message in it\n\t */\n\tfunction _emptyRow ( settings ) {\n\t\tvar oLang = settings.oLanguage;\n\t\tvar zero = oLang.sZeroRecords;\n\t\tvar dataSrc = _fnDataSource( settings );\n\t\n\t\tif (\n\t\t\t(settings.iDraw < 1 && dataSrc === 'ssp') ||\n\t\t\t(settings.iDraw <= 1 && dataSrc === 'ajax')\n\t\t) {\n\t\t\tzero = oLang.sLoadingRecords;\n\t\t}\n\t\telse if ( oLang.sEmptyTable && settings.fnRecordsTotal() === 0 )\n\t\t{\n\t\t\tzero = oLang.sEmptyTable;\n\t\t}\n\t\n\t\treturn $( '<tr/>' )\n\t\t\t.append( $('<td />', {\n\t\t\t\t'colSpan': _fnVisbleColumns( settings ),\n\t\t\t\t'class':   settings.oClasses.empty.row\n\t\t\t} ).html( zero ) )[0];\n\t}\n\t\n\t\n\t/**\n\t * Convert a `layout` object given by a user to the object structure needed\n\t * for the renderer. This is done twice, once for above and once for below\n\t * the table. Ordering must also be considered.\n\t *\n\t * @param {*} settings DataTables settings object\n\t * @param {*} layout Layout object to convert\n\t * @param {string} side `top` or `bottom`\n\t * @returns Converted array structure - one item for each row.\n\t */\n\tfunction _layoutArray ( settings, layout, side )\n\t{\n\t\tvar groups = {};\n\t\n\t\t// Combine into like groups (e.g. `top`, `top2`, etc)\n\t\t$.each( layout, function ( pos, val ) {\n\t\t\tif (val === null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tvar splitPos = pos.replace(/([A-Z])/g, ' $1').split(' ');\n\t\n\t\t\tif ( ! groups[ splitPos[0] ] ) {\n\t\t\t\tgroups[ splitPos[0] ] = {};\n\t\t\t}\n\t\n\t\t\tvar align = splitPos.length === 1 ?\n\t\t\t\t'full' :\n\t\t\t\tsplitPos[1].toLowerCase();\n\t\t\tvar group = groups[ splitPos[0] ];\n\t\t\tvar groupRun = function (contents, innerVal) {\n\t\t\t\t// If it is an object, then there can be multiple features contained in it\n\t\t\t\tif ( $.isPlainObject( innerVal ) ) {\n\t\t\t\t\tObject.keys(innerVal).map(function (key) {\n\t\t\t\t\t\tcontents.push( {\n\t\t\t\t\t\t\tfeature: key,\n\t\t\t\t\t\t\topts: innerVal[key]\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcontents.push(innerVal);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// Transform to an object with a contents property\n\t\t\tif (! group[align] || ! group[align].contents) {\n\t\t\t\tgroup[align] = { contents: [] };\n\t\t\t}\n\t\n\t\t\t// Allow for an array or just a single object\n\t\t\tif ( Array.isArray(val)) {\n\t\t\t\tfor (var i=0 ; i<val.length ; i++) {\n\t\t\t\t\tgroupRun(group[align].contents, val[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgroupRun(group[ align ].contents, val);\n\t\t\t}\n\t\n\t\t\t// And make contents an array\n\t\t\tif ( ! Array.isArray( group[ align ].contents ) ) {\n\t\t\t\tgroup[ align ].contents = [ group[ align ].contents ];\n\t\t\t}\n\t\t} );\n\t\n\t\tvar filtered = Object.keys(groups)\n\t\t\t.map( function ( pos ) {\n\t\t\t\t// Filter to only the side we need\n\t\t\t\tif ( pos.indexOf(side) !== 0 ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\n\t\t\t\treturn {\n\t\t\t\t\tname: pos,\n\t\t\t\t\tval: groups[pos]\n\t\t\t\t};\n\t\t\t} )\n\t\t\t.filter( function (item) {\n\t\t\t\treturn item !== null;\n\t\t\t});\n\t\n\t\t// Order by item identifier\n\t\tfiltered.sort( function ( a, b ) {\n\t\t\tvar order1 = a.name.replace(/[^0-9]/g, '') * 1;\n\t\t\tvar order2 = b.name.replace(/[^0-9]/g, '') * 1;\n\t\n\t\t\treturn order2 - order1;\n\t\t} );\n\t\t\n\t\tif ( side === 'bottom' ) {\n\t\t\tfiltered.reverse();\n\t\t}\n\t\n\t\t// Split into rows\n\t\tvar rows = [];\n\t\tfor ( var i=0, ien=filtered.length ; i<ien ; i++ ) {\n\t\t\tif (  filtered[i].val.full ) {\n\t\t\t\trows.push( { full: filtered[i].val.full } );\n\t\t\t\t_layoutResolve( settings, rows[ rows.length - 1 ] );\n\t\n\t\t\t\tdelete filtered[i].val.full;\n\t\t\t}\n\t\n\t\t\tif ( Object.keys(filtered[i].val).length ) {\n\t\t\t\trows.push( filtered[i].val );\n\t\t\t\t_layoutResolve( settings, rows[ rows.length - 1 ] );\n\t\t\t}\n\t\t}\n\t\n\t\treturn rows;\n\t}\n\t\n\t\n\t/**\n\t * Convert the contents of a row's layout object to nodes that can be inserted\n\t * into the document by a renderer. Execute functions, look up plug-ins, etc.\n\t *\n\t * @param {*} settings DataTables settings object\n\t * @param {*} row Layout object for this row\n\t */\n\tfunction _layoutResolve( settings, row ) {\n\t\tvar getFeature = function (feature, opts) {\n\t\t\tif ( ! _ext.features[ feature ] ) {\n\t\t\t\t_fnLog( settings, 0, 'Unknown feature: '+ feature );\n\t\t\t}\n\t\n\t\t\treturn _ext.features[ feature ].apply( this, [settings, opts] );\n\t\t};\n\t\n\t\tvar resolve = function ( item ) {\n\t\t\tvar line = row[ item ].contents;\n\t\n\t\t\tfor ( var i=0, ien=line.length ; i<ien ; i++ ) {\n\t\t\t\tif ( ! line[i] ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\telse if ( typeof line[i] === 'string' ) {\n\t\t\t\t\tline[i] = getFeature( line[i], null );\n\t\t\t\t}\n\t\t\t\telse if ( $.isPlainObject(line[i]) ) {\n\t\t\t\t\t// If it's an object, it just has feature and opts properties from\n\t\t\t\t\t// the transform in _layoutArray\n\t\t\t\t\tline[i] = getFeature(line[i].feature, line[i].opts);\n\t\t\t\t}\n\t\t\t\telse if ( typeof line[i].node === 'function' ) {\n\t\t\t\t\tline[i] = line[i].node( settings );\n\t\t\t\t}\n\t\t\t\telse if ( typeof line[i] === 'function' ) {\n\t\t\t\t\tvar inst = line[i]( settings );\n\t\n\t\t\t\t\tline[i] = typeof inst.node === 'function' ?\n\t\t\t\t\t\tinst.node() :\n\t\t\t\t\t\tinst;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\t$.each( row, function ( key ) {\n\t\t\tresolve( key );\n\t\t} );\n\t}\n\t\n\t\n\t/**\n\t * Add the options to the page HTML for the table\n\t *  @param {object} settings DataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnAddOptionsHtml ( settings )\n\t{\n\t\tvar classes = settings.oClasses;\n\t\tvar table = $(settings.nTable);\n\t\n\t\t// Wrapper div around everything DataTables controls\n\t\tvar insert = $('<div/>')\n\t\t\t.attr({\n\t\t\t\tid:      settings.sTableId+'_wrapper',\n\t\t\t\t'class': classes.container\n\t\t\t})\n\t\t\t.insertBefore(table);\n\t\n\t\tsettings.nTableWrapper = insert[0];\n\t\n\t\tif (settings.sDom) {\n\t\t\t// Legacy\n\t\t\t_fnLayoutDom(settings, settings.sDom, insert);\n\t\t}\n\t\telse {\n\t\t\tvar top = _layoutArray( settings, settings.layout, 'top' );\n\t\t\tvar bottom = _layoutArray( settings, settings.layout, 'bottom' );\n\t\t\tvar renderer = _fnRenderer( settings, 'layout' );\n\t\t\n\t\t\t// Everything above - the renderer will actually insert the contents into the document\n\t\t\ttop.forEach(function (item) {\n\t\t\t\trenderer( settings, insert, item );\n\t\t\t});\n\t\n\t\t\t// The table - always the center of attention\n\t\t\trenderer( settings, insert, {\n\t\t\t\tfull: {\n\t\t\t\t\ttable: true,\n\t\t\t\t\tcontents: [ _fnFeatureHtmlTable(settings) ]\n\t\t\t\t}\n\t\t\t} );\n\t\n\t\t\t// Everything below\n\t\t\tbottom.forEach(function (item) {\n\t\t\t\trenderer( settings, insert, item );\n\t\t\t});\n\t\t}\n\t\n\t\t// Processing floats on top, so it isn't an inserted feature\n\t\t_processingHtml( settings );\n\t}\n\t\n\t/**\n\t * Draw the table with the legacy DOM property\n\t * @param {*} settings DT settings object\n\t * @param {*} dom DOM string\n\t * @param {*} insert Insert point\n\t */\n\tfunction _fnLayoutDom( settings, dom, insert )\n\t{\n\t\tvar parts = dom.match(/(\".*?\")|('.*?')|./g);\n\t\tvar featureNode, option, newNode, next, attr;\n\t\n\t\tfor ( var i=0 ; i<parts.length ; i++ ) {\n\t\t\tfeatureNode = null;\n\t\t\toption = parts[i];\n\t\n\t\t\tif ( option == '<' ) {\n\t\t\t\t// New container div\n\t\t\t\tnewNode = $('<div/>');\n\t\n\t\t\t\t// Check to see if we should append an id and/or a class name to the container\n\t\t\t\tnext = parts[i+1];\n\t\n\t\t\t\tif ( next[0] == \"'\" || next[0] == '\"' ) {\n\t\t\t\t\tattr = next.replace(/['\"]/g, '');\n\t\n\t\t\t\t\tvar id = '', className;\n\t\n\t\t\t\t\t/* The attribute can be in the format of \"#id.class\", \"#id\" or \"class\" This logic\n\t\t\t\t\t * breaks the string into parts and applies them as needed\n\t\t\t\t\t */\n\t\t\t\t\tif ( attr.indexOf('.') != -1 ) {\n\t\t\t\t\t\tvar split = attr.split('.');\n\t\n\t\t\t\t\t\tid = split[0];\n\t\t\t\t\t\tclassName = split[1];\n\t\t\t\t\t}\n\t\t\t\t\telse if ( attr[0] == \"#\" ) {\n\t\t\t\t\t\tid = attr;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tclassName = attr;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tnewNode\n\t\t\t\t\t\t.attr('id', id.substring(1))\n\t\t\t\t\t\t.addClass(className);\n\t\n\t\t\t\t\ti++; // Move along the position array\n\t\t\t\t}\n\t\n\t\t\t\tinsert.append( newNode );\n\t\t\t\tinsert = newNode;\n\t\t\t}\n\t\t\telse if ( option == '>' ) {\n\t\t\t\t// End container div\n\t\t\t\tinsert = insert.parent();\n\t\t\t}\n\t\t\telse if ( option == 't' ) {\n\t\t\t\t// Table\n\t\t\t\tfeatureNode = _fnFeatureHtmlTable( settings );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tDataTable.ext.feature.forEach(function(feature) {\n\t\t\t\t\tif ( option == feature.cFeature ) {\n\t\t\t\t\t\tfeatureNode = feature.fnInit( settings );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// Add to the display\n\t\t\tif ( featureNode ) {\n\t\t\t\tinsert.append( featureNode );\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Use the DOM source to create up an array of header cells. The idea here is to\n\t * create a layout grid (array) of rows x columns, which contains a reference\n\t * to the cell that that point in the grid (regardless of col/rowspan), such that\n\t * any column / row could be removed and the new grid constructed\n\t *  @param {node} thead The header/footer element for the table\n\t *  @returns {array} Calculated layout array\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnDetectHeader ( settings, thead, write )\n\t{\n\t\tvar columns = settings.aoColumns;\n\t\tvar rows = $(thead).children('tr');\n\t\tvar row, cell;\n\t\tvar i, k, l, iLen, shifted, column, colspan, rowspan;\n\t\tvar isHeader = thead && thead.nodeName.toLowerCase() === 'thead';\n\t\tvar layout = [];\n\t\tvar unique;\n\t\tvar shift = function ( a, i, j ) {\n\t\t\tvar k = a[i];\n\t\t\twhile ( k[j] ) {\n\t\t\t\tj++;\n\t\t\t}\n\t\t\treturn j;\n\t\t};\n\t\n\t\t// We know how many rows there are in the layout - so prep it\n\t\tfor ( i=0, iLen=rows.length ; i<iLen ; i++ ) {\n\t\t\tlayout.push( [] );\n\t\t}\n\t\n\t\tfor ( i=0, iLen=rows.length ; i<iLen ; i++ ) {\n\t\t\trow = rows[i];\n\t\t\tcolumn = 0;\n\t\n\t\t\t// For every cell in the row..\n\t\t\tcell = row.firstChild;\n\t\t\twhile ( cell ) {\n\t\t\t\tif (\n\t\t\t\t\tcell.nodeName.toUpperCase() == 'TD' ||\n\t\t\t\t\tcell.nodeName.toUpperCase() == 'TH'\n\t\t\t\t) {\n\t\t\t\t\tvar cols = [];\n\t\n\t\t\t\t\t// Get the col and rowspan attributes from the DOM and sanitise them\n\t\t\t\t\tcolspan = cell.getAttribute('colspan') * 1;\n\t\t\t\t\trowspan = cell.getAttribute('rowspan') * 1;\n\t\t\t\t\tcolspan = (!colspan || colspan===0 || colspan===1) ? 1 : colspan;\n\t\t\t\t\trowspan = (!rowspan || rowspan===0 || rowspan===1) ? 1 : rowspan;\n\t\n\t\t\t\t\t// There might be colspan cells already in this row, so shift our target\n\t\t\t\t\t// accordingly\n\t\t\t\t\tshifted = shift( layout, i, column );\n\t\n\t\t\t\t\t// Cache calculation for unique columns\n\t\t\t\t\tunique = colspan === 1 ?\n\t\t\t\t\t\ttrue :\n\t\t\t\t\t\tfalse;\n\t\t\t\t\t\n\t\t\t\t\t// Perform header setup\n\t\t\t\t\tif ( write ) {\n\t\t\t\t\t\tif (unique) {\n\t\t\t\t\t\t\t// Allow column options to be set from HTML attributes\n\t\t\t\t\t\t\t_fnColumnOptions( settings, shifted, $(cell).data() );\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Get the width for the column. This can be defined from the\n\t\t\t\t\t\t\t// width attribute, style attribute or `columns.width` option\n\t\t\t\t\t\t\tvar columnDef = columns[shifted];\n\t\t\t\t\t\t\tvar width = cell.getAttribute('width') || null;\n\t\t\t\t\t\t\tvar t = cell.style.width.match(/width:\\s*(\\d+[pxem%]+)/);\n\t\t\t\t\t\t\tif ( t ) {\n\t\t\t\t\t\t\t\twidth = t[1];\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tcolumnDef.sWidthOrig = columnDef.sWidth || width;\n\t\n\t\t\t\t\t\t\tif (isHeader) {\n\t\t\t\t\t\t\t\t// Column title handling - can be user set, or read from the DOM\n\t\t\t\t\t\t\t\t// This happens before the render, so the original is still in place\n\t\t\t\t\t\t\t\tif ( columnDef.sTitle !== null && ! columnDef.autoTitle ) {\n\t\t\t\t\t\t\t\t\tcell.innerHTML = columnDef.sTitle;\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\tif (! columnDef.sTitle && unique) {\n\t\t\t\t\t\t\t\t\tcolumnDef.sTitle = _stripHtml(cell.innerHTML);\n\t\t\t\t\t\t\t\t\tcolumnDef.autoTitle = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t// Footer specific operations\n\t\t\t\t\t\t\t\tif (columnDef.footer) {\n\t\t\t\t\t\t\t\t\tcell.innerHTML = columnDef.footer;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t// Fall back to the aria-label attribute on the table header if no ariaTitle is\n\t\t\t\t\t\t\t// provided.\n\t\t\t\t\t\t\tif (! columnDef.ariaTitle) {\n\t\t\t\t\t\t\t\tcolumnDef.ariaTitle = $(cell).attr(\"aria-label\") || columnDef.sTitle;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t// Column specific class names\n\t\t\t\t\t\t\tif ( columnDef.className ) {\n\t\t\t\t\t\t\t\t$(cell).addClass( columnDef.className );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Wrap the column title so we can write to it in future\n\t\t\t\t\t\tif ( $('span.dt-column-title', cell).length === 0) {\n\t\t\t\t\t\t\t$('<span>')\n\t\t\t\t\t\t\t\t.addClass('dt-column-title')\n\t\t\t\t\t\t\t\t.append(cell.childNodes)\n\t\t\t\t\t\t\t\t.appendTo(cell);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif ( isHeader && $('span.dt-column-order', cell).length === 0) {\n\t\t\t\t\t\t\t$('<span>')\n\t\t\t\t\t\t\t\t.addClass('dt-column-order')\n\t\t\t\t\t\t\t\t.appendTo(cell);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// If there is col / rowspan, copy the information into the layout grid\n\t\t\t\t\tfor ( l=0 ; l<colspan ; l++ ) {\n\t\t\t\t\t\tfor ( k=0 ; k<rowspan ; k++ ) {\n\t\t\t\t\t\t\tlayout[i+k][shifted+l] = {\n\t\t\t\t\t\t\t\tcell: cell,\n\t\t\t\t\t\t\t\tunique: unique\n\t\t\t\t\t\t\t};\n\t\n\t\t\t\t\t\t\tlayout[i+k].row = row;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tcols.push( shifted+l );\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Assign an attribute so spanning cells can still be identified\n\t\t\t\t\t// as belonging to a column\n\t\t\t\t\tcell.setAttribute('data-dt-column', _unique(cols).join(','));\n\t\t\t\t}\n\t\n\t\t\t\tcell = cell.nextSibling;\n\t\t\t}\n\t\t}\n\t\n\t\treturn layout;\n\t}\n\t\n\t/**\n\t * Set the start position for draw\n\t *  @param {object} oSettings dataTables settings object\n\t */\n\tfunction _fnStart( oSettings )\n\t{\n\t\tvar bServerSide = _fnDataSource( oSettings ) == 'ssp';\n\t\tvar iInitDisplayStart = oSettings.iInitDisplayStart;\n\t\n\t\t// Check and see if we have an initial draw position from state saving\n\t\tif ( iInitDisplayStart !== undefined && iInitDisplayStart !== -1 )\n\t\t{\n\t\t\toSettings._iDisplayStart = bServerSide ?\n\t\t\t\tiInitDisplayStart :\n\t\t\t\tiInitDisplayStart >= oSettings.fnRecordsDisplay() ?\n\t\t\t\t\t0 :\n\t\t\t\t\tiInitDisplayStart;\n\t\n\t\t\toSettings.iInitDisplayStart = -1;\n\t\t}\n\t}\n\t\n\t/**\n\t * Create an Ajax call based on the table's settings, taking into account that\n\t * parameters can have multiple forms, and backwards compatibility.\n\t *\n\t * @param {object} oSettings dataTables settings object\n\t * @param {array} data Data to send to the server, required by\n\t *     DataTables - may be augmented by developer callbacks\n\t * @param {function} fn Callback function to run when data is obtained\n\t */\n\tfunction _fnBuildAjax( oSettings, data, fn )\n\t{\n\t\tvar ajaxData;\n\t\tvar ajax = oSettings.ajax;\n\t\tvar instance = oSettings.oInstance;\n\t\tvar callback = function ( json ) {\n\t\t\tvar status = oSettings.jqXHR\n\t\t\t\t? oSettings.jqXHR.status\n\t\t\t\t: null;\n\t\n\t\t\tif ( json === null || (typeof status === 'number' && status == 204 ) ) {\n\t\t\t\tjson = {};\n\t\t\t\t_fnAjaxDataSrc( oSettings, json, [] );\n\t\t\t}\n\t\n\t\t\tvar error = json.error || json.sError;\n\t\t\tif ( error ) {\n\t\t\t\t_fnLog( oSettings, 0, error );\n\t\t\t}\n\t\n\t\t\toSettings.json = json;\n\t\n\t\t\t_fnCallbackFire( oSettings, null, 'xhr', [oSettings, json, oSettings.jqXHR], true );\n\t\t\tfn( json );\n\t\t};\n\t\n\t\tif ( $.isPlainObject( ajax ) && ajax.data )\n\t\t{\n\t\t\tajaxData = ajax.data;\n\t\n\t\t\tvar newData = typeof ajaxData === 'function' ?\n\t\t\t\tajaxData( data, oSettings ) :  // fn can manipulate data or return\n\t\t\t\tajaxData;                      // an object object or array to merge\n\t\n\t\t\t// If the function returned something, use that alone\n\t\t\tdata = typeof ajaxData === 'function' && newData ?\n\t\t\t\tnewData :\n\t\t\t\t$.extend( true, data, newData );\n\t\n\t\t\t// Remove the data property as we've resolved it already and don't want\n\t\t\t// jQuery to do it again (it is restored at the end of the function)\n\t\t\tdelete ajax.data;\n\t\t}\n\t\n\t\tvar baseAjax = {\n\t\t\t\"url\": typeof ajax === 'string' ?\n\t\t\t\tajax :\n\t\t\t\t'',\n\t\t\t\"data\": data,\n\t\t\t\"success\": callback,\n\t\t\t\"dataType\": \"json\",\n\t\t\t\"cache\": false,\n\t\t\t\"type\": oSettings.sServerMethod,\n\t\t\t\"error\": function (xhr, error) {\n\t\t\t\tvar ret = _fnCallbackFire( oSettings, null, 'xhr', [oSettings, null, oSettings.jqXHR], true );\n\t\n\t\t\t\tif ( ret.indexOf(true) === -1 ) {\n\t\t\t\t\tif ( error == \"parsererror\" ) {\n\t\t\t\t\t\t_fnLog( oSettings, 0, 'Invalid JSON response', 1 );\n\t\t\t\t\t}\n\t\t\t\t\telse if ( xhr.readyState === 4 ) {\n\t\t\t\t\t\t_fnLog( oSettings, 0, 'Ajax error', 7 );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t_fnProcessingDisplay( oSettings, false );\n\t\t\t}\n\t\t};\n\t\n\t\t// If `ajax` option is an object, extend and override our default base\n\t\tif ( $.isPlainObject( ajax ) ) {\n\t\t\t$.extend( baseAjax, ajax )\n\t\t}\n\t\n\t\t// Store the data submitted for the API\n\t\toSettings.oAjaxData = data;\n\t\n\t\t// Allow plug-ins and external processes to modify the data\n\t\t_fnCallbackFire( oSettings, null, 'preXhr', [oSettings, data, baseAjax], true );\n\t\n\t\tif ( typeof ajax === 'function' )\n\t\t{\n\t\t\t// Is a function - let the caller define what needs to be done\n\t\t\toSettings.jqXHR = ajax.call( instance, data, callback, oSettings );\n\t\t}\n\t\telse if (ajax.url === '') {\n\t\t\t// No url, so don't load any data. Just apply an empty data array\n\t\t\t// to the object for the callback.\n\t\t\tvar empty = {};\n\t\n\t\t\tDataTable.util.set(ajax.dataSrc)(empty, []);\n\t\t\tcallback(empty);\n\t\t}\n\t\telse {\n\t\t\t// Object to extend the base settings\n\t\t\toSettings.jqXHR = $.ajax( baseAjax );\n\t\n\t\t\t// Restore for next time around\n\t\t\tif ( ajaxData ) {\n\t\t\t\tajax.data = ajaxData;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Update the table using an Ajax call\n\t *  @param {object} settings dataTables settings object\n\t *  @returns {boolean} Block the table drawing or not\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnAjaxUpdate( settings )\n\t{\n\t\tsettings.iDraw++;\n\t\t_fnProcessingDisplay( settings, true );\n\t\n\t\t_fnBuildAjax(\n\t\t\tsettings,\n\t\t\t_fnAjaxParameters( settings ),\n\t\t\tfunction(json) {\n\t\t\t\t_fnAjaxUpdateDraw( settings, json );\n\t\t\t}\n\t\t);\n\t}\n\t\n\t\n\t/**\n\t * Build up the parameters in an object needed for a server-side processing\n\t * request.\n\t *  @param {object} oSettings dataTables settings object\n\t *  @returns {bool} block the table drawing or not\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnAjaxParameters( settings )\n\t{\n\t\tvar\n\t\t\tcolumns = settings.aoColumns,\n\t\t\tfeatures = settings.oFeatures,\n\t\t\tpreSearch = settings.oPreviousSearch,\n\t\t\tpreColSearch = settings.aoPreSearchCols,\n\t\t\tcolData = function ( idx, prop ) {\n\t\t\t\treturn typeof columns[idx][prop] === 'function' ?\n\t\t\t\t\t'function' :\n\t\t\t\t\tcolumns[idx][prop];\n\t\t\t};\n\t\n\t\treturn {\n\t\t\tdraw: settings.iDraw,\n\t\t\tcolumns: columns.map( function ( column, i ) {\n\t\t\t\treturn {\n\t\t\t\t\tdata: colData(i, 'mData'),\n\t\t\t\t\tname: column.sName,\n\t\t\t\t\tsearchable: column.bSearchable,\n\t\t\t\t\torderable: column.bSortable,\n\t\t\t\t\tsearch: {\n\t\t\t\t\t\tvalue: preColSearch[i].search,\n\t\t\t\t\t\tregex: preColSearch[i].regex,\n\t\t\t\t\t\tfixed: Object.keys(column.searchFixed).map( function(name) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\tterm: column.searchFixed[name].toString()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} ),\n\t\t\torder: _fnSortFlatten( settings ).map( function ( val ) {\n\t\t\t\treturn {\n\t\t\t\t\tcolumn: val.col,\n\t\t\t\t\tdir: val.dir,\n\t\t\t\t\tname: colData(val.col, 'sName')\n\t\t\t\t};\n\t\t\t} ),\n\t\t\tstart: settings._iDisplayStart,\n\t\t\tlength: features.bPaginate ?\n\t\t\t\tsettings._iDisplayLength :\n\t\t\t\t-1,\n\t\t\tsearch: {\n\t\t\t\tvalue: preSearch.search,\n\t\t\t\tregex: preSearch.regex,\n\t\t\t\tfixed: Object.keys(settings.searchFixed).map( function(name) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tterm: settings.searchFixed[name].toString()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t};\n\t}\n\t\n\t\n\t/**\n\t * Data the data from the server (nuking the old) and redraw the table\n\t *  @param {object} oSettings dataTables settings object\n\t *  @param {object} json json data return from the server.\n\t *  @param {string} json.sEcho Tracking flag for DataTables to match requests\n\t *  @param {int} json.iTotalRecords Number of records in the data set, not accounting for filtering\n\t *  @param {int} json.iTotalDisplayRecords Number of records in the data set, accounting for filtering\n\t *  @param {array} json.aaData The data to display on this page\n\t *  @param {string} [json.sColumns] Column ordering (sName, comma separated)\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnAjaxUpdateDraw ( settings, json )\n\t{\n\t\tvar data = _fnAjaxDataSrc(settings, json);\n\t\tvar draw = _fnAjaxDataSrcParam(settings, 'draw', json);\n\t\tvar recordsTotal = _fnAjaxDataSrcParam(settings, 'recordsTotal', json);\n\t\tvar recordsFiltered = _fnAjaxDataSrcParam(settings, 'recordsFiltered', json);\n\t\n\t\tif ( draw !== undefined ) {\n\t\t\t// Protect against out of sequence returns\n\t\t\tif ( draw*1 < settings.iDraw ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsettings.iDraw = draw * 1;\n\t\t}\n\t\n\t\t// No data in returned object, so rather than an array, we show an empty table\n\t\tif ( ! data ) {\n\t\t\tdata = [];\n\t\t}\n\t\n\t\t_fnClearTable( settings );\n\t\tsettings._iRecordsTotal   = parseInt(recordsTotal, 10);\n\t\tsettings._iRecordsDisplay = parseInt(recordsFiltered, 10);\n\t\n\t\tfor ( var i=0, ien=data.length ; i<ien ; i++ ) {\n\t\t\t_fnAddData( settings, data[i] );\n\t\t}\n\t\tsettings.aiDisplay = settings.aiDisplayMaster.slice();\n\t\n\t\t_fnDraw( settings, true );\n\t\t_fnInitComplete( settings );\n\t\t_fnProcessingDisplay( settings, false );\n\t}\n\t\n\t\n\t/**\n\t * Get the data from the JSON data source to use for drawing a table. Using\n\t * `_fnGetObjectDataFn` allows the data to be sourced from a property of the\n\t * source object, or from a processing function.\n\t *  @param {object} settings dataTables settings object\n\t *  @param  {object} json Data source object / array from the server\n\t *  @return {array} Array of data to use\n\t */\n\tfunction _fnAjaxDataSrc ( settings, json, write )\n\t{\n\t\tvar dataProp = 'data';\n\t\n\t\tif ($.isPlainObject( settings.ajax ) && settings.ajax.dataSrc !== undefined) {\n\t\t\t// Could in inside a `dataSrc` object, or not!\n\t\t\tvar dataSrc = settings.ajax.dataSrc;\n\t\n\t\t\t// string, function and object are valid types\n\t\t\tif (typeof dataSrc === 'string' || typeof dataSrc === 'function') {\n\t\t\t\tdataProp = dataSrc;\n\t\t\t}\n\t\t\telse if (dataSrc.data !== undefined) {\n\t\t\t\tdataProp = dataSrc.data;\n\t\t\t}\n\t\t}\n\t\n\t\tif ( ! write ) {\n\t\t\tif ( dataProp === 'data' ) {\n\t\t\t\t// If the default, then we still want to support the old style, and safely ignore\n\t\t\t\t// it if possible\n\t\t\t\treturn json.aaData || json[dataProp];\n\t\t\t}\n\t\n\t\t\treturn dataProp !== \"\" ?\n\t\t\t\t_fnGetObjectDataFn( dataProp )( json ) :\n\t\t\t\tjson;\n\t\t}\n\t\t\n\t\t// set\n\t\t_fnSetObjectDataFn( dataProp )( json, write );\n\t}\n\t\n\t/**\n\t * Very similar to _fnAjaxDataSrc, but for the other SSP properties\n\t * @param {*} settings DataTables settings object\n\t * @param {*} param Target parameter\n\t * @param {*} json JSON data\n\t * @returns Resolved value\n\t */\n\tfunction _fnAjaxDataSrcParam (settings, param, json) {\n\t\tvar dataSrc = $.isPlainObject( settings.ajax )\n\t\t\t? settings.ajax.dataSrc\n\t\t\t: null;\n\t\n\t\tif (dataSrc && dataSrc[param]) {\n\t\t\t// Get from custom location\n\t\t\treturn _fnGetObjectDataFn( dataSrc[param] )( json );\n\t\t}\n\t\n\t\t// else - Default behaviour\n\t\tvar old = '';\n\t\n\t\t// Legacy support\n\t\tif (param === 'draw') {\n\t\t\told = 'sEcho';\n\t\t}\n\t\telse if (param === 'recordsTotal') {\n\t\t\told = 'iTotalRecords';\n\t\t}\n\t\telse if (param === 'recordsFiltered') {\n\t\t\told = 'iTotalDisplayRecords';\n\t\t}\n\t\n\t\treturn json[old] !== undefined\n\t\t\t? json[old]\n\t\t\t: json[param];\n\t}\n\t\n\t\n\t/**\n\t * Filter the table using both the global filter and column based filtering\n\t *  @param {object} settings dataTables settings object\n\t *  @param {object} input search information\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnFilterComplete ( settings, input )\n\t{\n\t\tvar columnsSearch = settings.aoPreSearchCols;\n\t\n\t\t// Resolve any column types that are unknown due to addition or invalidation\n\t\t// @todo As per sort - can this be moved into an event handler?\n\t\t_fnColumnTypes( settings );\n\t\n\t\t// In server-side processing all filtering is done by the server, so no point hanging around here\n\t\tif ( _fnDataSource( settings ) != 'ssp' )\n\t\t{\n\t\t\t// Check if any of the rows were invalidated\n\t\t\t_fnFilterData( settings );\n\t\n\t\t\t// Start from the full data set\n\t\t\tsettings.aiDisplay = settings.aiDisplayMaster.slice();\n\t\n\t\t\t// Global filter first\n\t\t\t_fnFilter( settings.aiDisplay, settings, input.search, input );\n\t\n\t\t\t$.each(settings.searchFixed, function (name, term) {\n\t\t\t\t_fnFilter(settings.aiDisplay, settings, term, {});\n\t\t\t});\n\t\n\t\t\t// Then individual column filters\n\t\t\tfor ( var i=0 ; i<columnsSearch.length ; i++ )\n\t\t\t{\n\t\t\t\tvar col = columnsSearch[i];\n\t\n\t\t\t\t_fnFilter(\n\t\t\t\t\tsettings.aiDisplay,\n\t\t\t\t\tsettings,\n\t\t\t\t\tcol.search,\n\t\t\t\t\tcol,\n\t\t\t\t\ti\n\t\t\t\t);\n\t\n\t\t\t\t$.each(settings.aoColumns[i].searchFixed, function (name, term) {\n\t\t\t\t\t_fnFilter(settings.aiDisplay, settings, term, {}, i);\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// And finally global filtering\n\t\t\t_fnFilterCustom( settings );\n\t\t}\n\t\n\t\t// Tell the draw function we have been filtering\n\t\tsettings.bFiltered = true;\n\t\n\t\t_fnCallbackFire( settings, null, 'search', [settings] );\n\t}\n\t\n\t\n\t/**\n\t * Apply custom filtering functions\n\t * \n\t * This is legacy now that we have named functions, but it is widely used\n\t * from 1.x, so it is not yet deprecated.\n\t *  @param {object} oSettings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnFilterCustom( settings )\n\t{\n\t\tvar filters = DataTable.ext.search;\n\t\tvar displayRows = settings.aiDisplay;\n\t\tvar row, rowIdx;\n\t\n\t\tfor ( var i=0, ien=filters.length ; i<ien ; i++ ) {\n\t\t\tvar rows = [];\n\t\n\t\t\t// Loop over each row and see if it should be included\n\t\t\tfor ( var j=0, jen=displayRows.length ; j<jen ; j++ ) {\n\t\t\t\trowIdx = displayRows[ j ];\n\t\t\t\trow = settings.aoData[ rowIdx ];\n\t\n\t\t\t\tif ( filters[i]( settings, row._aFilterData, rowIdx, row._aData, j ) ) {\n\t\t\t\t\trows.push( rowIdx );\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// So the array reference doesn't break set the results into the\n\t\t\t// existing array\n\t\t\tdisplayRows.length = 0;\n\t\t\tdisplayRows.push.apply(displayRows, rows);\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Filter the data table based on user input and draw the table\n\t */\n\tfunction _fnFilter( searchRows, settings, input, options, column )\n\t{\n\t\tif ( input === '' ) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar i = 0;\n\t\tvar matched = [];\n\t\n\t\t// Search term can be a function, regex or string - if a string we apply our\n\t\t// smart filtering regex (assuming the options require that)\n\t\tvar searchFunc = typeof input === 'function' ? input : null;\n\t\tvar rpSearch = input instanceof RegExp\n\t\t\t? input\n\t\t\t: searchFunc\n\t\t\t\t? null\n\t\t\t\t: _fnFilterCreateSearch( input, options );\n\t\n\t\t// Then for each row, does the test pass. If not, lop the row from the array\n\t\tfor (i=0 ; i<searchRows.length ; i++) {\n\t\t\tvar row = settings.aoData[ searchRows[i] ];\n\t\t\tvar data = column === undefined\n\t\t\t\t? row._sFilterRow\n\t\t\t\t: row._aFilterData[ column ];\n\t\n\t\t\tif ( (searchFunc && searchFunc(data, row._aData, searchRows[i], column)) || (rpSearch && rpSearch.test(data)) ) {\n\t\t\t\tmatched.push(searchRows[i]);\n\t\t\t}\n\t\t}\n\t\n\t\t// Mutate the searchRows array\n\t\tsearchRows.length = matched.length;\n\t\n\t\tfor (i=0 ; i<matched.length ; i++) {\n\t\t\tsearchRows[i] = matched[i];\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Build a regular expression object suitable for searching a table\n\t *  @param {string} sSearch string to search for\n\t *  @param {bool} bRegex treat as a regular expression or not\n\t *  @param {bool} bSmart perform smart filtering or not\n\t *  @param {bool} bCaseInsensitive Do case insensitive matching or not\n\t *  @returns {RegExp} constructed object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnFilterCreateSearch( search, inOpts )\n\t{\n\t\tvar not = [];\n\t\tvar options = $.extend({}, {\n\t\t\tboundary: false,\n\t\t\tcaseInsensitive: true,\n\t\t\texact: false,\n\t\t\tregex: false,\n\t\t\tsmart: true\n\t\t}, inOpts);\n\t\n\t\tif (typeof search !== 'string') {\n\t\t\tsearch = search.toString();\n\t\t}\n\t\n\t\t// Remove diacritics if normalize is set up to do so\n\t\tsearch = _normalize(search);\n\t\n\t\tif (options.exact) {\n\t\t\treturn new RegExp(\n\t\t\t\t'^'+_fnEscapeRegex(search)+'$',\n\t\t\t\toptions.caseInsensitive ? 'i' : ''\n\t\t\t);\n\t\t}\n\t\n\t\tsearch = options.regex ?\n\t\t\tsearch :\n\t\t\t_fnEscapeRegex( search );\n\t\t\n\t\tif ( options.smart ) {\n\t\t\t/* For smart filtering we want to allow the search to work regardless of\n\t\t\t * word order. We also want double quoted text to be preserved, so word\n\t\t\t * order is important - a la google. And a negative look around for\n\t\t\t * finding rows which don't contain a given string.\n\t\t\t * \n\t\t\t * So this is the sort of thing we want to generate:\n\t\t\t * \n\t\t\t * ^(?=.*?\\bone\\b)(?=.*?\\btwo three\\b)(?=.*?\\bfour\\b).*$\n\t\t\t */\n\t\t\tvar parts = search.match( /!?[\"\\u201C][^\"\\u201D]+[\"\\u201D]|[^ ]+/g ) || [''];\n\t\t\tvar a = parts.map( function ( word ) {\n\t\t\t\tvar negative = false;\n\t\t\t\tvar m;\n\t\n\t\t\t\t// Determine if it is a \"does not include\"\n\t\t\t\tif ( word.charAt(0) === '!' ) {\n\t\t\t\t\tnegative = true;\n\t\t\t\t\tword = word.substring(1);\n\t\t\t\t}\n\t\n\t\t\t\t// Strip the quotes from around matched phrases\n\t\t\t\tif ( word.charAt(0) === '\"' ) {\n\t\t\t\t\tm = word.match( /^\"(.*)\"$/ );\n\t\t\t\t\tword = m ? m[1] : word;\n\t\t\t\t}\n\t\t\t\telse if ( word.charAt(0) === '\\u201C' ) {\n\t\t\t\t\t// Smart quote match (iPhone users)\n\t\t\t\t\tm = word.match( /^\\u201C(.*)\\u201D$/ );\n\t\t\t\t\tword = m ? m[1] : word;\n\t\t\t\t}\n\t\n\t\t\t\t// For our \"not\" case, we need to modify the string that is\n\t\t\t\t// allowed to match at the end of the expression.\n\t\t\t\tif (negative) {\n\t\t\t\t\tif (word.length > 1) {\n\t\t\t\t\t\tnot.push('(?!'+word+')');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tword = '';\n\t\t\t\t}\n\t\n\t\t\t\treturn word.replace(/\"/g, '');\n\t\t\t} );\n\t\n\t\t\tvar match = not.length\n\t\t\t\t? not.join('')\n\t\t\t\t: '';\n\t\n\t\t\tvar boundary = options.boundary\n\t\t\t\t? '\\\\b'\n\t\t\t\t: '';\n\t\n\t\t\tsearch = '^(?=.*?'+boundary+a.join( ')(?=.*?'+boundary )+')('+match+'.)*$';\n\t\t}\n\t\n\t\treturn new RegExp( search, options.caseInsensitive ? 'i' : '' );\n\t}\n\t\n\t\n\t/**\n\t * Escape a string such that it can be used in a regular expression\n\t *  @param {string} sVal string to escape\n\t *  @returns {string} escaped string\n\t *  @memberof DataTable#oApi\n\t */\n\tvar _fnEscapeRegex = DataTable.util.escapeRegex;\n\t\n\tvar __filter_div = $('<div>')[0];\n\tvar __filter_div_textContent = __filter_div.textContent !== undefined;\n\t\n\t// Update the filtering data for each row if needed (by invalidation or first run)\n\tfunction _fnFilterData ( settings )\n\t{\n\t\tvar columns = settings.aoColumns;\n\t\tvar data = settings.aoData;\n\t\tvar column;\n\t\tvar j, jen, filterData, cellData, row;\n\t\tvar wasInvalidated = false;\n\t\n\t\tfor ( var rowIdx=0 ; rowIdx<data.length ; rowIdx++ ) {\n\t\t\tif (! data[rowIdx]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\trow = data[rowIdx];\n\t\n\t\t\tif ( ! row._aFilterData ) {\n\t\t\t\tfilterData = [];\n\t\n\t\t\t\tfor ( j=0, jen=columns.length ; j<jen ; j++ ) {\n\t\t\t\t\tcolumn = columns[j];\n\t\n\t\t\t\t\tif ( column.bSearchable ) {\n\t\t\t\t\t\tcellData = _fnGetCellData( settings, rowIdx, j, 'filter' );\n\t\n\t\t\t\t\t\t// Search in DataTables is string based\n\t\t\t\t\t\tif ( cellData === null ) {\n\t\t\t\t\t\t\tcellData = '';\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif ( typeof cellData !== 'string' && cellData.toString ) {\n\t\t\t\t\t\t\tcellData = cellData.toString();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcellData = '';\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// If it looks like there is an HTML entity in the string,\n\t\t\t\t\t// attempt to decode it so sorting works as expected. Note that\n\t\t\t\t\t// we could use a single line of jQuery to do this, but the DOM\n\t\t\t\t\t// method used here is much faster https://jsperf.com/html-decode\n\t\t\t\t\tif ( cellData.indexOf && cellData.indexOf('&') !== -1 ) {\n\t\t\t\t\t\t__filter_div.innerHTML = cellData;\n\t\t\t\t\t\tcellData = __filter_div_textContent ?\n\t\t\t\t\t\t\t__filter_div.textContent :\n\t\t\t\t\t\t\t__filter_div.innerText;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( cellData.replace ) {\n\t\t\t\t\t\tcellData = cellData.replace(/[\\r\\n\\u2028]/g, '');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tfilterData.push( cellData );\n\t\t\t\t}\n\t\n\t\t\t\trow._aFilterData = filterData;\n\t\t\t\trow._sFilterRow = filterData.join('  ');\n\t\t\t\twasInvalidated = true;\n\t\t\t}\n\t\t}\n\t\n\t\treturn wasInvalidated;\n\t}\n\t\n\t\n\t/**\n\t * Draw the table for the first time, adding all required features\n\t *  @param {object} settings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnInitialise ( settings )\n\t{\n\t\tvar i, iAjaxStart=settings.iInitDisplayStart;\n\t\n\t\t/* Ensure that the table data is fully initialised */\n\t\tif ( ! settings.bInitialised ) {\n\t\t\tsetTimeout( function(){ _fnInitialise( settings ); }, 200 );\n\t\t\treturn;\n\t\t}\n\t\n\t\t/* Build and draw the header / footer for the table */\n\t\t_fnBuildHead( settings, 'header' );\n\t\t_fnBuildHead( settings, 'footer' );\n\t\t_fnDrawHead( settings, settings.aoHeader );\n\t\t_fnDrawHead( settings, settings.aoFooter );\n\t\n\t\t// Enable features\n\t\t_fnAddOptionsHtml( settings );\n\t\t_fnSortInit( settings );\n\t\n\t\t_colGroup( settings );\n\t\n\t\t/* Okay to show that something is going on now */\n\t\t_fnProcessingDisplay( settings, true );\n\t\n\t\t_fnCallbackFire( settings, null, 'preInit', [settings], true );\n\t\n\t\t// If there is default sorting required - let's do it. The sort function\n\t\t// will do the drawing for us. Otherwise we draw the table regardless of the\n\t\t// Ajax source - this allows the table to look initialised for Ajax sourcing\n\t\t// data (show 'loading' message possibly)\n\t\t_fnReDraw( settings );\n\t\n\t\tvar dataSrc = _fnDataSource( settings );\n\t\n\t\t// Server-side processing init complete is done by _fnAjaxUpdateDraw\n\t\tif ( dataSrc != 'ssp' ) {\n\t\t\t// if there is an ajax source load the data\n\t\t\tif ( dataSrc == 'ajax' ) {\n\t\t\t\t_fnBuildAjax( settings, {}, function(json) {\n\t\t\t\t\tvar aData = _fnAjaxDataSrc( settings, json );\n\t\n\t\t\t\t\t// Got the data - add it to the table\n\t\t\t\t\tfor ( i=0 ; i<aData.length ; i++ ) {\n\t\t\t\t\t\t_fnAddData( settings, aData[i] );\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Reset the init display for cookie saving. We've already done\n\t\t\t\t\t// a filter, and therefore cleared it before. So we need to make\n\t\t\t\t\t// it appear 'fresh'\n\t\t\t\t\tsettings.iInitDisplayStart = iAjaxStart;\n\t\n\t\t\t\t\t_fnReDraw( settings );\n\t\t\t\t\t_fnProcessingDisplay( settings, false );\n\t\t\t\t\t_fnInitComplete( settings );\n\t\t\t\t}, settings );\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_fnInitComplete( settings );\n\t\t\t\t_fnProcessingDisplay( settings, false );\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Draw the table for the first time, adding all required features\n\t *  @param {object} settings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnInitComplete ( settings )\n\t{\n\t\tif (settings._bInitComplete) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar args = [settings, settings.json];\n\t\n\t\tsettings._bInitComplete = true;\n\t\n\t\t// Table is fully set up and we have data, so calculate the\n\t\t// column widths\n\t\t_fnAdjustColumnSizing( settings );\n\t\n\t\t_fnCallbackFire( settings, null, 'plugin-init', args, true );\n\t\t_fnCallbackFire( settings, 'aoInitComplete', 'init', args, true );\n\t}\n\t\n\tfunction _fnLengthChange ( settings, val )\n\t{\n\t\tvar len = parseInt( val, 10 );\n\t\tsettings._iDisplayLength = len;\n\t\n\t\t_fnLengthOverflow( settings );\n\t\n\t\t// Fire length change event\n\t\t_fnCallbackFire( settings, null, 'length', [settings, len] );\n\t}\n\t\n\t/**\n\t * Alter the display settings to change the page\n\t *  @param {object} settings DataTables settings object\n\t *  @param {string|int} action Paging action to take: \"first\", \"previous\",\n\t *    \"next\" or \"last\" or page number to jump to (integer)\n\t *  @param [bool] redraw Automatically draw the update or not\n\t *  @returns {bool} true page has changed, false - no change\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnPageChange ( settings, action, redraw )\n\t{\n\t\tvar\n\t\t\tstart     = settings._iDisplayStart,\n\t\t\tlen       = settings._iDisplayLength,\n\t\t\trecords   = settings.fnRecordsDisplay();\n\t\n\t\tif ( records === 0 || len === -1 )\n\t\t{\n\t\t\tstart = 0;\n\t\t}\n\t\telse if ( typeof action === \"number\" )\n\t\t{\n\t\t\tstart = action * len;\n\t\n\t\t\tif ( start > records )\n\t\t\t{\n\t\t\t\tstart = 0;\n\t\t\t}\n\t\t}\n\t\telse if ( action == \"first\" )\n\t\t{\n\t\t\tstart = 0;\n\t\t}\n\t\telse if ( action == \"previous\" )\n\t\t{\n\t\t\tstart = len >= 0 ?\n\t\t\t\tstart - len :\n\t\t\t\t0;\n\t\n\t\t\tif ( start < 0 )\n\t\t\t{\n\t\t\t\tstart = 0;\n\t\t\t}\n\t\t}\n\t\telse if ( action == \"next\" )\n\t\t{\n\t\t\tif ( start + len < records )\n\t\t\t{\n\t\t\t\tstart += len;\n\t\t\t}\n\t\t}\n\t\telse if ( action == \"last\" )\n\t\t{\n\t\t\tstart = Math.floor( (records-1) / len) * len;\n\t\t}\n\t\telse if ( action === 'ellipsis' )\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t_fnLog( settings, 0, \"Unknown paging action: \"+action, 5 );\n\t\t}\n\t\n\t\tvar changed = settings._iDisplayStart !== start;\n\t\tsettings._iDisplayStart = start;\n\t\n\t\t_fnCallbackFire( settings, null, changed ? 'page' : 'page-nc', [settings] );\n\t\n\t\tif ( changed && redraw ) {\n\t\t\t_fnDraw( settings );\n\t\t}\n\t\n\t\treturn changed;\n\t}\n\t\n\t\n\t/**\n\t * Generate the node required for the processing node\n\t *  @param {object} settings DataTables settings object\n\t */\n\tfunction _processingHtml ( settings )\n\t{\n\t\tvar table = settings.nTable;\n\t\tvar scrolling = settings.oScroll.sX !== '' || settings.oScroll.sY !== '';\n\t\n\t\tif ( settings.oFeatures.bProcessing ) {\n\t\t\tvar n = $('<div/>', {\n\t\t\t\t\t'id': settings.sTableId + '_processing',\n\t\t\t\t\t'class': settings.oClasses.processing.container,\n\t\t\t\t\t'role': 'status'\n\t\t\t\t} )\n\t\t\t\t.html( settings.oLanguage.sProcessing )\n\t\t\t\t.append('<div><div></div><div></div><div></div><div></div></div>');\n\t\n\t\t\t// Different positioning depending on if scrolling is enabled or not\n\t\t\tif (scrolling) {\n\t\t\t\tn.prependTo( $('div.dt-scroll', settings.nTableWrapper) );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tn.insertBefore( table );\n\t\t\t}\n\t\n\t\t\t$(table).on( 'processing.dt.DT', function (e, s, show) {\n\t\t\t\tn.css( 'display', show ? 'block' : 'none' );\n\t\t\t} );\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Display or hide the processing indicator\n\t *  @param {object} settings DataTables settings object\n\t *  @param {bool} show Show the processing indicator (true) or not (false)\n\t */\n\tfunction _fnProcessingDisplay ( settings, show )\n\t{\n\t\t_fnCallbackFire( settings, null, 'processing', [settings, show] );\n\t}\n\t/**\n\t * Add any control elements for the table - specifically scrolling\n\t *  @param {object} settings dataTables settings object\n\t *  @returns {node} Node to add to the DOM\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnFeatureHtmlTable ( settings )\n\t{\n\t\tvar table = $(settings.nTable);\n\t\n\t\t// Scrolling from here on in\n\t\tvar scroll = settings.oScroll;\n\t\n\t\tif ( scroll.sX === '' && scroll.sY === '' ) {\n\t\t\treturn settings.nTable;\n\t\t}\n\t\n\t\tvar scrollX = scroll.sX;\n\t\tvar scrollY = scroll.sY;\n\t\tvar classes = settings.oClasses.scrolling;\n\t\tvar caption = settings.captionNode;\n\t\tvar captionSide = caption ? caption._captionSide : null;\n\t\tvar headerClone = $( table[0].cloneNode(false) );\n\t\tvar footerClone = $( table[0].cloneNode(false) );\n\t\tvar footer = table.children('tfoot');\n\t\tvar _div = '<div/>';\n\t\tvar size = function ( s ) {\n\t\t\treturn !s ? null : _fnStringToCss( s );\n\t\t};\n\t\n\t\tif ( ! footer.length ) {\n\t\t\tfooter = null;\n\t\t}\n\t\n\t\t/*\n\t\t * The HTML structure that we want to generate in this function is:\n\t\t *  div - scroller\n\t\t *    div - scroll head\n\t\t *      div - scroll head inner\n\t\t *        table - scroll head table\n\t\t *          thead - thead\n\t\t *    div - scroll body\n\t\t *      table - table (master table)\n\t\t *        thead - thead clone for sizing\n\t\t *        tbody - tbody\n\t\t *    div - scroll foot\n\t\t *      div - scroll foot inner\n\t\t *        table - scroll foot table\n\t\t *          tfoot - tfoot\n\t\t */\n\t\tvar scroller = $( _div, { 'class': classes.container } )\n\t\t\t.append(\n\t\t\t\t$(_div, { 'class': classes.header.self } )\n\t\t\t\t\t.css( {\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\tborder: 0,\n\t\t\t\t\t\twidth: scrollX ? size(scrollX) : '100%'\n\t\t\t\t\t} )\n\t\t\t\t\t.append(\n\t\t\t\t\t\t$(_div, { 'class': classes.header.inner } )\n\t\t\t\t\t\t\t.css( {\n\t\t\t\t\t\t\t\t'box-sizing': 'content-box',\n\t\t\t\t\t\t\t\twidth: scroll.sXInner || '100%'\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t.append(\n\t\t\t\t\t\t\t\theaderClone\n\t\t\t\t\t\t\t\t\t.removeAttr('id')\n\t\t\t\t\t\t\t\t\t.css( 'margin-left', 0 )\n\t\t\t\t\t\t\t\t\t.append( captionSide === 'top' ? caption : null )\n\t\t\t\t\t\t\t\t\t.append(\n\t\t\t\t\t\t\t\t\t\ttable.children('thead')\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t)\n\t\t\t.append(\n\t\t\t\t$(_div, { 'class': classes.body } )\n\t\t\t\t\t.css( {\n\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\toverflow: 'auto',\n\t\t\t\t\t\twidth: size( scrollX )\n\t\t\t\t\t} )\n\t\t\t\t\t.append( table )\n\t\t\t);\n\t\n\t\tif ( footer ) {\n\t\t\tscroller.append(\n\t\t\t\t$(_div, { 'class': classes.footer.self } )\n\t\t\t\t\t.css( {\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\tborder: 0,\n\t\t\t\t\t\twidth: scrollX ? size(scrollX) : '100%'\n\t\t\t\t\t} )\n\t\t\t\t\t.append(\n\t\t\t\t\t\t$(_div, { 'class': classes.footer.inner } )\n\t\t\t\t\t\t\t.append(\n\t\t\t\t\t\t\t\tfooterClone\n\t\t\t\t\t\t\t\t\t.removeAttr('id')\n\t\t\t\t\t\t\t\t\t.css( 'margin-left', 0 )\n\t\t\t\t\t\t\t\t\t.append( captionSide === 'bottom' ? caption : null )\n\t\t\t\t\t\t\t\t\t.append(\n\t\t\t\t\t\t\t\t\t\ttable.children('tfoot')\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\n\t\tvar children = scroller.children();\n\t\tvar scrollHead = children[0];\n\t\tvar scrollBody = children[1];\n\t\tvar scrollFoot = footer ? children[2] : null;\n\t\n\t\t// When the body is scrolled, then we also want to scroll the headers\n\t\t$(scrollBody).on( 'scroll.DT', function () {\n\t\t\tvar scrollLeft = this.scrollLeft;\n\t\n\t\t\tscrollHead.scrollLeft = scrollLeft;\n\t\n\t\t\tif ( footer ) {\n\t\t\t\tscrollFoot.scrollLeft = scrollLeft;\n\t\t\t}\n\t\t} );\n\t\n\t\t// When focus is put on the header cells, we might need to scroll the body\n\t\t$('th, td', scrollHead).on('focus', function () {\n\t\t\tvar scrollLeft = scrollHead.scrollLeft;\n\t\n\t\t\tscrollBody.scrollLeft = scrollLeft;\n\t\n\t\t\tif ( footer ) {\n\t\t\t\tscrollBody.scrollLeft = scrollLeft;\n\t\t\t}\n\t\t});\n\t\n\t\t$(scrollBody).css('max-height', scrollY);\n\t\tif (! scroll.bCollapse) {\n\t\t\t$(scrollBody).css('height', scrollY);\n\t\t}\n\t\n\t\tsettings.nScrollHead = scrollHead;\n\t\tsettings.nScrollBody = scrollBody;\n\t\tsettings.nScrollFoot = scrollFoot;\n\t\n\t\t// On redraw - align columns\n\t\tsettings.aoDrawCallback.push(_fnScrollDraw);\n\t\n\t\treturn scroller[0];\n\t}\n\t\n\t\n\t\n\t/**\n\t * Update the header, footer and body tables for resizing - i.e. column\n\t * alignment.\n\t *\n\t * Welcome to the most horrible function DataTables. The process that this\n\t * function follows is basically:\n\t *   1. Re-create the table inside the scrolling div\n\t *   2. Correct colgroup > col values if needed\n\t *   3. Copy colgroup > col over to header and footer\n\t *   4. Clean up\n\t *\n\t *  @param {object} settings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnScrollDraw ( settings )\n\t{\n\t\t// Given that this is such a monster function, a lot of variables are use\n\t\t// to try and keep the minimised size as small as possible\n\t\tvar\n\t\t\tscroll         = settings.oScroll,\n\t\t\tbarWidth       = scroll.iBarWidth,\n\t\t\tdivHeader      = $(settings.nScrollHead),\n\t\t\tdivHeaderInner = divHeader.children('div'),\n\t\t\tdivHeaderTable = divHeaderInner.children('table'),\n\t\t\tdivBodyEl      = settings.nScrollBody,\n\t\t\tdivBody        = $(divBodyEl),\n\t\t\tdivFooter      = $(settings.nScrollFoot),\n\t\t\tdivFooterInner = divFooter.children('div'),\n\t\t\tdivFooterTable = divFooterInner.children('table'),\n\t\t\theader         = $(settings.nTHead),\n\t\t\ttable          = $(settings.nTable),\n\t\t\tfooter         = settings.nTFoot && $('th, td', settings.nTFoot).length ? $(settings.nTFoot) : null,\n\t\t\tbrowser        = settings.oBrowser,\n\t\t\theaderCopy, footerCopy;\n\t\n\t\t// If the scrollbar visibility has changed from the last draw, we need to\n\t\t// adjust the column sizes as the table width will have changed to account\n\t\t// for the scrollbar\n\t\tvar scrollBarVis = divBodyEl.scrollHeight > divBodyEl.clientHeight;\n\t\t\n\t\tif ( settings.scrollBarVis !== scrollBarVis && settings.scrollBarVis !== undefined ) {\n\t\t\tsettings.scrollBarVis = scrollBarVis;\n\t\t\t_fnAdjustColumnSizing( settings );\n\t\t\treturn; // adjust column sizing will call this function again\n\t\t}\n\t\telse {\n\t\t\tsettings.scrollBarVis = scrollBarVis;\n\t\t}\n\t\n\t\t// 1. Re-create the table inside the scrolling div\n\t\t// Remove the old minimised thead and tfoot elements in the inner table\n\t\ttable.children('thead, tfoot').remove();\n\t\n\t\t// Clone the current header and footer elements and then place it into the inner table\n\t\theaderCopy = header.clone().prependTo( table );\n\t\theaderCopy.find('th, td').removeAttr('tabindex');\n\t\theaderCopy.find('[id]').removeAttr('id');\n\t\n\t\tif ( footer ) {\n\t\t\tfooterCopy = footer.clone().prependTo( table );\n\t\t\tfooterCopy.find('[id]').removeAttr('id');\n\t\t}\n\t\n\t\t// 2. Correct colgroup > col values if needed\n\t\t// It is possible that the cell sizes are smaller than the content, so we need to\n\t\t// correct colgroup>col for such cases. This can happen if the auto width detection\n\t\t// uses a cell which has a longer string, but isn't the widest! For example \n\t\t// \"Chief Executive Officer (CEO)\" is the longest string in the demo, but\n\t\t// \"Systems Administrator\" is actually the widest string since it doesn't collapse.\n\t\t// Note the use of translating into a column index to get the `col` element. This\n\t\t// is because of Responsive which might remove `col` elements, knocking the alignment\n\t\t// of the indexes out.\n\t\tif (settings.aiDisplay.length) {\n\t\t\t// Get the column sizes from the first row in the table\n\t\t\tvar colSizes = table.children('tbody').eq(0).children('tr').eq(0).children('th, td').map(function (vis) {\n\t\t\t\treturn {\n\t\t\t\t\tidx: _fnVisibleToColumnIndex(settings, vis),\n\t\t\t\t\twidth: $(this).outerWidth()\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t// Check against what the colgroup > col is set to and correct if needed\n\t\t\tfor (var i=0 ; i<colSizes.length ; i++) {\n\t\t\t\tvar colEl = settings.aoColumns[ colSizes[i].idx ].colEl[0];\n\t\t\t\tvar colWidth = colEl.style.width.replace('px', '');\n\t\n\t\t\t\tif (colWidth !== colSizes[i].width) {\n\t\t\t\t\tcolEl.style.width = colSizes[i].width + 'px';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t// 3. Copy the colgroup over to the header and footer\n\t\tdivHeaderTable\n\t\t\t.find('colgroup')\n\t\t\t.remove();\n\t\n\t\tdivHeaderTable.append(settings.colgroup.clone());\n\t\n\t\tif ( footer ) {\n\t\t\tdivFooterTable\n\t\t\t\t.find('colgroup')\n\t\t\t\t.remove();\n\t\n\t\t\tdivFooterTable.append(settings.colgroup.clone());\n\t\t}\n\t\n\t\t// \"Hide\" the header and footer that we used for the sizing. We need to keep\n\t\t// the content of the cell so that the width applied to the header and body\n\t\t// both match, but we want to hide it completely.\n\t\t$('th, td', headerCopy).each(function () {\n\t\t\t$(this.childNodes).wrapAll('<div class=\"dt-scroll-sizing\">');\n\t\t});\n\t\n\t\tif ( footer ) {\n\t\t\t$('th, td', footerCopy).each(function () {\n\t\t\t\t$(this.childNodes).wrapAll('<div class=\"dt-scroll-sizing\">');\n\t\t\t});\n\t\t}\n\t\n\t\t// 4. Clean up\n\t\t// Figure out if there are scrollbar present - if so then we need a the header and footer to\n\t\t// provide a bit more space to allow \"overflow\" scrolling (i.e. past the scrollbar)\n\t\tvar isScrolling = Math.floor(table.height()) > divBodyEl.clientHeight || divBody.css('overflow-y') == \"scroll\";\n\t\tvar paddingSide = 'padding' + (browser.bScrollbarLeft ? 'Left' : 'Right' );\n\t\n\t\t// Set the width's of the header and footer tables\n\t\tvar outerWidth = table.outerWidth();\n\t\n\t\tdivHeaderTable.css('width', _fnStringToCss( outerWidth ));\n\t\tdivHeaderInner\n\t\t\t.css('width', _fnStringToCss( outerWidth ))\n\t\t\t.css(paddingSide, isScrolling ? barWidth+\"px\" : \"0px\");\n\t\n\t\tif ( footer ) {\n\t\t\tdivFooterTable.css('width', _fnStringToCss( outerWidth ));\n\t\t\tdivFooterInner\n\t\t\t\t.css('width', _fnStringToCss( outerWidth ))\n\t\t\t\t.css(paddingSide, isScrolling ? barWidth+\"px\" : \"0px\");\n\t\t}\n\t\n\t\t// Correct DOM ordering for colgroup - comes before the thead\n\t\ttable.children('colgroup').prependTo(table);\n\t\n\t\t// Adjust the position of the header in case we loose the y-scrollbar\n\t\tdivBody.trigger('scroll');\n\t\n\t\t// If sorting or filtering has occurred, jump the scrolling back to the top\n\t\t// only if we aren't holding the position\n\t\tif ( (settings.bSorted || settings.bFiltered) && ! settings._drawHold ) {\n\t\t\tdivBodyEl.scrollTop = 0;\n\t\t}\n\t}\n\t\n\t/**\n\t * Calculate the width of columns for the table\n\t *  @param {object} settings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnCalculateColumnWidths ( settings )\n\t{\n\t\t// Not interested in doing column width calculation if auto-width is disabled\n\t\tif (! settings.oFeatures.bAutoWidth) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar\n\t\t\ttable = settings.nTable,\n\t\t\tcolumns = settings.aoColumns,\n\t\t\tscroll = settings.oScroll,\n\t\t\tscrollY = scroll.sY,\n\t\t\tscrollX = scroll.sX,\n\t\t\tscrollXInner = scroll.sXInner,\n\t\t\tvisibleColumns = _fnGetColumns( settings, 'bVisible' ),\n\t\t\ttableWidthAttr = table.getAttribute('width'), // from DOM element\n\t\t\ttableContainer = table.parentNode,\n\t\t\ti, column, columnIdx;\n\t\n\t\tvar styleWidth = table.style.width;\n\t\tif ( styleWidth && styleWidth.indexOf('%') !== -1 ) {\n\t\t\ttableWidthAttr = styleWidth;\n\t\t}\n\t\n\t\t// Let plug-ins know that we are doing a recalc, in case they have changed any of the\n\t\t// visible columns their own way (e.g. Responsive uses display:none).\n\t\t_fnCallbackFire(\n\t\t\tsettings,\n\t\t\tnull,\n\t\t\t'column-calc',\n\t\t\t{visible: visibleColumns},\n\t\t\tfalse\n\t\t);\n\t\n\t\t// Construct a single row, worst case, table with the widest\n\t\t// node in the data, assign any user defined widths, then insert it into\n\t\t// the DOM and allow the browser to do all the hard work of calculating\n\t\t// table widths\n\t\tvar tmpTable = $(table.cloneNode())\n\t\t\t.css( 'visibility', 'hidden' )\n\t\t\t.removeAttr( 'id' );\n\t\n\t\t// Clean up the table body\n\t\ttmpTable.append('<tbody>')\n\t\tvar tr = $('<tr/>').appendTo( tmpTable.find('tbody') );\n\t\n\t\t// Clone the table header and footer - we can't use the header / footer\n\t\t// from the cloned table, since if scrolling is active, the table's\n\t\t// real header and footer are contained in different table tags\n\t\ttmpTable\n\t\t\t.append( $(settings.nTHead).clone() )\n\t\t\t.append( $(settings.nTFoot).clone() );\n\t\n\t\t// Remove any assigned widths from the footer (from scrolling)\n\t\ttmpTable.find('tfoot th, tfoot td').css('width', '');\n\t\n\t\t// Apply custom sizing to the cloned header\n\t\ttmpTable.find('thead th, thead td').each( function () {\n\t\t\t// Get the `width` from the header layout\n\t\t\tvar width = _fnColumnsSumWidth( settings, this, true, false );\n\t\n\t\t\tif ( width ) {\n\t\t\t\tthis.style.width = width;\n\t\n\t\t\t\t// For scrollX we need to force the column width otherwise the\n\t\t\t\t// browser will collapse it. If this width is smaller than the\n\t\t\t\t// width the column requires, then it will have no effect\n\t\t\t\tif ( scrollX ) {\n\t\t\t\t\t$( this ).append( $('<div/>').css( {\n\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\tmargin: 0,\n\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\tborder: 0,\n\t\t\t\t\t\theight: 1\n\t\t\t\t\t} ) );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.style.width = '';\n\t\t\t}\n\t\t} );\n\t\n\t\t// Find the widest piece of data for each column and put it into the table\n\t\tfor ( i=0 ; i<visibleColumns.length ; i++ ) {\n\t\t\tcolumnIdx = visibleColumns[i];\n\t\t\tcolumn = columns[ columnIdx ];\n\t\n\t\t\tvar longest = _fnGetMaxLenString(settings, columnIdx);\n\t\t\tvar autoClass = _ext.type.className[column.sType];\n\t\t\tvar text = longest + column.sContentPadding;\n\t\t\tvar insert = longest.indexOf('<') === -1\n\t\t\t\t? document.createTextNode(text)\n\t\t\t\t: text\n\t\t\t\n\t\t\t$('<td/>')\n\t\t\t\t.addClass(autoClass)\n\t\t\t\t.addClass(column.sClass)\n\t\t\t\t.append(insert)\n\t\t\t\t.appendTo(tr);\n\t\t}\n\t\n\t\t// Tidy the temporary table - remove name attributes so there aren't\n\t\t// duplicated in the dom (radio elements for example)\n\t\t$('[name]', tmpTable).removeAttr('name');\n\t\n\t\t// Table has been built, attach to the document so we can work with it.\n\t\t// A holding element is used, positioned at the top of the container\n\t\t// with minimal height, so it has no effect on if the container scrolls\n\t\t// or not. Otherwise it might trigger scrolling when it actually isn't\n\t\t// needed\n\t\tvar holder = $('<div/>').css( scrollX || scrollY ?\n\t\t\t\t{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\theight: 1,\n\t\t\t\t\tright: 0,\n\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t} :\n\t\t\t\t{}\n\t\t\t)\n\t\t\t.append( tmpTable )\n\t\t\t.appendTo( tableContainer );\n\t\n\t\t// When scrolling (X or Y) we want to set the width of the table as \n\t\t// appropriate. However, when not scrolling leave the table width as it\n\t\t// is. This results in slightly different, but I think correct behaviour\n\t\tif ( scrollX && scrollXInner ) {\n\t\t\ttmpTable.width( scrollXInner );\n\t\t}\n\t\telse if ( scrollX ) {\n\t\t\ttmpTable.css( 'width', 'auto' );\n\t\t\ttmpTable.removeAttr('width');\n\t\n\t\t\t// If there is no width attribute or style, then allow the table to\n\t\t\t// collapse\n\t\t\tif ( tmpTable.width() < tableContainer.clientWidth && tableWidthAttr ) {\n\t\t\t\ttmpTable.width( tableContainer.clientWidth );\n\t\t\t}\n\t\t}\n\t\telse if ( scrollY ) {\n\t\t\ttmpTable.width( tableContainer.clientWidth );\n\t\t}\n\t\telse if ( tableWidthAttr ) {\n\t\t\ttmpTable.width( tableWidthAttr );\n\t\t}\n\t\n\t\t// Get the width of each column in the constructed table\n\t\tvar total = 0;\n\t\tvar bodyCells = tmpTable.find('tbody tr').eq(0).children();\n\t\n\t\tfor ( i=0 ; i<visibleColumns.length ; i++ ) {\n\t\t\t// Use getBounding for sub-pixel accuracy, which we then want to round up!\n\t\t\tvar bounding = bodyCells[i].getBoundingClientRect().width;\n\t\n\t\t\t// Total is tracked to remove any sub-pixel errors as the outerWidth\n\t\t\t// of the table might not equal the total given here\n\t\t\ttotal += bounding;\n\t\n\t\t\t// Width for each column to use\n\t\t\tcolumns[ visibleColumns[i] ].sWidth = _fnStringToCss( bounding );\n\t\t}\n\t\n\t\ttable.style.width = _fnStringToCss( total );\n\t\n\t\t// Finished with the table - ditch it\n\t\tholder.remove();\n\t\n\t\t// If there is a width attr, we want to attach an event listener which\n\t\t// allows the table sizing to automatically adjust when the window is\n\t\t// resized. Use the width attr rather than CSS, since we can't know if the\n\t\t// CSS is a relative value or absolute - DOM read is always px.\n\t\tif ( tableWidthAttr ) {\n\t\t\ttable.style.width = _fnStringToCss( tableWidthAttr );\n\t\t}\n\t\n\t\tif ( (tableWidthAttr || scrollX) && ! settings._reszEvt ) {\n\t\t\tvar bindResize = function () {\n\t\t\t\t$(window).on('resize.DT-'+settings.sInstance, DataTable.util.throttle( function () {\n\t\t\t\t\tif (! settings.bDestroying) {\n\t\t\t\t\t\t_fnAdjustColumnSizing( settings );\n\t\t\t\t\t}\n\t\t\t\t} ) );\n\t\t\t};\n\t\n\t\t\tbindResize();\n\t\n\t\t\tsettings._reszEvt = true;\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Get the maximum strlen for each data column\n\t *  @param {object} settings dataTables settings object\n\t *  @param {int} colIdx column of interest\n\t *  @returns {string} string of the max length\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnGetMaxLenString( settings, colIdx )\n\t{\n\t\tvar column = settings.aoColumns[colIdx];\n\t\n\t\tif (! column.maxLenString) {\n\t\t\tvar s, max='', maxLen = -1;\n\t\t\n\t\t\tfor ( var i=0, ien=settings.aiDisplayMaster.length ; i<ien ; i++ ) {\n\t\t\t\tvar rowIdx = settings.aiDisplayMaster[i];\n\t\t\t\tvar data = _fnGetRowDisplay(settings, rowIdx)[colIdx];\n\t\n\t\t\t\tvar cellString = data && typeof data === 'object' && data.nodeType\n\t\t\t\t\t? data.innerHTML\n\t\t\t\t\t: data+'';\n\t\n\t\t\t\t// Remove id / name attributes from elements so they\n\t\t\t\t// don't interfere with existing elements\n\t\t\t\tcellString = cellString\n\t\t\t\t\t.replace(/id=\".*?\"/g, '')\n\t\t\t\t\t.replace(/name=\".*?\"/g, '');\n\t\n\t\t\t\ts = _stripHtml(cellString)\n\t\t\t\t\t.replace( /&nbsp;/g, ' ' );\n\t\t\n\t\t\t\tif ( s.length > maxLen ) {\n\t\t\t\t\t// We want the HTML in the string, but the length that\n\t\t\t\t\t// is important is the stripped string\n\t\t\t\t\tmax = cellString;\n\t\t\t\t\tmaxLen = s.length;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tcolumn.maxLenString = max;\n\t\t}\n\t\n\t\treturn column.maxLenString;\n\t}\n\t\n\t\n\t/**\n\t * Append a CSS unit (only if required) to a string\n\t *  @param {string} value to css-ify\n\t *  @returns {string} value with css unit\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnStringToCss( s )\n\t{\n\t\tif ( s === null ) {\n\t\t\treturn '0px';\n\t\t}\n\t\n\t\tif ( typeof s == 'number' ) {\n\t\t\treturn s < 0 ?\n\t\t\t\t'0px' :\n\t\t\t\ts+'px';\n\t\t}\n\t\n\t\t// Check it has a unit character already\n\t\treturn s.match(/\\d$/) ?\n\t\t\ts+'px' :\n\t\t\ts;\n\t}\n\t\n\t/**\n\t * Re-insert the `col` elements for current visibility\n\t *\n\t * @param {*} settings DT settings\n\t */\n\tfunction _colGroup( settings ) {\n\t\tvar cols = settings.aoColumns;\n\t\n\t\tsettings.colgroup.empty();\n\t\n\t\tfor (i=0 ; i<cols.length ; i++) {\n\t\t\tif (cols[i].bVisible) {\n\t\t\t\tsettings.colgroup.append(cols[i].colEl);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tfunction _fnSortInit( settings ) {\n\t\tvar target = settings.nTHead;\n\t\tvar headerRows = target.querySelectorAll('tr');\n\t\tvar legacyTop = settings.bSortCellsTop;\n\t\tvar notSelector = ':not([data-dt-order=\"disable\"]):not([data-dt-order=\"icon-only\"])';\n\t\t\n\t\t// Legacy support for `orderCellsTop`\n\t\tif (legacyTop === true) {\n\t\t\ttarget = headerRows[0];\n\t\t}\n\t\telse if (legacyTop === false) {\n\t\t\ttarget = headerRows[ headerRows.length - 1 ];\n\t\t}\n\t\n\t\t_fnSortAttachListener(\n\t\t\tsettings,\n\t\t\ttarget,\n\t\t\ttarget === settings.nTHead\n\t\t\t\t? 'tr'+notSelector+' th'+notSelector+', tr'+notSelector+' td'+notSelector\n\t\t\t\t: 'th'+notSelector+', td'+notSelector\n\t\t);\n\t\n\t\t// Need to resolve the user input array into our internal structure\n\t\tvar order = [];\n\t\t_fnSortResolve( settings, order, settings.aaSorting );\n\t\n\t\tsettings.aaSorting = order;\n\t}\n\t\n\t\n\tfunction _fnSortAttachListener(settings, node, selector, column, callback) {\n\t\t_fnBindAction( node, selector, function (e) {\n\t\t\tvar run = false;\n\t\t\tvar columns = column === undefined\n\t\t\t\t? _fnColumnsFromHeader( e.target )\n\t\t\t\t: [column];\n\t\n\t\t\tif ( columns.length ) {\n\t\t\t\tfor ( var i=0, ien=columns.length ; i<ien ; i++ ) {\n\t\t\t\t\tvar ret = _fnSortAdd( settings, columns[i], i, e.shiftKey );\n\t\n\t\t\t\t\tif (ret !== false) {\n\t\t\t\t\t\trun = true;\n\t\t\t\t\t}\t\t\t\t\t\n\t\n\t\t\t\t\t// If the first entry is no sort, then subsequent\n\t\t\t\t\t// sort columns are ignored\n\t\t\t\t\tif (settings.aaSorting.length === 1 && settings.aaSorting[0][1] === '') {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (run) {\n\t\t\t\t\t_fnProcessingDisplay( settings, true );\n\t\n\t\t\t\t\t// Allow the processing display to show\n\t\t\t\t\tsetTimeout( function () {\n\t\t\t\t\t\t_fnSort( settings );\n\t\t\t\t\t\t_fnSortDisplay( settings, settings.aiDisplay );\n\t\n\t\t\t\t\t\t// Sort processing done - redraw has its own processing display\n\t\t\t\t\t\t_fnProcessingDisplay( settings, false );\n\t\n\t\t\t\t\t\t_fnReDraw( settings, false, false );\n\t\n\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\t\n\t/**\n\t * Sort the display array to match the master's order\n\t * @param {*} settings\n\t */\n\tfunction _fnSortDisplay(settings, display) {\n\t\tif (display.length < 2) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar master = settings.aiDisplayMaster;\n\t\tvar masterMap = {};\n\t\tvar map = {};\n\t\tvar i;\n\t\n\t\t// Rather than needing an `indexOf` on master array, we can create a map\n\t\tfor (i=0 ; i<master.length ; i++) {\n\t\t\tmasterMap[master[i]] = i;\n\t\t}\n\t\n\t\t// And then cache what would be the indexOf fom the display\n\t\tfor (i=0 ; i<display.length ; i++) {\n\t\t\tmap[display[i]] = masterMap[display[i]];\n\t\t}\n\t\n\t\tdisplay.sort(function(a, b){\n\t\t\t// Short version of this function is simply `master.indexOf(a) - master.indexOf(b);`\n\t\t\treturn map[a] - map[b];\n\t\t});\n\t}\n\t\n\t\n\tfunction _fnSortResolve (settings, nestedSort, sort) {\n\t\tvar push = function ( a ) {\n\t\t\tif ($.isPlainObject(a)) {\n\t\t\t\tif (a.idx !== undefined) {\n\t\t\t\t\t// Index based ordering\n\t\t\t\t\tnestedSort.push([a.idx, a.dir]);\n\t\t\t\t}\n\t\t\t\telse if (a.name) {\n\t\t\t\t\t// Name based ordering\n\t\t\t\t\tvar cols = _pluck( settings.aoColumns, 'sName');\n\t\t\t\t\tvar idx = cols.indexOf(a.name);\n\t\n\t\t\t\t\tif (idx !== -1) {\n\t\t\t\t\t\tnestedSort.push([idx, a.dir]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Plain column index and direction pair\n\t\t\t\tnestedSort.push(a);\n\t\t\t}\n\t\t};\n\t\n\t\tif ( $.isPlainObject(sort) ) {\n\t\t\t// Object\n\t\t\tpush(sort);\n\t\t}\n\t\telse if ( sort.length && typeof sort[0] === 'number' ) {\n\t\t\t// 1D array\n\t\t\tpush(sort);\n\t\t}\n\t\telse if ( sort.length ) {\n\t\t\t// 2D array\n\t\t\tfor (var z=0; z<sort.length; z++) {\n\t\t\t\tpush(sort[z]); // Object or array\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tfunction _fnSortFlatten ( settings )\n\t{\n\t\tvar\n\t\t\ti, k, kLen,\n\t\t\taSort = [],\n\t\t\textSort = DataTable.ext.type.order,\n\t\t\taoColumns = settings.aoColumns,\n\t\t\taDataSort, iCol, sType, srcCol,\n\t\t\tfixed = settings.aaSortingFixed,\n\t\t\tfixedObj = $.isPlainObject( fixed ),\n\t\t\tnestedSort = [];\n\t\t\n\t\tif ( ! settings.oFeatures.bSort ) {\n\t\t\treturn aSort;\n\t\t}\n\t\n\t\t// Build the sort array, with pre-fix and post-fix options if they have been\n\t\t// specified\n\t\tif ( Array.isArray( fixed ) ) {\n\t\t\t_fnSortResolve( settings, nestedSort, fixed );\n\t\t}\n\t\n\t\tif ( fixedObj && fixed.pre ) {\n\t\t\t_fnSortResolve( settings, nestedSort, fixed.pre );\n\t\t}\n\t\n\t\t_fnSortResolve( settings, nestedSort, settings.aaSorting );\n\t\n\t\tif (fixedObj && fixed.post ) {\n\t\t\t_fnSortResolve( settings, nestedSort, fixed.post );\n\t\t}\n\t\n\t\tfor ( i=0 ; i<nestedSort.length ; i++ )\n\t\t{\n\t\t\tsrcCol = nestedSort[i][0];\n\t\n\t\t\tif ( aoColumns[ srcCol ] ) {\n\t\t\t\taDataSort = aoColumns[ srcCol ].aDataSort;\n\t\n\t\t\t\tfor ( k=0, kLen=aDataSort.length ; k<kLen ; k++ )\n\t\t\t\t{\n\t\t\t\t\tiCol = aDataSort[k];\n\t\t\t\t\tsType = aoColumns[ iCol ].sType || 'string';\n\t\n\t\t\t\t\tif ( nestedSort[i]._idx === undefined ) {\n\t\t\t\t\t\tnestedSort[i]._idx = aoColumns[iCol].asSorting.indexOf(nestedSort[i][1]);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( nestedSort[i][1] ) {\n\t\t\t\t\t\taSort.push( {\n\t\t\t\t\t\t\tsrc:       srcCol,\n\t\t\t\t\t\t\tcol:       iCol,\n\t\t\t\t\t\t\tdir:       nestedSort[i][1],\n\t\t\t\t\t\t\tindex:     nestedSort[i]._idx,\n\t\t\t\t\t\t\ttype:      sType,\n\t\t\t\t\t\t\tformatter: extSort[ sType+\"-pre\" ],\n\t\t\t\t\t\t\tsorter:    extSort[ sType+\"-\"+nestedSort[i][1] ]\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn aSort;\n\t}\n\t\n\t/**\n\t * Change the order of the table\n\t *  @param {object} oSettings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnSort ( oSettings, col, dir )\n\t{\n\t\tvar\n\t\t\ti, ien, iLen,\n\t\t\taiOrig = [],\n\t\t\textSort = DataTable.ext.type.order,\n\t\t\taoData = oSettings.aoData,\n\t\t\tsortCol,\n\t\t\tdisplayMaster = oSettings.aiDisplayMaster,\n\t\t\taSort;\n\t\n\t\t// Resolve any column types that are unknown due to addition or invalidation\n\t\t// @todo Can this be moved into a 'data-ready' handler which is called when\n\t\t//   data is going to be used in the table?\n\t\t_fnColumnTypes( oSettings );\n\t\n\t\t// Allow a specific column to be sorted, which will _not_ alter the display\n\t\t// master\n\t\tif (col !== undefined) {\n\t\t\tvar srcCol = oSettings.aoColumns[col];\n\t\t\taSort = [{\n\t\t\t\tsrc:       col,\n\t\t\t\tcol:       col,\n\t\t\t\tdir:       dir,\n\t\t\t\tindex:     0,\n\t\t\t\ttype:      srcCol.sType,\n\t\t\t\tformatter: extSort[ srcCol.sType+\"-pre\" ],\n\t\t\t\tsorter:    extSort[ srcCol.sType+\"-\"+dir ]\n\t\t\t}];\n\t\t\tdisplayMaster = displayMaster.slice();\n\t\t}\n\t\telse {\n\t\t\taSort = _fnSortFlatten( oSettings );\n\t\t}\n\t\n\t\tfor ( i=0, ien=aSort.length ; i<ien ; i++ ) {\n\t\t\tsortCol = aSort[i];\n\t\n\t\t\t// Load the data needed for the sort, for each cell\n\t\t\t_fnSortData( oSettings, sortCol.col );\n\t\t}\n\t\n\t\t/* No sorting required if server-side or no sorting array */\n\t\tif ( _fnDataSource( oSettings ) != 'ssp' && aSort.length !== 0 )\n\t\t{\n\t\t\t// Reset the initial positions on each pass so we get a stable sort\n\t\t\tfor ( i=0, iLen=displayMaster.length ; i<iLen ; i++ ) {\n\t\t\t\taiOrig[ i ] = i;\n\t\t\t}\n\t\n\t\t\t// If the first sort is desc, then reverse the array to preserve original\n\t\t\t// order, just in reverse\n\t\t\tif (aSort.length && aSort[0].dir === 'desc') {\n\t\t\t\taiOrig.reverse();\n\t\t\t}\n\t\n\t\t\t/* Do the sort - here we want multi-column sorting based on a given data source (column)\n\t\t\t * and sorting function (from oSort) in a certain direction. It's reasonably complex to\n\t\t\t * follow on it's own, but this is what we want (example two column sorting):\n\t\t\t *  fnLocalSorting = function(a,b){\n\t\t\t *    var test;\n\t\t\t *    test = oSort['string-asc']('data11', 'data12');\n\t\t\t *      if (test !== 0)\n\t\t\t *        return test;\n\t\t\t *    test = oSort['numeric-desc']('data21', 'data22');\n\t\t\t *    if (test !== 0)\n\t\t\t *      return test;\n\t\t\t *    return oSort['numeric-asc']( aiOrig[a], aiOrig[b] );\n\t\t\t *  }\n\t\t\t * Basically we have a test for each sorting column, if the data in that column is equal,\n\t\t\t * test the next column. If all columns match, then we use a numeric sort on the row\n\t\t\t * positions in the original data array to provide a stable sort.\n\t\t\t */\n\t\t\tdisplayMaster.sort( function ( a, b ) {\n\t\t\t\tvar\n\t\t\t\t\tx, y, k, test, sort,\n\t\t\t\t\tlen=aSort.length,\n\t\t\t\t\tdataA = aoData[a]._aSortData,\n\t\t\t\t\tdataB = aoData[b]._aSortData;\n\t\n\t\t\t\tfor ( k=0 ; k<len ; k++ ) {\n\t\t\t\t\tsort = aSort[k];\n\t\n\t\t\t\t\t// Data, which may have already been through a `-pre` function\n\t\t\t\t\tx = dataA[ sort.col ];\n\t\t\t\t\ty = dataB[ sort.col ];\n\t\n\t\t\t\t\tif (sort.sorter) {\n\t\t\t\t\t\t// If there is a custom sorter (`-asc` or `-desc`) for this\n\t\t\t\t\t\t// data type, use it\n\t\t\t\t\t\ttest = sort.sorter(x, y);\n\t\n\t\t\t\t\t\tif ( test !== 0 ) {\n\t\t\t\t\t\t\treturn test;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Otherwise, use generic sorting\n\t\t\t\t\t\ttest = x<y ? -1 : x>y ? 1 : 0;\n\t\n\t\t\t\t\t\tif ( test !== 0 ) {\n\t\t\t\t\t\t\treturn sort.dir === 'asc' ? test : -test;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tx = aiOrig[a];\n\t\t\t\ty = aiOrig[b];\n\t\n\t\t\t\treturn x<y ? -1 : x>y ? 1 : 0;\n\t\t\t} );\n\t\t}\n\t\telse if ( aSort.length === 0 ) {\n\t\t\t// Apply index order\n\t\t\tdisplayMaster.sort(function (x, y) {\n\t\t\t\treturn x<y ? -1 : x>y ? 1 : 0;\n\t\t\t});\n\t\t}\n\t\n\t\tif (col === undefined) {\n\t\t\t// Tell the draw function that we have sorted the data\n\t\t\toSettings.bSorted = true;\n\t\n\t\t\t_fnCallbackFire( oSettings, null, 'order', [oSettings, aSort] );\n\t\t}\n\t\n\t\treturn displayMaster;\n\t}\n\t\n\t\n\t/**\n\t * Function to run on user sort request\n\t *  @param {object} settings dataTables settings object\n\t *  @param {node} attachTo node to attach the handler to\n\t *  @param {int} colIdx column sorting index\n\t *  @param {int} addIndex Counter\n\t *  @param {boolean} [shift=false] Shift click add\n\t *  @param {function} [callback] callback function\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnSortAdd ( settings, colIdx, addIndex, shift )\n\t{\n\t\tvar col = settings.aoColumns[ colIdx ];\n\t\tvar sorting = settings.aaSorting;\n\t\tvar asSorting = col.asSorting;\n\t\tvar nextSortIdx;\n\t\tvar next = function ( a, overflow ) {\n\t\t\tvar idx = a._idx;\n\t\t\tif ( idx === undefined ) {\n\t\t\t\tidx = asSorting.indexOf(a[1]);\n\t\t\t}\n\t\n\t\t\treturn idx+1 < asSorting.length ?\n\t\t\t\tidx+1 :\n\t\t\t\toverflow ?\n\t\t\t\t\tnull :\n\t\t\t\t\t0;\n\t\t};\n\t\n\t\tif ( ! col.bSortable ) {\n\t\t\treturn false;\n\t\t}\n\t\n\t\t// Convert to 2D array if needed\n\t\tif ( typeof sorting[0] === 'number' ) {\n\t\t\tsorting = settings.aaSorting = [ sorting ];\n\t\t}\n\t\n\t\t// If appending the sort then we are multi-column sorting\n\t\tif ( (shift || addIndex) && settings.oFeatures.bSortMulti ) {\n\t\t\t// Are we already doing some kind of sort on this column?\n\t\t\tvar sortIdx = _pluck(sorting, '0').indexOf(colIdx);\n\t\n\t\t\tif ( sortIdx !== -1 ) {\n\t\t\t\t// Yes, modify the sort\n\t\t\t\tnextSortIdx = next( sorting[sortIdx], true );\n\t\n\t\t\t\tif ( nextSortIdx === null && sorting.length === 1 ) {\n\t\t\t\t\tnextSortIdx = 0; // can't remove sorting completely\n\t\t\t\t}\n\t\n\t\t\t\tif ( nextSortIdx === null ) {\n\t\t\t\t\tsorting.splice( sortIdx, 1 );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsorting[sortIdx][1] = asSorting[ nextSortIdx ];\n\t\t\t\t\tsorting[sortIdx]._idx = nextSortIdx;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (shift) {\n\t\t\t\t// No sort on this column yet, being added by shift click\n\t\t\t\t// add it as itself\n\t\t\t\tsorting.push( [ colIdx, asSorting[0], 0 ] );\n\t\t\t\tsorting[sorting.length-1]._idx = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// No sort on this column yet, being added from a colspan\n\t\t\t\t// so add with same direction as first column\n\t\t\t\tsorting.push( [ colIdx, sorting[0][1], 0 ] );\n\t\t\t\tsorting[sorting.length-1]._idx = 0;\n\t\t\t}\n\t\t}\n\t\telse if ( sorting.length && sorting[0][0] == colIdx ) {\n\t\t\t// Single column - already sorting on this column, modify the sort\n\t\t\tnextSortIdx = next( sorting[0] );\n\t\n\t\t\tsorting.length = 1;\n\t\t\tsorting[0][1] = asSorting[ nextSortIdx ];\n\t\t\tsorting[0]._idx = nextSortIdx;\n\t\t}\n\t\telse {\n\t\t\t// Single column - sort only on this column\n\t\t\tsorting.length = 0;\n\t\t\tsorting.push( [ colIdx, asSorting[0] ] );\n\t\t\tsorting[0]._idx = 0;\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Set the sorting classes on table's body, Note: it is safe to call this function\n\t * when bSort and bSortClasses are false\n\t *  @param {object} oSettings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnSortingClasses( settings )\n\t{\n\t\tvar oldSort = settings.aLastSort;\n\t\tvar sortClass = settings.oClasses.order.position;\n\t\tvar sort = _fnSortFlatten( settings );\n\t\tvar features = settings.oFeatures;\n\t\tvar i, ien, colIdx;\n\t\n\t\tif ( features.bSort && features.bSortClasses ) {\n\t\t\t// Remove old sorting classes\n\t\t\tfor ( i=0, ien=oldSort.length ; i<ien ; i++ ) {\n\t\t\t\tcolIdx = oldSort[i].src;\n\t\n\t\t\t\t// Remove column sorting\n\t\t\t\t$( _pluck( settings.aoData, 'anCells', colIdx ) )\n\t\t\t\t\t.removeClass( sortClass + (i<2 ? i+1 : 3) );\n\t\t\t}\n\t\n\t\t\t// Add new column sorting\n\t\t\tfor ( i=0, ien=sort.length ; i<ien ; i++ ) {\n\t\t\t\tcolIdx = sort[i].src;\n\t\n\t\t\t\t$( _pluck( settings.aoData, 'anCells', colIdx ) )\n\t\t\t\t\t.addClass( sortClass + (i<2 ? i+1 : 3) );\n\t\t\t}\n\t\t}\n\t\n\t\tsettings.aLastSort = sort;\n\t}\n\t\n\t\n\t// Get the data to sort a column, be it from cache, fresh (populating the\n\t// cache), or from a sort formatter\n\tfunction _fnSortData( settings, colIdx )\n\t{\n\t\t// Custom sorting function - provided by the sort data type\n\t\tvar column = settings.aoColumns[ colIdx ];\n\t\tvar customSort = DataTable.ext.order[ column.sSortDataType ];\n\t\tvar customData;\n\t\n\t\tif ( customSort ) {\n\t\t\tcustomData = customSort.call( settings.oInstance, settings, colIdx,\n\t\t\t\t_fnColumnIndexToVisible( settings, colIdx )\n\t\t\t);\n\t\t}\n\t\n\t\t// Use / populate cache\n\t\tvar row, cellData;\n\t\tvar formatter = DataTable.ext.type.order[ column.sType+\"-pre\" ];\n\t\tvar data = settings.aoData;\n\t\n\t\tfor ( var rowIdx=0 ; rowIdx<data.length ; rowIdx++ ) {\n\t\t\t// Sparse array\n\t\t\tif (! data[rowIdx]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\trow = data[rowIdx];\n\t\n\t\t\tif ( ! row._aSortData ) {\n\t\t\t\trow._aSortData = [];\n\t\t\t}\n\t\n\t\t\tif ( ! row._aSortData[colIdx] || customSort ) {\n\t\t\t\tcellData = customSort ?\n\t\t\t\t\tcustomData[rowIdx] : // If there was a custom sort function, use data from there\n\t\t\t\t\t_fnGetCellData( settings, rowIdx, colIdx, 'sort' );\n\t\n\t\t\t\trow._aSortData[ colIdx ] = formatter ?\n\t\t\t\t\tformatter( cellData, settings ) :\n\t\t\t\t\tcellData;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * State information for a table\n\t *\n\t * @param {*} settings\n\t * @returns State object\n\t */\n\tfunction _fnSaveState ( settings )\n\t{\n\t\tif (settings._bLoadingState) {\n\t\t\treturn;\n\t\t}\n\t\n\t\t/* Store the interesting variables */\n\t\tvar state = {\n\t\t\ttime:    +new Date(),\n\t\t\tstart:   settings._iDisplayStart,\n\t\t\tlength:  settings._iDisplayLength,\n\t\t\torder:   $.extend( true, [], settings.aaSorting ),\n\t\t\tsearch:  $.extend({}, settings.oPreviousSearch),\n\t\t\tcolumns: settings.aoColumns.map( function ( col, i ) {\n\t\t\t\treturn {\n\t\t\t\t\tvisible: col.bVisible,\n\t\t\t\t\tsearch: $.extend({}, settings.aoPreSearchCols[i])\n\t\t\t\t};\n\t\t\t} )\n\t\t};\n\t\n\t\tsettings.oSavedState = state;\n\t\t_fnCallbackFire( settings, \"aoStateSaveParams\", 'stateSaveParams', [settings, state] );\n\t\t\n\t\tif ( settings.oFeatures.bStateSave && !settings.bDestroying )\n\t\t{\n\t\t\tsettings.fnStateSaveCallback.call( settings.oInstance, settings, state );\n\t\t}\t\n\t}\n\t\n\t\n\t/**\n\t * Attempt to load a saved table state\n\t *  @param {object} oSettings dataTables settings object\n\t *  @param {object} oInit DataTables init object so we can override settings\n\t *  @param {function} callback Callback to execute when the state has been loaded\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnLoadState ( settings, init, callback )\n\t{\n\t\tif ( ! settings.oFeatures.bStateSave ) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar loaded = function(state) {\n\t\t\t_fnImplementState(settings, state, callback);\n\t\t}\n\t\n\t\tvar state = settings.fnStateLoadCallback.call( settings.oInstance, settings, loaded );\n\t\n\t\tif ( state !== undefined ) {\n\t\t\t_fnImplementState( settings, state, callback );\n\t\t}\n\t\t// otherwise, wait for the loaded callback to be executed\n\t\n\t\treturn true;\n\t}\n\t\n\tfunction _fnImplementState ( settings, s, callback) {\n\t\tvar i, ien;\n\t\tvar columns = settings.aoColumns;\n\t\tsettings._bLoadingState = true;\n\t\n\t\t// When StateRestore was introduced the state could now be implemented at any time\n\t\t// Not just initialisation. To do this an api instance is required in some places\n\t\tvar api = settings._bInitComplete ? new DataTable.Api(settings) : null;\n\t\n\t\tif ( ! s || ! s.time ) {\n\t\t\tsettings._bLoadingState = false;\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Reject old data\n\t\tvar duration = settings.iStateDuration;\n\t\tif ( duration > 0 && s.time < +new Date() - (duration*1000) ) {\n\t\t\tsettings._bLoadingState = false;\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Allow custom and plug-in manipulation functions to alter the saved data set and\n\t\t// cancelling of loading by returning false\n\t\tvar abStateLoad = _fnCallbackFire( settings, 'aoStateLoadParams', 'stateLoadParams', [settings, s] );\n\t\tif ( abStateLoad.indexOf(false) !== -1 ) {\n\t\t\tsettings._bLoadingState = false;\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Number of columns have changed - all bets are off, no restore of settings\n\t\tif ( s.columns && columns.length !== s.columns.length ) {\n\t\t\tsettings._bLoadingState = false;\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Store the saved state so it might be accessed at any time\n\t\tsettings.oLoadedState = $.extend( true, {}, s );\n\t\n\t\t// This is needed for ColReorder, which has to happen first to allow all\n\t\t// the stored indexes to be usable. It is not publicly documented.\n\t\t_fnCallbackFire( settings, null, 'stateLoadInit', [settings, s], true );\n\t\n\t\t// Page Length\n\t\tif ( s.length !== undefined ) {\n\t\t\t// If already initialised just set the value directly so that the select element is also updated\n\t\t\tif (api) {\n\t\t\t\tapi.page.len(s.length)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsettings._iDisplayLength   = s.length;\n\t\t\t}\n\t\t}\n\t\n\t\t// Restore key features - todo - for 1.11 this needs to be done by\n\t\t// subscribed events\n\t\tif ( s.start !== undefined ) {\n\t\t\tif(api === null) {\n\t\t\t\tsettings._iDisplayStart    = s.start;\n\t\t\t\tsettings.iInitDisplayStart = s.start;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_fnPageChange(settings, s.start/settings._iDisplayLength);\n\t\t\t}\n\t\t}\n\t\n\t\t// Order\n\t\tif ( s.order !== undefined ) {\n\t\t\tsettings.aaSorting = [];\n\t\t\t$.each( s.order, function ( i, col ) {\n\t\t\t\tsettings.aaSorting.push( col[0] >= columns.length ?\n\t\t\t\t\t[ 0, col[1] ] :\n\t\t\t\t\tcol\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\t\n\t\t// Search\n\t\tif ( s.search !== undefined ) {\n\t\t\t$.extend( settings.oPreviousSearch, s.search );\n\t\t}\n\t\n\t\t// Columns\n\t\tif ( s.columns ) {\n\t\t\tfor ( i=0, ien=s.columns.length ; i<ien ; i++ ) {\n\t\t\t\tvar col = s.columns[i];\n\t\n\t\t\t\t// Visibility\n\t\t\t\tif ( col.visible !== undefined ) {\n\t\t\t\t\t// If the api is defined, the table has been initialised so we need to use it rather than internal settings\n\t\t\t\t\tif (api) {\n\t\t\t\t\t\t// Don't redraw the columns on every iteration of this loop, we will do this at the end instead\n\t\t\t\t\t\tapi.column(i).visible(col.visible, false);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcolumns[i].bVisible = col.visible;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t// Search\n\t\t\t\tif ( col.search !== undefined ) {\n\t\t\t\t\t$.extend( settings.aoPreSearchCols[i], col.search );\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// If the api is defined then we need to adjust the columns once the visibility has been changed\n\t\t\tif (api) {\n\t\t\t\tapi.columns.adjust();\n\t\t\t}\n\t\t}\n\t\n\t\tsettings._bLoadingState = false;\n\t\t_fnCallbackFire( settings, 'aoStateLoaded', 'stateLoaded', [settings, s] );\n\t\tcallback();\n\t}\n\t\n\t/**\n\t * Log an error message\n\t *  @param {object} settings dataTables settings object\n\t *  @param {int} level log error messages, or display them to the user\n\t *  @param {string} msg error message\n\t *  @param {int} tn Technical note id to get more information about the error.\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnLog( settings, level, msg, tn )\n\t{\n\t\tmsg = 'DataTables warning: '+\n\t\t\t(settings ? 'table id='+settings.sTableId+' - ' : '')+msg;\n\t\n\t\tif ( tn ) {\n\t\t\tmsg += '. For more information about this error, please see '+\n\t\t\t'https://datatables.net/tn/'+tn;\n\t\t}\n\t\n\t\tif ( ! level  ) {\n\t\t\t// Backwards compatibility pre 1.10\n\t\t\tvar ext = DataTable.ext;\n\t\t\tvar type = ext.sErrMode || ext.errMode;\n\t\n\t\t\tif ( settings ) {\n\t\t\t\t_fnCallbackFire( settings, null, 'dt-error', [ settings, tn, msg ], true );\n\t\t\t}\n\t\n\t\t\tif ( type == 'alert' ) {\n\t\t\t\talert( msg );\n\t\t\t}\n\t\t\telse if ( type == 'throw' ) {\n\t\t\t\tthrow new Error(msg);\n\t\t\t}\n\t\t\telse if ( typeof type == 'function' ) {\n\t\t\t\ttype( settings, tn, msg );\n\t\t\t}\n\t\t}\n\t\telse if ( window.console && console.log ) {\n\t\t\tconsole.log( msg );\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * See if a property is defined on one object, if so assign it to the other object\n\t *  @param {object} ret target object\n\t *  @param {object} src source object\n\t *  @param {string} name property\n\t *  @param {string} [mappedName] name to map too - optional, name used if not given\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnMap( ret, src, name, mappedName )\n\t{\n\t\tif ( Array.isArray( name ) ) {\n\t\t\t$.each( name, function (i, val) {\n\t\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\t\t_fnMap( ret, src, val[0], val[1] );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t_fnMap( ret, src, val );\n\t\t\t\t}\n\t\t\t} );\n\t\n\t\t\treturn;\n\t\t}\n\t\n\t\tif ( mappedName === undefined ) {\n\t\t\tmappedName = name;\n\t\t}\n\t\n\t\tif ( src[name] !== undefined ) {\n\t\t\tret[mappedName] = src[name];\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Extend objects - very similar to jQuery.extend, but deep copy objects, and\n\t * shallow copy arrays. The reason we need to do this, is that we don't want to\n\t * deep copy array init values (such as aaSorting) since the dev wouldn't be\n\t * able to override them, but we do want to deep copy arrays.\n\t *  @param {object} out Object to extend\n\t *  @param {object} extender Object from which the properties will be applied to\n\t *      out\n\t *  @param {boolean} breakRefs If true, then arrays will be sliced to take an\n\t *      independent copy with the exception of the `data` or `aaData` parameters\n\t *      if they are present. This is so you can pass in a collection to\n\t *      DataTables and have that used as your data source without breaking the\n\t *      references\n\t *  @returns {object} out Reference, just for convenience - out === the return.\n\t *  @memberof DataTable#oApi\n\t *  @todo This doesn't take account of arrays inside the deep copied objects.\n\t */\n\tfunction _fnExtend( out, extender, breakRefs )\n\t{\n\t\tvar val;\n\t\n\t\tfor ( var prop in extender ) {\n\t\t\tif ( Object.prototype.hasOwnProperty.call(extender, prop) ) {\n\t\t\t\tval = extender[prop];\n\t\n\t\t\t\tif ( $.isPlainObject( val ) ) {\n\t\t\t\t\tif ( ! $.isPlainObject( out[prop] ) ) {\n\t\t\t\t\t\tout[prop] = {};\n\t\t\t\t\t}\n\t\t\t\t\t$.extend( true, out[prop], val );\n\t\t\t\t}\n\t\t\t\telse if ( breakRefs && prop !== 'data' && prop !== 'aaData' && Array.isArray(val) ) {\n\t\t\t\t\tout[prop] = val.slice();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tout[prop] = val;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn out;\n\t}\n\t\n\t\n\t/**\n\t * Bind an event handers to allow a click or return key to activate the callback.\n\t * This is good for accessibility since a return on the keyboard will have the\n\t * same effect as a click, if the element has focus.\n\t *  @param {element} n Element to bind the action to\n\t *  @param {object|string} selector Selector (for delegated events) or data object\n\t *   to pass to the triggered function\n\t *  @param {function} fn Callback function for when the event is triggered\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnBindAction( n, selector, fn )\n\t{\n\t\t$(n)\n\t\t\t.on( 'click.DT', selector, function (e) {\n\t\t\t\tfn(e);\n\t\t\t} )\n\t\t\t.on( 'keypress.DT', selector, function (e){\n\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tfn(e);\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.on( 'selectstart.DT', selector, function () {\n\t\t\t\t// Don't want a double click resulting in text selection\n\t\t\t\treturn false;\n\t\t\t} );\n\t}\n\t\n\t\n\t/**\n\t * Register a callback function. Easily allows a callback function to be added to\n\t * an array store of callback functions that can then all be called together.\n\t *  @param {object} settings dataTables settings object\n\t *  @param {string} store Name of the array storage for the callbacks in oSettings\n\t *  @param {function} fn Function to be called back\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnCallbackReg( settings, store, fn )\n\t{\n\t\tif ( fn ) {\n\t\t\tsettings[store].push(fn);\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Fire callback functions and trigger events. Note that the loop over the\n\t * callback array store is done backwards! Further note that you do not want to\n\t * fire off triggers in time sensitive applications (for example cell creation)\n\t * as its slow.\n\t *  @param {object} settings dataTables settings object\n\t *  @param {string} callbackArr Name of the array storage for the callbacks in\n\t *      oSettings\n\t *  @param {string} eventName Name of the jQuery custom event to trigger. If\n\t *      null no trigger is fired\n\t *  @param {array} args Array of arguments to pass to the callback function /\n\t *      trigger\n\t *  @param {boolean} [bubbles] True if the event should bubble\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnCallbackFire( settings, callbackArr, eventName, args, bubbles )\n\t{\n\t\tvar ret = [];\n\t\n\t\tif ( callbackArr ) {\n\t\t\tret = settings[callbackArr].slice().reverse().map( function (val) {\n\t\t\t\treturn val.apply( settings.oInstance, args );\n\t\t\t} );\n\t\t}\n\t\n\t\tif ( eventName !== null) {\n\t\t\tvar e = $.Event( eventName+'.dt' );\n\t\t\tvar table = $(settings.nTable);\n\t\t\t\n\t\t\t// Expose the DataTables API on the event object for easy access\n\t\t\te.dt = settings.api;\n\t\n\t\t\ttable[bubbles ?  'trigger' : 'triggerHandler']( e, args );\n\t\n\t\t\t// If not yet attached to the document, trigger the event\n\t\t\t// on the body directly to sort of simulate the bubble\n\t\t\tif (bubbles && table.parents('body').length === 0) {\n\t\t\t\t$('body').trigger( e, args );\n\t\t\t}\n\t\n\t\t\tret.push( e.result );\n\t\t}\n\t\n\t\treturn ret;\n\t}\n\t\n\t\n\tfunction _fnLengthOverflow ( settings )\n\t{\n\t\tvar\n\t\t\tstart = settings._iDisplayStart,\n\t\t\tend = settings.fnDisplayEnd(),\n\t\t\tlen = settings._iDisplayLength;\n\t\n\t\t/* If we have space to show extra rows (backing up from the end point - then do so */\n\t\tif ( start >= end )\n\t\t{\n\t\t\tstart = end - len;\n\t\t}\n\t\n\t\t// Keep the start record on the current page\n\t\tstart -= (start % len);\n\t\n\t\tif ( len === -1 || start < 0 )\n\t\t{\n\t\t\tstart = 0;\n\t\t}\n\t\n\t\tsettings._iDisplayStart = start;\n\t}\n\t\n\t\n\tfunction _fnRenderer( settings, type )\n\t{\n\t\tvar renderer = settings.renderer;\n\t\tvar host = DataTable.ext.renderer[type];\n\t\n\t\tif ( $.isPlainObject( renderer ) && renderer[type] ) {\n\t\t\t// Specific renderer for this type. If available use it, otherwise use\n\t\t\t// the default.\n\t\t\treturn host[renderer[type]] || host._;\n\t\t}\n\t\telse if ( typeof renderer === 'string' ) {\n\t\t\t// Common renderer - if there is one available for this type use it,\n\t\t\t// otherwise use the default\n\t\t\treturn host[renderer] || host._;\n\t\t}\n\t\n\t\t// Use the default\n\t\treturn host._;\n\t}\n\t\n\t\n\t/**\n\t * Detect the data source being used for the table. Used to simplify the code\n\t * a little (ajax) and to make it compress a little smaller.\n\t *\n\t *  @param {object} settings dataTables settings object\n\t *  @returns {string} Data source\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnDataSource ( settings )\n\t{\n\t\tif ( settings.oFeatures.bServerSide ) {\n\t\t\treturn 'ssp';\n\t\t}\n\t\telse if ( settings.ajax ) {\n\t\t\treturn 'ajax';\n\t\t}\n\t\treturn 'dom';\n\t}\n\t\n\t/**\n\t * Common replacement for language strings\n\t *\n\t * @param {*} settings DT settings object\n\t * @param {*} str String with values to replace\n\t * @param {*} entries Plural number for _ENTRIES_ - can be undefined\n\t * @returns String\n\t */\n\tfunction _fnMacros ( settings, str, entries )\n\t{\n\t\t// When infinite scrolling, we are always starting at 1. _iDisplayStart is\n\t\t// used only internally\n\t\tvar\n\t\t\tformatter  = settings.fnFormatNumber,\n\t\t\tstart      = settings._iDisplayStart+1,\n\t\t\tlen        = settings._iDisplayLength,\n\t\t\tvis        = settings.fnRecordsDisplay(),\n\t\t\tmax        = settings.fnRecordsTotal(),\n\t\t\tall        = len === -1;\n\t\n\t\treturn str.\n\t\t\treplace(/_START_/g, formatter.call( settings, start ) ).\n\t\t\treplace(/_END_/g,   formatter.call( settings, settings.fnDisplayEnd() ) ).\n\t\t\treplace(/_MAX_/g,   formatter.call( settings, max ) ).\n\t\t\treplace(/_TOTAL_/g, formatter.call( settings, vis ) ).\n\t\t\treplace(/_PAGE_/g,  formatter.call( settings, all ? 1 : Math.ceil( start / len ) ) ).\n\t\t\treplace(/_PAGES_/g, formatter.call( settings, all ? 1 : Math.ceil( vis / len ) ) ).\n\t\t\treplace(/_ENTRIES_/g, settings.api.i18n('entries', '', entries) ).\n\t\t\treplace(/_ENTRIES-MAX_/g, settings.api.i18n('entries', '', max) ).\n\t\t\treplace(/_ENTRIES-TOTAL_/g, settings.api.i18n('entries', '', vis) );\n\t}\n\t\n\t\n\t\n\t/**\n\t * Computed structure of the DataTables API, defined by the options passed to\n\t * `DataTable.Api.register()` when building the API.\n\t *\n\t * The structure is built in order to speed creation and extension of the Api\n\t * objects since the extensions are effectively pre-parsed.\n\t *\n\t * The array is an array of objects with the following structure, where this\n\t * base array represents the Api prototype base:\n\t *\n\t *     [\n\t *       {\n\t *         name:      'data'                -- string   - Property name\n\t *         val:       function () {},       -- function - Api method (or undefined if just an object\n\t *         methodExt: [ ... ],              -- array    - Array of Api object definitions to extend the method result\n\t *         propExt:   [ ... ]               -- array    - Array of Api object definitions to extend the property\n\t *       },\n\t *       {\n\t *         name:     'row'\n\t *         val:       {},\n\t *         methodExt: [ ... ],\n\t *         propExt:   [\n\t *           {\n\t *             name:      'data'\n\t *             val:       function () {},\n\t *             methodExt: [ ... ],\n\t *             propExt:   [ ... ]\n\t *           },\n\t *           ...\n\t *         ]\n\t *       }\n\t *     ]\n\t *\n\t * @type {Array}\n\t * @ignore\n\t */\n\tvar __apiStruct = [];\n\t\n\t\n\t/**\n\t * `Array.prototype` reference.\n\t *\n\t * @type object\n\t * @ignore\n\t */\n\tvar __arrayProto = Array.prototype;\n\t\n\t\n\t/**\n\t * Abstraction for `context` parameter of the `Api` constructor to allow it to\n\t * take several different forms for ease of use.\n\t *\n\t * Each of the input parameter types will be converted to a DataTables settings\n\t * object where possible.\n\t *\n\t * @param  {string|node|jQuery|object} mixed DataTable identifier. Can be one\n\t *   of:\n\t *\n\t *   * `string` - jQuery selector. Any DataTables' matching the given selector\n\t *     with be found and used.\n\t *   * `node` - `TABLE` node which has already been formed into a DataTable.\n\t *   * `jQuery` - A jQuery object of `TABLE` nodes.\n\t *   * `object` - DataTables settings object\n\t *   * `DataTables.Api` - API instance\n\t * @return {array|null} Matching DataTables settings objects. `null` or\n\t *   `undefined` is returned if no matching DataTable is found.\n\t * @ignore\n\t */\n\tvar _toSettings = function ( mixed )\n\t{\n\t\tvar idx, jq;\n\t\tvar settings = DataTable.settings;\n\t\tvar tables = _pluck(settings, 'nTable');\n\t\n\t\tif ( ! mixed ) {\n\t\t\treturn [];\n\t\t}\n\t\telse if ( mixed.nTable && mixed.oFeatures ) {\n\t\t\t// DataTables settings object\n\t\t\treturn [ mixed ];\n\t\t}\n\t\telse if ( mixed.nodeName && mixed.nodeName.toLowerCase() === 'table' ) {\n\t\t\t// Table node\n\t\t\tidx = tables.indexOf(mixed);\n\t\t\treturn idx !== -1 ? [ settings[idx] ] : null;\n\t\t}\n\t\telse if ( mixed && typeof mixed.settings === 'function' ) {\n\t\t\treturn mixed.settings().toArray();\n\t\t}\n\t\telse if ( typeof mixed === 'string' ) {\n\t\t\t// jQuery selector\n\t\t\tjq = $(mixed).get();\n\t\t}\n\t\telse if ( mixed instanceof $ ) {\n\t\t\t// jQuery object (also DataTables instance)\n\t\t\tjq = mixed.get();\n\t\t}\n\t\n\t\tif ( jq ) {\n\t\t\treturn settings.filter(function (v, idx) {\n\t\t\t\treturn jq.includes(tables[idx]);\n\t\t\t});\n\t\t}\n\t};\n\t\n\t\n\t/**\n\t * DataTables API class - used to control and interface with  one or more\n\t * DataTables enhanced tables.\n\t *\n\t * The API class is heavily based on jQuery, presenting a chainable interface\n\t * that you can use to interact with tables. Each instance of the API class has\n\t * a \"context\" - i.e. the tables that it will operate on. This could be a single\n\t * table, all tables on a page or a sub-set thereof.\n\t *\n\t * Additionally the API is designed to allow you to easily work with the data in\n\t * the tables, retrieving and manipulating it as required. This is done by\n\t * presenting the API class as an array like interface. The contents of the\n\t * array depend upon the actions requested by each method (for example\n\t * `rows().nodes()` will return an array of nodes, while `rows().data()` will\n\t * return an array of objects or arrays depending upon your table's\n\t * configuration). The API object has a number of array like methods (`push`,\n\t * `pop`, `reverse` etc) as well as additional helper methods (`each`, `pluck`,\n\t * `unique` etc) to assist your working with the data held in a table.\n\t *\n\t * Most methods (those which return an Api instance) are chainable, which means\n\t * the return from a method call also has all of the methods available that the\n\t * top level object had. For example, these two calls are equivalent:\n\t *\n\t *     // Not chained\n\t *     api.row.add( {...} );\n\t *     api.draw();\n\t *\n\t *     // Chained\n\t *     api.row.add( {...} ).draw();\n\t *\n\t * @class DataTable.Api\n\t * @param {array|object|string|jQuery} context DataTable identifier. This is\n\t *   used to define which DataTables enhanced tables this API will operate on.\n\t *   Can be one of:\n\t *\n\t *   * `string` - jQuery selector. Any DataTables' matching the given selector\n\t *     with be found and used.\n\t *   * `node` - `TABLE` node which has already been formed into a DataTable.\n\t *   * `jQuery` - A jQuery object of `TABLE` nodes.\n\t *   * `object` - DataTables settings object\n\t * @param {array} [data] Data to initialise the Api instance with.\n\t *\n\t * @example\n\t *   // Direct initialisation during DataTables construction\n\t *   var api = $('#example').DataTable();\n\t *\n\t * @example\n\t *   // Initialisation using a DataTables jQuery object\n\t *   var api = $('#example').dataTable().api();\n\t *\n\t * @example\n\t *   // Initialisation as a constructor\n\t *   var api = new DataTable.Api( 'table.dataTable' );\n\t */\n\t_Api = function ( context, data )\n\t{\n\t\tif ( ! (this instanceof _Api) ) {\n\t\t\treturn new _Api( context, data );\n\t\t}\n\t\n\t\tvar settings = [];\n\t\tvar ctxSettings = function ( o ) {\n\t\t\tvar a = _toSettings( o );\n\t\t\tif ( a ) {\n\t\t\t\tsettings.push.apply( settings, a );\n\t\t\t}\n\t\t};\n\t\n\t\tif ( Array.isArray( context ) ) {\n\t\t\tfor ( var i=0, ien=context.length ; i<ien ; i++ ) {\n\t\t\t\tctxSettings( context[i] );\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tctxSettings( context );\n\t\t}\n\t\n\t\t// Remove duplicates\n\t\tthis.context = settings.length > 1\n\t\t\t? _unique( settings )\n\t\t\t: settings;\n\t\n\t\t// Initial data\n\t\tif ( data ) {\n\t\t\tthis.push.apply(this, data);\n\t\t}\n\t\n\t\t// selector\n\t\tthis.selector = {\n\t\t\trows: null,\n\t\t\tcols: null,\n\t\t\topts: null\n\t\t};\n\t\n\t\t_Api.extend( this, this, __apiStruct );\n\t};\n\t\n\tDataTable.Api = _Api;\n\t\n\t// Don't destroy the existing prototype, just extend it. Required for jQuery 2's\n\t// isPlainObject.\n\t$.extend( _Api.prototype, {\n\t\tany: function ()\n\t\t{\n\t\t\treturn this.count() !== 0;\n\t\t},\n\t\n\t\tcontext: [], // array of table settings objects\n\t\n\t\tcount: function ()\n\t\t{\n\t\t\treturn this.flatten().length;\n\t\t},\n\t\n\t\teach: function ( fn )\n\t\t{\n\t\t\tfor ( var i=0, ien=this.length ; i<ien; i++ ) {\n\t\t\t\tfn.call( this, this[i], i, this );\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t},\n\t\n\t\teq: function ( idx )\n\t\t{\n\t\t\tvar ctx = this.context;\n\t\n\t\t\treturn ctx.length > idx ?\n\t\t\t\tnew _Api( ctx[idx], this[idx] ) :\n\t\t\t\tnull;\n\t\t},\n\t\n\t\tfilter: function ( fn )\n\t\t{\n\t\t\tvar a = __arrayProto.filter.call( this, fn, this );\n\t\n\t\t\treturn new _Api( this.context, a );\n\t\t},\n\t\n\t\tflatten: function ()\n\t\t{\n\t\t\tvar a = [];\n\t\n\t\t\treturn new _Api( this.context, a.concat.apply( a, this.toArray() ) );\n\t\t},\n\t\n\t\tget: function ( idx )\n\t\t{\n\t\t\treturn this[ idx ];\n\t\t},\n\t\n\t\tjoin:    __arrayProto.join,\n\t\n\t\tincludes: function ( find ) {\n\t\t\treturn this.indexOf( find ) === -1 ? false : true;\n\t\t},\n\t\n\t\tindexOf: __arrayProto.indexOf,\n\t\n\t\titerator: function ( flatten, type, fn, alwaysNew ) {\n\t\t\tvar\n\t\t\t\ta = [], ret,\n\t\t\t\ti, ien, j, jen,\n\t\t\t\tcontext = this.context,\n\t\t\t\trows, items, item,\n\t\t\t\tselector = this.selector;\n\t\n\t\t\t// Argument shifting\n\t\t\tif ( typeof flatten === 'string' ) {\n\t\t\t\talwaysNew = fn;\n\t\t\t\tfn = type;\n\t\t\t\ttype = flatten;\n\t\t\t\tflatten = false;\n\t\t\t}\n\t\n\t\t\tfor ( i=0, ien=context.length ; i<ien ; i++ ) {\n\t\t\t\tvar apiInst = new _Api( context[i] );\n\t\n\t\t\t\tif ( type === 'table' ) {\n\t\t\t\t\tret = fn.call( apiInst, context[i], i );\n\t\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\ta.push( ret );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if ( type === 'columns' || type === 'rows' ) {\n\t\t\t\t\t// this has same length as context - one entry for each table\n\t\t\t\t\tret = fn.call( apiInst, context[i], this[i], i );\n\t\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\ta.push( ret );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if ( type === 'every' || type === 'column' || type === 'column-rows' || type === 'row' || type === 'cell' ) {\n\t\t\t\t\t// columns and rows share the same structure.\n\t\t\t\t\t// 'this' is an array of column indexes for each context\n\t\t\t\t\titems = this[i];\n\t\n\t\t\t\t\tif ( type === 'column-rows' ) {\n\t\t\t\t\t\trows = _selector_row_indexes( context[i], selector.opts );\n\t\t\t\t\t}\n\t\n\t\t\t\t\tfor ( j=0, jen=items.length ; j<jen ; j++ ) {\n\t\t\t\t\t\titem = items[j];\n\t\n\t\t\t\t\t\tif ( type === 'cell' ) {\n\t\t\t\t\t\t\tret = fn.call( apiInst, context[i], item.row, item.column, i, j );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tret = fn.call( apiInst, context[i], item, i, j, rows );\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\t\ta.push( ret );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif ( a.length || alwaysNew ) {\n\t\t\t\tvar api = new _Api( context, flatten ? a.concat.apply( [], a ) : a );\n\t\t\t\tvar apiSelector = api.selector;\n\t\t\t\tapiSelector.rows = selector.rows;\n\t\t\t\tapiSelector.cols = selector.cols;\n\t\t\t\tapiSelector.opts = selector.opts;\n\t\t\t\treturn api;\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\n\t\tlastIndexOf: __arrayProto.lastIndexOf,\n\t\n\t\tlength:  0,\n\t\n\t\tmap: function ( fn )\n\t\t{\n\t\t\tvar a = __arrayProto.map.call( this, fn, this );\n\t\n\t\t\treturn new _Api( this.context, a );\n\t\t},\n\t\n\t\tpluck: function ( prop )\n\t\t{\n\t\t\tvar fn = DataTable.util.get(prop);\n\t\n\t\t\treturn this.map( function ( el ) {\n\t\t\t\treturn fn(el);\n\t\t\t} );\n\t\t},\n\t\n\t\tpop:     __arrayProto.pop,\n\t\n\t\tpush:    __arrayProto.push,\n\t\n\t\treduce: __arrayProto.reduce,\n\t\n\t\treduceRight: __arrayProto.reduceRight,\n\t\n\t\treverse: __arrayProto.reverse,\n\t\n\t\t// Object with rows, columns and opts\n\t\tselector: null,\n\t\n\t\tshift:   __arrayProto.shift,\n\t\n\t\tslice: function () {\n\t\t\treturn new _Api( this.context, this );\n\t\t},\n\t\n\t\tsort:    __arrayProto.sort,\n\t\n\t\tsplice:  __arrayProto.splice,\n\t\n\t\ttoArray: function ()\n\t\t{\n\t\t\treturn __arrayProto.slice.call( this );\n\t\t},\n\t\n\t\tto$: function ()\n\t\t{\n\t\t\treturn $( this );\n\t\t},\n\t\n\t\ttoJQuery: function ()\n\t\t{\n\t\t\treturn $( this );\n\t\t},\n\t\n\t\tunique: function ()\n\t\t{\n\t\t\treturn new _Api( this.context, _unique(this.toArray()) );\n\t\t},\n\t\n\t\tunshift: __arrayProto.unshift\n\t} );\n\t\n\t\n\tfunction _api_scope( scope, fn, struc ) {\n\t\treturn function () {\n\t\t\tvar ret = fn.apply( scope || this, arguments );\n\t\n\t\t\t// Method extension\n\t\t\t_Api.extend( ret, ret, struc.methodExt );\n\t\t\treturn ret;\n\t\t};\n\t}\n\t\n\tfunction _api_find( src, name ) {\n\t\tfor ( var i=0, ien=src.length ; i<ien ; i++ ) {\n\t\t\tif ( src[i].name === name ) {\n\t\t\t\treturn src[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\t\n\twindow.__apiStruct = __apiStruct;\n\t\n\t_Api.extend = function ( scope, obj, ext )\n\t{\n\t\t// Only extend API instances and static properties of the API\n\t\tif ( ! ext.length || ! obj || ( ! (obj instanceof _Api) && ! obj.__dt_wrapper ) ) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar\n\t\t\ti, ien,\n\t\t\tstruct;\n\t\n\t\tfor ( i=0, ien=ext.length ; i<ien ; i++ ) {\n\t\t\tstruct = ext[i];\n\t\n\t\t\tif (struct.name === '__proto__') {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\t// Value\n\t\t\tobj[ struct.name ] = struct.type === 'function' ?\n\t\t\t\t_api_scope( scope, struct.val, struct ) :\n\t\t\t\tstruct.type === 'object' ?\n\t\t\t\t\t{} :\n\t\t\t\t\tstruct.val;\n\t\n\t\t\tobj[ struct.name ].__dt_wrapper = true;\n\t\n\t\t\t// Property extension\n\t\t\t_Api.extend( scope, obj[ struct.name ], struct.propExt );\n\t\t}\n\t};\n\t\n\t//     [\n\t//       {\n\t//         name:      'data'                -- string   - Property name\n\t//         val:       function () {},       -- function - Api method (or undefined if just an object\n\t//         methodExt: [ ... ],              -- array    - Array of Api object definitions to extend the method result\n\t//         propExt:   [ ... ]               -- array    - Array of Api object definitions to extend the property\n\t//       },\n\t//       {\n\t//         name:     'row'\n\t//         val:       {},\n\t//         methodExt: [ ... ],\n\t//         propExt:   [\n\t//           {\n\t//             name:      'data'\n\t//             val:       function () {},\n\t//             methodExt: [ ... ],\n\t//             propExt:   [ ... ]\n\t//           },\n\t//           ...\n\t//         ]\n\t//       }\n\t//     ]\n\t\n\t\n\t_Api.register = _api_register = function ( name, val )\n\t{\n\t\tif ( Array.isArray( name ) ) {\n\t\t\tfor ( var j=0, jen=name.length ; j<jen ; j++ ) {\n\t\t\t\t_Api.register( name[j], val );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar\n\t\t\ti, ien,\n\t\t\their = name.split('.'),\n\t\t\tstruct = __apiStruct,\n\t\t\tkey, method;\n\t\n\t\tfor ( i=0, ien=heir.length ; i<ien ; i++ ) {\n\t\t\tmethod = heir[i].indexOf('()') !== -1;\n\t\t\tkey = method ?\n\t\t\t\their[i].replace('()', '') :\n\t\t\t\their[i];\n\t\n\t\t\tvar src = _api_find( struct, key );\n\t\t\tif ( ! src ) {\n\t\t\t\tsrc = {\n\t\t\t\t\tname:      key,\n\t\t\t\t\tval:       {},\n\t\t\t\t\tmethodExt: [],\n\t\t\t\t\tpropExt:   [],\n\t\t\t\t\ttype:      'object'\n\t\t\t\t};\n\t\t\t\tstruct.push( src );\n\t\t\t}\n\t\n\t\t\tif ( i === ien-1 ) {\n\t\t\t\tsrc.val = val;\n\t\t\t\tsrc.type = typeof val === 'function' ?\n\t\t\t\t\t'function' :\n\t\t\t\t\t$.isPlainObject( val ) ?\n\t\t\t\t\t\t'object' :\n\t\t\t\t\t\t'other';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstruct = method ?\n\t\t\t\t\tsrc.methodExt :\n\t\t\t\t\tsrc.propExt;\n\t\t\t}\n\t\t}\n\t};\n\t\n\t_Api.registerPlural = _api_registerPlural = function ( pluralName, singularName, val ) {\n\t\t_Api.register( pluralName, val );\n\t\n\t\t_Api.register( singularName, function () {\n\t\t\tvar ret = val.apply( this, arguments );\n\t\n\t\t\tif ( ret === this ) {\n\t\t\t\t// Returned item is the API instance that was passed in, return it\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\telse if ( ret instanceof _Api ) {\n\t\t\t\t// New API instance returned, want the value from the first item\n\t\t\t\t// in the returned array for the singular result.\n\t\t\t\treturn ret.length ?\n\t\t\t\t\tArray.isArray( ret[0] ) ?\n\t\t\t\t\t\tnew _Api( ret.context, ret[0] ) : // Array results are 'enhanced'\n\t\t\t\t\t\tret[0] :\n\t\t\t\t\tundefined;\n\t\t\t}\n\t\n\t\t\t// Non-API return - just fire it back\n\t\t\treturn ret;\n\t\t} );\n\t};\n\t\n\t\n\t/**\n\t * Selector for HTML tables. Apply the given selector to the give array of\n\t * DataTables settings objects.\n\t *\n\t * @param {string|integer} [selector] jQuery selector string or integer\n\t * @param  {array} Array of DataTables settings objects to be filtered\n\t * @return {array}\n\t * @ignore\n\t */\n\tvar __table_selector = function ( selector, a )\n\t{\n\t\tif ( Array.isArray(selector) ) {\n\t\t\tvar result = [];\n\t\n\t\t\tselector.forEach(function (sel) {\n\t\t\t\tvar inner = __table_selector(sel, a);\n\t\n\t\t\t\tresult.push.apply(result, inner);\n\t\t\t});\n\t\n\t\t\treturn result.filter( function (item) {\n\t\t\t\treturn item;\n\t\t\t});\n\t\t}\n\t\n\t\t// Integer is used to pick out a table by index\n\t\tif ( typeof selector === 'number' ) {\n\t\t\treturn [ a[ selector ] ];\n\t\t}\n\t\n\t\t// Perform a jQuery selector on the table nodes\n\t\tvar nodes = a.map( function (el) {\n\t\t\treturn el.nTable;\n\t\t} );\n\t\n\t\treturn $(nodes)\n\t\t\t.filter( selector )\n\t\t\t.map( function () {\n\t\t\t\t// Need to translate back from the table node to the settings\n\t\t\t\tvar idx = nodes.indexOf(this);\n\t\t\t\treturn a[ idx ];\n\t\t\t} )\n\t\t\t.toArray();\n\t};\n\t\n\t\n\t\n\t/**\n\t * Context selector for the API's context (i.e. the tables the API instance\n\t * refers to.\n\t *\n\t * @name    DataTable.Api#tables\n\t * @param {string|integer} [selector] Selector to pick which tables the iterator\n\t *   should operate on. If not given, all tables in the current context are\n\t *   used. This can be given as a jQuery selector (for example `':gt(0)'`) to\n\t *   select multiple tables or as an integer to select a single table.\n\t * @returns {DataTable.Api} Returns a new API instance if a selector is given.\n\t */\n\t_api_register( 'tables()', function ( selector ) {\n\t\t// A new instance is created if there was a selector specified\n\t\treturn selector !== undefined && selector !== null ?\n\t\t\tnew _Api( __table_selector( selector, this.context ) ) :\n\t\t\tthis;\n\t} );\n\t\n\t\n\t_api_register( 'table()', function ( selector ) {\n\t\tvar tables = this.tables( selector );\n\t\tvar ctx = tables.context;\n\t\n\t\t// Truncate to the first matched table\n\t\treturn ctx.length ?\n\t\t\tnew _Api( ctx[0] ) :\n\t\t\ttables;\n\t} );\n\t\n\t// Common methods, combined to reduce size\n\t[\n\t\t['nodes', 'node', 'nTable'],\n\t\t['body', 'body', 'nTBody'],\n\t\t['header', 'header', 'nTHead'],\n\t\t['footer', 'footer', 'nTFoot'],\n\t].forEach(function (item) {\n\t\t_api_registerPlural(\n\t\t\t'tables().' + item[0] + '()',\n\t\t\t'table().' + item[1] + '()' ,\n\t\t\tfunction () {\n\t\t\t\treturn this.iterator( 'table', function ( ctx ) {\n\t\t\t\t\treturn ctx[item[2]];\n\t\t\t\t}, 1 );\n\t\t\t}\n\t\t);\n\t});\n\t\n\t// Structure methods\n\t[\n\t\t['header', 'aoHeader'],\n\t\t['footer', 'aoFooter'],\n\t].forEach(function (item) {\n\t\t_api_register( 'table().' + item[0] + '.structure()' , function (selector) {\n\t\t\tvar indexes = this.columns(selector).indexes().flatten();\n\t\t\tvar ctx = this.context[0];\n\t\t\t\n\t\t\treturn _fnHeaderLayout(ctx, ctx[item[1]], indexes);\n\t\t} );\n\t})\n\t\n\t\n\t_api_registerPlural( 'tables().containers()', 'table().container()' , function () {\n\t\treturn this.iterator( 'table', function ( ctx ) {\n\t\t\treturn ctx.nTableWrapper;\n\t\t}, 1 );\n\t} );\n\t\n\t_api_register( 'tables().every()', function ( fn ) {\n\t\tvar that = this;\n\t\n\t\treturn this.iterator('table', function (s, i) {\n\t\t\tfn.call(that.table(i), i);\n\t\t});\n\t});\n\t\n\t_api_register( 'caption()', function ( value, side ) {\n\t\tvar context = this.context;\n\t\n\t\t// Getter - return existing node's content\n\t\tif ( value === undefined ) {\n\t\t\tvar caption = context[0].captionNode;\n\t\n\t\t\treturn caption && context.length ?\n\t\t\t\tcaption.innerHTML : \n\t\t\t\tnull;\n\t\t}\n\t\n\t\treturn this.iterator( 'table', function ( ctx ) {\n\t\t\tvar table = $(ctx.nTable);\n\t\t\tvar caption = $(ctx.captionNode);\n\t\t\tvar container = $(ctx.nTableWrapper);\n\t\n\t\t\t// Create the node if it doesn't exist yet\n\t\t\tif ( ! caption.length ) {\n\t\t\t\tcaption = $('<caption/>').html( value );\n\t\t\t\tctx.captionNode = caption[0];\n\t\n\t\t\t\t// If side isn't set, we need to insert into the document to let the\n\t\t\t\t// CSS decide so we can read it back, otherwise there is no way to\n\t\t\t\t// know if the CSS would put it top or bottom for scrolling\n\t\t\t\tif (! side) {\n\t\t\t\t\ttable.prepend(caption);\n\t\n\t\t\t\t\tside = caption.css('caption-side');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tcaption.html( value );\n\t\n\t\t\tif ( side ) {\n\t\t\t\tcaption.css( 'caption-side', side );\n\t\t\t\tcaption[0]._captionSide = side;\n\t\t\t}\n\t\n\t\t\tif (container.find('div.dataTables_scroll').length) {\n\t\t\t\tvar selector = (side === 'top' ? 'Head' : 'Foot');\n\t\n\t\t\t\tcontainer.find('div.dataTables_scroll'+ selector +' table').prepend(caption);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttable.prepend(caption);\n\t\t\t}\n\t\t}, 1 );\n\t} );\n\t\n\t_api_register( 'caption.node()', function () {\n\t\tvar ctx = this.context;\n\t\n\t\treturn ctx.length ? ctx[0].captionNode : null;\n\t} );\n\t\n\t\n\t/**\n\t * Redraw the tables in the current context.\n\t */\n\t_api_register( 'draw()', function ( paging ) {\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\tif ( paging === 'page' ) {\n\t\t\t\t_fnDraw( settings );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( typeof paging === 'string' ) {\n\t\t\t\t\tpaging = paging === 'full-hold' ?\n\t\t\t\t\t\tfalse :\n\t\t\t\t\t\ttrue;\n\t\t\t\t}\n\t\n\t\t\t\t_fnReDraw( settings, paging===false );\n\t\t\t}\n\t\t} );\n\t} );\n\t\n\t\n\t\n\t/**\n\t * Get the current page index.\n\t *\n\t * @return {integer} Current page index (zero based)\n\t *//**\n\t * Set the current page.\n\t *\n\t * Note that if you attempt to show a page which does not exist, DataTables will\n\t * not throw an error, but rather reset the paging.\n\t *\n\t * @param {integer|string} action The paging action to take. This can be one of:\n\t *  * `integer` - The page index to jump to\n\t *  * `string` - An action to take:\n\t *    * `first` - Jump to first page.\n\t *    * `next` - Jump to the next page\n\t *    * `previous` - Jump to previous page\n\t *    * `last` - Jump to the last page.\n\t * @returns {DataTables.Api} this\n\t */\n\t_api_register( 'page()', function ( action ) {\n\t\tif ( action === undefined ) {\n\t\t\treturn this.page.info().page; // not an expensive call\n\t\t}\n\t\n\t\t// else, have an action to take on all tables\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\t_fnPageChange( settings, action );\n\t\t} );\n\t} );\n\t\n\t\n\t/**\n\t * Paging information for the first table in the current context.\n\t *\n\t * If you require paging information for another table, use the `table()` method\n\t * with a suitable selector.\n\t *\n\t * @return {object} Object with the following properties set:\n\t *  * `page` - Current page index (zero based - i.e. the first page is `0`)\n\t *  * `pages` - Total number of pages\n\t *  * `start` - Display index for the first record shown on the current page\n\t *  * `end` - Display index for the last record shown on the current page\n\t *  * `length` - Display length (number of records). Note that generally `start\n\t *    + length = end`, but this is not always true, for example if there are\n\t *    only 2 records to show on the final page, with a length of 10.\n\t *  * `recordsTotal` - Full data set length\n\t *  * `recordsDisplay` - Data set length once the current filtering criterion\n\t *    are applied.\n\t */\n\t_api_register( 'page.info()', function () {\n\t\tif ( this.context.length === 0 ) {\n\t\t\treturn undefined;\n\t\t}\n\t\n\t\tvar\n\t\t\tsettings   = this.context[0],\n\t\t\tstart      = settings._iDisplayStart,\n\t\t\tlen        = settings.oFeatures.bPaginate ? settings._iDisplayLength : -1,\n\t\t\tvisRecords = settings.fnRecordsDisplay(),\n\t\t\tall        = len === -1;\n\t\n\t\treturn {\n\t\t\t\"page\":           all ? 0 : Math.floor( start / len ),\n\t\t\t\"pages\":          all ? 1 : Math.ceil( visRecords / len ),\n\t\t\t\"start\":          start,\n\t\t\t\"end\":            settings.fnDisplayEnd(),\n\t\t\t\"length\":         len,\n\t\t\t\"recordsTotal\":   settings.fnRecordsTotal(),\n\t\t\t\"recordsDisplay\": visRecords,\n\t\t\t\"serverSide\":     _fnDataSource( settings ) === 'ssp'\n\t\t};\n\t} );\n\t\n\t\n\t/**\n\t * Get the current page length.\n\t *\n\t * @return {integer} Current page length. Note `-1` indicates that all records\n\t *   are to be shown.\n\t *//**\n\t * Set the current page length.\n\t *\n\t * @param {integer} Page length to set. Use `-1` to show all records.\n\t * @returns {DataTables.Api} this\n\t */\n\t_api_register( 'page.len()', function ( len ) {\n\t\t// Note that we can't call this function 'length()' because `length`\n\t\t// is a Javascript property of functions which defines how many arguments\n\t\t// the function expects.\n\t\tif ( len === undefined ) {\n\t\t\treturn this.context.length !== 0 ?\n\t\t\t\tthis.context[0]._iDisplayLength :\n\t\t\t\tundefined;\n\t\t}\n\t\n\t\t// else, set the page length\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\t_fnLengthChange( settings, len );\n\t\t} );\n\t} );\n\t\n\t\n\t\n\tvar __reload = function ( settings, holdPosition, callback ) {\n\t\t// Use the draw event to trigger a callback\n\t\tif ( callback ) {\n\t\t\tvar api = new _Api( settings );\n\t\n\t\t\tapi.one( 'draw', function () {\n\t\t\t\tcallback( api.ajax.json() );\n\t\t\t} );\n\t\t}\n\t\n\t\tif ( _fnDataSource( settings ) == 'ssp' ) {\n\t\t\t_fnReDraw( settings, holdPosition );\n\t\t}\n\t\telse {\n\t\t\t_fnProcessingDisplay( settings, true );\n\t\n\t\t\t// Cancel an existing request\n\t\t\tvar xhr = settings.jqXHR;\n\t\t\tif ( xhr && xhr.readyState !== 4 ) {\n\t\t\t\txhr.abort();\n\t\t\t}\n\t\n\t\t\t// Trigger xhr\n\t\t\t_fnBuildAjax( settings, {}, function( json ) {\n\t\t\t\t_fnClearTable( settings );\n\t\n\t\t\t\tvar data = _fnAjaxDataSrc( settings, json );\n\t\t\t\tfor ( var i=0, ien=data.length ; i<ien ; i++ ) {\n\t\t\t\t\t_fnAddData( settings, data[i] );\n\t\t\t\t}\n\t\n\t\t\t\t_fnReDraw( settings, holdPosition );\n\t\t\t\t_fnInitComplete( settings );\n\t\t\t\t_fnProcessingDisplay( settings, false );\n\t\t\t} );\n\t\t}\n\t};\n\t\n\t\n\t/**\n\t * Get the JSON response from the last Ajax request that DataTables made to the\n\t * server. Note that this returns the JSON from the first table in the current\n\t * context.\n\t *\n\t * @return {object} JSON received from the server.\n\t */\n\t_api_register( 'ajax.json()', function () {\n\t\tvar ctx = this.context;\n\t\n\t\tif ( ctx.length > 0 ) {\n\t\t\treturn ctx[0].json;\n\t\t}\n\t\n\t\t// else return undefined;\n\t} );\n\t\n\t\n\t/**\n\t * Get the data submitted in the last Ajax request\n\t */\n\t_api_register( 'ajax.params()', function () {\n\t\tvar ctx = this.context;\n\t\n\t\tif ( ctx.length > 0 ) {\n\t\t\treturn ctx[0].oAjaxData;\n\t\t}\n\t\n\t\t// else return undefined;\n\t} );\n\t\n\t\n\t/**\n\t * Reload tables from the Ajax data source. Note that this function will\n\t * automatically re-draw the table when the remote data has been loaded.\n\t *\n\t * @param {boolean} [reset=true] Reset (default) or hold the current paging\n\t *   position. A full re-sort and re-filter is performed when this method is\n\t *   called, which is why the pagination reset is the default action.\n\t * @returns {DataTables.Api} this\n\t */\n\t_api_register( 'ajax.reload()', function ( callback, resetPaging ) {\n\t\treturn this.iterator( 'table', function (settings) {\n\t\t\t__reload( settings, resetPaging===false, callback );\n\t\t} );\n\t} );\n\t\n\t\n\t/**\n\t * Get the current Ajax URL. Note that this returns the URL from the first\n\t * table in the current context.\n\t *\n\t * @return {string} Current Ajax source URL\n\t *//**\n\t * Set the Ajax URL. Note that this will set the URL for all tables in the\n\t * current context.\n\t *\n\t * @param {string} url URL to set.\n\t * @returns {DataTables.Api} this\n\t */\n\t_api_register( 'ajax.url()', function ( url ) {\n\t\tvar ctx = this.context;\n\t\n\t\tif ( url === undefined ) {\n\t\t\t// get\n\t\t\tif ( ctx.length === 0 ) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tctx = ctx[0];\n\t\n\t\t\treturn $.isPlainObject( ctx.ajax ) ?\n\t\t\t\tctx.ajax.url :\n\t\t\t\tctx.ajax;\n\t\t}\n\t\n\t\t// set\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\tif ( $.isPlainObject( settings.ajax ) ) {\n\t\t\t\tsettings.ajax.url = url;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsettings.ajax = url;\n\t\t\t}\n\t\t} );\n\t} );\n\t\n\t\n\t/**\n\t * Load data from the newly set Ajax URL. Note that this method is only\n\t * available when `ajax.url()` is used to set a URL. Additionally, this method\n\t * has the same effect as calling `ajax.reload()` but is provided for\n\t * convenience when setting a new URL. Like `ajax.reload()` it will\n\t * automatically redraw the table once the remote data has been loaded.\n\t *\n\t * @returns {DataTables.Api} this\n\t */\n\t_api_register( 'ajax.url().load()', function ( callback, resetPaging ) {\n\t\t// Same as a reload, but makes sense to present it for easy access after a\n\t\t// url change\n\t\treturn this.iterator( 'table', function ( ctx ) {\n\t\t\t__reload( ctx, resetPaging===false, callback );\n\t\t} );\n\t} );\n\t\n\t\n\t\n\t\n\tvar _selector_run = function ( type, selector, selectFn, settings, opts )\n\t{\n\t\tvar\n\t\t\tout = [], res,\n\t\t\ta, i, ien, j, jen,\n\t\t\tselectorType = typeof selector;\n\t\n\t\t// Can't just check for isArray here, as an API or jQuery instance might be\n\t\t// given with their array like look\n\t\tif ( ! selector || selectorType === 'string' || selectorType === 'function' || selector.length === undefined ) {\n\t\t\tselector = [ selector ];\n\t\t}\n\t\n\t\tfor ( i=0, ien=selector.length ; i<ien ; i++ ) {\n\t\t\t// Only split on simple strings - complex expressions will be jQuery selectors\n\t\t\ta = selector[i] && selector[i].split && ! selector[i].match(/[[(:]/) ?\n\t\t\t\tselector[i].split(',') :\n\t\t\t\t[ selector[i] ];\n\t\n\t\t\tfor ( j=0, jen=a.length ; j<jen ; j++ ) {\n\t\t\t\tres = selectFn( typeof a[j] === 'string' ? (a[j]).trim() : a[j] );\n\t\n\t\t\t\t// Remove empty items\n\t\t\t\tres = res.filter( function (item) {\n\t\t\t\t\treturn item !== null && item !== undefined;\n\t\t\t\t});\n\t\n\t\t\t\tif ( res && res.length ) {\n\t\t\t\t\tout = out.concat( res );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t// selector extensions\n\t\tvar ext = _ext.selector[ type ];\n\t\tif ( ext.length ) {\n\t\t\tfor ( i=0, ien=ext.length ; i<ien ; i++ ) {\n\t\t\t\tout = ext[i]( settings, opts, out );\n\t\t\t}\n\t\t}\n\t\n\t\treturn _unique( out );\n\t};\n\t\n\t\n\tvar _selector_opts = function ( opts )\n\t{\n\t\tif ( ! opts ) {\n\t\t\topts = {};\n\t\t}\n\t\n\t\t// Backwards compatibility for 1.9- which used the terminology filter rather\n\t\t// than search\n\t\tif ( opts.filter && opts.search === undefined ) {\n\t\t\topts.search = opts.filter;\n\t\t}\n\t\n\t\treturn $.extend( {\n\t\t\tsearch: 'none',\n\t\t\torder: 'current',\n\t\t\tpage: 'all'\n\t\t}, opts );\n\t};\n\t\n\t\n\t// Reduce the API instance to the first item found\n\tvar _selector_first = function ( old )\n\t{\n\t\tlet inst = new _Api(old.context[0]);\n\t\n\t\t// Use a push rather than passing to the constructor, since it will\n\t\t// merge arrays down automatically, which isn't what is wanted here\n\t\tif (old.length) {\n\t\t\tinst.push( old[0] );\n\t\t}\n\t\n\t\tinst.selector = old.selector;\n\t\n\t\t// Limit to a single row / column / cell\n\t\tif (inst.length && inst[0].length > 1) {\n\t\t\tinst[0].splice(1);\n\t\t}\n\t\n\t\treturn inst;\n\t};\n\t\n\t\n\tvar _selector_row_indexes = function ( settings, opts )\n\t{\n\t\tvar\n\t\t\ti, ien, tmp, a=[],\n\t\t\tdisplayFiltered = settings.aiDisplay,\n\t\t\tdisplayMaster = settings.aiDisplayMaster;\n\t\n\t\tvar\n\t\t\tsearch = opts.search,  // none, applied, removed\n\t\t\torder  = opts.order,   // applied, current, index (original - compatibility with 1.9)\n\t\t\tpage   = opts.page;    // all, current\n\t\n\t\tif ( _fnDataSource( settings ) == 'ssp' ) {\n\t\t\t// In server-side processing mode, most options are irrelevant since\n\t\t\t// rows not shown don't exist and the index order is the applied order\n\t\t\t// Removed is a special case - for consistency just return an empty\n\t\t\t// array\n\t\t\treturn search === 'removed' ?\n\t\t\t\t[] :\n\t\t\t\t_range( 0, displayMaster.length );\n\t\t}\n\t\n\t\tif ( page == 'current' ) {\n\t\t\t// Current page implies that order=current and filter=applied, since it is\n\t\t\t// fairly senseless otherwise, regardless of what order and search actually\n\t\t\t// are\n\t\t\tfor ( i=settings._iDisplayStart, ien=settings.fnDisplayEnd() ; i<ien ; i++ ) {\n\t\t\t\ta.push( displayFiltered[i] );\n\t\t\t}\n\t\t}\n\t\telse if ( order == 'current' || order == 'applied' ) {\n\t\t\tif ( search == 'none') {\n\t\t\t\ta = displayMaster.slice();\n\t\t\t}\n\t\t\telse if ( search == 'applied' ) {\n\t\t\t\ta = displayFiltered.slice();\n\t\t\t}\n\t\t\telse if ( search == 'removed' ) {\n\t\t\t\t// O(n+m) solution by creating a hash map\n\t\t\t\tvar displayFilteredMap = {};\n\t\n\t\t\t\tfor ( i=0, ien=displayFiltered.length ; i<ien ; i++ ) {\n\t\t\t\t\tdisplayFilteredMap[displayFiltered[i]] = null;\n\t\t\t\t}\n\t\n\t\t\t\tdisplayMaster.forEach(function (item) {\n\t\t\t\t\tif (! Object.prototype.hasOwnProperty.call(displayFilteredMap, item)) {\n\t\t\t\t\t\ta.push(item);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\telse if ( order == 'index' || order == 'original' ) {\n\t\t\tfor ( i=0, ien=settings.aoData.length ; i<ien ; i++ ) {\n\t\t\t\tif (! settings.aoData[i]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\n\t\t\t\tif ( search == 'none' ) {\n\t\t\t\t\ta.push( i );\n\t\t\t\t}\n\t\t\t\telse { // applied | removed\n\t\t\t\t\ttmp = displayFiltered.indexOf(i);\n\t\n\t\t\t\t\tif ((tmp === -1 && search == 'removed') ||\n\t\t\t\t\t\t(tmp >= 0   && search == 'applied') )\n\t\t\t\t\t{\n\t\t\t\t\t\ta.push( i );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if ( typeof order === 'number' ) {\n\t\t\t// Order the rows by the given column\n\t\t\tvar ordered = _fnSort(settings, order, 'asc');\n\t\n\t\t\tif (search === 'none') {\n\t\t\t\ta = ordered;\n\t\t\t}\n\t\t\telse { // applied | removed\n\t\t\t\tfor (i=0; i<ordered.length; i++) {\n\t\t\t\t\ttmp = displayFiltered.indexOf(ordered[i]);\n\t\n\t\t\t\t\tif ((tmp === -1 && search == 'removed') ||\n\t\t\t\t\t\t(tmp >= 0   && search == 'applied') )\n\t\t\t\t\t{\n\t\t\t\t\t\ta.push( ordered[i] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn a;\n\t};\n\t\n\t\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t * Rows\n\t *\n\t * {}          - no selector - use all available rows\n\t * {integer}   - row aoData index\n\t * {node}      - TR node\n\t * {string}    - jQuery selector to apply to the TR elements\n\t * {array}     - jQuery array of nodes, or simply an array of TR nodes\n\t *\n\t */\n\tvar __row_selector = function ( settings, selector, opts )\n\t{\n\t\tvar rows;\n\t\tvar run = function ( sel ) {\n\t\t\tvar selInt = _intVal( sel );\n\t\t\tvar aoData = settings.aoData;\n\t\n\t\t\t// Short cut - selector is a number and no options provided (default is\n\t\t\t// all records, so no need to check if the index is in there, since it\n\t\t\t// must be - dev error if the index doesn't exist).\n\t\t\tif ( selInt !== null && ! opts ) {\n\t\t\t\treturn [ selInt ];\n\t\t\t}\n\t\n\t\t\tif ( ! rows ) {\n\t\t\t\trows = _selector_row_indexes( settings, opts );\n\t\t\t}\n\t\n\t\t\tif ( selInt !== null && rows.indexOf(selInt) !== -1 ) {\n\t\t\t\t// Selector - integer\n\t\t\t\treturn [ selInt ];\n\t\t\t}\n\t\t\telse if ( sel === null || sel === undefined || sel === '' ) {\n\t\t\t\t// Selector - none\n\t\t\t\treturn rows;\n\t\t\t}\n\t\n\t\t\t// Selector - function\n\t\t\tif ( typeof sel === 'function' ) {\n\t\t\t\treturn rows.map( function (idx) {\n\t\t\t\t\tvar row = aoData[ idx ];\n\t\t\t\t\treturn sel( idx, row._aData, row.nTr ) ? idx : null;\n\t\t\t\t} );\n\t\t\t}\n\t\n\t\t\t// Selector - node\n\t\t\tif ( sel.nodeName ) {\n\t\t\t\tvar rowIdx = sel._DT_RowIndex;  // Property added by DT for fast lookup\n\t\t\t\tvar cellIdx = sel._DT_CellIndex;\n\t\n\t\t\t\tif ( rowIdx !== undefined ) {\n\t\t\t\t\t// Make sure that the row is actually still present in the table\n\t\t\t\t\treturn aoData[ rowIdx ] && aoData[ rowIdx ].nTr === sel ?\n\t\t\t\t\t\t[ rowIdx ] :\n\t\t\t\t\t\t[];\n\t\t\t\t}\n\t\t\t\telse if ( cellIdx ) {\n\t\t\t\t\treturn aoData[ cellIdx.row ] && aoData[ cellIdx.row ].nTr === sel.parentNode ?\n\t\t\t\t\t\t[ cellIdx.row ] :\n\t\t\t\t\t\t[];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar host = $(sel).closest('*[data-dt-row]');\n\t\t\t\t\treturn host.length ?\n\t\t\t\t\t\t[ host.data('dt-row') ] :\n\t\t\t\t\t\t[];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// ID selector. Want to always be able to select rows by id, regardless\n\t\t\t// of if the tr element has been created or not, so can't rely upon\n\t\t\t// jQuery here - hence a custom implementation. This does not match\n\t\t\t// Sizzle's fast selector or HTML4 - in HTML5 the ID can be anything,\n\t\t\t// but to select it using a CSS selector engine (like Sizzle or\n\t\t\t// querySelect) it would need to need to be escaped for some characters.\n\t\t\t// DataTables simplifies this for row selectors since you can select\n\t\t\t// only a row. A # indicates an id any anything that follows is the id -\n\t\t\t// unescaped.\n\t\t\tif ( typeof sel === 'string' && sel.charAt(0) === '#' ) {\n\t\t\t\t// get row index from id\n\t\t\t\tvar rowObj = settings.aIds[ sel.replace( /^#/, '' ) ];\n\t\t\t\tif ( rowObj !== undefined ) {\n\t\t\t\t\treturn [ rowObj.idx ];\n\t\t\t\t}\n\t\n\t\t\t\t// need to fall through to jQuery in case there is DOM id that\n\t\t\t\t// matches\n\t\t\t}\n\t\t\t\n\t\t\t// Get nodes in the order from the `rows` array with null values removed\n\t\t\tvar nodes = _removeEmpty(\n\t\t\t\t_pluck_order( settings.aoData, rows, 'nTr' )\n\t\t\t);\n\t\n\t\t\t// Selector - jQuery selector string, array of nodes or jQuery object/\n\t\t\t// As jQuery's .filter() allows jQuery objects to be passed in filter,\n\t\t\t// it also allows arrays, so this will cope with all three options\n\t\t\treturn $(nodes)\n\t\t\t\t.filter( sel )\n\t\t\t\t.map( function () {\n\t\t\t\t\treturn this._DT_RowIndex;\n\t\t\t\t} )\n\t\t\t\t.toArray();\n\t\t};\n\t\n\t\tvar matched = _selector_run( 'row', selector, run, settings, opts );\n\t\n\t\tif (opts.order === 'current' || opts.order === 'applied') {\n\t\t\t_fnSortDisplay(settings, matched);\n\t\t}\n\t\n\t\treturn matched;\n\t};\n\t\n\t\n\t_api_register( 'rows()', function ( selector, opts ) {\n\t\t// argument shifting\n\t\tif ( selector === undefined ) {\n\t\t\tselector = '';\n\t\t}\n\t\telse if ( $.isPlainObject( selector ) ) {\n\t\t\topts = selector;\n\t\t\tselector = '';\n\t\t}\n\t\n\t\topts = _selector_opts( opts );\n\t\n\t\tvar inst = this.iterator( 'table', function ( settings ) {\n\t\t\treturn __row_selector( settings, selector, opts );\n\t\t}, 1 );\n\t\n\t\t// Want argument shifting here and in __row_selector?\n\t\tinst.selector.rows = selector;\n\t\tinst.selector.opts = opts;\n\t\n\t\treturn inst;\n\t} );\n\t\n\t_api_register( 'rows().nodes()', function () {\n\t\treturn this.iterator( 'row', function ( settings, row ) {\n\t\t\treturn settings.aoData[ row ].nTr || undefined;\n\t\t}, 1 );\n\t} );\n\t\n\t_api_register( 'rows().data()', function () {\n\t\treturn this.iterator( true, 'rows', function ( settings, rows ) {\n\t\t\treturn _pluck_order( settings.aoData, rows, '_aData' );\n\t\t}, 1 );\n\t} );\n\t\n\t_api_registerPlural( 'rows().cache()', 'row().cache()', function ( type ) {\n\t\treturn this.iterator( 'row', function ( settings, row ) {\n\t\t\tvar r = settings.aoData[ row ];\n\t\t\treturn type === 'search' ? r._aFilterData : r._aSortData;\n\t\t}, 1 );\n\t} );\n\t\n\t_api_registerPlural( 'rows().invalidate()', 'row().invalidate()', function ( src ) {\n\t\treturn this.iterator( 'row', function ( settings, row ) {\n\t\t\t_fnInvalidate( settings, row, src );\n\t\t} );\n\t} );\n\t\n\t_api_registerPlural( 'rows().indexes()', 'row().index()', function () {\n\t\treturn this.iterator( 'row', function ( settings, row ) {\n\t\t\treturn row;\n\t\t}, 1 );\n\t} );\n\t\n\t_api_registerPlural( 'rows().ids()', 'row().id()', function ( hash ) {\n\t\tvar a = [];\n\t\tvar context = this.context;\n\t\n\t\t// `iterator` will drop undefined values, but in this case we want them\n\t\tfor ( var i=0, ien=context.length ; i<ien ; i++ ) {\n\t\t\tfor ( var j=0, jen=this[i].length ; j<jen ; j++ ) {\n\t\t\t\tvar id = context[i].rowIdFn( context[i].aoData[ this[i][j] ]._aData );\n\t\t\t\ta.push( (hash === true ? '#' : '' )+ id );\n\t\t\t}\n\t\t}\n\t\n\t\treturn new _Api( context, a );\n\t} );\n\t\n\t_api_registerPlural( 'rows().remove()', 'row().remove()', function () {\n\t\tthis.iterator( 'row', function ( settings, row ) {\n\t\t\tvar data = settings.aoData;\n\t\t\tvar rowData = data[ row ];\n\t\n\t\t\t// Delete from the display arrays\n\t\t\tvar idx = settings.aiDisplayMaster.indexOf(row);\n\t\t\tif (idx !== -1) {\n\t\t\t\tsettings.aiDisplayMaster.splice(idx, 1);\n\t\t\t}\n\t\n\t\t\t// For server-side processing tables - subtract the deleted row from the count\n\t\t\tif ( settings._iRecordsDisplay > 0 ) {\n\t\t\t\tsettings._iRecordsDisplay--;\n\t\t\t}\n\t\n\t\t\t// Check for an 'overflow' they case for displaying the table\n\t\t\t_fnLengthOverflow( settings );\n\t\n\t\t\t// Remove the row's ID reference if there is one\n\t\t\tvar id = settings.rowIdFn( rowData._aData );\n\t\t\tif ( id !== undefined ) {\n\t\t\t\tdelete settings.aIds[ id ];\n\t\t\t}\n\t\n\t\t\tdata[row] = null;\n\t\t} );\n\t\n\t\treturn this;\n\t} );\n\t\n\t\n\t_api_register( 'rows.add()', function ( rows ) {\n\t\tvar newRows = this.iterator( 'table', function ( settings ) {\n\t\t\t\tvar row, i, ien;\n\t\t\t\tvar out = [];\n\t\n\t\t\t\tfor ( i=0, ien=rows.length ; i<ien ; i++ ) {\n\t\t\t\t\trow = rows[i];\n\t\n\t\t\t\t\tif ( row.nodeName && row.nodeName.toUpperCase() === 'TR' ) {\n\t\t\t\t\t\tout.push( _fnAddTr( settings, row )[0] );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tout.push( _fnAddData( settings, row ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn out;\n\t\t\t}, 1 );\n\t\n\t\t// Return an Api.rows() extended instance, so rows().nodes() etc can be used\n\t\tvar modRows = this.rows( -1 );\n\t\tmodRows.pop();\n\t\tmodRows.push.apply(modRows, newRows);\n\t\n\t\treturn modRows;\n\t} );\n\t\n\t\n\t\n\t\n\t\n\t/**\n\t *\n\t */\n\t_api_register( 'row()', function ( selector, opts ) {\n\t\treturn _selector_first( this.rows( selector, opts ) );\n\t} );\n\t\n\t\n\t_api_register( 'row().data()', function ( data ) {\n\t\tvar ctx = this.context;\n\t\n\t\tif ( data === undefined ) {\n\t\t\t// Get\n\t\t\treturn ctx.length && this.length && this[0].length ?\n\t\t\t\tctx[0].aoData[ this[0] ]._aData :\n\t\t\t\tundefined;\n\t\t}\n\t\n\t\t// Set\n\t\tvar row = ctx[0].aoData[ this[0] ];\n\t\trow._aData = data;\n\t\n\t\t// If the DOM has an id, and the data source is an array\n\t\tif ( Array.isArray( data ) && row.nTr && row.nTr.id ) {\n\t\t\t_fnSetObjectDataFn( ctx[0].rowId )( data, row.nTr.id );\n\t\t}\n\t\n\t\t// Automatically invalidate\n\t\t_fnInvalidate( ctx[0], this[0], 'data' );\n\t\n\t\treturn this;\n\t} );\n\t\n\t\n\t_api_register( 'row().node()', function () {\n\t\tvar ctx = this.context;\n\t\n\t\tif (ctx.length && this.length && this[0].length) {\n\t\t\tvar row = ctx[0].aoData[ this[0] ];\n\t\n\t\t\tif (row && row.nTr) {\n\t\t\t\treturn row.nTr;\n\t\t\t}\n\t\t}\n\t\n\t\treturn null;\n\t} );\n\t\n\t\n\t_api_register( 'row.add()', function ( row ) {\n\t\t// Allow a jQuery object to be passed in - only a single row is added from\n\t\t// it though - the first element in the set\n\t\tif ( row instanceof $ && row.length ) {\n\t\t\trow = row[0];\n\t\t}\n\t\n\t\tvar rows = this.iterator( 'table', function ( settings ) {\n\t\t\tif ( row.nodeName && row.nodeName.toUpperCase() === 'TR' ) {\n\t\t\t\treturn _fnAddTr( settings, row )[0];\n\t\t\t}\n\t\t\treturn _fnAddData( settings, row );\n\t\t} );\n\t\n\t\t// Return an Api.rows() extended instance, with the newly added row selected\n\t\treturn this.row( rows[0] );\n\t} );\n\t\n\t\n\t$(document).on('plugin-init.dt', function (e, context) {\n\t\tvar api = new _Api( context );\n\t\n\t\tapi.on( 'stateSaveParams.DT', function ( e, settings, d ) {\n\t\t\t// This could be more compact with the API, but it is a lot faster as a simple\n\t\t\t// internal loop\n\t\t\tvar idFn = settings.rowIdFn;\n\t\t\tvar rows = settings.aiDisplayMaster;\n\t\t\tvar ids = [];\n\t\n\t\t\tfor (var i=0 ; i<rows.length ; i++) {\n\t\t\t\tvar rowIdx = rows[i];\n\t\t\t\tvar data = settings.aoData[rowIdx];\n\t\n\t\t\t\tif (data._detailsShow) {\n\t\t\t\t\tids.push( '#' + idFn(data._aData) );\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\td.childRows = ids;\n\t\t});\n\t\n\t\t// For future state loads (e.g. with StateRestore)\n\t\tapi.on( 'stateLoaded.DT', function (e, settings, state) {\n\t\t\t__details_state_load( api, state );\n\t\t});\n\t\n\t\t// And the initial load state\n\t\t__details_state_load( api, api.state.loaded() );\n\t});\n\t\n\tvar __details_state_load = function (api, state)\n\t{\n\t\tif ( state && state.childRows ) {\n\t\t\tapi\n\t\t\t\t.rows( state.childRows.map(function (id) {\n\t\t\t\t\t// Escape any `:` characters from the row id. Accounts for\n\t\t\t\t\t// already escaped characters.\n\t\t\t\t\treturn id.replace(/([^:\\\\]*(?:\\\\.[^:\\\\]*)*):/g, \"$1\\\\:\");\n\t\t\t\t}) )\n\t\t\t\t.every( function () {\n\t\t\t\t\t_fnCallbackFire( api.settings()[0], null, 'requestChild', [ this ] )\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\tvar __details_add = function ( ctx, row, data, klass )\n\t{\n\t\t// Convert to array of TR elements\n\t\tvar rows = [];\n\t\tvar addRow = function ( r, k ) {\n\t\t\t// Recursion to allow for arrays of jQuery objects\n\t\t\tif ( Array.isArray( r ) || r instanceof $ ) {\n\t\t\t\tfor ( var i=0, ien=r.length ; i<ien ; i++ ) {\n\t\t\t\t\taddRow( r[i], k );\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// If we get a TR element, then just add it directly - up to the dev\n\t\t\t// to add the correct number of columns etc\n\t\t\tif ( r.nodeName && r.nodeName.toLowerCase() === 'tr' ) {\n\t\t\t\tr.setAttribute( 'data-dt-row', row.idx );\n\t\t\t\trows.push( r );\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Otherwise create a row with a wrapper\n\t\t\t\tvar created = $('<tr><td></td></tr>')\n\t\t\t\t\t.attr( 'data-dt-row', row.idx )\n\t\t\t\t\t.addClass( k );\n\t\t\t\t\n\t\t\t\t$('td', created)\n\t\t\t\t\t.addClass( k )\n\t\t\t\t\t.html( r )[0].colSpan = _fnVisbleColumns( ctx );\n\t\n\t\t\t\trows.push( created[0] );\n\t\t\t}\n\t\t};\n\t\n\t\taddRow( data, klass );\n\t\n\t\tif ( row._details ) {\n\t\t\trow._details.detach();\n\t\t}\n\t\n\t\trow._details = $(rows);\n\t\n\t\t// If the children were already shown, that state should be retained\n\t\tif ( row._detailsShow ) {\n\t\t\trow._details.insertAfter( row.nTr );\n\t\t}\n\t};\n\t\n\t\n\t// Make state saving of child row details async to allow them to be batch processed\n\tvar __details_state = DataTable.util.throttle(\n\t\tfunction (ctx) {\n\t\t\t_fnSaveState( ctx[0] )\n\t\t},\n\t\t500\n\t);\n\t\n\t\n\tvar __details_remove = function ( api, idx )\n\t{\n\t\tvar ctx = api.context;\n\t\n\t\tif ( ctx.length ) {\n\t\t\tvar row = ctx[0].aoData[ idx !== undefined ? idx : api[0] ];\n\t\n\t\t\tif ( row && row._details ) {\n\t\t\t\trow._details.remove();\n\t\n\t\t\t\trow._detailsShow = undefined;\n\t\t\t\trow._details = undefined;\n\t\t\t\t$( row.nTr ).removeClass( 'dt-hasChild' );\n\t\t\t\t__details_state( ctx );\n\t\t\t}\n\t\t}\n\t};\n\t\n\t\n\tvar __details_display = function ( api, show ) {\n\t\tvar ctx = api.context;\n\t\n\t\tif ( ctx.length && api.length ) {\n\t\t\tvar row = ctx[0].aoData[ api[0] ];\n\t\n\t\t\tif ( row._details ) {\n\t\t\t\trow._detailsShow = show;\n\t\n\t\t\t\tif ( show ) {\n\t\t\t\t\trow._details.insertAfter( row.nTr );\n\t\t\t\t\t$( row.nTr ).addClass( 'dt-hasChild' );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\trow._details.detach();\n\t\t\t\t\t$( row.nTr ).removeClass( 'dt-hasChild' );\n\t\t\t\t}\n\t\n\t\t\t\t_fnCallbackFire( ctx[0], null, 'childRow', [ show, api.row( api[0] ) ] )\n\t\n\t\t\t\t__details_events( ctx[0] );\n\t\t\t\t__details_state( ctx );\n\t\t\t}\n\t\t}\n\t};\n\t\n\t\n\tvar __details_events = function ( settings )\n\t{\n\t\tvar api = new _Api( settings );\n\t\tvar namespace = '.dt.DT_details';\n\t\tvar drawEvent = 'draw'+namespace;\n\t\tvar colvisEvent = 'column-sizing'+namespace;\n\t\tvar destroyEvent = 'destroy'+namespace;\n\t\tvar data = settings.aoData;\n\t\n\t\tapi.off( drawEvent +' '+ colvisEvent +' '+ destroyEvent );\n\t\n\t\tif ( _pluck( data, '_details' ).length > 0 ) {\n\t\t\t// On each draw, insert the required elements into the document\n\t\t\tapi.on( drawEvent, function ( e, ctx ) {\n\t\t\t\tif ( settings !== ctx ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tapi.rows( {page:'current'} ).eq(0).each( function (idx) {\n\t\t\t\t\t// Internal data grab\n\t\t\t\t\tvar row = data[ idx ];\n\t\n\t\t\t\t\tif ( row._detailsShow ) {\n\t\t\t\t\t\trow._details.insertAfter( row.nTr );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t\n\t\t\t// Column visibility change - update the colspan\n\t\t\tapi.on( colvisEvent, function ( e, ctx ) {\n\t\t\t\tif ( settings !== ctx ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t// Update the colspan for the details rows (note, only if it already has\n\t\t\t\t// a colspan)\n\t\t\t\tvar row, visible = _fnVisbleColumns( ctx );\n\t\n\t\t\t\tfor ( var i=0, ien=data.length ; i<ien ; i++ ) {\n\t\t\t\t\trow = data[i];\n\t\n\t\t\t\t\tif ( row && row._details ) {\n\t\t\t\t\t\trow._details.each(function () {\n\t\t\t\t\t\t\tvar el = $(this).children('td');\n\t\n\t\t\t\t\t\t\tif (el.length == 1) {\n\t\t\t\t\t\t\t\tel.attr('colspan', visible);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\n\t\t\t// Table destroyed - nuke any child rows\n\t\t\tapi.on( destroyEvent, function ( e, ctx ) {\n\t\t\t\tif ( settings !== ctx ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tfor ( var i=0, ien=data.length ; i<ien ; i++ ) {\n\t\t\t\t\tif ( data[i] && data[i]._details ) {\n\t\t\t\t\t\t__details_remove( api, i );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t};\n\t\n\t// Strings for the method names to help minification\n\tvar _emp = '';\n\tvar _child_obj = _emp+'row().child';\n\tvar _child_mth = _child_obj+'()';\n\t\n\t// data can be:\n\t//  tr\n\t//  string\n\t//  jQuery or array of any of the above\n\t_api_register( _child_mth, function ( data, klass ) {\n\t\tvar ctx = this.context;\n\t\n\t\tif ( data === undefined ) {\n\t\t\t// get\n\t\t\treturn ctx.length && this.length && ctx[0].aoData[ this[0] ]\n\t\t\t\t? ctx[0].aoData[ this[0] ]._details\n\t\t\t\t: undefined;\n\t\t}\n\t\telse if ( data === true ) {\n\t\t\t// show\n\t\t\tthis.child.show();\n\t\t}\n\t\telse if ( data === false ) {\n\t\t\t// remove\n\t\t\t__details_remove( this );\n\t\t}\n\t\telse if ( ctx.length && this.length ) {\n\t\t\t// set\n\t\t\t__details_add( ctx[0], ctx[0].aoData[ this[0] ], data, klass );\n\t\t}\n\t\n\t\treturn this;\n\t} );\n\t\n\t\n\t_api_register( [\n\t\t_child_obj+'.show()',\n\t\t_child_mth+'.show()' // only when `child()` was called with parameters (without\n\t], function () {         // it returns an object and this method is not executed)\n\t\t__details_display( this, true );\n\t\treturn this;\n\t} );\n\t\n\t\n\t_api_register( [\n\t\t_child_obj+'.hide()',\n\t\t_child_mth+'.hide()' // only when `child()` was called with parameters (without\n\t], function () {         // it returns an object and this method is not executed)\n\t\t__details_display( this, false );\n\t\treturn this;\n\t} );\n\t\n\t\n\t_api_register( [\n\t\t_child_obj+'.remove()',\n\t\t_child_mth+'.remove()' // only when `child()` was called with parameters (without\n\t], function () {           // it returns an object and this method is not executed)\n\t\t__details_remove( this );\n\t\treturn this;\n\t} );\n\t\n\t\n\t_api_register( _child_obj+'.isShown()', function () {\n\t\tvar ctx = this.context;\n\t\n\t\tif ( ctx.length && this.length && ctx[0].aoData[ this[0] ] ) {\n\t\t\t// _detailsShown as false or undefined will fall through to return false\n\t\t\treturn ctx[0].aoData[ this[0] ]._detailsShow || false;\n\t\t}\n\t\treturn false;\n\t} );\n\t\n\t\n\t\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t * Columns\n\t *\n\t * {integer}           - column index (>=0 count from left, <0 count from right)\n\t * \"{integer}:visIdx\"  - visible column index (i.e. translate to column index)  (>=0 count from left, <0 count from right)\n\t * \"{integer}:visible\" - alias for {integer}:visIdx  (>=0 count from left, <0 count from right)\n\t * \"{string}:name\"     - column name\n\t * \"{string}\"          - jQuery selector on column header nodes\n\t *\n\t */\n\t\n\t// can be an array of these items, comma separated list, or an array of comma\n\t// separated lists\n\t\n\tvar __re_column_selector = /^([^:]+)?:(name|title|visIdx|visible)$/;\n\t\n\t\n\t// r1 and r2 are redundant - but it means that the parameters match for the\n\t// iterator callback in columns().data()\n\tvar __columnData = function ( settings, column, r1, r2, rows, type ) {\n\t\tvar a = [];\n\t\tfor ( var row=0, ien=rows.length ; row<ien ; row++ ) {\n\t\t\ta.push( _fnGetCellData( settings, rows[row], column, type ) );\n\t\t}\n\t\treturn a;\n\t};\n\t\n\t\n\tvar __column_header = function ( settings, column, row ) {\n\t\tvar header = settings.aoHeader;\n\t\tvar target = row !== undefined\n\t\t\t? row\n\t\t\t: settings.bSortCellsTop // legacy support\n\t\t\t\t? 0\n\t\t\t\t: header.length - 1;\n\t\n\t\treturn header[target][column].cell;\n\t};\n\t\n\tvar __column_selector = function ( settings, selector, opts )\n\t{\n\t\tvar\n\t\t\tcolumns = settings.aoColumns,\n\t\t\tnames = _pluck( columns, 'sName' ),\n\t\t\ttitles = _pluck( columns, 'sTitle' ),\n\t\t\tcells = DataTable.util.get('[].[].cell')(settings.aoHeader),\n\t\t\tnodes = _unique( _flatten([], cells) );\n\t\t\n\t\tvar run = function ( s ) {\n\t\t\tvar selInt = _intVal( s );\n\t\n\t\t\t// Selector - all\n\t\t\tif ( s === '' ) {\n\t\t\t\treturn _range( columns.length );\n\t\t\t}\n\t\n\t\t\t// Selector - index\n\t\t\tif ( selInt !== null ) {\n\t\t\t\treturn [ selInt >= 0 ?\n\t\t\t\t\tselInt : // Count from left\n\t\t\t\t\tcolumns.length + selInt // Count from right (+ because its a negative value)\n\t\t\t\t];\n\t\t\t}\n\t\n\t\t\t// Selector = function\n\t\t\tif ( typeof s === 'function' ) {\n\t\t\t\tvar rows = _selector_row_indexes( settings, opts );\n\t\n\t\t\t\treturn columns.map(function (col, idx) {\n\t\t\t\t\treturn s(\n\t\t\t\t\t\t\tidx,\n\t\t\t\t\t\t\t__columnData( settings, idx, 0, 0, rows ),\n\t\t\t\t\t\t\t__column_header( settings, idx )\n\t\t\t\t\t\t) ? idx : null;\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// jQuery or string selector\n\t\t\tvar match = typeof s === 'string' ?\n\t\t\t\ts.match( __re_column_selector ) :\n\t\t\t\t'';\n\t\n\t\t\tif ( match ) {\n\t\t\t\tswitch( match[2] ) {\n\t\t\t\t\tcase 'visIdx':\n\t\t\t\t\tcase 'visible':\n\t\t\t\t\t\tif (match[1]) {\n\t\t\t\t\t\t\tvar idx = parseInt( match[1], 10 );\n\t\t\t\t\t\t\t// Visible index given, convert to column index\n\t\t\t\t\t\t\tif ( idx < 0 ) {\n\t\t\t\t\t\t\t\t// Counting from the right\n\t\t\t\t\t\t\t\tvar visColumns = columns.map( function (col,i) {\n\t\t\t\t\t\t\t\t\treturn col.bVisible ? i : null;\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\treturn [ visColumns[ visColumns.length + idx ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Counting from the left\n\t\t\t\t\t\t\treturn [ _fnVisibleToColumnIndex( settings, idx ) ];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// `:visible` on its own\n\t\t\t\t\t\treturn columns.map( function (col, i) {\n\t\t\t\t\t\t\treturn col.bVisible ? i : null;\n\t\t\t\t\t\t} );\n\t\n\t\t\t\t\tcase 'name':\n\t\t\t\t\t\t// match by name. `names` is column index complete and in order\n\t\t\t\t\t\treturn names.map( function (name, i) {\n\t\t\t\t\t\t\treturn name === match[1] ? i : null;\n\t\t\t\t\t\t} );\n\t\n\t\t\t\t\tcase 'title':\n\t\t\t\t\t\t// match by column title\n\t\t\t\t\t\treturn titles.map( function (title, i) {\n\t\t\t\t\t\t\treturn title === match[1] ? i : null;\n\t\t\t\t\t\t} );\n\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// Cell in the table body\n\t\t\tif ( s.nodeName && s._DT_CellIndex ) {\n\t\t\t\treturn [ s._DT_CellIndex.column ];\n\t\t\t}\n\t\n\t\t\t// jQuery selector on the TH elements for the columns\n\t\t\tvar jqResult = $( nodes )\n\t\t\t\t.filter( s )\n\t\t\t\t.map( function () {\n\t\t\t\t\treturn _fnColumnsFromHeader( this ); // `nodes` is column index complete and in order\n\t\t\t\t} )\n\t\t\t\t.toArray();\n\t\n\t\t\tif ( jqResult.length || ! s.nodeName ) {\n\t\t\t\treturn jqResult;\n\t\t\t}\n\t\n\t\t\t// Otherwise a node which might have a `dt-column` data attribute, or be\n\t\t\t// a child or such an element\n\t\t\tvar host = $(s).closest('*[data-dt-column]');\n\t\t\treturn host.length ?\n\t\t\t\t[ host.data('dt-column') ] :\n\t\t\t\t[];\n\t\t};\n\t\n\t\treturn _selector_run( 'column', selector, run, settings, opts );\n\t};\n\t\n\t\n\tvar __setColumnVis = function ( settings, column, vis ) {\n\t\tvar\n\t\t\tcols = settings.aoColumns,\n\t\t\tcol  = cols[ column ],\n\t\t\tdata = settings.aoData,\n\t\t\tcells, i, ien, tr;\n\t\n\t\t// Get\n\t\tif ( vis === undefined ) {\n\t\t\treturn col.bVisible;\n\t\t}\n\t\n\t\t// Set\n\t\t// No change\n\t\tif ( col.bVisible === vis ) {\n\t\t\treturn false;\n\t\t}\n\t\n\t\tif ( vis ) {\n\t\t\t// Insert column\n\t\t\t// Need to decide if we should use appendChild or insertBefore\n\t\t\tvar insertBefore = _pluck(cols, 'bVisible').indexOf(true, column+1);\n\t\n\t\t\tfor ( i=0, ien=data.length ; i<ien ; i++ ) {\n\t\t\t\tif (data[i]) {\n\t\t\t\t\ttr = data[i].nTr;\n\t\t\t\t\tcells = data[i].anCells;\n\t\n\t\t\t\t\tif ( tr ) {\n\t\t\t\t\t\t// insertBefore can act like appendChild if 2nd arg is null\n\t\t\t\t\t\ttr.insertBefore( cells[ column ], cells[ insertBefore ] || null );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// Remove column\n\t\t\t$( _pluck( settings.aoData, 'anCells', column ) ).detach();\n\t\t}\n\t\n\t\t// Common actions\n\t\tcol.bVisible = vis;\n\t\n\t\t_colGroup(settings);\n\t\t\n\t\treturn true;\n\t};\n\t\n\t\n\t_api_register( 'columns()', function ( selector, opts ) {\n\t\t// argument shifting\n\t\tif ( selector === undefined ) {\n\t\t\tselector = '';\n\t\t}\n\t\telse if ( $.isPlainObject( selector ) ) {\n\t\t\topts = selector;\n\t\t\tselector = '';\n\t\t}\n\t\n\t\topts = _selector_opts( opts );\n\t\n\t\tvar inst = this.iterator( 'table', function ( settings ) {\n\t\t\treturn __column_selector( settings, selector, opts );\n\t\t}, 1 );\n\t\n\t\t// Want argument shifting here and in _row_selector?\n\t\tinst.selector.cols = selector;\n\t\tinst.selector.opts = opts;\n\t\n\t\treturn inst;\n\t} );\n\t\n\t_api_registerPlural( 'columns().header()', 'column().header()', function ( row ) {\n\t\treturn this.iterator( 'column', function (settings, column) {\n\t\t\treturn __column_header(settings, column, row);\n\t\t}, 1 );\n\t} );\n\t\n\t_api_registerPlural( 'columns().footer()', 'column().footer()', function ( row ) {\n\t\treturn this.iterator( 'column', function ( settings, column ) {\n\t\t\tvar footer = settings.aoFooter;\n\t\n\t\t\tif (! footer.length) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\treturn settings.aoFooter[row !== undefined ? row : 0][column].cell;\n\t\t}, 1 );\n\t} );\n\t\n\t_api_registerPlural( 'columns().data()', 'column().data()', function () {\n\t\treturn this.iterator( 'column-rows', __columnData, 1 );\n\t} );\n\t\n\t_api_registerPlural( 'columns().render()', 'column().render()', function ( type ) {\n\t\treturn this.iterator( 'column-rows', function ( settings, column, i, j, rows ) {\n\t\t\treturn __columnData( settings, column, i, j, rows, type );\n\t\t}, 1 );\n\t} );\n\t\n\t_api_registerPlural( 'columns().dataSrc()', 'column().dataSrc()', function () {\n\t\treturn this.iterator( 'column', function ( settings, column ) {\n\t\t\treturn settings.aoColumns[column].mData;\n\t\t}, 1 );\n\t} );\n\t\n\t_api_registerPlural( 'columns().cache()', 'column().cache()', function ( type ) {\n\t\treturn this.iterator( 'column-rows', function ( settings, column, i, j, rows ) {\n\t\t\treturn _pluck_order( settings.aoData, rows,\n\t\t\t\ttype === 'search' ? '_aFilterData' : '_aSortData', column\n\t\t\t);\n\t\t}, 1 );\n\t} );\n\t\n\t_api_registerPlural( 'columns().init()', 'column().init()', function () {\n\t\treturn this.iterator( 'column', function ( settings, column ) {\n\t\t\treturn settings.aoColumns[column];\n\t\t}, 1 );\n\t} );\n\t\n\t_api_registerPlural( 'columns().nodes()', 'column().nodes()', function () {\n\t\treturn this.iterator( 'column-rows', function ( settings, column, i, j, rows ) {\n\t\t\treturn _pluck_order( settings.aoData, rows, 'anCells', column ) ;\n\t\t}, 1 );\n\t} );\n\t\n\t_api_registerPlural( 'columns().titles()', 'column().title()', function (title, row) {\n\t\treturn this.iterator( 'column', function ( settings, column ) {\n\t\t\t// Argument shifting\n\t\t\tif (typeof title === 'number') {\n\t\t\t\trow = title;\n\t\t\t\ttitle = undefined;\n\t\t\t}\n\t\n\t\t\tvar span = $('span.dt-column-title', this.column(column).header(row));\n\t\n\t\t\tif (title !== undefined) {\n\t\t\t\tspan.html(title);\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\treturn span.html();\n\t\t}, 1 );\n\t} );\n\t\n\t_api_registerPlural( 'columns().types()', 'column().type()', function () {\n\t\treturn this.iterator( 'column', function ( settings, column ) {\n\t\t\tvar type = settings.aoColumns[column].sType;\n\t\n\t\t\t// If the type was invalidated, then resolve it. This actually does\n\t\t\t// all columns at the moment. Would only happen once if getting all\n\t\t\t// column's data types.\n\t\t\tif (! type) {\n\t\t\t\t_fnColumnTypes(settings);\n\t\t\t}\n\t\n\t\t\treturn type;\n\t\t}, 1 );\n\t} );\n\t\n\t_api_registerPlural( 'columns().visible()', 'column().visible()', function ( vis, calc ) {\n\t\tvar that = this;\n\t\tvar changed = [];\n\t\tvar ret = this.iterator( 'column', function ( settings, column ) {\n\t\t\tif ( vis === undefined ) {\n\t\t\t\treturn settings.aoColumns[ column ].bVisible;\n\t\t\t} // else\n\t\t\t\n\t\t\tif (__setColumnVis( settings, column, vis )) {\n\t\t\t\tchanged.push(column);\n\t\t\t}\n\t\t} );\n\t\n\t\t// Group the column visibility changes\n\t\tif ( vis !== undefined ) {\n\t\t\tthis.iterator( 'table', function ( settings ) {\n\t\t\t\t// Redraw the header after changes\n\t\t\t\t_fnDrawHead( settings, settings.aoHeader );\n\t\t\t\t_fnDrawHead( settings, settings.aoFooter );\n\t\t\n\t\t\t\t// Update colspan for no records display. Child rows and extensions will use their own\n\t\t\t\t// listeners to do this - only need to update the empty table item here\n\t\t\t\tif ( ! settings.aiDisplay.length ) {\n\t\t\t\t\t$(settings.nTBody).find('td[colspan]').attr('colspan', _fnVisbleColumns(settings));\n\t\t\t\t}\n\t\t\n\t\t\t\t_fnSaveState( settings );\n\t\n\t\t\t\t// Second loop once the first is done for events\n\t\t\t\tthat.iterator( 'column', function ( settings, column ) {\n\t\t\t\t\tif (changed.includes(column)) {\n\t\t\t\t\t\t_fnCallbackFire( settings, null, 'column-visibility', [settings, column, vis, calc] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\n\t\t\t\tif ( changed.length && (calc === undefined || calc) ) {\n\t\t\t\t\tthat.columns.adjust();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\treturn ret;\n\t} );\n\t\n\t_api_registerPlural( 'columns().widths()', 'column().width()', function () {\n\t\t// Injects a fake row into the table for just a moment so the widths can\n\t\t// be read, regardless of colspan in the header and rows being present in\n\t\t// the body\n\t\tvar columns = this.columns(':visible').count();\n\t\tvar row = $('<tr>').html('<td>' + Array(columns).join('</td><td>') + '</td>');\n\t\n\t\t$(this.table().body()).append(row);\n\t\n\t\tvar widths = row.children().map(function () {\n\t\t\treturn $(this).outerWidth();\n\t\t});\n\t\n\t\trow.remove();\n\t\t\n\t\treturn this.iterator( 'column', function ( settings, column ) {\n\t\t\tvar visIdx = _fnColumnIndexToVisible( settings, column );\n\t\n\t\t\treturn visIdx !== null ? widths[visIdx] : 0;\n\t\t}, 1);\n\t} );\n\t\n\t_api_registerPlural( 'columns().indexes()', 'column().index()', function ( type ) {\n\t\treturn this.iterator( 'column', function ( settings, column ) {\n\t\t\treturn type === 'visible' ?\n\t\t\t\t_fnColumnIndexToVisible( settings, column ) :\n\t\t\t\tcolumn;\n\t\t}, 1 );\n\t} );\n\t\n\t_api_register( 'columns.adjust()', function () {\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\t_fnAdjustColumnSizing( settings );\n\t\t}, 1 );\n\t} );\n\t\n\t_api_register( 'column.index()', function ( type, idx ) {\n\t\tif ( this.context.length !== 0 ) {\n\t\t\tvar ctx = this.context[0];\n\t\n\t\t\tif ( type === 'fromVisible' || type === 'toData' ) {\n\t\t\t\treturn _fnVisibleToColumnIndex( ctx, idx );\n\t\t\t}\n\t\t\telse if ( type === 'fromData' || type === 'toVisible' ) {\n\t\t\t\treturn _fnColumnIndexToVisible( ctx, idx );\n\t\t\t}\n\t\t}\n\t} );\n\t\n\t_api_register( 'column()', function ( selector, opts ) {\n\t\treturn _selector_first( this.columns( selector, opts ) );\n\t} );\n\t\n\tvar __cell_selector = function ( settings, selector, opts )\n\t{\n\t\tvar data = settings.aoData;\n\t\tvar rows = _selector_row_indexes( settings, opts );\n\t\tvar cells = _removeEmpty( _pluck_order( data, rows, 'anCells' ) );\n\t\tvar allCells = $(_flatten( [], cells ));\n\t\tvar row;\n\t\tvar columns = settings.aoColumns.length;\n\t\tvar a, i, ien, j, o, host;\n\t\n\t\tvar run = function ( s ) {\n\t\t\tvar fnSelector = typeof s === 'function';\n\t\n\t\t\tif ( s === null || s === undefined || fnSelector ) {\n\t\t\t\t// All cells and function selectors\n\t\t\t\ta = [];\n\t\n\t\t\t\tfor ( i=0, ien=rows.length ; i<ien ; i++ ) {\n\t\t\t\t\trow = rows[i];\n\t\n\t\t\t\t\tfor ( j=0 ; j<columns ; j++ ) {\n\t\t\t\t\t\to = {\n\t\t\t\t\t\t\trow: row,\n\t\t\t\t\t\t\tcolumn: j\n\t\t\t\t\t\t};\n\t\n\t\t\t\t\t\tif ( fnSelector ) {\n\t\t\t\t\t\t\t// Selector - function\n\t\t\t\t\t\t\thost = data[ row ];\n\t\n\t\t\t\t\t\t\tif ( s( o, _fnGetCellData(settings, row, j), host.anCells ? host.anCells[j] : null ) ) {\n\t\t\t\t\t\t\t\ta.push( o );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// Selector - all\n\t\t\t\t\t\t\ta.push( o );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn a;\n\t\t\t}\n\t\t\t\n\t\t\t// Selector - index\n\t\t\tif ( $.isPlainObject( s ) ) {\n\t\t\t\t// Valid cell index and its in the array of selectable rows\n\t\t\t\treturn s.column !== undefined && s.row !== undefined && rows.indexOf(s.row) !== -1 ?\n\t\t\t\t\t[s] :\n\t\t\t\t\t[];\n\t\t\t}\n\t\n\t\t\t// Selector - jQuery filtered cells\n\t\t\tvar jqResult = allCells\n\t\t\t\t.filter( s )\n\t\t\t\t.map( function (i, el) {\n\t\t\t\t\treturn { // use a new object, in case someone changes the values\n\t\t\t\t\t\trow:    el._DT_CellIndex.row,\n\t\t\t\t\t\tcolumn: el._DT_CellIndex.column\n\t\t\t\t\t};\n\t\t\t\t} )\n\t\t\t\t.toArray();\n\t\n\t\t\tif ( jqResult.length || ! s.nodeName ) {\n\t\t\t\treturn jqResult;\n\t\t\t}\n\t\n\t\t\t// Otherwise the selector is a node, and there is one last option - the\n\t\t\t// element might be a child of an element which has dt-row and dt-column\n\t\t\t// data attributes\n\t\t\thost = $(s).closest('*[data-dt-row]');\n\t\t\treturn host.length ?\n\t\t\t\t[ {\n\t\t\t\t\trow: host.data('dt-row'),\n\t\t\t\t\tcolumn: host.data('dt-column')\n\t\t\t\t} ] :\n\t\t\t\t[];\n\t\t};\n\t\n\t\treturn _selector_run( 'cell', selector, run, settings, opts );\n\t};\n\t\n\t\n\t\n\t\n\t_api_register( 'cells()', function ( rowSelector, columnSelector, opts ) {\n\t\t// Argument shifting\n\t\tif ( $.isPlainObject( rowSelector ) ) {\n\t\t\t// Indexes\n\t\t\tif ( rowSelector.row === undefined ) {\n\t\t\t\t// Selector options in first parameter\n\t\t\t\topts = rowSelector;\n\t\t\t\trowSelector = null;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Cell index objects in first parameter\n\t\t\t\topts = columnSelector;\n\t\t\t\tcolumnSelector = null;\n\t\t\t}\n\t\t}\n\t\tif ( $.isPlainObject( columnSelector ) ) {\n\t\t\topts = columnSelector;\n\t\t\tcolumnSelector = null;\n\t\t}\n\t\n\t\t// Cell selector\n\t\tif ( columnSelector === null || columnSelector === undefined ) {\n\t\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\t\treturn __cell_selector( settings, rowSelector, _selector_opts( opts ) );\n\t\t\t} );\n\t\t}\n\t\n\t\t// The default built in options need to apply to row and columns\n\t\tvar internalOpts = opts ? {\n\t\t\tpage: opts.page,\n\t\t\torder: opts.order,\n\t\t\tsearch: opts.search\n\t\t} : {};\n\t\n\t\t// Row + column selector\n\t\tvar columns = this.columns( columnSelector, internalOpts );\n\t\tvar rows = this.rows( rowSelector, internalOpts );\n\t\tvar i, ien, j, jen;\n\t\n\t\tvar cellsNoOpts = this.iterator( 'table', function ( settings, idx ) {\n\t\t\tvar a = [];\n\t\n\t\t\tfor ( i=0, ien=rows[idx].length ; i<ien ; i++ ) {\n\t\t\t\tfor ( j=0, jen=columns[idx].length ; j<jen ; j++ ) {\n\t\t\t\t\ta.push( {\n\t\t\t\t\t\trow:    rows[idx][i],\n\t\t\t\t\t\tcolumn: columns[idx][j]\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn a;\n\t\t}, 1 );\n\t\n\t\t// There is currently only one extension which uses a cell selector extension\n\t\t// It is a _major_ performance drag to run this if it isn't needed, so this is\n\t\t// an extension specific check at the moment\n\t\tvar cells = opts && opts.selected ?\n\t\t\tthis.cells( cellsNoOpts, opts ) :\n\t\t\tcellsNoOpts;\n\t\n\t\t$.extend( cells.selector, {\n\t\t\tcols: columnSelector,\n\t\t\trows: rowSelector,\n\t\t\topts: opts\n\t\t} );\n\t\n\t\treturn cells;\n\t} );\n\t\n\t\n\t_api_registerPlural( 'cells().nodes()', 'cell().node()', function () {\n\t\treturn this.iterator( 'cell', function ( settings, row, column ) {\n\t\t\tvar data = settings.aoData[ row ];\n\t\n\t\t\treturn data && data.anCells ?\n\t\t\t\tdata.anCells[ column ] :\n\t\t\t\tundefined;\n\t\t}, 1 );\n\t} );\n\t\n\t\n\t_api_register( 'cells().data()', function () {\n\t\treturn this.iterator( 'cell', function ( settings, row, column ) {\n\t\t\treturn _fnGetCellData( settings, row, column );\n\t\t}, 1 );\n\t} );\n\t\n\t\n\t_api_registerPlural( 'cells().cache()', 'cell().cache()', function ( type ) {\n\t\ttype = type === 'search' ? '_aFilterData' : '_aSortData';\n\t\n\t\treturn this.iterator( 'cell', function ( settings, row, column ) {\n\t\t\treturn settings.aoData[ row ][ type ][ column ];\n\t\t}, 1 );\n\t} );\n\t\n\t\n\t_api_registerPlural( 'cells().render()', 'cell().render()', function ( type ) {\n\t\treturn this.iterator( 'cell', function ( settings, row, column ) {\n\t\t\treturn _fnGetCellData( settings, row, column, type );\n\t\t}, 1 );\n\t} );\n\t\n\t\n\t_api_registerPlural( 'cells().indexes()', 'cell().index()', function () {\n\t\treturn this.iterator( 'cell', function ( settings, row, column ) {\n\t\t\treturn {\n\t\t\t\trow: row,\n\t\t\t\tcolumn: column,\n\t\t\t\tcolumnVisible: _fnColumnIndexToVisible( settings, column )\n\t\t\t};\n\t\t}, 1 );\n\t} );\n\t\n\t\n\t_api_registerPlural( 'cells().invalidate()', 'cell().invalidate()', function ( src ) {\n\t\treturn this.iterator( 'cell', function ( settings, row, column ) {\n\t\t\t_fnInvalidate( settings, row, src, column );\n\t\t} );\n\t} );\n\t\n\t\n\t\n\t_api_register( 'cell()', function ( rowSelector, columnSelector, opts ) {\n\t\treturn _selector_first( this.cells( rowSelector, columnSelector, opts ) );\n\t} );\n\t\n\t\n\t_api_register( 'cell().data()', function ( data ) {\n\t\tvar ctx = this.context;\n\t\tvar cell = this[0];\n\t\n\t\tif ( data === undefined ) {\n\t\t\t// Get\n\t\t\treturn ctx.length && cell.length ?\n\t\t\t\t_fnGetCellData( ctx[0], cell[0].row, cell[0].column ) :\n\t\t\t\tundefined;\n\t\t}\n\t\n\t\t// Set\n\t\t_fnSetCellData( ctx[0], cell[0].row, cell[0].column, data );\n\t\t_fnInvalidate( ctx[0], cell[0].row, 'data', cell[0].column );\n\t\n\t\treturn this;\n\t} );\n\t\n\t\n\t\n\t/**\n\t * Get current ordering (sorting) that has been applied to the table.\n\t *\n\t * @returns {array} 2D array containing the sorting information for the first\n\t *   table in the current context. Each element in the parent array represents\n\t *   a column being sorted upon (i.e. multi-sorting with two columns would have\n\t *   2 inner arrays). The inner arrays may have 2 or 3 elements. The first is\n\t *   the column index that the sorting condition applies to, the second is the\n\t *   direction of the sort (`desc` or `asc`) and, optionally, the third is the\n\t *   index of the sorting order from the `column.sorting` initialisation array.\n\t *//**\n\t * Set the ordering for the table.\n\t *\n\t * @param {integer} order Column index to sort upon.\n\t * @param {string} direction Direction of the sort to be applied (`asc` or `desc`)\n\t * @returns {DataTables.Api} this\n\t *//**\n\t * Set the ordering for the table.\n\t *\n\t * @param {array} order 1D array of sorting information to be applied.\n\t * @param {array} [...] Optional additional sorting conditions\n\t * @returns {DataTables.Api} this\n\t *//**\n\t * Set the ordering for the table.\n\t *\n\t * @param {array} order 2D array of sorting information to be applied.\n\t * @returns {DataTables.Api} this\n\t */\n\t_api_register( 'order()', function ( order, dir ) {\n\t\tvar ctx = this.context;\n\t\tvar args = Array.prototype.slice.call( arguments );\n\t\n\t\tif ( order === undefined ) {\n\t\t\t// get\n\t\t\treturn ctx.length !== 0 ?\n\t\t\t\tctx[0].aaSorting :\n\t\t\t\tundefined;\n\t\t}\n\t\n\t\t// set\n\t\tif ( typeof order === 'number' ) {\n\t\t\t// Simple column / direction passed in\n\t\t\torder = [ [ order, dir ] ];\n\t\t}\n\t\telse if ( args.length > 1 ) {\n\t\t\t// Arguments passed in (list of 1D arrays)\n\t\t\torder = args;\n\t\t}\n\t\t// otherwise a 2D array was passed in\n\t\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\tsettings.aaSorting = Array.isArray(order) ? order.slice() : order;\n\t\t} );\n\t} );\n\t\n\t\n\t/**\n\t * Attach a sort listener to an element for a given column\n\t *\n\t * @param {node|jQuery|string} node Identifier for the element(s) to attach the\n\t *   listener to. This can take the form of a single DOM node, a jQuery\n\t *   collection of nodes or a jQuery selector which will identify the node(s).\n\t * @param {integer} column the column that a click on this node will sort on\n\t * @param {function} [callback] callback function when sort is run\n\t * @returns {DataTables.Api} this\n\t */\n\t_api_register( 'order.listener()', function ( node, column, callback ) {\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\t_fnSortAttachListener(settings, node, {}, column, callback);\n\t\t} );\n\t} );\n\t\n\t\n\t_api_register( 'order.fixed()', function ( set ) {\n\t\tif ( ! set ) {\n\t\t\tvar ctx = this.context;\n\t\t\tvar fixed = ctx.length ?\n\t\t\t\tctx[0].aaSortingFixed :\n\t\t\t\tundefined;\n\t\n\t\t\treturn Array.isArray( fixed ) ?\n\t\t\t\t{ pre: fixed } :\n\t\t\t\tfixed;\n\t\t}\n\t\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\tsettings.aaSortingFixed = $.extend( true, {}, set );\n\t\t} );\n\t} );\n\t\n\t\n\t// Order by the selected column(s)\n\t_api_register( [\n\t\t'columns().order()',\n\t\t'column().order()'\n\t], function ( dir ) {\n\t\tvar that = this;\n\t\n\t\tif ( ! dir ) {\n\t\t\treturn this.iterator( 'column', function ( settings, idx ) {\n\t\t\t\tvar sort = _fnSortFlatten( settings );\n\t\n\t\t\t\tfor ( var i=0, ien=sort.length ; i<ien ; i++ ) {\n\t\t\t\t\tif ( sort[i].col === idx ) {\n\t\t\t\t\t\treturn sort[i].dir;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn null;\n\t\t\t}, 1 );\n\t\t}\n\t\telse {\n\t\t\treturn this.iterator( 'table', function ( settings, i ) {\n\t\t\t\tsettings.aaSorting = that[i].map( function (col) {\n\t\t\t\t\treturn [ col, dir ];\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\t} );\n\t\n\t_api_registerPlural('columns().orderable()', 'column().orderable()', function ( directions ) {\n\t\treturn this.iterator( 'column', function ( settings, idx ) {\n\t\t\tvar col = settings.aoColumns[idx];\n\t\n\t\t\treturn directions ?\n\t\t\t\tcol.asSorting :\n\t\t\t\tcol.bSortable;\n\t\t}, 1 );\n\t} );\n\t\n\t\n\t_api_register( 'processing()', function ( show ) {\n\t\treturn this.iterator( 'table', function ( ctx ) {\n\t\t\t_fnProcessingDisplay( ctx, show );\n\t\t} );\n\t} );\n\t\n\t\n\t_api_register( 'search()', function ( input, regex, smart, caseInsen ) {\n\t\tvar ctx = this.context;\n\t\n\t\tif ( input === undefined ) {\n\t\t\t// get\n\t\t\treturn ctx.length !== 0 ?\n\t\t\t\tctx[0].oPreviousSearch.search :\n\t\t\t\tundefined;\n\t\t}\n\t\n\t\t// set\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\tif ( ! settings.oFeatures.bFilter ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif (typeof regex === 'object') {\n\t\t\t\t// New style options to pass to the search builder\n\t\t\t\t_fnFilterComplete( settings, $.extend( settings.oPreviousSearch, regex, {\n\t\t\t\t\tsearch: input\n\t\t\t\t} ) );\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Compat for the old options\n\t\t\t\t_fnFilterComplete( settings, $.extend( settings.oPreviousSearch, {\n\t\t\t\t\tsearch: input,\n\t\t\t\t\tregex:  regex === null ? false : regex,\n\t\t\t\t\tsmart:  smart === null ? true  : smart,\n\t\t\t\t\tcaseInsensitive: caseInsen === null ? true : caseInsen\n\t\t\t\t} ) );\n\t\t\t}\n\t\t} );\n\t} );\n\t\n\t_api_register( 'search.fixed()', function ( name, search ) {\n\t\tvar ret = this.iterator( true, 'table', function ( settings ) {\n\t\t\tvar fixed = settings.searchFixed;\n\t\n\t\t\tif (! name) {\n\t\t\t\treturn Object.keys(fixed)\n\t\t\t}\n\t\t\telse if (search === undefined) {\n\t\t\t\treturn fixed[name];\n\t\t\t}\n\t\t\telse if (search === null) {\n\t\t\t\tdelete fixed[name];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfixed[name] = search;\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t} );\n\t\n\t\treturn name !== undefined && search === undefined\n\t\t\t? ret[0]\n\t\t\t: ret;\n\t} );\n\t\n\t_api_registerPlural(\n\t\t'columns().search()',\n\t\t'column().search()',\n\t\tfunction ( input, regex, smart, caseInsen ) {\n\t\t\treturn this.iterator( 'column', function ( settings, column ) {\n\t\t\t\tvar preSearch = settings.aoPreSearchCols;\n\t\n\t\t\t\tif ( input === undefined ) {\n\t\t\t\t\t// get\n\t\t\t\t\treturn preSearch[ column ].search;\n\t\t\t\t}\n\t\n\t\t\t\t// set\n\t\t\t\tif ( ! settings.oFeatures.bFilter ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (typeof regex === 'object') {\n\t\t\t\t\t// New style options to pass to the search builder\n\t\t\t\t\t$.extend( preSearch[ column ], regex, {\n\t\t\t\t\t\tsearch: input\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Old style (with not all options available)\n\t\t\t\t\t$.extend( preSearch[ column ], {\n\t\t\t\t\t\tsearch: input,\n\t\t\t\t\t\tregex:  regex === null ? false : regex,\n\t\t\t\t\t\tsmart:  smart === null ? true  : smart,\n\t\t\t\t\t\tcaseInsensitive: caseInsen === null ? true : caseInsen\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\n\t\t\t\t_fnFilterComplete( settings, settings.oPreviousSearch );\n\t\t\t} );\n\t\t}\n\t);\n\t\n\t_api_register([\n\t\t\t'columns().search.fixed()',\n\t\t\t'column().search.fixed()'\n\t\t],\n\t\tfunction ( name, search ) {\n\t\t\tvar ret = this.iterator( true, 'column', function ( settings, colIdx ) {\n\t\t\t\tvar fixed = settings.aoColumns[colIdx].searchFixed;\n\t\n\t\t\t\tif (! name) {\n\t\t\t\t\treturn Object.keys(fixed)\n\t\t\t\t}\n\t\t\t\telse if (search === undefined) {\n\t\t\t\t\treturn fixed[name];\n\t\t\t\t}\n\t\t\t\telse if (search === null) {\n\t\t\t\t\tdelete fixed[name];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfixed[name] = search;\n\t\t\t\t}\n\t\n\t\t\t\treturn this;\n\t\t\t} );\n\t\n\t\t\treturn name !== undefined && search === undefined\n\t\t\t\t? ret[0]\n\t\t\t\t: ret;\n\t\t}\n\t);\n\t/*\n\t * State API methods\n\t */\n\t\n\t_api_register( 'state()', function ( set, ignoreTime ) {\n\t\t// getter\n\t\tif ( ! set ) {\n\t\t\treturn this.context.length ?\n\t\t\t\tthis.context[0].oSavedState :\n\t\t\t\tnull;\n\t\t}\n\t\n\t\tvar setMutate = $.extend( true, {}, set );\n\t\n\t\t// setter\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\tif ( ignoreTime !== false ) {\n\t\t\t\tsetMutate.time = +new Date() + 100;\n\t\t\t}\n\t\n\t\t\t_fnImplementState( settings, setMutate, function(){} );\n\t\t} );\n\t} );\n\t\n\t\n\t_api_register( 'state.clear()', function () {\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\t// Save an empty object\n\t\t\tsettings.fnStateSaveCallback.call( settings.oInstance, settings, {} );\n\t\t} );\n\t} );\n\t\n\t\n\t_api_register( 'state.loaded()', function () {\n\t\treturn this.context.length ?\n\t\t\tthis.context[0].oLoadedState :\n\t\t\tnull;\n\t} );\n\t\n\t\n\t_api_register( 'state.save()', function () {\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\t_fnSaveState( settings );\n\t\t} );\n\t} );\n\t\n\t/**\n\t * Set the jQuery or window object to be used by DataTables\n\t *\n\t * @param {*} module Library / container object\n\t * @param {string} [type] Library or container type `lib`, `win` or `datetime`.\n\t *   If not provided, automatic detection is attempted.\n\t */\n\tDataTable.use = function (module, type) {\n\t\tif (type === 'lib' || module.fn) {\n\t\t\t$ = module;\n\t\t}\n\t\telse if (type == 'win' || module.document) {\n\t\t\twindow = module;\n\t\t\tdocument = module.document;\n\t\t}\n\t\telse if (type === 'datetime' || module.type === 'DateTime') {\n\t\t\tDataTable.DateTime = module;\n\t\t}\n\t}\n\t\n\t/**\n\t * CommonJS factory function pass through. This will check if the arguments\n\t * given are a window object or a jQuery object. If so they are set\n\t * accordingly.\n\t * @param {*} root Window\n\t * @param {*} jq jQUery\n\t * @returns {boolean} Indicator\n\t */\n\tDataTable.factory = function (root, jq) {\n\t\tvar is = false;\n\t\n\t\t// Test if the first parameter is a window object\n\t\tif (root && root.document) {\n\t\t\twindow = root;\n\t\t\tdocument = root.document;\n\t\t}\n\t\n\t\t// Test if the second parameter is a jQuery object\n\t\tif (jq && jq.fn && jq.fn.jquery) {\n\t\t\t$ = jq;\n\t\t\tis = true;\n\t\t}\n\t\n\t\treturn is;\n\t}\n\t\n\t/**\n\t * Provide a common method for plug-ins to check the version of DataTables being\n\t * used, in order to ensure compatibility.\n\t *\n\t *  @param {string} version Version string to check for, in the format \"X.Y.Z\".\n\t *    Note that the formats \"X\" and \"X.Y\" are also acceptable.\n\t *  @param {string} [version2=current DataTables version] As above, but optional.\n\t *   If not given the current DataTables version will be used.\n\t *  @returns {boolean} true if this version of DataTables is greater or equal to\n\t *    the required version, or false if this version of DataTales is not\n\t *    suitable\n\t *  @static\n\t *  @dtopt API-Static\n\t *\n\t *  @example\n\t *    alert( $.fn.dataTable.versionCheck( '1.9.0' ) );\n\t */\n\tDataTable.versionCheck = function( version, version2 )\n\t{\n\t\tvar aThis = version2 ?\n\t\t\tversion2.split('.') :\n\t\t\tDataTable.version.split('.');\n\t\tvar aThat = version.split('.');\n\t\tvar iThis, iThat;\n\t\n\t\tfor ( var i=0, iLen=aThat.length ; i<iLen ; i++ ) {\n\t\t\tiThis = parseInt( aThis[i], 10 ) || 0;\n\t\t\tiThat = parseInt( aThat[i], 10 ) || 0;\n\t\n\t\t\t// Parts are the same, keep comparing\n\t\t\tif (iThis === iThat) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\t// Parts are different, return immediately\n\t\t\treturn iThis > iThat;\n\t\t}\n\t\n\t\treturn true;\n\t};\n\t\n\t\n\t/**\n\t * Check if a `<table>` node is a DataTable table already or not.\n\t *\n\t *  @param {node|jquery|string} table Table node, jQuery object or jQuery\n\t *      selector for the table to test. Note that if more than more than one\n\t *      table is passed on, only the first will be checked\n\t *  @returns {boolean} true the table given is a DataTable, or false otherwise\n\t *  @static\n\t *  @dtopt API-Static\n\t *\n\t *  @example\n\t *    if ( ! $.fn.DataTable.isDataTable( '#example' ) ) {\n\t *      $('#example').dataTable();\n\t *    }\n\t */\n\tDataTable.isDataTable = function ( table )\n\t{\n\t\tvar t = $(table).get(0);\n\t\tvar is = false;\n\t\n\t\tif ( table instanceof DataTable.Api ) {\n\t\t\treturn true;\n\t\t}\n\t\n\t\t$.each( DataTable.settings, function (i, o) {\n\t\t\tvar head = o.nScrollHead ? $('table', o.nScrollHead)[0] : null;\n\t\t\tvar foot = o.nScrollFoot ? $('table', o.nScrollFoot)[0] : null;\n\t\n\t\t\tif ( o.nTable === t || head === t || foot === t ) {\n\t\t\t\tis = true;\n\t\t\t}\n\t\t} );\n\t\n\t\treturn is;\n\t};\n\t\n\t\n\t/**\n\t * Get all DataTable tables that have been initialised - optionally you can\n\t * select to get only currently visible tables.\n\t *\n\t *  @param {boolean} [visible=false] Flag to indicate if you want all (default)\n\t *    or visible tables only.\n\t *  @returns {array} Array of `table` nodes (not DataTable instances) which are\n\t *    DataTables\n\t *  @static\n\t *  @dtopt API-Static\n\t *\n\t *  @example\n\t *    $.each( $.fn.dataTable.tables(true), function () {\n\t *      $(table).DataTable().columns.adjust();\n\t *    } );\n\t */\n\tDataTable.tables = function ( visible )\n\t{\n\t\tvar api = false;\n\t\n\t\tif ( $.isPlainObject( visible ) ) {\n\t\t\tapi = visible.api;\n\t\t\tvisible = visible.visible;\n\t\t}\n\t\n\t\tvar a = DataTable.settings\n\t\t\t.filter( function (o) {\n\t\t\t\treturn !visible || (visible && $(o.nTable).is(':visible')) \n\t\t\t\t\t? true\n\t\t\t\t\t: false;\n\t\t\t} )\n\t\t\t.map( function (o) {\n\t\t\t\treturn o.nTable;\n\t\t\t});\n\t\n\t\treturn api ?\n\t\t\tnew _Api( a ) :\n\t\t\ta;\n\t};\n\t\n\t\n\t/**\n\t * Convert from camel case parameters to Hungarian notation. This is made public\n\t * for the extensions to provide the same ability as DataTables core to accept\n\t * either the 1.9 style Hungarian notation, or the 1.10+ style camelCase\n\t * parameters.\n\t *\n\t *  @param {object} src The model object which holds all parameters that can be\n\t *    mapped.\n\t *  @param {object} user The object to convert from camel case to Hungarian.\n\t *  @param {boolean} force When set to `true`, properties which already have a\n\t *    Hungarian value in the `user` object will be overwritten. Otherwise they\n\t *    won't be.\n\t */\n\tDataTable.camelToHungarian = _fnCamelToHungarian;\n\t\n\t\n\t\n\t/**\n\t *\n\t */\n\t_api_register( '$()', function ( selector, opts ) {\n\t\tvar\n\t\t\trows   = this.rows( opts ).nodes(), // Get all rows\n\t\t\tjqRows = $(rows);\n\t\n\t\treturn $( [].concat(\n\t\t\tjqRows.filter( selector ).toArray(),\n\t\t\tjqRows.find( selector ).toArray()\n\t\t) );\n\t} );\n\t\n\t\n\t// jQuery functions to operate on the tables\n\t$.each( [ 'on', 'one', 'off' ], function (i, key) {\n\t\t_api_register( key+'()', function ( /* event, handler */ ) {\n\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\n\t\t\t// Add the `dt` namespace automatically if it isn't already present\n\t\t\targs[0] = args[0].split( /\\s/ ).map( function ( e ) {\n\t\t\t\treturn ! e.match(/\\.dt\\b/) ?\n\t\t\t\t\te+'.dt' :\n\t\t\t\t\te;\n\t\t\t\t} ).join( ' ' );\n\t\n\t\t\tvar inst = $( this.tables().nodes() );\n\t\t\tinst[key].apply( inst, args );\n\t\t\treturn this;\n\t\t} );\n\t} );\n\t\n\t\n\t_api_register( 'clear()', function () {\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\t_fnClearTable( settings );\n\t\t} );\n\t} );\n\t\n\t\n\t_api_register( 'error()', function (msg) {\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\t_fnLog( settings, 0, msg );\n\t\t} );\n\t} );\n\t\n\t\n\t_api_register( 'settings()', function () {\n\t\treturn new _Api( this.context, this.context );\n\t} );\n\t\n\t\n\t_api_register( 'init()', function () {\n\t\tvar ctx = this.context;\n\t\treturn ctx.length ? ctx[0].oInit : null;\n\t} );\n\t\n\t\n\t_api_register( 'data()', function () {\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\treturn _pluck( settings.aoData, '_aData' );\n\t\t} ).flatten();\n\t} );\n\t\n\t\n\t_api_register( 'trigger()', function ( name, args, bubbles ) {\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\treturn _fnCallbackFire( settings, null, name, args, bubbles );\n\t\t} ).flatten();\n\t} );\n\t\n\t\n\t_api_register( 'ready()', function ( fn ) {\n\t\tvar ctx = this.context;\n\t\n\t\t// Get status of first table\n\t\tif (! fn) {\n\t\t\treturn ctx.length\n\t\t\t\t? (ctx[0]._bInitComplete || false)\n\t\t\t\t: null;\n\t\t}\n\t\n\t\t// Function to run either once the table becomes ready or\n\t\t// immediately if it is already ready.\n\t\treturn this.tables().every(function () {\n\t\t\tif (this.context[0]._bInitComplete) {\n\t\t\t\tfn.call(this);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.on('init', function () {\n\t\t\t\t\tfn.call(this);\n\t\t\t\t});\n\t\t\t}\n\t\t} );\n\t} );\n\t\n\t\n\t_api_register( 'destroy()', function ( remove ) {\n\t\tremove = remove || false;\n\t\n\t\treturn this.iterator( 'table', function ( settings ) {\n\t\t\tvar classes   = settings.oClasses;\n\t\t\tvar table     = settings.nTable;\n\t\t\tvar tbody     = settings.nTBody;\n\t\t\tvar thead     = settings.nTHead;\n\t\t\tvar tfoot     = settings.nTFoot;\n\t\t\tvar jqTable   = $(table);\n\t\t\tvar jqTbody   = $(tbody);\n\t\t\tvar jqWrapper = $(settings.nTableWrapper);\n\t\t\tvar rows      = settings.aoData.map( function (r) { return r ? r.nTr : null; } );\n\t\t\tvar orderClasses = classes.order;\n\t\n\t\t\t// Flag to note that the table is currently being destroyed - no action\n\t\t\t// should be taken\n\t\t\tsettings.bDestroying = true;\n\t\n\t\t\t// Fire off the destroy callbacks for plug-ins etc\n\t\t\t_fnCallbackFire( settings, \"aoDestroyCallback\", \"destroy\", [settings], true );\n\t\n\t\t\t// If not being removed from the document, make all columns visible\n\t\t\tif ( ! remove ) {\n\t\t\t\tnew _Api( settings ).columns().visible( true );\n\t\t\t}\n\t\n\t\t\t// Blitz all `DT` namespaced events (these are internal events, the\n\t\t\t// lowercase, `dt` events are user subscribed and they are responsible\n\t\t\t// for removing them\n\t\t\tjqWrapper.off('.DT').find(':not(tbody *)').off('.DT');\n\t\t\t$(window).off('.DT-'+settings.sInstance);\n\t\n\t\t\t// When scrolling we had to break the table up - restore it\n\t\t\tif ( table != thead.parentNode ) {\n\t\t\t\tjqTable.children('thead').detach();\n\t\t\t\tjqTable.append( thead );\n\t\t\t}\n\t\n\t\t\tif ( tfoot && table != tfoot.parentNode ) {\n\t\t\t\tjqTable.children('tfoot').detach();\n\t\t\t\tjqTable.append( tfoot );\n\t\t\t}\n\t\n\t\t\tsettings.colgroup.remove();\n\t\n\t\t\tsettings.aaSorting = [];\n\t\t\tsettings.aaSortingFixed = [];\n\t\t\t_fnSortingClasses( settings );\n\t\n\t\t\t$('th, td', thead)\n\t\t\t\t.removeClass(\n\t\t\t\t\torderClasses.canAsc + ' ' +\n\t\t\t\t\torderClasses.canDesc + ' ' +\n\t\t\t\t\torderClasses.isAsc + ' ' +\n\t\t\t\t\torderClasses.isDesc\n\t\t\t\t)\n\t\t\t\t.css('width', '');\n\t\n\t\t\t// Add the TR elements back into the table in their original order\n\t\t\tjqTbody.children().detach();\n\t\t\tjqTbody.append( rows );\n\t\n\t\t\tvar orig = settings.nTableWrapper.parentNode;\n\t\t\tvar insertBefore = settings.nTableWrapper.nextSibling;\n\t\n\t\t\t// Remove the DataTables generated nodes, events and classes\n\t\t\tvar removedMethod = remove ? 'remove' : 'detach';\n\t\t\tjqTable[ removedMethod ]();\n\t\t\tjqWrapper[ removedMethod ]();\n\t\n\t\t\t// If we need to reattach the table to the document\n\t\t\tif ( ! remove && orig ) {\n\t\t\t\t// insertBefore acts like appendChild if !arg[1]\n\t\t\t\torig.insertBefore( table, insertBefore );\n\t\n\t\t\t\t// Restore the width of the original table - was read from the style property,\n\t\t\t\t// so we can restore directly to that\n\t\t\t\tjqTable\n\t\t\t\t\t.css( 'width', settings.sDestroyWidth )\n\t\t\t\t\t.removeClass( classes.table );\n\t\t\t}\n\t\n\t\t\t/* Remove the settings object from the settings array */\n\t\t\tvar idx = DataTable.settings.indexOf(settings);\n\t\t\tif ( idx !== -1 ) {\n\t\t\t\tDataTable.settings.splice( idx, 1 );\n\t\t\t}\n\t\t} );\n\t} );\n\t\n\t\n\t// Add the `every()` method for rows, columns and cells in a compact form\n\t$.each( [ 'column', 'row', 'cell' ], function ( i, type ) {\n\t\t_api_register( type+'s().every()', function ( fn ) {\n\t\t\tvar opts = this.selector.opts;\n\t\t\tvar api = this;\n\t\t\tvar inst;\n\t\t\tvar counter = 0;\n\t\n\t\t\treturn this.iterator( 'every', function ( settings, selectedIdx, tableIdx ) {\n\t\t\t\tinst = api[ type ](selectedIdx, opts);\n\t\n\t\t\t\tif (type === 'cell') {\n\t\t\t\t\tfn.call(inst, inst[0][0].row, inst[0][0].column, tableIdx, counter);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfn.call(inst, selectedIdx, tableIdx, counter);\n\t\t\t\t}\n\t\n\t\t\t\tcounter++;\n\t\t\t} );\n\t\t} );\n\t} );\n\t\n\t\n\t// i18n method for extensions to be able to use the language object from the\n\t// DataTable\n\t_api_register( 'i18n()', function ( token, def, plural ) {\n\t\tvar ctx = this.context[0];\n\t\tvar resolved = _fnGetObjectDataFn( token )( ctx.oLanguage );\n\t\n\t\tif ( resolved === undefined ) {\n\t\t\tresolved = def;\n\t\t}\n\t\n\t\tif ( $.isPlainObject( resolved ) ) {\n\t\t\tresolved = plural !== undefined && resolved[ plural ] !== undefined ?\n\t\t\t\tresolved[ plural ] :\n\t\t\t\tresolved._;\n\t\t}\n\t\n\t\treturn typeof resolved === 'string'\n\t\t\t? resolved.replace( '%d', plural ) // nb: plural might be undefined,\n\t\t\t: resolved;\n\t} );\n\t\n\t/**\n\t * Version string for plug-ins to check compatibility. Allowed format is\n\t * `a.b.c-d` where: a:int, b:int, c:int, d:string(dev|beta|alpha). `d` is used\n\t * only for non-release builds. See https://semver.org/ for more information.\n\t *  @member\n\t *  @type string\n\t *  @default Version number\n\t */\n\tDataTable.version = \"2.0.8\";\n\t\n\t/**\n\t * Private data store, containing all of the settings objects that are\n\t * created for the tables on a given page.\n\t *\n\t * Note that the `DataTable.settings` object is aliased to\n\t * `jQuery.fn.dataTableExt` through which it may be accessed and\n\t * manipulated, or `jQuery.fn.dataTable.settings`.\n\t *  @member\n\t *  @type array\n\t *  @default []\n\t *  @private\n\t */\n\tDataTable.settings = [];\n\t\n\t/**\n\t * Object models container, for the various models that DataTables has\n\t * available to it. These models define the objects that are used to hold\n\t * the active state and configuration of the table.\n\t *  @namespace\n\t */\n\tDataTable.models = {};\n\t\n\t\n\t\n\t/**\n\t * Template object for the way in which DataTables holds information about\n\t * search information for the global filter and individual column filters.\n\t *  @namespace\n\t */\n\tDataTable.models.oSearch = {\n\t\t/**\n\t\t * Flag to indicate if the filtering should be case insensitive or not\n\t\t */\n\t\t\"caseInsensitive\": true,\n\t\n\t\t/**\n\t\t * Applied search term\n\t\t */\n\t\t\"search\": \"\",\n\t\n\t\t/**\n\t\t * Flag to indicate if the search term should be interpreted as a\n\t\t * regular expression (true) or not (false) and therefore and special\n\t\t * regex characters escaped.\n\t\t */\n\t\t\"regex\": false,\n\t\n\t\t/**\n\t\t * Flag to indicate if DataTables is to use its smart filtering or not.\n\t\t */\n\t\t\"smart\": true,\n\t\n\t\t/**\n\t\t * Flag to indicate if DataTables should only trigger a search when\n\t\t * the return key is pressed.\n\t\t */\n\t\t\"return\": false\n\t};\n\t\n\t\n\t\n\t\n\t/**\n\t * Template object for the way in which DataTables holds information about\n\t * each individual row. This is the object format used for the settings\n\t * aoData array.\n\t *  @namespace\n\t */\n\tDataTable.models.oRow = {\n\t\t/**\n\t\t * TR element for the row\n\t\t */\n\t\t\"nTr\": null,\n\t\n\t\t/**\n\t\t * Array of TD elements for each row. This is null until the row has been\n\t\t * created.\n\t\t */\n\t\t\"anCells\": null,\n\t\n\t\t/**\n\t\t * Data object from the original data source for the row. This is either\n\t\t * an array if using the traditional form of DataTables, or an object if\n\t\t * using mData options. The exact type will depend on the passed in\n\t\t * data from the data source, or will be an array if using DOM a data\n\t\t * source.\n\t\t */\n\t\t\"_aData\": [],\n\t\n\t\t/**\n\t\t * Sorting data cache - this array is ostensibly the same length as the\n\t\t * number of columns (although each index is generated only as it is\n\t\t * needed), and holds the data that is used for sorting each column in the\n\t\t * row. We do this cache generation at the start of the sort in order that\n\t\t * the formatting of the sort data need be done only once for each cell\n\t\t * per sort. This array should not be read from or written to by anything\n\t\t * other than the master sorting methods.\n\t\t */\n\t\t\"_aSortData\": null,\n\t\n\t\t/**\n\t\t * Per cell filtering data cache. As per the sort data cache, used to\n\t\t * increase the performance of the filtering in DataTables\n\t\t */\n\t\t\"_aFilterData\": null,\n\t\n\t\t/**\n\t\t * Filtering data cache. This is the same as the cell filtering cache, but\n\t\t * in this case a string rather than an array. This is easily computed with\n\t\t * a join on `_aFilterData`, but is provided as a cache so the join isn't\n\t\t * needed on every search (memory traded for performance)\n\t\t */\n\t\t\"_sFilterRow\": null,\n\t\n\t\t/**\n\t\t * Denote if the original data source was from the DOM, or the data source\n\t\t * object. This is used for invalidating data, so DataTables can\n\t\t * automatically read data from the original source, unless uninstructed\n\t\t * otherwise.\n\t\t */\n\t\t\"src\": null,\n\t\n\t\t/**\n\t\t * Index in the aoData array. This saves an indexOf lookup when we have the\n\t\t * object, but want to know the index\n\t\t */\n\t\t\"idx\": -1,\n\t\n\t\t/**\n\t\t * Cached display value\n\t\t */\n\t\tdisplayData: null\n\t};\n\t\n\t\n\t/**\n\t * Template object for the column information object in DataTables. This object\n\t * is held in the settings aoColumns array and contains all the information that\n\t * DataTables needs about each individual column.\n\t *\n\t * Note that this object is related to {@link DataTable.defaults.column}\n\t * but this one is the internal data store for DataTables's cache of columns.\n\t * It should NOT be manipulated outside of DataTables. Any configuration should\n\t * be done through the initialisation options.\n\t *  @namespace\n\t */\n\tDataTable.models.oColumn = {\n\t\t/**\n\t\t * Column index.\n\t\t */\n\t\t\"idx\": null,\n\t\n\t\t/**\n\t\t * A list of the columns that sorting should occur on when this column\n\t\t * is sorted. That this property is an array allows multi-column sorting\n\t\t * to be defined for a column (for example first name / last name columns\n\t\t * would benefit from this). The values are integers pointing to the\n\t\t * columns to be sorted on (typically it will be a single integer pointing\n\t\t * at itself, but that doesn't need to be the case).\n\t\t */\n\t\t\"aDataSort\": null,\n\t\n\t\t/**\n\t\t * Define the sorting directions that are applied to the column, in sequence\n\t\t * as the column is repeatedly sorted upon - i.e. the first value is used\n\t\t * as the sorting direction when the column if first sorted (clicked on).\n\t\t * Sort it again (click again) and it will move on to the next index.\n\t\t * Repeat until loop.\n\t\t */\n\t\t\"asSorting\": null,\n\t\n\t\t/**\n\t\t * Flag to indicate if the column is searchable, and thus should be included\n\t\t * in the filtering or not.\n\t\t */\n\t\t\"bSearchable\": null,\n\t\n\t\t/**\n\t\t * Flag to indicate if the column is sortable or not.\n\t\t */\n\t\t\"bSortable\": null,\n\t\n\t\t/**\n\t\t * Flag to indicate if the column is currently visible in the table or not\n\t\t */\n\t\t\"bVisible\": null,\n\t\n\t\t/**\n\t\t * Store for manual type assignment using the `column.type` option. This\n\t\t * is held in store so we can manipulate the column's `sType` property.\n\t\t */\n\t\t\"_sManualType\": null,\n\t\n\t\t/**\n\t\t * Flag to indicate if HTML5 data attributes should be used as the data\n\t\t * source for filtering or sorting. True is either are.\n\t\t */\n\t\t\"_bAttrSrc\": false,\n\t\n\t\t/**\n\t\t * Developer definable function that is called whenever a cell is created (Ajax source,\n\t\t * etc) or processed for input (DOM source). This can be used as a compliment to mRender\n\t\t * allowing you to modify the DOM element (add background colour for example) when the\n\t\t * element is available.\n\t\t */\n\t\t\"fnCreatedCell\": null,\n\t\n\t\t/**\n\t\t * Function to get data from a cell in a column. You should <b>never</b>\n\t\t * access data directly through _aData internally in DataTables - always use\n\t\t * the method attached to this property. It allows mData to function as\n\t\t * required. This function is automatically assigned by the column\n\t\t * initialisation method\n\t\t */\n\t\t\"fnGetData\": null,\n\t\n\t\t/**\n\t\t * Function to set data for a cell in the column. You should <b>never</b>\n\t\t * set the data directly to _aData internally in DataTables - always use\n\t\t * this method. It allows mData to function as required. This function\n\t\t * is automatically assigned by the column initialisation method\n\t\t */\n\t\t\"fnSetData\": null,\n\t\n\t\t/**\n\t\t * Property to read the value for the cells in the column from the data\n\t\t * source array / object. If null, then the default content is used, if a\n\t\t * function is given then the return from the function is used.\n\t\t */\n\t\t\"mData\": null,\n\t\n\t\t/**\n\t\t * Partner property to mData which is used (only when defined) to get\n\t\t * the data - i.e. it is basically the same as mData, but without the\n\t\t * 'set' option, and also the data fed to it is the result from mData.\n\t\t * This is the rendering method to match the data method of mData.\n\t\t */\n\t\t\"mRender\": null,\n\t\n\t\t/**\n\t\t * The class to apply to all TD elements in the table's TBODY for the column\n\t\t */\n\t\t\"sClass\": null,\n\t\n\t\t/**\n\t\t * When DataTables calculates the column widths to assign to each column,\n\t\t * it finds the longest string in each column and then constructs a\n\t\t * temporary table and reads the widths from that. The problem with this\n\t\t * is that \"mmm\" is much wider then \"iiii\", but the latter is a longer\n\t\t * string - thus the calculation can go wrong (doing it properly and putting\n\t\t * it into an DOM object and measuring that is horribly(!) slow). Thus as\n\t\t * a \"work around\" we provide this option. It will append its value to the\n\t\t * text that is found to be the longest string for the column - i.e. padding.\n\t\t */\n\t\t\"sContentPadding\": null,\n\t\n\t\t/**\n\t\t * Allows a default value to be given for a column's data, and will be used\n\t\t * whenever a null data source is encountered (this can be because mData\n\t\t * is set to null, or because the data source itself is null).\n\t\t */\n\t\t\"sDefaultContent\": null,\n\t\n\t\t/**\n\t\t * Name for the column, allowing reference to the column by name as well as\n\t\t * by index (needs a lookup to work by name).\n\t\t */\n\t\t\"sName\": null,\n\t\n\t\t/**\n\t\t * Custom sorting data type - defines which of the available plug-ins in\n\t\t * afnSortData the custom sorting will use - if any is defined.\n\t\t */\n\t\t\"sSortDataType\": 'std',\n\t\n\t\t/**\n\t\t * Class to be applied to the header element when sorting on this column\n\t\t */\n\t\t\"sSortingClass\": null,\n\t\n\t\t/**\n\t\t * Title of the column - what is seen in the TH element (nTh).\n\t\t */\n\t\t\"sTitle\": null,\n\t\n\t\t/**\n\t\t * Column sorting and filtering type\n\t\t */\n\t\t\"sType\": null,\n\t\n\t\t/**\n\t\t * Width of the column\n\t\t */\n\t\t\"sWidth\": null,\n\t\n\t\t/**\n\t\t * Width of the column when it was first \"encountered\"\n\t\t */\n\t\t\"sWidthOrig\": null,\n\t\n\t\t/** Cached string which is the longest in the column */\n\t\tmaxLenString: null,\n\t\n\t\t/**\n\t\t * Store for named searches\n\t\t */\n\t\tsearchFixed: null\n\t};\n\t\n\t\n\t/*\n\t * Developer note: The properties of the object below are given in Hungarian\n\t * notation, that was used as the interface for DataTables prior to v1.10, however\n\t * from v1.10 onwards the primary interface is camel case. In order to avoid\n\t * breaking backwards compatibility utterly with this change, the Hungarian\n\t * version is still, internally the primary interface, but is is not documented\n\t * - hence the @name tags in each doc comment. This allows a Javascript function\n\t * to create a map from Hungarian notation to camel case (going the other direction\n\t * would require each property to be listed, which would add around 3K to the size\n\t * of DataTables, while this method is about a 0.5K hit).\n\t *\n\t * Ultimately this does pave the way for Hungarian notation to be dropped\n\t * completely, but that is a massive amount of work and will break current\n\t * installs (therefore is on-hold until v2).\n\t */\n\t\n\t/**\n\t * Initialisation options that can be given to DataTables at initialisation\n\t * time.\n\t *  @namespace\n\t */\n\tDataTable.defaults = {\n\t\t/**\n\t\t * An array of data to use for the table, passed in at initialisation which\n\t\t * will be used in preference to any data which is already in the DOM. This is\n\t\t * particularly useful for constructing tables purely in Javascript, for\n\t\t * example with a custom Ajax call.\n\t\t */\n\t\t\"aaData\": null,\n\t\n\t\n\t\t/**\n\t\t * If ordering is enabled, then DataTables will perform a first pass sort on\n\t\t * initialisation. You can define which column(s) the sort is performed\n\t\t * upon, and the sorting direction, with this variable. The `sorting` array\n\t\t * should contain an array for each column to be sorted initially containing\n\t\t * the column's index and a direction string ('asc' or 'desc').\n\t\t */\n\t\t\"aaSorting\": [[0,'asc']],\n\t\n\t\n\t\t/**\n\t\t * This parameter is basically identical to the `sorting` parameter, but\n\t\t * cannot be overridden by user interaction with the table. What this means\n\t\t * is that you could have a column (visible or hidden) which the sorting\n\t\t * will always be forced on first - any sorting after that (from the user)\n\t\t * will then be performed as required. This can be useful for grouping rows\n\t\t * together.\n\t\t */\n\t\t\"aaSortingFixed\": [],\n\t\n\t\n\t\t/**\n\t\t * DataTables can be instructed to load data to display in the table from a\n\t\t * Ajax source. This option defines how that Ajax call is made and where to.\n\t\t *\n\t\t * The `ajax` property has three different modes of operation, depending on\n\t\t * how it is defined. These are:\n\t\t *\n\t\t * * `string` - Set the URL from where the data should be loaded from.\n\t\t * * `object` - Define properties for `jQuery.ajax`.\n\t\t * * `function` - Custom data get function\n\t\t *\n\t\t * `string`\n\t\t * --------\n\t\t *\n\t\t * As a string, the `ajax` property simply defines the URL from which\n\t\t * DataTables will load data.\n\t\t *\n\t\t * `object`\n\t\t * --------\n\t\t *\n\t\t * As an object, the parameters in the object are passed to\n\t\t * [jQuery.ajax](https://api.jquery.com/jQuery.ajax/) allowing fine control\n\t\t * of the Ajax request. DataTables has a number of default parameters which\n\t\t * you can override using this option. Please refer to the jQuery\n\t\t * documentation for a full description of the options available, although\n\t\t * the following parameters provide additional options in DataTables or\n\t\t * require special consideration:\n\t\t *\n\t\t * * `data` - As with jQuery, `data` can be provided as an object, but it\n\t\t *   can also be used as a function to manipulate the data DataTables sends\n\t\t *   to the server. The function takes a single parameter, an object of\n\t\t *   parameters with the values that DataTables has readied for sending. An\n\t\t *   object may be returned which will be merged into the DataTables\n\t\t *   defaults, or you can add the items to the object that was passed in and\n\t\t *   not return anything from the function. This supersedes `fnServerParams`\n\t\t *   from DataTables 1.9-.\n\t\t *\n\t\t * * `dataSrc` - By default DataTables will look for the property `data` (or\n\t\t *   `aaData` for compatibility with DataTables 1.9-) when obtaining data\n\t\t *   from an Ajax source or for server-side processing - this parameter\n\t\t *   allows that property to be changed. You can use Javascript dotted\n\t\t *   object notation to get a data source for multiple levels of nesting, or\n\t\t *   it my be used as a function. As a function it takes a single parameter,\n\t\t *   the JSON returned from the server, which can be manipulated as\n\t\t *   required, with the returned value being that used by DataTables as the\n\t\t *   data source for the table.\n\t\t *\n\t\t * * `success` - Should not be overridden it is used internally in\n\t\t *   DataTables. To manipulate / transform the data returned by the server\n\t\t *   use `ajax.dataSrc`, or use `ajax` as a function (see below).\n\t\t *\n\t\t * `function`\n\t\t * ----------\n\t\t *\n\t\t * As a function, making the Ajax call is left up to yourself allowing\n\t\t * complete control of the Ajax request. Indeed, if desired, a method other\n\t\t * than Ajax could be used to obtain the required data, such as Web storage\n\t\t * or an AIR database.\n\t\t *\n\t\t * The function is given four parameters and no return is required. The\n\t\t * parameters are:\n\t\t *\n\t\t * 1. _object_ - Data to send to the server\n\t\t * 2. _function_ - Callback function that must be executed when the required\n\t\t *    data has been obtained. That data should be passed into the callback\n\t\t *    as the only parameter\n\t\t * 3. _object_ - DataTables settings object for the table\n\t\t */\n\t\t\"ajax\": null,\n\t\n\t\n\t\t/**\n\t\t * This parameter allows you to readily specify the entries in the length drop\n\t\t * down menu that DataTables shows when pagination is enabled. It can be\n\t\t * either a 1D array of options which will be used for both the displayed\n\t\t * option and the value, or a 2D array which will use the array in the first\n\t\t * position as the value, and the array in the second position as the\n\t\t * displayed options (useful for language strings such as 'All').\n\t\t *\n\t\t * Note that the `pageLength` property will be automatically set to the\n\t\t * first value given in this array, unless `pageLength` is also provided.\n\t\t */\n\t\t\"aLengthMenu\": [ 10, 25, 50, 100 ],\n\t\n\t\n\t\t/**\n\t\t * The `columns` option in the initialisation parameter allows you to define\n\t\t * details about the way individual columns behave. For a full list of\n\t\t * column options that can be set, please see\n\t\t * {@link DataTable.defaults.column}. Note that if you use `columns` to\n\t\t * define your columns, you must have an entry in the array for every single\n\t\t * column that you have in your table (these can be null if you don't which\n\t\t * to specify any options).\n\t\t */\n\t\t\"aoColumns\": null,\n\t\n\t\t/**\n\t\t * Very similar to `columns`, `columnDefs` allows you to target a specific\n\t\t * column, multiple columns, or all columns, using the `targets` property of\n\t\t * each object in the array. This allows great flexibility when creating\n\t\t * tables, as the `columnDefs` arrays can be of any length, targeting the\n\t\t * columns you specifically want. `columnDefs` may use any of the column\n\t\t * options available: {@link DataTable.defaults.column}, but it _must_\n\t\t * have `targets` defined in each object in the array. Values in the `targets`\n\t\t * array may be:\n\t\t *   <ul>\n\t\t *     <li>a string - class name will be matched on the TH for the column</li>\n\t\t *     <li>0 or a positive integer - column index counting from the left</li>\n\t\t *     <li>a negative integer - column index counting from the right</li>\n\t\t *     <li>the string \"_all\" - all columns (i.e. assign a default)</li>\n\t\t *   </ul>\n\t\t */\n\t\t\"aoColumnDefs\": null,\n\t\n\t\n\t\t/**\n\t\t * Basically the same as `search`, this parameter defines the individual column\n\t\t * filtering state at initialisation time. The array must be of the same size\n\t\t * as the number of columns, and each element be an object with the parameters\n\t\t * `search` and `escapeRegex` (the latter is optional). 'null' is also\n\t\t * accepted and the default will be used.\n\t\t */\n\t\t\"aoSearchCols\": [],\n\t\n\t\n\t\t/**\n\t\t * Enable or disable automatic column width calculation. This can be disabled\n\t\t * as an optimisation (it takes some time to calculate the widths) if the\n\t\t * tables widths are passed in using `columns`.\n\t\t */\n\t\t\"bAutoWidth\": true,\n\t\n\t\n\t\t/**\n\t\t * Deferred rendering can provide DataTables with a huge speed boost when you\n\t\t * are using an Ajax or JS data source for the table. This option, when set to\n\t\t * true, will cause DataTables to defer the creation of the table elements for\n\t\t * each row until they are needed for a draw - saving a significant amount of\n\t\t * time.\n\t\t */\n\t\t\"bDeferRender\": true,\n\t\n\t\n\t\t/**\n\t\t * Replace a DataTable which matches the given selector and replace it with\n\t\t * one which has the properties of the new initialisation object passed. If no\n\t\t * table matches the selector, then the new DataTable will be constructed as\n\t\t * per normal.\n\t\t */\n\t\t\"bDestroy\": false,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable filtering of data. Filtering in DataTables is \"smart\" in\n\t\t * that it allows the end user to input multiple words (space separated) and\n\t\t * will match a row containing those words, even if not in the order that was\n\t\t * specified (this allow matching across multiple columns). Note that if you\n\t\t * wish to use filtering in DataTables this must remain 'true' - to remove the\n\t\t * default filtering input box and retain filtering abilities, please use\n\t\t * {@link DataTable.defaults.dom}.\n\t\t */\n\t\t\"bFilter\": true,\n\t\n\t\t/**\n\t\t * Used only for compatiblity with DT1\n\t\t * @deprecated\n\t\t */\n\t\t\"bInfo\": true,\n\t\n\t\t/**\n\t\t * Used only for compatiblity with DT1\n\t\t * @deprecated\n\t\t */\n\t\t\"bLengthChange\": true,\n\t\n\t\t/**\n\t\t * Enable or disable pagination.\n\t\t */\n\t\t\"bPaginate\": true,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable the display of a 'processing' indicator when the table is\n\t\t * being processed (e.g. a sort). This is particularly useful for tables with\n\t\t * large amounts of data where it can take a noticeable amount of time to sort\n\t\t * the entries.\n\t\t */\n\t\t\"bProcessing\": false,\n\t\n\t\n\t\t/**\n\t\t * Retrieve the DataTables object for the given selector. Note that if the\n\t\t * table has already been initialised, this parameter will cause DataTables\n\t\t * to simply return the object that has already been set up - it will not take\n\t\t * account of any changes you might have made to the initialisation object\n\t\t * passed to DataTables (setting this parameter to true is an acknowledgement\n\t\t * that you understand this). `destroy` can be used to reinitialise a table if\n\t\t * you need.\n\t\t */\n\t\t\"bRetrieve\": false,\n\t\n\t\n\t\t/**\n\t\t * When vertical (y) scrolling is enabled, DataTables will force the height of\n\t\t * the table's viewport to the given height at all times (useful for layout).\n\t\t * However, this can look odd when filtering data down to a small data set,\n\t\t * and the footer is left \"floating\" further down. This parameter (when\n\t\t * enabled) will cause DataTables to collapse the table's viewport down when\n\t\t * the result set will fit within the given Y height.\n\t\t */\n\t\t\"bScrollCollapse\": false,\n\t\n\t\n\t\t/**\n\t\t * Configure DataTables to use server-side processing. Note that the\n\t\t * `ajax` parameter must also be given in order to give DataTables a\n\t\t * source to obtain the required data for each draw.\n\t\t */\n\t\t\"bServerSide\": false,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable sorting of columns. Sorting of individual columns can be\n\t\t * disabled by the `sortable` option for each column.\n\t\t */\n\t\t\"bSort\": true,\n\t\n\t\n\t\t/**\n\t\t * Enable or display DataTables' ability to sort multiple columns at the\n\t\t * same time (activated by shift-click by the user).\n\t\t */\n\t\t\"bSortMulti\": true,\n\t\n\t\n\t\t/**\n\t\t * Allows control over whether DataTables should use the top (true) unique\n\t\t * cell that is found for a single column, or the bottom (false - default).\n\t\t * This is useful when using complex headers.\n\t\t */\n\t\t\"bSortCellsTop\": null,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable the addition of the classes `sorting\\_1`, `sorting\\_2` and\n\t\t * `sorting\\_3` to the columns which are currently being sorted on. This is\n\t\t * presented as a feature switch as it can increase processing time (while\n\t\t * classes are removed and added) so for large data sets you might want to\n\t\t * turn this off.\n\t\t */\n\t\t\"bSortClasses\": true,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable state saving. When enabled HTML5 `localStorage` will be\n\t\t * used to save table display information such as pagination information,\n\t\t * display length, filtering and sorting. As such when the end user reloads\n\t\t * the page the display display will match what thy had previously set up.\n\t\t */\n\t\t\"bStateSave\": false,\n\t\n\t\n\t\t/**\n\t\t * This function is called when a TR element is created (and all TD child\n\t\t * elements have been inserted), or registered if using a DOM source, allowing\n\t\t * manipulation of the TR element (adding classes etc).\n\t\t */\n\t\t\"fnCreatedRow\": null,\n\t\n\t\n\t\t/**\n\t\t * This function is called on every 'draw' event, and allows you to\n\t\t * dynamically modify any aspect you want about the created DOM.\n\t\t */\n\t\t\"fnDrawCallback\": null,\n\t\n\t\n\t\t/**\n\t\t * Identical to fnHeaderCallback() but for the table footer this function\n\t\t * allows you to modify the table footer on every 'draw' event.\n\t\t */\n\t\t\"fnFooterCallback\": null,\n\t\n\t\n\t\t/**\n\t\t * When rendering large numbers in the information element for the table\n\t\t * (i.e. \"Showing 1 to 10 of 57 entries\") DataTables will render large numbers\n\t\t * to have a comma separator for the 'thousands' units (e.g. 1 million is\n\t\t * rendered as \"1,000,000\") to help readability for the end user. This\n\t\t * function will override the default method DataTables uses.\n\t\t */\n\t\t\"fnFormatNumber\": function ( toFormat ) {\n\t\t\treturn toFormat.toString().replace(\n\t\t\t\t/\\B(?=(\\d{3})+(?!\\d))/g,\n\t\t\t\tthis.oLanguage.sThousands\n\t\t\t);\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * This function is called on every 'draw' event, and allows you to\n\t\t * dynamically modify the header row. This can be used to calculate and\n\t\t * display useful information about the table.\n\t\t */\n\t\t\"fnHeaderCallback\": null,\n\t\n\t\n\t\t/**\n\t\t * The information element can be used to convey information about the current\n\t\t * state of the table. Although the internationalisation options presented by\n\t\t * DataTables are quite capable of dealing with most customisations, there may\n\t\t * be times where you wish to customise the string further. This callback\n\t\t * allows you to do exactly that.\n\t\t */\n\t\t\"fnInfoCallback\": null,\n\t\n\t\n\t\t/**\n\t\t * Called when the table has been initialised. Normally DataTables will\n\t\t * initialise sequentially and there will be no need for this function,\n\t\t * however, this does not hold true when using external language information\n\t\t * since that is obtained using an async XHR call.\n\t\t */\n\t\t\"fnInitComplete\": null,\n\t\n\t\n\t\t/**\n\t\t * Called at the very start of each table draw and can be used to cancel the\n\t\t * draw by returning false, any other return (including undefined) results in\n\t\t * the full draw occurring).\n\t\t */\n\t\t\"fnPreDrawCallback\": null,\n\t\n\t\n\t\t/**\n\t\t * This function allows you to 'post process' each row after it have been\n\t\t * generated for each table draw, but before it is rendered on screen. This\n\t\t * function might be used for setting the row class name etc.\n\t\t */\n\t\t\"fnRowCallback\": null,\n\t\n\t\n\t\t/**\n\t\t * Load the table state. With this function you can define from where, and how, the\n\t\t * state of a table is loaded. By default DataTables will load from `localStorage`\n\t\t * but you might wish to use a server-side database or cookies.\n\t\t */\n\t\t\"fnStateLoadCallback\": function ( settings ) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(\n\t\t\t\t\t(settings.iStateDuration === -1 ? sessionStorage : localStorage).getItem(\n\t\t\t\t\t\t'DataTables_'+settings.sInstance+'_'+location.pathname\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} catch (e) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * Callback which allows modification of the saved state prior to loading that state.\n\t\t * This callback is called when the table is loading state from the stored data, but\n\t\t * prior to the settings object being modified by the saved state. Note that for\n\t\t * plug-in authors, you should use the `stateLoadParams` event to load parameters for\n\t\t * a plug-in.\n\t\t */\n\t\t\"fnStateLoadParams\": null,\n\t\n\t\n\t\t/**\n\t\t * Callback that is called when the state has been loaded from the state saving method\n\t\t * and the DataTables settings object has been modified as a result of the loaded state.\n\t\t */\n\t\t\"fnStateLoaded\": null,\n\t\n\t\n\t\t/**\n\t\t * Save the table state. This function allows you to define where and how the state\n\t\t * information for the table is stored By default DataTables will use `localStorage`\n\t\t * but you might wish to use a server-side database or cookies.\n\t\t */\n\t\t\"fnStateSaveCallback\": function ( settings, data ) {\n\t\t\ttry {\n\t\t\t\t(settings.iStateDuration === -1 ? sessionStorage : localStorage).setItem(\n\t\t\t\t\t'DataTables_'+settings.sInstance+'_'+location.pathname,\n\t\t\t\t\tJSON.stringify( data )\n\t\t\t\t);\n\t\t\t} catch (e) {\n\t\t\t\t// noop\n\t\t\t}\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * Callback which allows modification of the state to be saved. Called when the table\n\t\t * has changed state a new state save is required. This method allows modification of\n\t\t * the state saving object prior to actually doing the save, including addition or\n\t\t * other state properties or modification. Note that for plug-in authors, you should\n\t\t * use the `stateSaveParams` event to save parameters for a plug-in.\n\t\t */\n\t\t\"fnStateSaveParams\": null,\n\t\n\t\n\t\t/**\n\t\t * Duration for which the saved state information is considered valid. After this period\n\t\t * has elapsed the state will be returned to the default.\n\t\t * Value is given in seconds.\n\t\t */\n\t\t\"iStateDuration\": 7200,\n\t\n\t\n\t\t/**\n\t\t * Number of rows to display on a single page when using pagination. If\n\t\t * feature enabled (`lengthChange`) then the end user will be able to override\n\t\t * this to a custom setting using a pop-up menu.\n\t\t */\n\t\t\"iDisplayLength\": 10,\n\t\n\t\n\t\t/**\n\t\t * Define the starting point for data display when using DataTables with\n\t\t * pagination. Note that this parameter is the number of records, rather than\n\t\t * the page number, so if you have 10 records per page and want to start on\n\t\t * the third page, it should be \"20\".\n\t\t */\n\t\t\"iDisplayStart\": 0,\n\t\n\t\n\t\t/**\n\t\t * By default DataTables allows keyboard navigation of the table (sorting, paging,\n\t\t * and filtering) by adding a `tabindex` attribute to the required elements. This\n\t\t * allows you to tab through the controls and press the enter key to activate them.\n\t\t * The tabindex is default 0, meaning that the tab follows the flow of the document.\n\t\t * You can overrule this using this parameter if you wish. Use a value of -1 to\n\t\t * disable built-in keyboard navigation.\n\t\t */\n\t\t\"iTabIndex\": 0,\n\t\n\t\n\t\t/**\n\t\t * Classes that DataTables assigns to the various components and features\n\t\t * that it adds to the HTML table. This allows classes to be configured\n\t\t * during initialisation in addition to through the static\n\t\t * {@link DataTable.ext.oStdClasses} object).\n\t\t */\n\t\t\"oClasses\": {},\n\t\n\t\n\t\t/**\n\t\t * All strings that DataTables uses in the user interface that it creates\n\t\t * are defined in this object, allowing you to modified them individually or\n\t\t * completely replace them all as required.\n\t\t */\n\t\t\"oLanguage\": {\n\t\t\t/**\n\t\t\t * Strings that are used for WAI-ARIA labels and controls only (these are not\n\t\t\t * actually visible on the page, but will be read by screenreaders, and thus\n\t\t\t * must be internationalised as well).\n\t\t\t */\n\t\t\t\"oAria\": {\n\t\t\t\t/**\n\t\t\t\t * ARIA label that is added to the table headers when the column may be sorted\n\t\t\t\t */\n\t\t\t\t\"orderable\": \": Activate to sort\",\n\t\n\t\t\t\t/**\n\t\t\t\t * ARIA label that is added to the table headers when the column is currently being sorted\n\t\t\t\t */\n\t\t\t\t\"orderableReverse\": \": Activate to invert sorting\",\n\t\n\t\t\t\t/**\n\t\t\t\t * ARIA label that is added to the table headers when the column is currently being \n\t\t\t\t * sorted and next step is to remove sorting\n\t\t\t\t */\n\t\t\t\t\"orderableRemove\": \": Activate to remove sorting\",\n\t\n\t\t\t\tpaginate: {\n\t\t\t\t\tfirst: 'First',\n\t\t\t\t\tlast: 'Last',\n\t\t\t\t\tnext: 'Next',\n\t\t\t\t\tprevious: 'Previous'\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Pagination string used by DataTables for the built-in pagination\n\t\t\t * control types.\n\t\t\t */\n\t\t\t\"oPaginate\": {\n\t\t\t\t/**\n\t\t\t\t * Label and character for first page button (\u00AB)\n\t\t\t\t */\n\t\t\t\t\"sFirst\": \"\\u00AB\",\n\t\n\t\t\t\t/**\n\t\t\t\t * Last page button (\u00BB)\n\t\t\t\t */\n\t\t\t\t\"sLast\": \"\\u00BB\",\n\t\n\t\t\t\t/**\n\t\t\t\t * Next page button (\u203A)\n\t\t\t\t */\n\t\t\t\t\"sNext\": \"\\u203A\",\n\t\n\t\t\t\t/**\n\t\t\t\t * Previous page button (\u2039)\n\t\t\t\t */\n\t\t\t\t\"sPrevious\": \"\\u2039\",\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Plural object for the data type the table is showing\n\t\t\t */\n\t\t\tentries: {\n\t\t\t\t_: \"entries\",\n\t\t\t\t1: \"entry\"\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * This string is shown in preference to `zeroRecords` when the table is\n\t\t\t * empty of data (regardless of filtering). Note that this is an optional\n\t\t\t * parameter - if it is not given, the value of `zeroRecords` will be used\n\t\t\t * instead (either the default or given value).\n\t\t\t */\n\t\t\t\"sEmptyTable\": \"No data available in table\",\n\t\n\t\n\t\t\t/**\n\t\t\t * This string gives information to the end user about the information\n\t\t\t * that is current on display on the page. The following tokens can be\n\t\t\t * used in the string and will be dynamically replaced as the table\n\t\t\t * display updates. This tokens can be placed anywhere in the string, or\n\t\t\t * removed as needed by the language requires:\n\t\t\t *\n\t\t\t * * `\\_START\\_` - Display index of the first record on the current page\n\t\t\t * * `\\_END\\_` - Display index of the last record on the current page\n\t\t\t * * `\\_TOTAL\\_` - Number of records in the table after filtering\n\t\t\t * * `\\_MAX\\_` - Number of records in the table without filtering\n\t\t\t * * `\\_PAGE\\_` - Current page number\n\t\t\t * * `\\_PAGES\\_` - Total number of pages of data in the table\n\t\t\t */\n\t\t\t\"sInfo\": \"Showing _START_ to _END_ of _TOTAL_ _ENTRIES-TOTAL_\",\n\t\n\t\n\t\t\t/**\n\t\t\t * Display information string for when the table is empty. Typically the\n\t\t\t * format of this string should match `info`.\n\t\t\t */\n\t\t\t\"sInfoEmpty\": \"Showing 0 to 0 of 0 _ENTRIES-TOTAL_\",\n\t\n\t\n\t\t\t/**\n\t\t\t * When a user filters the information in a table, this string is appended\n\t\t\t * to the information (`info`) to give an idea of how strong the filtering\n\t\t\t * is. The variable _MAX_ is dynamically updated.\n\t\t\t */\n\t\t\t\"sInfoFiltered\": \"(filtered from _MAX_ total _ENTRIES-MAX_)\",\n\t\n\t\n\t\t\t/**\n\t\t\t * If can be useful to append extra information to the info string at times,\n\t\t\t * and this variable does exactly that. This information will be appended to\n\t\t\t * the `info` (`infoEmpty` and `infoFiltered` in whatever combination they are\n\t\t\t * being used) at all times.\n\t\t\t */\n\t\t\t\"sInfoPostFix\": \"\",\n\t\n\t\n\t\t\t/**\n\t\t\t * This decimal place operator is a little different from the other\n\t\t\t * language options since DataTables doesn't output floating point\n\t\t\t * numbers, so it won't ever use this for display of a number. Rather,\n\t\t\t * what this parameter does is modify the sort methods of the table so\n\t\t\t * that numbers which are in a format which has a character other than\n\t\t\t * a period (`.`) as a decimal place will be sorted numerically.\n\t\t\t *\n\t\t\t * Note that numbers with different decimal places cannot be shown in\n\t\t\t * the same table and still be sortable, the table must be consistent.\n\t\t\t * However, multiple different tables on the page can use different\n\t\t\t * decimal place characters.\n\t\t\t */\n\t\t\t\"sDecimal\": \"\",\n\t\n\t\n\t\t\t/**\n\t\t\t * DataTables has a build in number formatter (`formatNumber`) which is\n\t\t\t * used to format large numbers that are used in the table information.\n\t\t\t * By default a comma is used, but this can be trivially changed to any\n\t\t\t * character you wish with this parameter.\n\t\t\t */\n\t\t\t\"sThousands\": \",\",\n\t\n\t\n\t\t\t/**\n\t\t\t * Detail the action that will be taken when the drop down menu for the\n\t\t\t * pagination length option is changed. The '_MENU_' variable is replaced\n\t\t\t * with a default select list of 10, 25, 50 and 100, and can be replaced\n\t\t\t * with a custom select box if required.\n\t\t\t */\n\t\t\t\"sLengthMenu\": \"_MENU_ _ENTRIES_ per page\",\n\t\n\t\n\t\t\t/**\n\t\t\t * When using Ajax sourced data and during the first draw when DataTables is\n\t\t\t * gathering the data, this message is shown in an empty row in the table to\n\t\t\t * indicate to the end user the the data is being loaded. Note that this\n\t\t\t * parameter is not used when loading data by server-side processing, just\n\t\t\t * Ajax sourced data with client-side processing.\n\t\t\t */\n\t\t\t\"sLoadingRecords\": \"Loading...\",\n\t\n\t\n\t\t\t/**\n\t\t\t * Text which is displayed when the table is processing a user action\n\t\t\t * (usually a sort command or similar).\n\t\t\t */\n\t\t\t\"sProcessing\": \"\",\n\t\n\t\n\t\t\t/**\n\t\t\t * Details the actions that will be taken when the user types into the\n\t\t\t * filtering input text box. The variable \"_INPUT_\", if used in the string,\n\t\t\t * is replaced with the HTML text box for the filtering input allowing\n\t\t\t * control over where it appears in the string. If \"_INPUT_\" is not given\n\t\t\t * then the input box is appended to the string automatically.\n\t\t\t */\n\t\t\t\"sSearch\": \"Search:\",\n\t\n\t\n\t\t\t/**\n\t\t\t * Assign a `placeholder` attribute to the search `input` element\n\t\t\t *  @type string\n\t\t\t *  @default \n\t\t\t *\n\t\t\t *  @dtopt Language\n\t\t\t *  @name DataTable.defaults.language.searchPlaceholder\n\t\t\t */\n\t\t\t\"sSearchPlaceholder\": \"\",\n\t\n\t\n\t\t\t/**\n\t\t\t * All of the language information can be stored in a file on the\n\t\t\t * server-side, which DataTables will look up if this parameter is passed.\n\t\t\t * It must store the URL of the language file, which is in a JSON format,\n\t\t\t * and the object has the same properties as the oLanguage object in the\n\t\t\t * initialiser object (i.e. the above parameters). Please refer to one of\n\t\t\t * the example language files to see how this works in action.\n\t\t\t */\n\t\t\t\"sUrl\": \"\",\n\t\n\t\n\t\t\t/**\n\t\t\t * Text shown inside the table records when the is no information to be\n\t\t\t * displayed after filtering. `emptyTable` is shown when there is simply no\n\t\t\t * information in the table at all (regardless of filtering).\n\t\t\t */\n\t\t\t\"sZeroRecords\": \"No matching records found\"\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * This parameter allows you to have define the global filtering state at\n\t\t * initialisation time. As an object the `search` parameter must be\n\t\t * defined, but all other parameters are optional. When `regex` is true,\n\t\t * the search string will be treated as a regular expression, when false\n\t\t * (default) it will be treated as a straight string. When `smart`\n\t\t * DataTables will use it's smart filtering methods (to word match at\n\t\t * any point in the data), when false this will not be done.\n\t\t */\n\t\t\"oSearch\": $.extend( {}, DataTable.models.oSearch ),\n\t\n\t\n\t\t/**\n\t\t * Table and control layout. This replaces the legacy `dom` option.\n\t\t */\n\t\tlayout: {\n\t\t\ttopStart: 'pageLength',\n\t\t\ttopEnd: 'search',\n\t\t\tbottomStart: 'info',\n\t\t\tbottomEnd: 'paging'\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * Legacy DOM layout option\n\t\t */\n\t\t\"sDom\": null,\n\t\n\t\n\t\t/**\n\t\t * Search delay option. This will throttle full table searches that use the\n\t\t * DataTables provided search input element (it does not effect calls to\n\t\t * `dt-api search()`, providing a delay before the search is made.\n\t\t */\n\t\t\"searchDelay\": null,\n\t\n\t\n\t\t/**\n\t\t * DataTables features six different built-in options for the buttons to\n\t\t * display for pagination control:\n\t\t *\n\t\t * * `numbers` - Page number buttons only\n\t\t * * `simple` - 'Previous' and 'Next' buttons only\n\t\t * * 'simple_numbers` - 'Previous' and 'Next' buttons, plus page numbers\n\t\t * * `full` - 'First', 'Previous', 'Next' and 'Last' buttons\n\t\t * * `full_numbers` - 'First', 'Previous', 'Next' and 'Last' buttons, plus page numbers\n\t\t * * `first_last_numbers` - 'First' and 'Last' buttons, plus page numbers\n\t\t */\n\t\t\"sPaginationType\": \"full_numbers\",\n\t\n\t\n\t\t/**\n\t\t * Enable horizontal scrolling. When a table is too wide to fit into a\n\t\t * certain layout, or you have a large number of columns in the table, you\n\t\t * can enable x-scrolling to show the table in a viewport, which can be\n\t\t * scrolled. This property can be `true` which will allow the table to\n\t\t * scroll horizontally when needed, or any CSS unit, or a number (in which\n\t\t * case it will be treated as a pixel measurement). Setting as simply `true`\n\t\t * is recommended.\n\t\t */\n\t\t\"sScrollX\": \"\",\n\t\n\t\n\t\t/**\n\t\t * This property can be used to force a DataTable to use more width than it\n\t\t * might otherwise do when x-scrolling is enabled. For example if you have a\n\t\t * table which requires to be well spaced, this parameter is useful for\n\t\t * \"over-sizing\" the table, and thus forcing scrolling. This property can by\n\t\t * any CSS unit, or a number (in which case it will be treated as a pixel\n\t\t * measurement).\n\t\t */\n\t\t\"sScrollXInner\": \"\",\n\t\n\t\n\t\t/**\n\t\t * Enable vertical scrolling. Vertical scrolling will constrain the DataTable\n\t\t * to the given height, and enable scrolling for any data which overflows the\n\t\t * current viewport. This can be used as an alternative to paging to display\n\t\t * a lot of data in a small area (although paging and scrolling can both be\n\t\t * enabled at the same time). This property can be any CSS unit, or a number\n\t\t * (in which case it will be treated as a pixel measurement).\n\t\t */\n\t\t\"sScrollY\": \"\",\n\t\n\t\n\t\t/**\n\t\t * __Deprecated__ The functionality provided by this parameter has now been\n\t\t * superseded by that provided through `ajax`, which should be used instead.\n\t\t *\n\t\t * Set the HTTP method that is used to make the Ajax call for server-side\n\t\t * processing or Ajax sourced data.\n\t\t */\n\t\t\"sServerMethod\": \"GET\",\n\t\n\t\n\t\t/**\n\t\t * DataTables makes use of renderers when displaying HTML elements for\n\t\t * a table. These renderers can be added or modified by plug-ins to\n\t\t * generate suitable mark-up for a site. For example the Bootstrap\n\t\t * integration plug-in for DataTables uses a paging button renderer to\n\t\t * display pagination buttons in the mark-up required by Bootstrap.\n\t\t *\n\t\t * For further information about the renderers available see\n\t\t * DataTable.ext.renderer\n\t\t */\n\t\t\"renderer\": null,\n\t\n\t\n\t\t/**\n\t\t * Set the data property name that DataTables should use to get a row's id\n\t\t * to set as the `id` property in the node.\n\t\t */\n\t\t\"rowId\": \"DT_RowId\",\n\t\n\t\n\t\t/**\n\t\t * Caption value\n\t\t */\n\t\t\"caption\": null\n\t};\n\t\n\t_fnHungarianMap( DataTable.defaults );\n\t\n\t\n\t\n\t/*\n\t * Developer note - See note in model.defaults.js about the use of Hungarian\n\t * notation and camel case.\n\t */\n\t\n\t/**\n\t * Column options that can be given to DataTables at initialisation time.\n\t *  @namespace\n\t */\n\tDataTable.defaults.column = {\n\t\t/**\n\t\t * Define which column(s) an order will occur on for this column. This\n\t\t * allows a column's ordering to take multiple columns into account when\n\t\t * doing a sort or use the data from a different column. For example first\n\t\t * name / last name columns make sense to do a multi-column sort over the\n\t\t * two columns.\n\t\t */\n\t\t\"aDataSort\": null,\n\t\t\"iDataSort\": -1,\n\t\n\t\tariaTitle: '',\n\t\n\t\n\t\t/**\n\t\t * You can control the default ordering direction, and even alter the\n\t\t * behaviour of the sort handler (i.e. only allow ascending ordering etc)\n\t\t * using this parameter.\n\t\t */\n\t\t\"asSorting\": [ 'asc', 'desc', '' ],\n\t\n\t\n\t\t/**\n\t\t * Enable or disable filtering on the data in this column.\n\t\t */\n\t\t\"bSearchable\": true,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable ordering on this column.\n\t\t */\n\t\t\"bSortable\": true,\n\t\n\t\n\t\t/**\n\t\t * Enable or disable the display of this column.\n\t\t */\n\t\t\"bVisible\": true,\n\t\n\t\n\t\t/**\n\t\t * Developer definable function that is called whenever a cell is created (Ajax source,\n\t\t * etc) or processed for input (DOM source). This can be used as a compliment to mRender\n\t\t * allowing you to modify the DOM element (add background colour for example) when the\n\t\t * element is available.\n\t\t */\n\t\t\"fnCreatedCell\": null,\n\t\n\t\n\t\t/**\n\t\t * This property can be used to read data from any data source property,\n\t\t * including deeply nested objects / properties. `data` can be given in a\n\t\t * number of different ways which effect its behaviour:\n\t\t *\n\t\t * * `integer` - treated as an array index for the data source. This is the\n\t\t *   default that DataTables uses (incrementally increased for each column).\n\t\t * * `string` - read an object property from the data source. There are\n\t\t *   three 'special' options that can be used in the string to alter how\n\t\t *   DataTables reads the data from the source object:\n\t\t *    * `.` - Dotted Javascript notation. Just as you use a `.` in\n\t\t *      Javascript to read from nested objects, so to can the options\n\t\t *      specified in `data`. For example: `browser.version` or\n\t\t *      `browser.name`. If your object parameter name contains a period, use\n\t\t *      `\\\\` to escape it - i.e. `first\\\\.name`.\n\t\t *    * `[]` - Array notation. DataTables can automatically combine data\n\t\t *      from and array source, joining the data with the characters provided\n\t\t *      between the two brackets. For example: `name[, ]` would provide a\n\t\t *      comma-space separated list from the source array. If no characters\n\t\t *      are provided between the brackets, the original array source is\n\t\t *      returned.\n\t\t *    * `()` - Function notation. Adding `()` to the end of a parameter will\n\t\t *      execute a function of the name given. For example: `browser()` for a\n\t\t *      simple function on the data source, `browser.version()` for a\n\t\t *      function in a nested property or even `browser().version` to get an\n\t\t *      object property if the function called returns an object. Note that\n\t\t *      function notation is recommended for use in `render` rather than\n\t\t *      `data` as it is much simpler to use as a renderer.\n\t\t * * `null` - use the original data source for the row rather than plucking\n\t\t *   data directly from it. This action has effects on two other\n\t\t *   initialisation options:\n\t\t *    * `defaultContent` - When null is given as the `data` option and\n\t\t *      `defaultContent` is specified for the column, the value defined by\n\t\t *      `defaultContent` will be used for the cell.\n\t\t *    * `render` - When null is used for the `data` option and the `render`\n\t\t *      option is specified for the column, the whole data source for the\n\t\t *      row is used for the renderer.\n\t\t * * `function` - the function given will be executed whenever DataTables\n\t\t *   needs to set or get the data for a cell in the column. The function\n\t\t *   takes three parameters:\n\t\t *    * Parameters:\n\t\t *      * `{array|object}` The data source for the row\n\t\t *      * `{string}` The type call data requested - this will be 'set' when\n\t\t *        setting data or 'filter', 'display', 'type', 'sort' or undefined\n\t\t *        when gathering data. Note that when `undefined` is given for the\n\t\t *        type DataTables expects to get the raw data for the object back<\n\t\t *      * `{*}` Data to set when the second parameter is 'set'.\n\t\t *    * Return:\n\t\t *      * The return value from the function is not required when 'set' is\n\t\t *        the type of call, but otherwise the return is what will be used\n\t\t *        for the data requested.\n\t\t *\n\t\t * Note that `data` is a getter and setter option. If you just require\n\t\t * formatting of data for output, you will likely want to use `render` which\n\t\t * is simply a getter and thus simpler to use.\n\t\t *\n\t\t * Note that prior to DataTables 1.9.2 `data` was called `mDataProp`. The\n\t\t * name change reflects the flexibility of this property and is consistent\n\t\t * with the naming of mRender. If 'mDataProp' is given, then it will still\n\t\t * be used by DataTables, as it automatically maps the old name to the new\n\t\t * if required.\n\t\t */\n\t\t\"mData\": null,\n\t\n\t\n\t\t/**\n\t\t * This property is the rendering partner to `data` and it is suggested that\n\t\t * when you want to manipulate data for display (including filtering,\n\t\t * sorting etc) without altering the underlying data for the table, use this\n\t\t * property. `render` can be considered to be the the read only companion to\n\t\t * `data` which is read / write (then as such more complex). Like `data`\n\t\t * this option can be given in a number of different ways to effect its\n\t\t * behaviour:\n\t\t *\n\t\t * * `integer` - treated as an array index for the data source. This is the\n\t\t *   default that DataTables uses (incrementally increased for each column).\n\t\t * * `string` - read an object property from the data source. There are\n\t\t *   three 'special' options that can be used in the string to alter how\n\t\t *   DataTables reads the data from the source object:\n\t\t *    * `.` - Dotted Javascript notation. Just as you use a `.` in\n\t\t *      Javascript to read from nested objects, so to can the options\n\t\t *      specified in `data`. For example: `browser.version` or\n\t\t *      `browser.name`. If your object parameter name contains a period, use\n\t\t *      `\\\\` to escape it - i.e. `first\\\\.name`.\n\t\t *    * `[]` - Array notation. DataTables can automatically combine data\n\t\t *      from and array source, joining the data with the characters provided\n\t\t *      between the two brackets. For example: `name[, ]` would provide a\n\t\t *      comma-space separated list from the source array. If no characters\n\t\t *      are provided between the brackets, the original array source is\n\t\t *      returned.\n\t\t *    * `()` - Function notation. Adding `()` to the end of a parameter will\n\t\t *      execute a function of the name given. For example: `browser()` for a\n\t\t *      simple function on the data source, `browser.version()` for a\n\t\t *      function in a nested property or even `browser().version` to get an\n\t\t *      object property if the function called returns an object.\n\t\t * * `object` - use different data for the different data types requested by\n\t\t *   DataTables ('filter', 'display', 'type' or 'sort'). The property names\n\t\t *   of the object is the data type the property refers to and the value can\n\t\t *   defined using an integer, string or function using the same rules as\n\t\t *   `render` normally does. Note that an `_` option _must_ be specified.\n\t\t *   This is the default value to use if you haven't specified a value for\n\t\t *   the data type requested by DataTables.\n\t\t * * `function` - the function given will be executed whenever DataTables\n\t\t *   needs to set or get the data for a cell in the column. The function\n\t\t *   takes three parameters:\n\t\t *    * Parameters:\n\t\t *      * {array|object} The data source for the row (based on `data`)\n\t\t *      * {string} The type call data requested - this will be 'filter',\n\t\t *        'display', 'type' or 'sort'.\n\t\t *      * {array|object} The full data source for the row (not based on\n\t\t *        `data`)\n\t\t *    * Return:\n\t\t *      * The return value from the function is what will be used for the\n\t\t *        data requested.\n\t\t */\n\t\t\"mRender\": null,\n\t\n\t\n\t\t/**\n\t\t * Change the cell type created for the column - either TD cells or TH cells. This\n\t\t * can be useful as TH cells have semantic meaning in the table body, allowing them\n\t\t * to act as a header for a row (you may wish to add scope='row' to the TH elements).\n\t\t */\n\t\t\"sCellType\": \"td\",\n\t\n\t\n\t\t/**\n\t\t * Class to give to each cell in this column.\n\t\t */\n\t\t\"sClass\": \"\",\n\t\n\t\t/**\n\t\t * When DataTables calculates the column widths to assign to each column,\n\t\t * it finds the longest string in each column and then constructs a\n\t\t * temporary table and reads the widths from that. The problem with this\n\t\t * is that \"mmm\" is much wider then \"iiii\", but the latter is a longer\n\t\t * string - thus the calculation can go wrong (doing it properly and putting\n\t\t * it into an DOM object and measuring that is horribly(!) slow). Thus as\n\t\t * a \"work around\" we provide this option. It will append its value to the\n\t\t * text that is found to be the longest string for the column - i.e. padding.\n\t\t * Generally you shouldn't need this!\n\t\t */\n\t\t\"sContentPadding\": \"\",\n\t\n\t\n\t\t/**\n\t\t * Allows a default value to be given for a column's data, and will be used\n\t\t * whenever a null data source is encountered (this can be because `data`\n\t\t * is set to null, or because the data source itself is null).\n\t\t */\n\t\t\"sDefaultContent\": null,\n\t\n\t\n\t\t/**\n\t\t * This parameter is only used in DataTables' server-side processing. It can\n\t\t * be exceptionally useful to know what columns are being displayed on the\n\t\t * client side, and to map these to database fields. When defined, the names\n\t\t * also allow DataTables to reorder information from the server if it comes\n\t\t * back in an unexpected order (i.e. if you switch your columns around on the\n\t\t * client-side, your server-side code does not also need updating).\n\t\t */\n\t\t\"sName\": \"\",\n\t\n\t\n\t\t/**\n\t\t * Defines a data source type for the ordering which can be used to read\n\t\t * real-time information from the table (updating the internally cached\n\t\t * version) prior to ordering. This allows ordering to occur on user\n\t\t * editable elements such as form inputs.\n\t\t */\n\t\t\"sSortDataType\": \"std\",\n\t\n\t\n\t\t/**\n\t\t * The title of this column.\n\t\t */\n\t\t\"sTitle\": null,\n\t\n\t\n\t\t/**\n\t\t * The type allows you to specify how the data for this column will be\n\t\t * ordered. Four types (string, numeric, date and html (which will strip\n\t\t * HTML tags before ordering)) are currently available. Note that only date\n\t\t * formats understood by Javascript's Date() object will be accepted as type\n\t\t * date. For example: \"Mar 26, 2008 5:03 PM\". May take the values: 'string',\n\t\t * 'numeric', 'date' or 'html' (by default). Further types can be adding\n\t\t * through plug-ins.\n\t\t */\n\t\t\"sType\": null,\n\t\n\t\n\t\t/**\n\t\t * Defining the width of the column, this parameter may take any CSS value\n\t\t * (3em, 20px etc). DataTables applies 'smart' widths to columns which have not\n\t\t * been given a specific width through this interface ensuring that the table\n\t\t * remains readable.\n\t\t */\n\t\t\"sWidth\": null\n\t};\n\t\n\t_fnHungarianMap( DataTable.defaults.column );\n\t\n\t\n\t\n\t/**\n\t * DataTables settings object - this holds all the information needed for a\n\t * given table, including configuration, data and current application of the\n\t * table options. DataTables does not have a single instance for each DataTable\n\t * with the settings attached to that instance, but rather instances of the\n\t * DataTable \"class\" are created on-the-fly as needed (typically by a\n\t * $().dataTable() call) and the settings object is then applied to that\n\t * instance.\n\t *\n\t * Note that this object is related to {@link DataTable.defaults} but this\n\t * one is the internal data store for DataTables's cache of columns. It should\n\t * NOT be manipulated outside of DataTables. Any configuration should be done\n\t * through the initialisation options.\n\t */\n\tDataTable.models.oSettings = {\n\t\t/**\n\t\t * Primary features of DataTables and their enablement state.\n\t\t */\n\t\t\"oFeatures\": {\n\t\n\t\t\t/**\n\t\t\t * Flag to say if DataTables should automatically try to calculate the\n\t\t\t * optimum table and columns widths (true) or not (false).\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t */\n\t\t\t\"bAutoWidth\": null,\n\t\n\t\t\t/**\n\t\t\t * Delay the creation of TR and TD elements until they are actually\n\t\t\t * needed by a driven page draw. This can give a significant speed\n\t\t\t * increase for Ajax source and Javascript source data, but makes no\n\t\t\t * difference at all for DOM and server-side processing tables.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t */\n\t\t\t\"bDeferRender\": null,\n\t\n\t\t\t/**\n\t\t\t * Enable filtering on the table or not. Note that if this is disabled\n\t\t\t * then there is no filtering at all on the table, including fnFilter.\n\t\t\t * To just remove the filtering input use sDom and remove the 'f' option.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t */\n\t\t\t\"bFilter\": null,\n\t\n\t\t\t/**\n\t\t\t * Used only for compatiblity with DT1\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\t\"bInfo\": true,\n\t\n\t\t\t/**\n\t\t\t * Used only for compatiblity with DT1\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\t\"bLengthChange\": true,\n\t\n\t\t\t/**\n\t\t\t * Pagination enabled or not. Note that if this is disabled then length\n\t\t\t * changing must also be disabled.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t */\n\t\t\t\"bPaginate\": null,\n\t\n\t\t\t/**\n\t\t\t * Processing indicator enable flag whenever DataTables is enacting a\n\t\t\t * user request - typically an Ajax request for server-side processing.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t */\n\t\t\t\"bProcessing\": null,\n\t\n\t\t\t/**\n\t\t\t * Server-side processing enabled flag - when enabled DataTables will\n\t\t\t * get all data from the server for every draw - there is no filtering,\n\t\t\t * sorting or paging done on the client-side.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t */\n\t\t\t\"bServerSide\": null,\n\t\n\t\t\t/**\n\t\t\t * Sorting enablement flag.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t */\n\t\t\t\"bSort\": null,\n\t\n\t\t\t/**\n\t\t\t * Multi-column sorting\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t */\n\t\t\t\"bSortMulti\": null,\n\t\n\t\t\t/**\n\t\t\t * Apply a class to the columns which are being sorted to provide a\n\t\t\t * visual highlight or not. This can slow things down when enabled since\n\t\t\t * there is a lot of DOM interaction.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t */\n\t\t\t\"bSortClasses\": null,\n\t\n\t\t\t/**\n\t\t\t * State saving enablement flag.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t */\n\t\t\t\"bStateSave\": null\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * Scrolling settings for a table.\n\t\t */\n\t\t\"oScroll\": {\n\t\t\t/**\n\t\t\t * When the table is shorter in height than sScrollY, collapse the\n\t\t\t * table container down to the height of the table (when true).\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t */\n\t\t\t\"bCollapse\": null,\n\t\n\t\t\t/**\n\t\t\t * Width of the scrollbar for the web-browser's platform. Calculated\n\t\t\t * during table initialisation.\n\t\t\t */\n\t\t\t\"iBarWidth\": 0,\n\t\n\t\t\t/**\n\t\t\t * Viewport width for horizontal scrolling. Horizontal scrolling is\n\t\t\t * disabled if an empty string.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t */\n\t\t\t\"sX\": null,\n\t\n\t\t\t/**\n\t\t\t * Width to expand the table to when using x-scrolling. Typically you\n\t\t\t * should not need to use this.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t *  @deprecated\n\t\t\t */\n\t\t\t\"sXInner\": null,\n\t\n\t\t\t/**\n\t\t\t * Viewport height for vertical scrolling. Vertical scrolling is disabled\n\t\t\t * if an empty string.\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t\t * set a default use {@link DataTable.defaults}.\n\t\t\t */\n\t\t\t\"sY\": null\n\t\t},\n\t\n\t\t/**\n\t\t * Language information for the table.\n\t\t */\n\t\t\"oLanguage\": {\n\t\t\t/**\n\t\t\t * Information callback function. See\n\t\t\t * {@link DataTable.defaults.fnInfoCallback}\n\t\t\t */\n\t\t\t\"fnInfoCallback\": null\n\t\t},\n\t\n\t\t/**\n\t\t * Browser support parameters\n\t\t */\n\t\t\"oBrowser\": {\n\t\t\t/**\n\t\t\t * Determine if the vertical scrollbar is on the right or left of the\n\t\t\t * scrolling container - needed for rtl language layout, although not\n\t\t\t * all browsers move the scrollbar (Safari).\n\t\t\t */\n\t\t\t\"bScrollbarLeft\": false,\n\t\n\t\t\t/**\n\t\t\t * Browser scrollbar width\n\t\t\t */\n\t\t\t\"barWidth\": 0\n\t\t},\n\t\n\t\n\t\t\"ajax\": null,\n\t\n\t\n\t\t/**\n\t\t * Array referencing the nodes which are used for the features. The\n\t\t * parameters of this object match what is allowed by sDom - i.e.\n\t\t *   <ul>\n\t\t *     <li>'l' - Length changing</li>\n\t\t *     <li>'f' - Filtering input</li>\n\t\t *     <li>'t' - The table!</li>\n\t\t *     <li>'i' - Information</li>\n\t\t *     <li>'p' - Pagination</li>\n\t\t *     <li>'r' - pRocessing</li>\n\t\t *   </ul>\n\t\t */\n\t\t\"aanFeatures\": [],\n\t\n\t\t/**\n\t\t * Store data information - see {@link DataTable.models.oRow} for detailed\n\t\t * information.\n\t\t */\n\t\t\"aoData\": [],\n\t\n\t\t/**\n\t\t * Array of indexes which are in the current display (after filtering etc)\n\t\t */\n\t\t\"aiDisplay\": [],\n\t\n\t\t/**\n\t\t * Array of indexes for display - no filtering\n\t\t */\n\t\t\"aiDisplayMaster\": [],\n\t\n\t\t/**\n\t\t * Map of row ids to data indexes\n\t\t */\n\t\t\"aIds\": {},\n\t\n\t\t/**\n\t\t * Store information about each column that is in use\n\t\t */\n\t\t\"aoColumns\": [],\n\t\n\t\t/**\n\t\t * Store information about the table's header\n\t\t */\n\t\t\"aoHeader\": [],\n\t\n\t\t/**\n\t\t * Store information about the table's footer\n\t\t */\n\t\t\"aoFooter\": [],\n\t\n\t\t/**\n\t\t * Store the applied global search information in case we want to force a\n\t\t * research or compare the old search to a new one.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t */\n\t\t\"oPreviousSearch\": {},\n\t\n\t\t/**\n\t\t * Store for named searches\n\t\t */\n\t\tsearchFixed: {},\n\t\n\t\t/**\n\t\t * Store the applied search for each column - see\n\t\t * {@link DataTable.models.oSearch} for the format that is used for the\n\t\t * filtering information for each column.\n\t\t */\n\t\t\"aoPreSearchCols\": [],\n\t\n\t\t/**\n\t\t * Sorting that is applied to the table. Note that the inner arrays are\n\t\t * used in the following manner:\n\t\t * <ul>\n\t\t *   <li>Index 0 - column number</li>\n\t\t *   <li>Index 1 - current sorting direction</li>\n\t\t * </ul>\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t */\n\t\t\"aaSorting\": null,\n\t\n\t\t/**\n\t\t * Sorting that is always applied to the table (i.e. prefixed in front of\n\t\t * aaSorting).\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t */\n\t\t\"aaSortingFixed\": [],\n\t\n\t\t/**\n\t\t * If restoring a table - we should restore its width\n\t\t */\n\t\t\"sDestroyWidth\": 0,\n\t\n\t\t/**\n\t\t * Callback functions array for every time a row is inserted (i.e. on a draw).\n\t\t */\n\t\t\"aoRowCallback\": [],\n\t\n\t\t/**\n\t\t * Callback functions for the header on each draw.\n\t\t */\n\t\t\"aoHeaderCallback\": [],\n\t\n\t\t/**\n\t\t * Callback function for the footer on each draw.\n\t\t */\n\t\t\"aoFooterCallback\": [],\n\t\n\t\t/**\n\t\t * Array of callback functions for draw callback functions\n\t\t */\n\t\t\"aoDrawCallback\": [],\n\t\n\t\t/**\n\t\t * Array of callback functions for row created function\n\t\t */\n\t\t\"aoRowCreatedCallback\": [],\n\t\n\t\t/**\n\t\t * Callback functions for just before the table is redrawn. A return of\n\t\t * false will be used to cancel the draw.\n\t\t */\n\t\t\"aoPreDrawCallback\": [],\n\t\n\t\t/**\n\t\t * Callback functions for when the table has been initialised.\n\t\t */\n\t\t\"aoInitComplete\": [],\n\t\n\t\n\t\t/**\n\t\t * Callbacks for modifying the settings to be stored for state saving, prior to\n\t\t * saving state.\n\t\t */\n\t\t\"aoStateSaveParams\": [],\n\t\n\t\t/**\n\t\t * Callbacks for modifying the settings that have been stored for state saving\n\t\t * prior to using the stored values to restore the state.\n\t\t */\n\t\t\"aoStateLoadParams\": [],\n\t\n\t\t/**\n\t\t * Callbacks for operating on the settings object once the saved state has been\n\t\t * loaded\n\t\t */\n\t\t\"aoStateLoaded\": [],\n\t\n\t\t/**\n\t\t * Cache the table ID for quick access\n\t\t */\n\t\t\"sTableId\": \"\",\n\t\n\t\t/**\n\t\t * The TABLE node for the main table\n\t\t */\n\t\t\"nTable\": null,\n\t\n\t\t/**\n\t\t * Permanent ref to the thead element\n\t\t */\n\t\t\"nTHead\": null,\n\t\n\t\t/**\n\t\t * Permanent ref to the tfoot element - if it exists\n\t\t */\n\t\t\"nTFoot\": null,\n\t\n\t\t/**\n\t\t * Permanent ref to the tbody element\n\t\t */\n\t\t\"nTBody\": null,\n\t\n\t\t/**\n\t\t * Cache the wrapper node (contains all DataTables controlled elements)\n\t\t */\n\t\t\"nTableWrapper\": null,\n\t\n\t\t/**\n\t\t * Indicate if all required information has been read in\n\t\t */\n\t\t\"bInitialised\": false,\n\t\n\t\t/**\n\t\t * Information about open rows. Each object in the array has the parameters\n\t\t * 'nTr' and 'nParent'\n\t\t */\n\t\t\"aoOpenRows\": [],\n\t\n\t\t/**\n\t\t * Dictate the positioning of DataTables' control elements - see\n\t\t * {@link DataTable.model.oInit.sDom}.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t */\n\t\t\"sDom\": null,\n\t\n\t\t/**\n\t\t * Search delay (in mS)\n\t\t */\n\t\t\"searchDelay\": null,\n\t\n\t\t/**\n\t\t * Which type of pagination should be used.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t */\n\t\t\"sPaginationType\": \"two_button\",\n\t\n\t\t/**\n\t\t * Number of paging controls on the page. Only used for backwards compatibility\n\t\t */\n\t\tpagingControls: 0,\n\t\n\t\t/**\n\t\t * The state duration (for `stateSave`) in seconds.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t */\n\t\t\"iStateDuration\": 0,\n\t\n\t\t/**\n\t\t * Array of callback functions for state saving. Each array element is an\n\t\t * object with the following parameters:\n\t\t *   <ul>\n\t\t *     <li>function:fn - function to call. Takes two parameters, oSettings\n\t\t *       and the JSON string to save that has been thus far created. Returns\n\t\t *       a JSON string to be inserted into a json object\n\t\t *       (i.e. '\"param\": [ 0, 1, 2]')</li>\n\t\t *     <li>string:sName - name of callback</li>\n\t\t *   </ul>\n\t\t */\n\t\t\"aoStateSave\": [],\n\t\n\t\t/**\n\t\t * Array of callback functions for state loading. Each array element is an\n\t\t * object with the following parameters:\n\t\t *   <ul>\n\t\t *     <li>function:fn - function to call. Takes two parameters, oSettings\n\t\t *       and the object stored. May return false to cancel state loading</li>\n\t\t *     <li>string:sName - name of callback</li>\n\t\t *   </ul>\n\t\t */\n\t\t\"aoStateLoad\": [],\n\t\n\t\t/**\n\t\t * State that was saved. Useful for back reference\n\t\t */\n\t\t\"oSavedState\": null,\n\t\n\t\t/**\n\t\t * State that was loaded. Useful for back reference\n\t\t */\n\t\t\"oLoadedState\": null,\n\t\n\t\t/**\n\t\t * Note if draw should be blocked while getting data\n\t\t */\n\t\t\"bAjaxDataGet\": true,\n\t\n\t\t/**\n\t\t * The last jQuery XHR object that was used for server-side data gathering.\n\t\t * This can be used for working with the XHR information in one of the\n\t\t * callbacks\n\t\t */\n\t\t\"jqXHR\": null,\n\t\n\t\t/**\n\t\t * JSON returned from the server in the last Ajax request\n\t\t */\n\t\t\"json\": undefined,\n\t\n\t\t/**\n\t\t * Data submitted as part of the last Ajax request\n\t\t */\n\t\t\"oAjaxData\": undefined,\n\t\n\t\t/**\n\t\t * Send the XHR HTTP method - GET or POST (could be PUT or DELETE if\n\t\t * required).\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t */\n\t\t\"sServerMethod\": null,\n\t\n\t\t/**\n\t\t * Format numbers for display.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t */\n\t\t\"fnFormatNumber\": null,\n\t\n\t\t/**\n\t\t * List of options that can be used for the user selectable length menu.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t */\n\t\t\"aLengthMenu\": null,\n\t\n\t\t/**\n\t\t * Counter for the draws that the table does. Also used as a tracker for\n\t\t * server-side processing\n\t\t */\n\t\t\"iDraw\": 0,\n\t\n\t\t/**\n\t\t * Indicate if a redraw is being done - useful for Ajax\n\t\t */\n\t\t\"bDrawing\": false,\n\t\n\t\t/**\n\t\t * Draw index (iDraw) of the last error when parsing the returned data\n\t\t */\n\t\t\"iDrawError\": -1,\n\t\n\t\t/**\n\t\t * Paging display length\n\t\t */\n\t\t\"_iDisplayLength\": 10,\n\t\n\t\t/**\n\t\t * Paging start point - aiDisplay index\n\t\t */\n\t\t\"_iDisplayStart\": 0,\n\t\n\t\t/**\n\t\t * Server-side processing - number of records in the result set\n\t\t * (i.e. before filtering), Use fnRecordsTotal rather than\n\t\t * this property to get the value of the number of records, regardless of\n\t\t * the server-side processing setting.\n\t\t */\n\t\t\"_iRecordsTotal\": 0,\n\t\n\t\t/**\n\t\t * Server-side processing - number of records in the current display set\n\t\t * (i.e. after filtering). Use fnRecordsDisplay rather than\n\t\t * this property to get the value of the number of records, regardless of\n\t\t * the server-side processing setting.\n\t\t */\n\t\t\"_iRecordsDisplay\": 0,\n\t\n\t\t/**\n\t\t * The classes to use for the table\n\t\t */\n\t\t\"oClasses\": {},\n\t\n\t\t/**\n\t\t * Flag attached to the settings object so you can check in the draw\n\t\t * callback if filtering has been done in the draw. Deprecated in favour of\n\t\t * events.\n\t\t *  @deprecated\n\t\t */\n\t\t\"bFiltered\": false,\n\t\n\t\t/**\n\t\t * Flag attached to the settings object so you can check in the draw\n\t\t * callback if sorting has been done in the draw. Deprecated in favour of\n\t\t * events.\n\t\t *  @deprecated\n\t\t */\n\t\t\"bSorted\": false,\n\t\n\t\t/**\n\t\t * Indicate that if multiple rows are in the header and there is more than\n\t\t * one unique cell per column, if the top one (true) or bottom one (false)\n\t\t * should be used for sorting / title by DataTables.\n\t\t * Note that this parameter will be set by the initialisation routine. To\n\t\t * set a default use {@link DataTable.defaults}.\n\t\t */\n\t\t\"bSortCellsTop\": null,\n\t\n\t\t/**\n\t\t * Initialisation object that is used for the table\n\t\t */\n\t\t\"oInit\": null,\n\t\n\t\t/**\n\t\t * Destroy callback functions - for plug-ins to attach themselves to the\n\t\t * destroy so they can clean up markup and events.\n\t\t */\n\t\t\"aoDestroyCallback\": [],\n\t\n\t\n\t\t/**\n\t\t * Get the number of records in the current record set, before filtering\n\t\t */\n\t\t\"fnRecordsTotal\": function ()\n\t\t{\n\t\t\treturn _fnDataSource( this ) == 'ssp' ?\n\t\t\t\tthis._iRecordsTotal * 1 :\n\t\t\t\tthis.aiDisplayMaster.length;\n\t\t},\n\t\n\t\t/**\n\t\t * Get the number of records in the current record set, after filtering\n\t\t */\n\t\t\"fnRecordsDisplay\": function ()\n\t\t{\n\t\t\treturn _fnDataSource( this ) == 'ssp' ?\n\t\t\t\tthis._iRecordsDisplay * 1 :\n\t\t\t\tthis.aiDisplay.length;\n\t\t},\n\t\n\t\t/**\n\t\t * Get the display end point - aiDisplay index\n\t\t */\n\t\t\"fnDisplayEnd\": function ()\n\t\t{\n\t\t\tvar\n\t\t\t\tlen      = this._iDisplayLength,\n\t\t\t\tstart    = this._iDisplayStart,\n\t\t\t\tcalc     = start + len,\n\t\t\t\trecords  = this.aiDisplay.length,\n\t\t\t\tfeatures = this.oFeatures,\n\t\t\t\tpaginate = features.bPaginate;\n\t\n\t\t\tif ( features.bServerSide ) {\n\t\t\t\treturn paginate === false || len === -1 ?\n\t\t\t\t\tstart + records :\n\t\t\t\t\tMath.min( start+len, this._iRecordsDisplay );\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn ! paginate || calc>records || len===-1 ?\n\t\t\t\t\trecords :\n\t\t\t\t\tcalc;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * The DataTables object for this table\n\t\t */\n\t\t\"oInstance\": null,\n\t\n\t\t/**\n\t\t * Unique identifier for each instance of the DataTables object. If there\n\t\t * is an ID on the table node, then it takes that value, otherwise an\n\t\t * incrementing internal counter is used.\n\t\t */\n\t\t\"sInstance\": null,\n\t\n\t\t/**\n\t\t * tabindex attribute value that is added to DataTables control elements, allowing\n\t\t * keyboard navigation of the table and its controls.\n\t\t */\n\t\t\"iTabIndex\": 0,\n\t\n\t\t/**\n\t\t * DIV container for the footer scrolling table if scrolling\n\t\t */\n\t\t\"nScrollHead\": null,\n\t\n\t\t/**\n\t\t * DIV container for the footer scrolling table if scrolling\n\t\t */\n\t\t\"nScrollFoot\": null,\n\t\n\t\t/**\n\t\t * Last applied sort\n\t\t */\n\t\t\"aLastSort\": [],\n\t\n\t\t/**\n\t\t * Stored plug-in instances\n\t\t */\n\t\t\"oPlugins\": {},\n\t\n\t\t/**\n\t\t * Function used to get a row's id from the row's data\n\t\t */\n\t\t\"rowIdFn\": null,\n\t\n\t\t/**\n\t\t * Data location where to store a row's id\n\t\t */\n\t\t\"rowId\": null,\n\t\n\t\tcaption: '',\n\t\n\t\tcaptionNode: null,\n\t\n\t\tcolgroup: null\n\t};\n\t\n\t/**\n\t * Extension object for DataTables that is used to provide all extension\n\t * options.\n\t *\n\t * Note that the `DataTable.ext` object is available through\n\t * `jQuery.fn.dataTable.ext` where it may be accessed and manipulated. It is\n\t * also aliased to `jQuery.fn.dataTableExt` for historic reasons.\n\t *  @namespace\n\t *  @extends DataTable.models.ext\n\t */\n\t\n\t\n\tvar extPagination = DataTable.ext.pager;\n\t\n\t// Paging buttons configuration\n\t$.extend( extPagination, {\n\t\tsimple: function () {\n\t\t\treturn [ 'previous', 'next' ];\n\t\t},\n\t\n\t\tfull: function () {\n\t\t\treturn [  'first', 'previous', 'next', 'last' ];\n\t\t},\n\t\n\t\tnumbers: function () {\n\t\t\treturn [ 'numbers' ];\n\t\t},\n\t\n\t\tsimple_numbers: function () {\n\t\t\treturn [ 'previous', 'numbers', 'next' ];\n\t\t},\n\t\n\t\tfull_numbers: function () {\n\t\t\treturn [ 'first', 'previous', 'numbers', 'next', 'last' ];\n\t\t},\n\t\t\n\t\tfirst_last: function () {\n\t\t\treturn ['first', 'last'];\n\t\t},\n\t\t\n\t\tfirst_last_numbers: function () {\n\t\t\treturn ['first', 'numbers', 'last'];\n\t\t},\n\t\n\t\t// For testing and plug-ins to use\n\t\t_numbers: _pagingNumbers,\n\t\n\t\t// Number of number buttons - legacy, use `numbers` option for paging feature\n\t\tnumbers_length: 7\n\t} );\n\t\n\t\n\t$.extend( true, DataTable.ext.renderer, {\n\t\tpagingButton: {\n\t\t\t_: function (settings, buttonType, content, active, disabled) {\n\t\t\t\tvar classes = settings.oClasses.paging;\n\t\t\t\tvar btnClasses = [classes.button];\n\t\t\t\tvar btn;\n\t\n\t\t\t\tif (active) {\n\t\t\t\t\tbtnClasses.push(classes.active);\n\t\t\t\t}\n\t\n\t\t\t\tif (disabled) {\n\t\t\t\t\tbtnClasses.push(classes.disabled)\n\t\t\t\t}\n\t\n\t\t\t\tif (buttonType === 'ellipsis') {\n\t\t\t\t\tbtn = $('<span class=\"ellipsis\"></span>').html(content)[0];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tbtn = $('<button>', {\n\t\t\t\t\t\tclass: btnClasses.join(' '),\n\t\t\t\t\t\trole: 'link',\n\t\t\t\t\t\ttype: 'button'\n\t\t\t\t\t}).html(content);\n\t\t\t\t}\n\t\n\t\t\t\treturn {\n\t\t\t\t\tdisplay: btn,\n\t\t\t\t\tclicker: btn\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tpagingContainer: {\n\t\t\t_: function (settings, buttons) {\n\t\t\t\t// No wrapping element - just append directly to the host\n\t\t\t\treturn buttons;\n\t\t\t}\n\t\t}\n\t} );\n\t\n\t// Common function to remove new lines, strip HTML and diacritic control\n\tvar _filterString = function (stripHtml, normalize) {\n\t\treturn function (str) {\n\t\t\tif (_empty(str) || typeof str !== 'string') {\n\t\t\t\treturn str;\n\t\t\t}\n\t\n\t\t\tstr = str.replace( _re_new_lines, \" \" );\n\t\n\t\t\tif (stripHtml) {\n\t\t\t\tstr = _stripHtml(str);\n\t\t\t}\n\t\n\t\t\tif (normalize) {\n\t\t\t\tstr = _normalize(str, false);\n\t\t\t}\n\t\n\t\t\treturn str;\n\t\t};\n\t}\n\t\n\t/*\n\t * Public helper functions. These aren't used internally by DataTables, or\n\t * called by any of the options passed into DataTables, but they can be used\n\t * externally by developers working with DataTables. They are helper functions\n\t * to make working with DataTables a little bit easier.\n\t */\n\t\n\tfunction __mldFnName(name) {\n\t\treturn name.replace(/[\\W]/g, '_')\n\t}\n\t\n\t// Common logic for moment, luxon or a date action\n\tfunction __mld( dt, momentFn, luxonFn, dateFn, arg1 ) {\n\t\tif (window.moment) {\n\t\t\treturn dt[momentFn]( arg1 );\n\t\t}\n\t\telse if (window.luxon) {\n\t\t\treturn dt[luxonFn]( arg1 );\n\t\t}\n\t\t\n\t\treturn dateFn ? dt[dateFn]( arg1 ) : dt;\n\t}\n\t\n\t\n\tvar __mlWarning = false;\n\tfunction __mldObj (d, format, locale) {\n\t\tvar dt;\n\t\n\t\tif (window.moment) {\n\t\t\tdt = window.moment.utc( d, format, locale, true );\n\t\n\t\t\tif (! dt.isValid()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\telse if (window.luxon) {\n\t\t\tdt = format && typeof d === 'string'\n\t\t\t\t? window.luxon.DateTime.fromFormat( d, format )\n\t\t\t\t: window.luxon.DateTime.fromISO( d );\n\t\n\t\t\tif (! dt.isValid) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\tdt.setLocale(locale);\n\t\t}\n\t\telse if (! format) {\n\t\t\t// No format given, must be ISO\n\t\t\tdt = new Date(d);\n\t\t}\n\t\telse {\n\t\t\tif (! __mlWarning) {\n\t\t\t\talert('DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17');\n\t\t\t}\n\t\n\t\t\t__mlWarning = true;\n\t\t}\n\t\n\t\treturn dt;\n\t}\n\t\n\t// Wrapper for date, datetime and time which all operate the same way with the exception of\n\t// the output string for auto locale support\n\tfunction __mlHelper (localeString) {\n\t\treturn function ( from, to, locale, def ) {\n\t\t\t// Luxon and Moment support\n\t\t\t// Argument shifting\n\t\t\tif ( arguments.length === 0 ) {\n\t\t\t\tlocale = 'en';\n\t\t\t\tto = null; // means toLocaleString\n\t\t\t\tfrom = null; // means iso8601\n\t\t\t}\n\t\t\telse if ( arguments.length === 1 ) {\n\t\t\t\tlocale = 'en';\n\t\t\t\tto = from;\n\t\t\t\tfrom = null;\n\t\t\t}\n\t\t\telse if ( arguments.length === 2 ) {\n\t\t\t\tlocale = to;\n\t\t\t\tto = from;\n\t\t\t\tfrom = null;\n\t\t\t}\n\t\n\t\t\tvar typeName = 'datetime' + (to ? '-' + __mldFnName(to) : '');\n\t\n\t\t\t// Add type detection and sorting specific to this date format - we need to be able to identify\n\t\t\t// date type columns as such, rather than as numbers in extensions. Hence the need for this.\n\t\t\tif (! DataTable.ext.type.order[typeName]) {\n\t\t\t\tDataTable.type(typeName, {\n\t\t\t\t\tdetect: function (d) {\n\t\t\t\t\t\t// The renderer will give the value to type detect as the type!\n\t\t\t\t\t\treturn d === typeName ? typeName : false;\n\t\t\t\t\t},\n\t\t\t\t\torder: {\n\t\t\t\t\t\tpre: function (d) {\n\t\t\t\t\t\t\t// The renderer gives us Moment, Luxon or Date obects for the sorting, all of which have a\n\t\t\t\t\t\t\t// `valueOf` which gives milliseconds epoch\n\t\t\t\t\t\t\treturn d.valueOf();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tclassName: 'dt-right'\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\treturn function ( d, type ) {\n\t\t\t\t// Allow for a default value\n\t\t\t\tif (d === null || d === undefined) {\n\t\t\t\t\tif (def === '--now') {\n\t\t\t\t\t\t// We treat everything as UTC further down, so no changes are\n\t\t\t\t\t\t// made, as such need to get the local date / time as if it were\n\t\t\t\t\t\t// UTC\n\t\t\t\t\t\tvar local = new Date();\n\t\t\t\t\t\td = new Date( Date.UTC(\n\t\t\t\t\t\t\tlocal.getFullYear(), local.getMonth(), local.getDate(),\n\t\t\t\t\t\t\tlocal.getHours(), local.getMinutes(), local.getSeconds()\n\t\t\t\t\t\t) );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\td = '';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (type === 'type') {\n\t\t\t\t\t// Typing uses the type name for fast matching\n\t\t\t\t\treturn typeName;\n\t\t\t\t}\n\t\n\t\t\t\tif (d === '') {\n\t\t\t\t\treturn type !== 'sort'\n\t\t\t\t\t\t? ''\n\t\t\t\t\t\t: __mldObj('0000-01-01 00:00:00', null, locale);\n\t\t\t\t}\n\t\n\t\t\t\t// Shortcut. If `from` and `to` are the same, we are using the renderer to\n\t\t\t\t// format for ordering, not display - its already in the display format.\n\t\t\t\tif ( to !== null && from === to && type !== 'sort' && type !== 'type' && ! (d instanceof Date) ) {\n\t\t\t\t\treturn d;\n\t\t\t\t}\n\t\n\t\t\t\tvar dt = __mldObj(d, from, locale);\n\t\n\t\t\t\tif (dt === null) {\n\t\t\t\t\treturn d;\n\t\t\t\t}\n\t\n\t\t\t\tif (type === 'sort') {\n\t\t\t\t\treturn dt;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar formatted = to === null\n\t\t\t\t\t? __mld(dt, 'toDate', 'toJSDate', '')[localeString]()\n\t\t\t\t\t: __mld(dt, 'format', 'toFormat', 'toISOString', to);\n\t\n\t\t\t\t// XSS protection\n\t\t\t\treturn type === 'display' ?\n\t\t\t\t\t_escapeHtml( formatted ) :\n\t\t\t\t\tformatted;\n\t\t\t};\n\t\t}\n\t}\n\t\n\t// Based on locale, determine standard number formatting\n\t// Fallback for legacy browsers is US English\n\tvar __thousands = ',';\n\tvar __decimal = '.';\n\t\n\tif (window.Intl !== undefined) {\n\t\ttry {\n\t\t\tvar num = new Intl.NumberFormat().formatToParts(100000.1);\n\t\t\n\t\t\tfor (var i=0 ; i<num.length ; i++) {\n\t\t\t\tif (num[i].type === 'group') {\n\t\t\t\t\t__thousands = num[i].value;\n\t\t\t\t}\n\t\t\t\telse if (num[i].type === 'decimal') {\n\t\t\t\t\t__decimal = num[i].value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcatch (e) {\n\t\t\t// noop\n\t\t}\n\t}\n\t\n\t// Formatted date time detection - use by declaring the formats you are going to use\n\tDataTable.datetime = function ( format, locale ) {\n\t\tvar typeName = 'datetime-detect-' + __mldFnName(format);\n\t\n\t\tif (! locale) {\n\t\t\tlocale = 'en';\n\t\t}\n\t\n\t\tif (! DataTable.ext.type.order[typeName]) {\n\t\t\tDataTable.type(typeName, {\n\t\t\t\tdetect: function (d) {\n\t\t\t\t\tvar dt = __mldObj(d, format, locale);\n\t\t\t\t\treturn d === '' || dt ? typeName : false;\n\t\t\t\t},\n\t\t\t\torder: {\n\t\t\t\t\tpre: function (d) {\n\t\t\t\t\t\treturn __mldObj(d, format, locale) || 0;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tclassName: 'dt-right'\n\t\t\t});\n\t\t}\n\t}\n\t\n\t/**\n\t * Helpers for `columns.render`.\n\t *\n\t * The options defined here can be used with the `columns.render` initialisation\n\t * option to provide a display renderer. The following functions are defined:\n\t *\n\t * * `moment` - Uses the MomentJS library to convert from a given format into another.\n\t * This renderer has three overloads:\n\t *   * 1 parameter:\n\t *     * `string` - Format to convert to (assumes input is ISO8601 and locale is `en`)\n\t *   * 2 parameters:\n\t *     * `string` - Format to convert from\n\t *     * `string` - Format to convert to. Assumes `en` locale\n\t *   * 3 parameters:\n\t *     * `string` - Format to convert from\n\t *     * `string` - Format to convert to\n\t *     * `string` - Locale\n\t * * `number` - Will format numeric data (defined by `columns.data`) for\n\t *   display, retaining the original unformatted data for sorting and filtering.\n\t *   It takes 5 parameters:\n\t *   * `string` - Thousands grouping separator\n\t *   * `string` - Decimal point indicator\n\t *   * `integer` - Number of decimal points to show\n\t *   * `string` (optional) - Prefix.\n\t *   * `string` (optional) - Postfix (/suffix).\n\t * * `text` - Escape HTML to help prevent XSS attacks. It has no optional\n\t *   parameters.\n\t *\n\t * @example\n\t *   // Column definition using the number renderer\n\t *   {\n\t *     data: \"salary\",\n\t *     render: $.fn.dataTable.render.number( '\\'', '.', 0, '$' )\n\t *   }\n\t *\n\t * @namespace\n\t */\n\tDataTable.render = {\n\t\tdate: __mlHelper('toLocaleDateString'),\n\t\tdatetime: __mlHelper('toLocaleString'),\n\t\ttime: __mlHelper('toLocaleTimeString'),\n\t\tnumber: function ( thousands, decimal, precision, prefix, postfix ) {\n\t\t\t// Auto locale detection\n\t\t\tif (thousands === null || thousands === undefined) {\n\t\t\t\tthousands = __thousands;\n\t\t\t}\n\t\n\t\t\tif (decimal === null || decimal === undefined) {\n\t\t\t\tdecimal = __decimal;\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tdisplay: function ( d ) {\n\t\t\t\t\tif ( typeof d !== 'number' && typeof d !== 'string' ) {\n\t\t\t\t\t\treturn d;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (d === '' || d === null) {\n\t\t\t\t\t\treturn d;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar negative = d < 0 ? '-' : '';\n\t\t\t\t\tvar flo = parseFloat( d );\n\t\t\t\t\tvar abs = Math.abs(flo);\n\t\n\t\t\t\t\t// Scientific notation for large and small numbers\n\t\t\t\t\tif (abs >= 100000000000 || (abs < 0.0001 && abs !== 0) ) {\n\t\t\t\t\t\tvar exp = flo.toExponential(precision).split(/e\\+?/);\n\t\t\t\t\t\treturn exp[0] + ' x 10<sup>' + exp[1] + '</sup>';\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// If NaN then there isn't much formatting that we can do - just\n\t\t\t\t\t// return immediately, escaping any HTML (this was supposed to\n\t\t\t\t\t// be a number after all)\n\t\t\t\t\tif ( isNaN( flo ) ) {\n\t\t\t\t\t\treturn _escapeHtml( d );\n\t\t\t\t\t}\n\t\n\t\t\t\t\tflo = flo.toFixed( precision );\n\t\t\t\t\td = Math.abs( flo );\n\t\n\t\t\t\t\tvar intPart = parseInt( d, 10 );\n\t\t\t\t\tvar floatPart = precision ?\n\t\t\t\t\t\tdecimal+(d - intPart).toFixed( precision ).substring( 2 ):\n\t\t\t\t\t\t'';\n\t\n\t\t\t\t\t// If zero, then can't have a negative prefix\n\t\t\t\t\tif (intPart === 0 && parseFloat(floatPart) === 0) {\n\t\t\t\t\t\tnegative = '';\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn negative + (prefix||'') +\n\t\t\t\t\t\tintPart.toString().replace(\n\t\t\t\t\t\t\t/\\B(?=(\\d{3})+(?!\\d))/g, thousands\n\t\t\t\t\t\t) +\n\t\t\t\t\t\tfloatPart +\n\t\t\t\t\t\t(postfix||'');\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\n\t\ttext: function () {\n\t\t\treturn {\n\t\t\t\tdisplay: _escapeHtml,\n\t\t\t\tfilter: _escapeHtml\n\t\t\t};\n\t\t}\n\t};\n\t\n\t\n\tvar _extTypes = DataTable.ext.type;\n\t\n\t// Get / set type\n\tDataTable.type = function (name, prop, val) {\n\t\tif (! prop) {\n\t\t\treturn {\n\t\t\t\tclassName: _extTypes.className[name],\n\t\t\t\tdetect: _extTypes.detect.find(function (fn) {\n\t\t\t\t\treturn fn.name === name;\n\t\t\t\t}),\n\t\t\t\torder: {\n\t\t\t\t\tpre: _extTypes.order[name + '-pre'],\n\t\t\t\t\tasc: _extTypes.order[name + '-asc'],\n\t\t\t\t\tdesc: _extTypes.order[name + '-desc']\n\t\t\t\t},\n\t\t\t\trender: _extTypes.render[name],\n\t\t\t\tsearch: _extTypes.search[name]\n\t\t\t};\n\t\t}\n\t\n\t\tvar setProp = function(prop, propVal) {\n\t\t\t_extTypes[prop][name] = propVal;\n\t\t};\n\t\tvar setDetect = function (fn) {\n\t\t\t// Wrap to allow the function to return `true` rather than\n\t\t\t// specifying the type name.\n\t\t\tvar cb = function (d, s) {\n\t\t\t\tvar ret = fn(d, s);\n\t\n\t\t\t\treturn ret === true\n\t\t\t\t\t? name\n\t\t\t\t\t: ret;\n\t\t\t};\n\t\t\tObject.defineProperty(cb, \"name\", {value: name});\n\t\n\t\t\tvar idx = _extTypes.detect.findIndex(function (fn) {\n\t\t\t\treturn fn.name === name;\n\t\t\t});\n\t\n\t\t\tif (idx === -1) {\n\t\t\t\t_extTypes.detect.unshift(cb);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_extTypes.detect.splice(idx, 1, cb);\n\t\t\t}\n\t\t};\n\t\tvar setOrder = function (obj) {\n\t\t\t_extTypes.order[name + '-pre'] = obj.pre; // can be undefined\n\t\t\t_extTypes.order[name + '-asc'] = obj.asc; // can be undefined\n\t\t\t_extTypes.order[name + '-desc'] = obj.desc; // can be undefined\n\t\t};\n\t\n\t\t// prop is optional\n\t\tif (val === undefined) {\n\t\t\tval = prop;\n\t\t\tprop = null;\n\t\t}\n\t\n\t\tif (prop === 'className') {\n\t\t\tsetProp('className', val);\n\t\t}\n\t\telse if (prop === 'detect') {\n\t\t\tsetDetect(val);\n\t\t}\n\t\telse if (prop === 'order') {\n\t\t\tsetOrder(val);\n\t\t}\n\t\telse if (prop === 'render') {\n\t\t\tsetProp('render', val);\n\t\t}\n\t\telse if (prop === 'search') {\n\t\t\tsetProp('search', val);\n\t\t}\n\t\telse if (! prop) {\n\t\t\tif (val.className) {\n\t\t\t\tsetProp('className', val.className);\n\t\t\t}\n\t\n\t\t\tif (val.detect !== undefined) {\n\t\t\t\tsetDetect(val.detect);\n\t\t\t}\n\t\n\t\t\tif (val.order) {\n\t\t\t\tsetOrder(val.order);\n\t\t\t}\n\t\n\t\t\tif (val.render !== undefined) {\n\t\t\t\tsetProp('render', val.render);\n\t\t\t}\n\t\n\t\t\tif (val.search !== undefined) {\n\t\t\t\tsetProp('search', val.search);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// Get a list of types\n\tDataTable.types = function () {\n\t\treturn _extTypes.detect.map(function (fn) {\n\t\t\treturn fn.name;\n\t\t});\n\t};\n\t\n\t//\n\t// Built in data types\n\t//\n\t\n\tDataTable.type('string', {\n\t\tdetect: function () {\n\t\t\treturn 'string';\n\t\t},\n\t\torder: {\n\t\t\tpre: function ( a ) {\n\t\t\t\t// This is a little complex, but faster than always calling toString,\n\t\t\t\t// http://jsperf.com/tostring-v-check\n\t\t\t\treturn _empty(a) ?\n\t\t\t\t\t'' :\n\t\t\t\t\ttypeof a === 'string' ?\n\t\t\t\t\t\ta.toLowerCase() :\n\t\t\t\t\t\t! a.toString ?\n\t\t\t\t\t\t\t'' :\n\t\t\t\t\t\t\ta.toString();\n\t\t\t}\n\t\t},\n\t\tsearch: _filterString(false, true)\n\t});\n\t\n\t\n\tDataTable.type('html', {\n\t\tdetect: function ( d ) {\n\t\t\treturn _empty( d ) || (typeof d === 'string' && d.indexOf('<') !== -1) ?\n\t\t\t\t'html' : null;\n\t\t},\n\t\torder: {\n\t\t\tpre: function ( a ) {\n\t\t\t\treturn _empty(a) ?\n\t\t\t\t\t'' :\n\t\t\t\t\ta.replace ?\n\t\t\t\t\t\t_stripHtml(a).trim().toLowerCase() :\n\t\t\t\t\t\ta+'';\n\t\t\t}\n\t\t},\n\t\tsearch: _filterString(true, true)\n\t});\n\t\n\t\n\tDataTable.type('date', {\n\t\tclassName: 'dt-type-date',\n\t\tdetect: function ( d )\n\t\t{\n\t\t\t// V8 tries _very_ hard to make a string passed into `Date.parse()`\n\t\t\t// valid, so we need to use a regex to restrict date formats. Use a\n\t\t\t// plug-in for anything other than ISO8601 style strings\n\t\t\tif ( d && !(d instanceof Date) && ! _re_date.test(d) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar parsed = Date.parse(d);\n\t\t\treturn (parsed !== null && !isNaN(parsed)) || _empty(d) ? 'date' : null;\n\t\t},\n\t\torder: {\n\t\t\tpre: function ( d ) {\n\t\t\t\tvar ts = Date.parse( d );\n\t\t\t\treturn isNaN(ts) ? -Infinity : ts;\n\t\t\t}\n\t\t}\n\t});\n\t\n\t\n\tDataTable.type('html-num-fmt', {\n\t\tclassName: 'dt-type-numeric',\n\t\tdetect: function ( d, settings )\n\t\t{\n\t\t\tvar decimal = settings.oLanguage.sDecimal;\n\t\t\treturn _htmlNumeric( d, decimal, true ) ? 'html-num-fmt' : null;\n\t\t},\n\t\torder: {\n\t\t\tpre: function ( d, s ) {\n\t\t\t\tvar dp = s.oLanguage.sDecimal;\n\t\t\t\treturn __numericReplace( d, dp, _re_html, _re_formatted_numeric );\n\t\t\t}\n\t\t},\n\t\tsearch: _filterString(true, true)\n\t});\n\t\n\t\n\tDataTable.type('html-num', {\n\t\tclassName: 'dt-type-numeric',\n\t\tdetect: function ( d, settings )\n\t\t{\n\t\t\tvar decimal = settings.oLanguage.sDecimal;\n\t\t\treturn _htmlNumeric( d, decimal ) ? 'html-num' : null;\n\t\t},\n\t\torder: {\n\t\t\tpre: function ( d, s ) {\n\t\t\t\tvar dp = s.oLanguage.sDecimal;\n\t\t\t\treturn __numericReplace( d, dp, _re_html );\n\t\t\t}\n\t\t},\n\t\tsearch: _filterString(true, true)\n\t});\n\t\n\t\n\tDataTable.type('num-fmt', {\n\t\tclassName: 'dt-type-numeric',\n\t\tdetect: function ( d, settings )\n\t\t{\n\t\t\tvar decimal = settings.oLanguage.sDecimal;\n\t\t\treturn _isNumber( d, decimal, true ) ? 'num-fmt' : null;\n\t\t},\n\t\torder: {\n\t\t\tpre: function ( d, s ) {\n\t\t\t\tvar dp = s.oLanguage.sDecimal;\n\t\t\t\treturn __numericReplace( d, dp, _re_formatted_numeric );\n\t\t\t}\n\t\t}\n\t});\n\t\n\t\n\tDataTable.type('num', {\n\t\tclassName: 'dt-type-numeric',\n\t\tdetect: function ( d, settings )\n\t\t{\n\t\t\tvar decimal = settings.oLanguage.sDecimal;\n\t\t\treturn _isNumber( d, decimal ) ? 'num' : null;\n\t\t},\n\t\torder: {\n\t\t\tpre: function (d, s) {\n\t\t\t\tvar dp = s.oLanguage.sDecimal;\n\t\t\t\treturn __numericReplace( d, dp );\n\t\t\t}\n\t\t}\n\t});\n\t\n\t\n\t\n\t\n\tvar __numericReplace = function ( d, decimalPlace, re1, re2 ) {\n\t\tif ( d !== 0 && (!d || d === '-') ) {\n\t\t\treturn -Infinity;\n\t\t}\n\t\t\n\t\tvar type = typeof d;\n\t\n\t\tif (type === 'number' || type === 'bigint') {\n\t\t\treturn d;\n\t\t}\n\t\n\t\t// If a decimal place other than `.` is used, it needs to be given to the\n\t\t// function so we can detect it and replace with a `.` which is the only\n\t\t// decimal place Javascript recognises - it is not locale aware.\n\t\tif ( decimalPlace ) {\n\t\t\td = _numToDecimal( d, decimalPlace );\n\t\t}\n\t\n\t\tif ( d.replace ) {\n\t\t\tif ( re1 ) {\n\t\t\t\td = d.replace( re1, '' );\n\t\t\t}\n\t\n\t\t\tif ( re2 ) {\n\t\t\t\td = d.replace( re2, '' );\n\t\t\t}\n\t\t}\n\t\n\t\treturn d * 1;\n\t};\n\t\n\t\n\t$.extend( true, DataTable.ext.renderer, {\n\t\tfooter: {\n\t\t\t_: function ( settings, cell, classes ) {\n\t\t\t\tcell.addClass(classes.tfoot.cell);\n\t\t\t}\n\t\t},\n\t\n\t\theader: {\n\t\t\t_: function ( settings, cell, classes ) {\n\t\t\t\tcell.addClass(classes.thead.cell);\n\t\n\t\t\t\tif (! settings.oFeatures.bSort) {\n\t\t\t\t\tcell.addClass(classes.order.none);\n\t\t\t\t}\n\t\n\t\t\t\tvar legacyTop = settings.bSortCellsTop;\n\t\t\t\tvar headerRows = cell.closest('thead').find('tr');\n\t\t\t\tvar rowIdx = cell.parent().index();\n\t\n\t\t\t\t// Conditions to not apply the ordering icons\n\t\t\t\tif (\n\t\t\t\t\t// Cells and rows which have the attribute to disable the icons\n\t\t\t\t\tcell.attr('data-dt-order') === 'disable' ||\n\t\t\t\t\tcell.parent().attr('data-dt-order') === 'disable' ||\n\t\n\t\t\t\t\t// Legacy support for `orderCellsTop`. If it is set, then cells\n\t\t\t\t\t// which are not in the top or bottom row of the header (depending\n\t\t\t\t\t// on the value) do not get the sorting classes applied to them\n\t\t\t\t\t(legacyTop === true && rowIdx !== 0) ||\n\t\t\t\t\t(legacyTop === false && rowIdx !== headerRows.length - 1)\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t// No additional mark-up required\n\t\t\t\t// Attach a sort listener to update on sort - note that using the\n\t\t\t\t// `DT` namespace will allow the event to be removed automatically\n\t\t\t\t// on destroy, while the `dt` namespaced event is the one we are\n\t\t\t\t// listening for\n\t\t\t\t$(settings.nTable).on( 'order.dt.DT', function ( e, ctx, sorting ) {\n\t\t\t\t\tif ( settings !== ctx ) { // need to check this this is the host\n\t\t\t\t\t\treturn;               // table, not a nested one\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar orderClasses = classes.order;\n\t\t\t\t\tvar columns = ctx.api.columns( cell );\n\t\t\t\t\tvar col = settings.aoColumns[columns.flatten()[0]];\n\t\t\t\t\tvar orderable = columns.orderable().includes(true);\n\t\t\t\t\tvar ariaType = '';\n\t\t\t\t\tvar indexes = columns.indexes();\n\t\t\t\t\tvar sortDirs = columns.orderable(true).flatten();\n\t\t\t\t\tvar orderedColumns = ',' + sorting.map( function (val) {\n\t\t\t\t\t\treturn val.col;\n\t\t\t\t\t} ).join(',') + ',';\n\t\n\t\t\t\t\tcell\n\t\t\t\t\t\t.removeClass(\n\t\t\t\t\t\t\torderClasses.isAsc +' '+\n\t\t\t\t\t\t\torderClasses.isDesc\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.toggleClass( orderClasses.none, ! orderable )\n\t\t\t\t\t\t.toggleClass( orderClasses.canAsc, orderable && sortDirs.includes('asc') )\n\t\t\t\t\t\t.toggleClass( orderClasses.canDesc, orderable && sortDirs.includes('desc') );\n\t\t\t\t\t\n\t\t\t\t\tvar sortIdx = orderedColumns.indexOf( ',' + indexes.toArray().join(',') + ',' );\n\t\n\t\t\t\t\tif ( sortIdx !== -1 ) {\n\t\t\t\t\t\t// Get the ordering direction for the columns under this cell\n\t\t\t\t\t\t// Note that it is possible for a cell to be asc and desc sorting\n\t\t\t\t\t\t// (column spanning cells)\n\t\t\t\t\t\tvar orderDirs = columns.order();\n\t\n\t\t\t\t\t\tcell.addClass(\n\t\t\t\t\t\t\torderDirs.includes('asc') ? orderClasses.isAsc : '' +\n\t\t\t\t\t\t\torderDirs.includes('desc') ? orderClasses.isDesc : ''\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// The ARIA spec says that only one column should be marked with aria-sort\n\t\t\t\t\tif ( sortIdx === 0 ) {\n\t\t\t\t\t\tvar firstSort = sorting[0];\n\t\t\t\t\t\tvar sortOrder = col.asSorting;\n\t\n\t\t\t\t\t\tcell.attr('aria-sort', firstSort.dir === 'asc' ? 'ascending' : 'descending');\n\t\n\t\t\t\t\t\t// Determine if the next click will remove sorting or change the sort\n\t\t\t\t\t\tariaType = ! sortOrder[firstSort.index + 1] ? 'Remove' : 'Reverse';\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcell.removeAttr('aria-sort');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tcell.attr('aria-label', orderable\n\t\t\t\t\t\t? col.ariaTitle + ctx.api.i18n('oAria.orderable' + ariaType)\n\t\t\t\t\t\t: col.ariaTitle\n\t\t\t\t\t);\n\t\n\t\t\t\t\tif (orderable) {\n\t\t\t\t\t\tcell.find('.dt-column-title').attr('role', 'button');\n\t\t\t\t\t\tcell.attr('tabindex', 0)\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\t\n\t\tlayout: {\n\t\t\t_: function ( settings, container, items ) {\n\t\t\t\tvar row = $('<div/>')\n\t\t\t\t\t.addClass('dt-layout-row')\n\t\t\t\t\t.appendTo( container );\n\t\n\t\t\t\t$.each( items, function (key, val) {\n\t\t\t\t\tvar klass = ! val.table ?\n\t\t\t\t\t\t'dt-'+key+' ' :\n\t\t\t\t\t\t'';\n\t\n\t\t\t\t\tif (val.table) {\n\t\t\t\t\t\trow.addClass('dt-layout-table');\n\t\t\t\t\t}\n\t\n\t\t\t\t\t$('<div/>')\n\t\t\t\t\t\t.attr({\n\t\t\t\t\t\t\tid: val.id || null,\n\t\t\t\t\t\t\t\"class\": 'dt-layout-cell '+klass+(val.className || '')\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.append( val.contents )\n\t\t\t\t\t\t.appendTo( row );\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t} );\n\t\n\t\n\tDataTable.feature = {};\n\t\n\t// Third parameter is internal only!\n\tDataTable.feature.register = function ( name, cb, legacy ) {\n\t\tDataTable.ext.features[ name ] = cb;\n\t\n\t\tif (legacy) {\n\t\t\t_ext.feature.push({\n\t\t\t\tcFeature: legacy,\n\t\t\t\tfnInit: cb\n\t\t\t});\n\t\t}\n\t};\n\t\n\tDataTable.feature.register( 'info', function ( settings, opts ) {\n\t\t// For compatibility with the legacy `info` top level option\n\t\tif (! settings.oFeatures.bInfo) {\n\t\t\treturn null;\n\t\t}\n\t\n\t\tvar\n\t\t\tlang  = settings.oLanguage,\n\t\t\ttid = settings.sTableId,\n\t\t\tn = $('<div/>', {\n\t\t\t\t'class': settings.oClasses.info.container,\n\t\t\t} );\n\t\n\t\topts = $.extend({\n\t\t\tcallback: lang.fnInfoCallback,\n\t\t\tempty: lang.sInfoEmpty,\n\t\t\tpostfix: lang.sInfoPostFix,\n\t\t\tsearch: lang.sInfoFiltered,\n\t\t\ttext: lang.sInfo,\n\t\t}, opts);\n\t\n\t\n\t\t// Update display on each draw\n\t\tsettings.aoDrawCallback.push(function (s) {\n\t\t\t_fnUpdateInfo(s, opts, n);\n\t\t});\n\t\n\t\t// For the first info display in the table, we add a callback and aria information.\n\t\tif (! settings._infoEl) {\n\t\t\tn.attr({\n\t\t\t\t'aria-live': 'polite',\n\t\t\t\tid: tid+'_info',\n\t\t\t\trole: 'status'\n\t\t\t});\n\t\n\t\t\t// Table is described by our info div\n\t\t\t$(settings.nTable).attr( 'aria-describedby', tid+'_info' );\n\t\n\t\t\tsettings._infoEl = n;\n\t\t}\n\t\n\t\treturn n;\n\t}, 'i' );\n\t\n\t/**\n\t * Update the information elements in the display\n\t *  @param {object} settings dataTables settings object\n\t *  @memberof DataTable#oApi\n\t */\n\tfunction _fnUpdateInfo ( settings, opts, node )\n\t{\n\t\tvar\n\t\t\tstart = settings._iDisplayStart+1,\n\t\t\tend   = settings.fnDisplayEnd(),\n\t\t\tmax   = settings.fnRecordsTotal(),\n\t\t\ttotal = settings.fnRecordsDisplay(),\n\t\t\tout   = total\n\t\t\t\t? opts.text\n\t\t\t\t: opts.empty;\n\t\n\t\tif ( total !== max ) {\n\t\t\t// Record set after filtering\n\t\t\tout += ' ' + opts.search;\n\t\t}\n\t\n\t\t// Convert the macros\n\t\tout += opts.postfix;\n\t\tout = _fnMacros( settings, out );\n\t\n\t\tif ( opts.callback ) {\n\t\t\tout = opts.callback.call( settings.oInstance,\n\t\t\t\tsettings, start, end, max, total, out\n\t\t\t);\n\t\t}\n\t\n\t\tnode.html( out );\n\t\n\t\t_fnCallbackFire(settings, null, 'info', [settings, node[0], out]);\n\t}\n\t\n\tvar __searchCounter = 0;\n\t\n\t// opts\n\t// - text\n\t// - placeholder\n\tDataTable.feature.register( 'search', function ( settings, opts ) {\n\t\t// Don't show the input if filtering isn't available on the table\n\t\tif (! settings.oFeatures.bFilter) {\n\t\t\treturn null;\n\t\t}\n\t\n\t\tvar classes = settings.oClasses.search;\n\t\tvar tableId = settings.sTableId;\n\t\tvar language = settings.oLanguage;\n\t\tvar previousSearch = settings.oPreviousSearch;\n\t\tvar input = '<input type=\"search\" class=\"'+classes.input+'\"/>';\n\t\n\t\topts = $.extend({\n\t\t\tplaceholder: language.sSearchPlaceholder,\n\t\t\ttext: language.sSearch\n\t\t}, opts);\n\t\n\t\t// The _INPUT_ is optional - is appended if not present\n\t\tif (opts.text.indexOf('_INPUT_') === -1) {\n\t\t\topts.text += '_INPUT_';\n\t\t}\n\t\n\t\topts.text = _fnMacros(settings, opts.text);\n\t\n\t\t// We can put the <input> outside of the label if it is at the start or end\n\t\t// which helps improve accessability (not all screen readers like implicit\n\t\t// for elements).\n\t\tvar end = opts.text.match(/_INPUT_$/);\n\t\tvar start = opts.text.match(/^_INPUT_/);\n\t\tvar removed = opts.text.replace(/_INPUT_/, '');\n\t\tvar str = '<label>' + opts.text + '</label>';\n\t\n\t\tif (start) {\n\t\t\tstr = '_INPUT_<label>' + removed + '</label>';\n\t\t}\n\t\telse if (end) {\n\t\t\tstr = '<label>' + removed + '</label>_INPUT_';\n\t\t}\n\t\n\t\tvar filter = $('<div>')\n\t\t\t.addClass(classes.container)\n\t\t\t.append(str.replace(/_INPUT_/, input));\n\t\n\t\t// add for and id to label and input\n\t\tfilter.find('label').attr('for', 'dt-search-' + __searchCounter);\n\t\tfilter.find('input').attr('id', 'dt-search-' + __searchCounter);\n\t\t__searchCounter++;\n\t\n\t\tvar searchFn = function(event) {\n\t\t\tvar val = this.value;\n\t\n\t\t\tif(previousSearch.return && event.key !== \"Enter\") {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t/* Now do the filter */\n\t\t\tif ( val != previousSearch.search ) {\n\t\t\t\tpreviousSearch.search = val;\n\t\n\t\t\t\t_fnFilterComplete( settings, previousSearch );\n\t\n\t\t\t\t// Need to redraw, without resorting\n\t\t\t\tsettings._iDisplayStart = 0;\n\t\t\t\t_fnDraw( settings );\n\t\t\t}\n\t\t};\n\t\n\t\tvar searchDelay = settings.searchDelay !== null ?\n\t\t\tsettings.searchDelay :\n\t\t\t0;\n\t\n\t\tvar jqFilter = $('input', filter)\n\t\t\t.val( previousSearch.search )\n\t\t\t.attr( 'placeholder', opts.placeholder )\n\t\t\t.on(\n\t\t\t\t'keyup.DT search.DT input.DT paste.DT cut.DT',\n\t\t\t\tsearchDelay ?\n\t\t\t\t\tDataTable.util.debounce( searchFn, searchDelay ) :\n\t\t\t\t\tsearchFn\n\t\t\t)\n\t\t\t.on( 'mouseup.DT', function(e) {\n\t\t\t\t// Edge fix! Edge 17 does not trigger anything other than mouse events when clicking\n\t\t\t\t// on the clear icon (Edge bug 17584515). This is safe in other browsers as `searchFn`\n\t\t\t\t// checks the value to see if it has changed. In other browsers it won't have.\n\t\t\t\tsetTimeout( function () {\n\t\t\t\t\tsearchFn.call(jqFilter[0], e);\n\t\t\t\t}, 10);\n\t\t\t} )\n\t\t\t.on( 'keypress.DT', function(e) {\n\t\t\t\t/* Prevent form submission */\n\t\t\t\tif ( e.keyCode == 13 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.attr('aria-controls', tableId);\n\t\n\t\t// Update the input elements whenever the table is filtered\n\t\t$(settings.nTable).on( 'search.dt.DT', function ( ev, s ) {\n\t\t\tif ( settings === s && jqFilter[0] !== document.activeElement ) {\n\t\t\t\tjqFilter.val( typeof previousSearch.search !== 'function'\n\t\t\t\t\t? previousSearch.search\n\t\t\t\t\t: ''\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\t\n\t\treturn filter;\n\t}, 'f' );\n\t\n\t// opts\n\t// - type - button configuration\n\t// - buttons - number of buttons to show - must be odd\n\tDataTable.feature.register( 'paging', function ( settings, opts ) {\n\t\t// Don't show the paging input if the table doesn't have paging enabled\n\t\tif (! settings.oFeatures.bPaginate) {\n\t\t\treturn null;\n\t\t}\n\t\n\t\topts = $.extend({\n\t\t\tbuttons: DataTable.ext.pager.numbers_length,\n\t\t\ttype: settings.sPaginationType,\n\t\t\tboundaryNumbers: true\n\t\t}, opts);\n\t\n\t\t// To be removed in 2.1\n\t\tif (opts.numbers) {\n\t\t\topts.buttons = opts.numbers;\n\t\t}\n\t\n\t\tvar host = $('<div/>').addClass( settings.oClasses.paging.container + ' paging_' + opts.type );\n\t\tvar draw = function () {\n\t\t\t_pagingDraw(settings, host, opts);\n\t\t};\n\t\n\t\tsettings.aoDrawCallback.push(draw);\n\t\n\t\t// Responsive redraw of paging control\n\t\t$(settings.nTable).on('column-sizing.dt.DT', draw);\n\t\n\t\treturn host;\n\t}, 'p' );\n\t\n\tfunction _pagingDraw(settings, host, opts) {\n\t\tif (! settings._bInitComplete) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar\n\t\t\tplugin = DataTable.ext.pager[ opts.type ],\n\t\t\taria = settings.oLanguage.oAria.paginate || {},\n\t\t\tstart      = settings._iDisplayStart,\n\t\t\tlen        = settings._iDisplayLength,\n\t\t\tvisRecords = settings.fnRecordsDisplay(),\n\t\t\tall        = len === -1,\n\t\t\tpage = all ? 0 : Math.ceil( start / len ),\n\t\t\tpages = all ? 1 : Math.ceil( visRecords / len ),\n\t\t\tbuttons = plugin()\n\t\t\t\t.map(function (val) {\n\t\t\t\t\treturn val === 'numbers'\n\t\t\t\t\t\t? _pagingNumbers(page, pages, opts.buttons, opts.boundaryNumbers)\n\t\t\t\t\t\t: val;\n\t\t\t\t})\n\t\t\t\t.flat();\n\t\n\t\tvar buttonEls = [];\n\t\n\t\tfor (var i=0 ; i<buttons.length ; i++) {\n\t\t\tvar button = buttons[i];\n\t\n\t\t\tvar btnInfo = _pagingButtonInfo(settings, button, page, pages);\n\t\t\tvar btn = _fnRenderer( settings, 'pagingButton' )(\n\t\t\t\tsettings,\n\t\t\t\tbutton,\n\t\t\t\tbtnInfo.display,\n\t\t\t\tbtnInfo.active,\n\t\t\t\tbtnInfo.disabled\n\t\t\t);\n\t\n\t\t\t// Common attributes\n\t\t\t$(btn.clicker).attr({\n\t\t\t\t'aria-controls': settings.sTableId,\n\t\t\t\t'aria-disabled': btnInfo.disabled ? 'true' : null,\n\t\t\t\t'aria-current': btnInfo.active ? 'page' : null,\n\t\t\t\t'aria-label': aria[ button ],\n\t\t\t\t'data-dt-idx': button,\n\t\t\t\t'tabIndex': btnInfo.disabled ? -1 : settings.iTabIndex,\n\t\t\t});\n\t\n\t\t\tif (typeof button !== 'number') {\n\t\t\t\t$(btn.clicker).addClass(button);\n\t\t\t}\n\t\n\t\t\t_fnBindAction(\n\t\t\t\tbtn.clicker, {action: button}, function(e) {\n\t\t\t\t\te.preventDefault();\n\t\n\t\t\t\t\t_fnPageChange( settings, e.data.action, true );\n\t\t\t\t}\n\t\t\t);\n\t\n\t\t\tbuttonEls.push(btn.display);\n\t\t}\n\t\n\t\tvar wrapped = _fnRenderer(settings, 'pagingContainer')(\n\t\t\tsettings, buttonEls\n\t\t);\n\t\n\t\tvar activeEl = host.find(document.activeElement).data('dt-idx');\n\t\n\t\thost.empty().append(wrapped);\n\t\n\t\tif ( activeEl !== undefined ) {\n\t\t\thost.find( '[data-dt-idx='+activeEl+']' ).trigger('focus');\n\t\t}\n\t\n\t\t// Responsive - check if the buttons are over two lines based on the\n\t\t// height of the buttons and the container.\n\t\tif (\n\t\t\tbuttonEls.length && // any buttons\n\t\t\topts.numbers > 1 && // prevent infinite\n\t\t\t$(host).height() >= ($(buttonEls[0]).outerHeight() * 2) - 10\n\t\t) {\n\t\t\t_pagingDraw(settings, host, $.extend({}, opts, { numbers: opts.numbers - 2 }));\n\t\t}\n\t}\n\t\n\t/**\n\t * Get properties for a button based on the current paging state of the table\n\t *\n\t * @param {*} settings DT settings object\n\t * @param {*} button The button type in question\n\t * @param {*} page Table's current page\n\t * @param {*} pages Number of pages\n\t * @returns Info object\n\t */\n\tfunction _pagingButtonInfo(settings, button, page, pages) {\n\t\tvar lang = settings.oLanguage.oPaginate;\n\t\tvar o = {\n\t\t\tdisplay: '',\n\t\t\tactive: false,\n\t\t\tdisabled: false\n\t\t};\n\t\n\t\tswitch ( button ) {\n\t\t\tcase 'ellipsis':\n\t\t\t\to.display = '&#x2026;';\n\t\t\t\to.disabled = true;\n\t\t\t\tbreak;\n\t\n\t\t\tcase 'first':\n\t\t\t\to.display = lang.sFirst;\n\t\n\t\t\t\tif (page === 0) {\n\t\t\t\t\to.disabled = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\n\t\t\tcase 'previous':\n\t\t\t\to.display = lang.sPrevious;\n\t\n\t\t\t\tif ( page === 0 ) {\n\t\t\t\t\to.disabled = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\n\t\t\tcase 'next':\n\t\t\t\to.display = lang.sNext;\n\t\n\t\t\t\tif ( pages === 0 || page === pages-1 ) {\n\t\t\t\t\to.disabled = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\n\t\t\tcase 'last':\n\t\t\t\to.display = lang.sLast;\n\t\n\t\t\t\tif ( pages === 0 || page === pages-1 ) {\n\t\t\t\t\to.disabled = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\n\t\t\tdefault:\n\t\t\t\tif ( typeof button === 'number' ) {\n\t\t\t\t\to.display = settings.fnFormatNumber( button + 1 );\n\t\t\t\t\t\n\t\t\t\t\tif (page === button) {\n\t\t\t\t\t\to.active = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\n\t\treturn o;\n\t}\n\t\n\t/**\n\t * Compute what number buttons to show in the paging control\n\t *\n\t * @param {*} page Current page\n\t * @param {*} pages Total number of pages\n\t * @param {*} buttons Target number of number buttons\n\t * @param {boolean} addFirstLast Indicate if page 1 and end should be included\n\t * @returns Buttons to show\n\t */\n\tfunction _pagingNumbers ( page, pages, buttons, addFirstLast ) {\n\t\tvar\n\t\t\tnumbers = [],\n\t\t\thalf = Math.floor(buttons / 2),\n\t\t\tbefore = addFirstLast ? 2 : 1,\n\t\t\tafter = addFirstLast ? 1 : 0;\n\t\n\t\tif ( pages <= buttons ) {\n\t\t\tnumbers = _range(0, pages);\n\t\t}\n\t\telse if (buttons === 1) {\n\t\t\t// Single button - current page only\n\t\t\tnumbers = [page];\n\t\t}\n\t\telse if (buttons === 3) {\n\t\t\t// Special logic for just three buttons\n\t\t\tif (page <= 1) {\n\t\t\t\tnumbers = [0, 1, 'ellipsis'];\n\t\t\t}\n\t\t\telse if (page >= pages - 2) {\n\t\t\t\tnumbers = _range(pages-2, pages);\n\t\t\t\tnumbers.unshift('ellipsis');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnumbers = ['ellipsis', page, 'ellipsis'];\n\t\t\t}\n\t\t}\n\t\telse if ( page <= half ) {\n\t\t\tnumbers = _range(0, buttons-before);\n\t\t\tnumbers.push('ellipsis');\n\t\n\t\t\tif (addFirstLast) {\n\t\t\t\tnumbers.push(pages-1);\n\t\t\t}\n\t\t}\n\t\telse if ( page >= pages - 1 - half ) {\n\t\t\tnumbers = _range(pages-(buttons-before), pages);\n\t\t\tnumbers.unshift('ellipsis');\n\t\n\t\t\tif (addFirstLast) {\n\t\t\t\tnumbers.unshift(0);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tnumbers = _range(page-half+before, page+half-after);\n\t\t\tnumbers.push('ellipsis');\n\t\t\tnumbers.unshift('ellipsis');\n\t\n\t\t\tif (addFirstLast) {\n\t\t\t\tnumbers.push(pages-1);\n\t\t\t\tnumbers.unshift(0);\n\t\t\t}\n\t\t}\n\t\n\t\treturn numbers;\n\t}\n\t\n\tvar __lengthCounter = 0;\n\t\n\t// opts\n\t// - menu\n\t// - text\n\tDataTable.feature.register( 'pageLength', function ( settings, opts ) {\n\t\tvar features = settings.oFeatures;\n\t\n\t\t// For compatibility with the legacy `pageLength` top level option\n\t\tif (! features.bPaginate || ! features.bLengthChange) {\n\t\t\treturn null;\n\t\t}\n\t\n\t\topts = $.extend({\n\t\t\tmenu: settings.aLengthMenu,\n\t\t\ttext: settings.oLanguage.sLengthMenu\n\t\t}, opts);\n\t\n\t\tvar\n\t\t\tclasses  = settings.oClasses.length,\n\t\t\ttableId  = settings.sTableId,\n\t\t\tmenu     = opts.menu,\n\t\t\tlengths  = [],\n\t\t\tlanguage = [],\n\t\t\ti;\n\t\n\t\t// Options can be given in a number of ways\n\t\tif (Array.isArray( menu[0] )) {\n\t\t\t// Old 1.x style - 2D array\n\t\t\tlengths = menu[0];\n\t\t\tlanguage = menu[1];\n\t\t}\n\t\telse {\n\t\t\tfor ( i=0 ; i<menu.length ; i++ ) {\n\t\t\t\t// An object with different label and value\n\t\t\t\tif ($.isPlainObject(menu[i])) {\n\t\t\t\t\tlengths.push(menu[i].value);\n\t\t\t\t\tlanguage.push(menu[i].label);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Or just a number to display and use\n\t\t\t\t\tlengths.push(menu[i]);\n\t\t\t\t\tlanguage.push(menu[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t// We can put the <select> outside of the label if it is at the start or\n\t\t// end which helps improve accessability (not all screen readers like\n\t\t// implicit for elements).\n\t\tvar end = opts.text.match(/_MENU_$/);\n\t\tvar start = opts.text.match(/^_MENU_/);\n\t\tvar removed = opts.text.replace(/_MENU_/, '');\n\t\tvar str = '<label>' + opts.text + '</label>';\n\t\n\t\tif (start) {\n\t\t\tstr = '_MENU_<label>' + removed + '</label>';\n\t\t}\n\t\telse if (end) {\n\t\t\tstr = '<label>' + removed + '</label>_MENU_';\n\t\t}\n\t\n\t\t// Wrapper element - use a span as a holder for where the select will go\n\t\tvar div = $('<div/>')\n\t\t\t.addClass( classes.container )\n\t\t\t.append(\n\t\t\t\tstr.replace( '_MENU_', '<span></span>' )\n\t\t\t);\n\t\n\t\t// Save text node content for macro updating\n\t\tvar textNodes = [];\n\t\tdiv.find('label')[0].childNodes.forEach(function (el) {\n\t\t\tif (el.nodeType === Node.TEXT_NODE) {\n\t\t\t\ttextNodes.push({\n\t\t\t\t\tel: el,\n\t\t\t\t\ttext: el.textContent\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t\n\t\t// Update the label text in case it has an entries value\n\t\tvar updateEntries = function (len) {\n\t\t\ttextNodes.forEach(function (node) {\n\t\t\t\tnode.el.textContent = _fnMacros(settings, node.text, len);\n\t\t\t});\n\t\t}\n\t\n\t\t// Next, the select itself, along with the options\n\t\tvar select = $('<select/>', {\n\t\t\t'name':          tableId+'_length',\n\t\t\t'aria-controls': tableId,\n\t\t\t'class':         classes.select\n\t\t} );\n\t\n\t\tfor ( i=0 ; i<lengths.length ; i++ ) {\n\t\t\tselect[0][ i ] = new Option(\n\t\t\t\ttypeof language[i] === 'number' ?\n\t\t\t\t\tsettings.fnFormatNumber( language[i] ) :\n\t\t\t\t\tlanguage[i],\n\t\t\t\tlengths[i]\n\t\t\t);\n\t\t}\n\t\n\t\t// add for and id to label and input\n\t\tdiv.find('label').attr('for', 'dt-length-' + __lengthCounter);\n\t\tselect.attr('id', 'dt-length-' + __lengthCounter);\n\t\t__lengthCounter++;\n\t\n\t\t// Swap in the select list\n\t\tdiv.find('span').replaceWith(select);\n\t\n\t\t// Can't use `select` variable as user might provide their own and the\n\t\t// reference is broken by the use of outerHTML\n\t\t$('select', div)\n\t\t\t.val( settings._iDisplayLength )\n\t\t\t.on( 'change.DT', function() {\n\t\t\t\t_fnLengthChange( settings, $(this).val() );\n\t\t\t\t_fnDraw( settings );\n\t\t\t} );\n\t\n\t\t// Update node value whenever anything changes the table's length\n\t\t$(settings.nTable).on( 'length.dt.DT', function (e, s, len) {\n\t\t\tif ( settings === s ) {\n\t\t\t\t$('select', div).val( len );\n\t\n\t\t\t\t// Resolve plurals in the text for the new length\n\t\t\t\tupdateEntries(len);\n\t\t\t}\n\t\t} );\n\t\n\t\tupdateEntries(settings._iDisplayLength);\n\t\n\t\treturn div;\n\t}, 'l' );\n\t\n\t// jQuery access\n\t$.fn.dataTable = DataTable;\n\t\n\t// Provide access to the host jQuery object (circular reference)\n\tDataTable.$ = $;\n\t\n\t// Legacy aliases\n\t$.fn.dataTableSettings = DataTable.settings;\n\t$.fn.dataTableExt = DataTable.ext;\n\t\n\t// With a capital `D` we return a DataTables API instance rather than a\n\t// jQuery object\n\t$.fn.DataTable = function ( opts ) {\n\t\treturn $(this).dataTable( opts ).api();\n\t};\n\t\n\t// All properties that are available to $.fn.dataTable should also be\n\t// available on $.fn.DataTable\n\t$.each( DataTable, function ( prop, val ) {\n\t\t$.fn.DataTable[ prop ] = val;\n\t} );\n\n\treturn DataTable;\n}));\n", "/*! Buttons for DataTables 3.0.2\n * \u00A9 SpryMedia Ltd - datatables.net/license\n */\n\n(function( factory ){\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( ['jquery', 'datatables.net'], function ( $ ) {\n\t\t\treturn factory( $, window, document );\n\t\t} );\n\t}\n\telse if ( typeof exports === 'object' ) {\n\t\t// CommonJS\n\t\tvar jq = require('jquery');\n\t\tvar cjsRequires = function (root, $) {\n\t\t\tif ( ! $.fn.dataTable ) {\n\t\t\t\trequire('datatables.net')(root, $);\n\t\t\t}\n\t\t};\n\n\t\tif (typeof window === 'undefined') {\n\t\t\tmodule.exports = function (root, $) {\n\t\t\t\tif ( ! root ) {\n\t\t\t\t\t// CommonJS environments without a window global must pass a\n\t\t\t\t\t// root. This will give an error otherwise\n\t\t\t\t\troot = window;\n\t\t\t\t}\n\n\t\t\t\tif ( ! $ ) {\n\t\t\t\t\t$ = jq( root );\n\t\t\t\t}\n\n\t\t\t\tcjsRequires( root, $ );\n\t\t\t\treturn factory( $, root, root.document );\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tcjsRequires( window, jq );\n\t\t\tmodule.exports = factory( jq, window, window.document );\n\t\t}\n\t}\n\telse {\n\t\t// Browser\n\t\tfactory( jQuery, window, document );\n\t}\n}(function( $, window, document ) {\n'use strict';\nvar DataTable = $.fn.dataTable;\n\n\n\n// Used for namespacing events added to the document by each instance, so they\n// can be removed on destroy\nvar _instCounter = 0;\n\n// Button namespacing counter for namespacing events on individual buttons\nvar _buttonCounter = 0;\n\nvar _dtButtons = DataTable.ext.buttons;\n\n// Custom entity decoder for data export\nvar _entityDecoder = null;\n\n// Allow for jQuery slim\nfunction _fadeIn(el, duration, fn) {\n\tif ($.fn.animate) {\n\t\tel.stop().fadeIn(duration, fn);\n\t}\n\telse {\n\t\tel.css('display', 'block');\n\n\t\tif (fn) {\n\t\t\tfn.call(el);\n\t\t}\n\t}\n}\n\nfunction _fadeOut(el, duration, fn) {\n\tif ($.fn.animate) {\n\t\tel.stop().fadeOut(duration, fn);\n\t}\n\telse {\n\t\tel.css('display', 'none');\n\n\t\tif (fn) {\n\t\t\tfn.call(el);\n\t\t}\n\t}\n}\n\n/**\n * [Buttons description]\n * @param {[type]}\n * @param {[type]}\n */\nvar Buttons = function (dt, config) {\n\tif (!DataTable.versionCheck('2')) {\n\t\tthrow 'Warning: Buttons requires DataTables 2 or newer';\n\t}\n\n\t// If not created with a `new` keyword then we return a wrapper function that\n\t// will take the settings object for a DT. This allows easy use of new instances\n\t// with the `layout` option - e.g. `topLeft: $.fn.dataTable.Buttons( ... )`.\n\tif (!(this instanceof Buttons)) {\n\t\treturn function (settings) {\n\t\t\treturn new Buttons(settings, dt).container();\n\t\t};\n\t}\n\n\t// If there is no config set it to an empty object\n\tif (typeof config === 'undefined') {\n\t\tconfig = {};\n\t}\n\n\t// Allow a boolean true for defaults\n\tif (config === true) {\n\t\tconfig = {};\n\t}\n\n\t// For easy configuration of buttons an array can be given\n\tif (Array.isArray(config)) {\n\t\tconfig = { buttons: config };\n\t}\n\n\tthis.c = $.extend(true, {}, Buttons.defaults, config);\n\n\t// Don't want a deep copy for the buttons\n\tif (config.buttons) {\n\t\tthis.c.buttons = config.buttons;\n\t}\n\n\tthis.s = {\n\t\tdt: new DataTable.Api(dt),\n\t\tbuttons: [],\n\t\tlistenKeys: '',\n\t\tnamespace: 'dtb' + _instCounter++\n\t};\n\n\tthis.dom = {\n\t\tcontainer: $('<' + this.c.dom.container.tag + '/>').addClass(\n\t\t\tthis.c.dom.container.className\n\t\t)\n\t};\n\n\tthis._constructor();\n};\n\n$.extend(Buttons.prototype, {\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t * Public methods\n\t */\n\n\t/**\n\t * Get the action of a button\n\t * @param  {int|string} Button index\n\t * @return {function}\n\t */ /**\n\t * Set the action of a button\n\t * @param  {node} node Button element\n\t * @param  {function} action Function to set\n\t * @return {Buttons} Self for chaining\n\t */\n\taction: function (node, action) {\n\t\tvar button = this._nodeToButton(node);\n\n\t\tif (action === undefined) {\n\t\t\treturn button.conf.action;\n\t\t}\n\n\t\tbutton.conf.action = action;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Add an active class to the button to make to look active or get current\n\t * active state.\n\t * @param  {node} node Button element\n\t * @param  {boolean} [flag] Enable / disable flag\n\t * @return {Buttons} Self for chaining or boolean for getter\n\t */\n\tactive: function (node, flag) {\n\t\tvar button = this._nodeToButton(node);\n\t\tvar klass = this.c.dom.button.active;\n\t\tvar jqNode = $(button.node);\n\n\t\tif (\n\t\t\tbutton.inCollection &&\n\t\t\tthis.c.dom.collection.button &&\n\t\t\tthis.c.dom.collection.button.active !== undefined\n\t\t) {\n\t\t\tklass = this.c.dom.collection.button.active;\n\t\t}\n\n\t\tif (flag === undefined) {\n\t\t\treturn jqNode.hasClass(klass);\n\t\t}\n\n\t\tjqNode.toggleClass(klass, flag === undefined ? true : flag);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Add a new button\n\t * @param {object} config Button configuration object, base string name or function\n\t * @param {int|string} [idx] Button index for where to insert the button\n\t * @param {boolean} [draw=true] Trigger a draw. Set a false when adding\n\t *   lots of buttons, until the last button.\n\t * @return {Buttons} Self for chaining\n\t */\n\tadd: function (config, idx, draw) {\n\t\tvar buttons = this.s.buttons;\n\n\t\tif (typeof idx === 'string') {\n\t\t\tvar split = idx.split('-');\n\t\t\tvar base = this.s;\n\n\t\t\tfor (var i = 0, ien = split.length - 1; i < ien; i++) {\n\t\t\t\tbase = base.buttons[split[i] * 1];\n\t\t\t}\n\n\t\t\tbuttons = base.buttons;\n\t\t\tidx = split[split.length - 1] * 1;\n\t\t}\n\n\t\tthis._expandButton(\n\t\t\tbuttons,\n\t\t\tconfig,\n\t\t\tconfig !== undefined ? config.split : undefined,\n\t\t\t(config === undefined ||\n\t\t\t\tconfig.split === undefined ||\n\t\t\t\tconfig.split.length === 0) &&\n\t\t\t\tbase !== undefined,\n\t\t\tfalse,\n\t\t\tidx\n\t\t);\n\n\t\tif (draw === undefined || draw === true) {\n\t\t\tthis._draw();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Clear buttons from a collection and then insert new buttons\n\t */\n\tcollectionRebuild: function (node, newButtons) {\n\t\tvar button = this._nodeToButton(node);\n\n\t\tif (newButtons !== undefined) {\n\t\t\tvar i;\n\t\t\t// Need to reverse the array\n\t\t\tfor (i = button.buttons.length - 1; i >= 0; i--) {\n\t\t\t\tthis.remove(button.buttons[i].node);\n\t\t\t}\n\n\t\t\t// If the collection has prefix and / or postfix buttons we need to add them in\n\t\t\tif (button.conf.prefixButtons) {\n\t\t\t\tnewButtons.unshift.apply(newButtons, button.conf.prefixButtons);\n\t\t\t}\n\n\t\t\tif (button.conf.postfixButtons) {\n\t\t\t\tnewButtons.push.apply(newButtons, button.conf.postfixButtons);\n\t\t\t}\n\n\t\t\tfor (i = 0; i < newButtons.length; i++) {\n\t\t\t\tvar newBtn = newButtons[i];\n\n\t\t\t\tthis._expandButton(\n\t\t\t\t\tbutton.buttons,\n\t\t\t\t\tnewBtn,\n\t\t\t\t\tnewBtn !== undefined &&\n\t\t\t\t\t\tnewBtn.config !== undefined &&\n\t\t\t\t\t\tnewBtn.config.split !== undefined,\n\t\t\t\t\ttrue,\n\t\t\t\t\tnewBtn.parentConf !== undefined &&\n\t\t\t\t\t\tnewBtn.parentConf.split !== undefined,\n\t\t\t\t\tnull,\n\t\t\t\t\tnewBtn.parentConf\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tthis._draw(button.collection, button.buttons);\n\t},\n\n\t/**\n\t * Get the container node for the buttons\n\t * @return {jQuery} Buttons node\n\t */\n\tcontainer: function () {\n\t\treturn this.dom.container;\n\t},\n\n\t/**\n\t * Disable a button\n\t * @param  {node} node Button node\n\t * @return {Buttons} Self for chaining\n\t */\n\tdisable: function (node) {\n\t\tvar button = this._nodeToButton(node);\n\n\t\t$(button.node)\n\t\t\t.addClass(this.c.dom.button.disabled)\n\t\t\t.prop('disabled', true);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Destroy the instance, cleaning up event handlers and removing DOM\n\t * elements\n\t * @return {Buttons} Self for chaining\n\t */\n\tdestroy: function () {\n\t\t// Key event listener\n\t\t$('body').off('keyup.' + this.s.namespace);\n\n\t\t// Individual button destroy (so they can remove their own events if\n\t\t// needed). Take a copy as the array is modified by `remove`\n\t\tvar buttons = this.s.buttons.slice();\n\t\tvar i, ien;\n\n\t\tfor (i = 0, ien = buttons.length; i < ien; i++) {\n\t\t\tthis.remove(buttons[i].node);\n\t\t}\n\n\t\t// Container\n\t\tthis.dom.container.remove();\n\n\t\t// Remove from the settings object collection\n\t\tvar buttonInsts = this.s.dt.settings()[0];\n\n\t\tfor (i = 0, ien = buttonInsts.length; i < ien; i++) {\n\t\t\tif (buttonInsts.inst === this) {\n\t\t\t\tbuttonInsts.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Enable / disable a button\n\t * @param  {node} node Button node\n\t * @param  {boolean} [flag=true] Enable / disable flag\n\t * @return {Buttons} Self for chaining\n\t */\n\tenable: function (node, flag) {\n\t\tif (flag === false) {\n\t\t\treturn this.disable(node);\n\t\t}\n\n\t\tvar button = this._nodeToButton(node);\n\t\t$(button.node)\n\t\t\t.removeClass(this.c.dom.button.disabled)\n\t\t\t.prop('disabled', false);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Get a button's index\n\t *\n\t * This is internally recursive\n\t * @param {element} node Button to get the index of\n\t * @return {string} Button index\n\t */\n\tindex: function (node, nested, buttons) {\n\t\tif (!nested) {\n\t\t\tnested = '';\n\t\t\tbuttons = this.s.buttons;\n\t\t}\n\n\t\tfor (var i = 0, ien = buttons.length; i < ien; i++) {\n\t\t\tvar inner = buttons[i].buttons;\n\n\t\t\tif (buttons[i].node === node) {\n\t\t\t\treturn nested + i;\n\t\t\t}\n\n\t\t\tif (inner && inner.length) {\n\t\t\t\tvar match = this.index(node, i + '-', inner);\n\n\t\t\t\tif (match !== null) {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Get the instance name for the button set selector\n\t * @return {string} Instance name\n\t */\n\tname: function () {\n\t\treturn this.c.name;\n\t},\n\n\t/**\n\t * Get a button's node of the buttons container if no button is given\n\t * @param  {node} [node] Button node\n\t * @return {jQuery} Button element, or container\n\t */\n\tnode: function (node) {\n\t\tif (!node) {\n\t\t\treturn this.dom.container;\n\t\t}\n\n\t\tvar button = this._nodeToButton(node);\n\t\treturn $(button.node);\n\t},\n\n\t/**\n\t * Set / get a processing class on the selected button\n\t * @param {element} node Triggering button node\n\t * @param  {boolean} flag true to add, false to remove, undefined to get\n\t * @return {boolean|Buttons} Getter value or this if a setter.\n\t */\n\tprocessing: function (node, flag) {\n\t\tvar dt = this.s.dt;\n\t\tvar button = this._nodeToButton(node);\n\n\t\tif (flag === undefined) {\n\t\t\treturn $(button.node).hasClass('processing');\n\t\t}\n\n\t\t$(button.node).toggleClass('processing', flag);\n\n\t\t$(dt.table().node()).triggerHandler('buttons-processing.dt', [\n\t\t\tflag,\n\t\t\tdt.button(node),\n\t\t\tdt,\n\t\t\t$(node),\n\t\t\tbutton.conf\n\t\t]);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Remove a button.\n\t * @param  {node} node Button node\n\t * @return {Buttons} Self for chaining\n\t */\n\tremove: function (node) {\n\t\tvar button = this._nodeToButton(node);\n\t\tvar host = this._nodeToHost(node);\n\t\tvar dt = this.s.dt;\n\n\t\t// Remove any child buttons first\n\t\tif (button.buttons.length) {\n\t\t\tfor (var i = button.buttons.length - 1; i >= 0; i--) {\n\t\t\t\tthis.remove(button.buttons[i].node);\n\t\t\t}\n\t\t}\n\n\t\tbutton.conf.destroying = true;\n\n\t\t// Allow the button to remove event handlers, etc\n\t\tif (button.conf.destroy) {\n\t\t\tbutton.conf.destroy.call(dt.button(node), dt, $(node), button.conf);\n\t\t}\n\n\t\tthis._removeKey(button.conf);\n\n\t\t$(button.node).remove();\n\n\t\tvar idx = $.inArray(button, host);\n\t\thost.splice(idx, 1);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Get the text for a button\n\t * @param  {int|string} node Button index\n\t * @return {string} Button text\n\t */ /**\n\t * Set the text for a button\n\t * @param  {int|string|function} node Button index\n\t * @param  {string} label Text\n\t * @return {Buttons} Self for chaining\n\t */\n\ttext: function (node, label) {\n\t\tvar button = this._nodeToButton(node);\n\t\tvar textNode = button.textNode;\n\t\tvar dt = this.s.dt;\n\t\tvar jqNode = $(button.node);\n\t\tvar text = function (opt) {\n\t\t\treturn typeof opt === 'function'\n\t\t\t\t? opt(dt, jqNode, button.conf)\n\t\t\t\t: opt;\n\t\t};\n\n\t\tif (label === undefined) {\n\t\t\treturn text(button.conf.text);\n\t\t}\n\n\t\tbutton.conf.text = label;\n\t\ttextNode.html(text(label));\n\n\t\treturn this;\n\t},\n\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t * Constructor\n\t */\n\n\t/**\n\t * Buttons constructor\n\t * @private\n\t */\n\t_constructor: function () {\n\t\tvar that = this;\n\t\tvar dt = this.s.dt;\n\t\tvar dtSettings = dt.settings()[0];\n\t\tvar buttons = this.c.buttons;\n\n\t\tif (!dtSettings._buttons) {\n\t\t\tdtSettings._buttons = [];\n\t\t}\n\n\t\tdtSettings._buttons.push({\n\t\t\tinst: this,\n\t\t\tname: this.c.name\n\t\t});\n\n\t\tfor (var i = 0, ien = buttons.length; i < ien; i++) {\n\t\t\tthis.add(buttons[i]);\n\t\t}\n\n\t\tdt.on('destroy', function (e, settings) {\n\t\t\tif (settings === dtSettings) {\n\t\t\t\tthat.destroy();\n\t\t\t}\n\t\t});\n\n\t\t// Global key event binding to listen for button keys\n\t\t$('body').on('keyup.' + this.s.namespace, function (e) {\n\t\t\tif (\n\t\t\t\t!document.activeElement ||\n\t\t\t\tdocument.activeElement === document.body\n\t\t\t) {\n\t\t\t\t// SUse a string of characters for fast lookup of if we need to\n\t\t\t\t// handle this\n\t\t\t\tvar character = String.fromCharCode(e.keyCode).toLowerCase();\n\n\t\t\t\tif (that.s.listenKeys.toLowerCase().indexOf(character) !== -1) {\n\t\t\t\t\tthat._keypress(character, e);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t * Private methods\n\t */\n\n\t/**\n\t * Add a new button to the key press listener\n\t * @param {object} conf Resolved button configuration object\n\t * @private\n\t */\n\t_addKey: function (conf) {\n\t\tif (conf.key) {\n\t\t\tthis.s.listenKeys += $.isPlainObject(conf.key)\n\t\t\t\t? conf.key.key\n\t\t\t\t: conf.key;\n\t\t}\n\t},\n\n\t/**\n\t * Insert the buttons into the container. Call without parameters!\n\t * @param  {node} [container] Recursive only - Insert point\n\t * @param  {array} [buttons] Recursive only - Buttons array\n\t * @private\n\t */\n\t_draw: function (container, buttons) {\n\t\tif (!container) {\n\t\t\tcontainer = this.dom.container;\n\t\t\tbuttons = this.s.buttons;\n\t\t}\n\n\t\tcontainer.children().detach();\n\n\t\tfor (var i = 0, ien = buttons.length; i < ien; i++) {\n\t\t\tcontainer.append(buttons[i].inserter);\n\t\t\tcontainer.append(' ');\n\n\t\t\tif (buttons[i].buttons && buttons[i].buttons.length) {\n\t\t\t\tthis._draw(buttons[i].collection, buttons[i].buttons);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Create buttons from an array of buttons\n\t * @param  {array} attachTo Buttons array to attach to\n\t * @param  {object} button Button definition\n\t * @param  {boolean} inCollection true if the button is in a collection\n\t * @private\n\t */\n\t_expandButton: function (\n\t\tattachTo,\n\t\tbutton,\n\t\tsplit,\n\t\tinCollection,\n\t\tinSplit,\n\t\tattachPoint,\n\t\tparentConf\n\t) {\n\t\tvar dt = this.s.dt;\n\t\tvar isSplit = false;\n\t\tvar domCollection = this.c.dom.collection;\n\t\tvar buttons = !Array.isArray(button) ? [button] : button;\n\n\t\tif (button === undefined) {\n\t\t\tbuttons = !Array.isArray(split) ? [split] : split;\n\t\t}\n\n\t\tfor (var i = 0, ien = buttons.length; i < ien; i++) {\n\t\t\tvar conf = this._resolveExtends(buttons[i]);\n\n\t\t\tif (!conf) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tisSplit = conf.config && conf.config.split ? true : false;\n\n\t\t\t// If the configuration is an array, then expand the buttons at this\n\t\t\t// point\n\t\t\tif (Array.isArray(conf)) {\n\t\t\t\tthis._expandButton(\n\t\t\t\t\tattachTo,\n\t\t\t\t\tconf,\n\t\t\t\t\tbuilt !== undefined && built.conf !== undefined\n\t\t\t\t\t\t? built.conf.split\n\t\t\t\t\t\t: undefined,\n\t\t\t\t\tinCollection,\n\t\t\t\t\tparentConf !== undefined && parentConf.split !== undefined,\n\t\t\t\t\tattachPoint,\n\t\t\t\t\tparentConf\n\t\t\t\t);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar built = this._buildButton(\n\t\t\t\tconf,\n\t\t\t\tinCollection,\n\t\t\t\tconf.split !== undefined ||\n\t\t\t\t\t(conf.config !== undefined &&\n\t\t\t\t\t\tconf.config.split !== undefined),\n\t\t\t\tinSplit\n\t\t\t);\n\t\t\tif (!built) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (attachPoint !== undefined && attachPoint !== null) {\n\t\t\t\tattachTo.splice(attachPoint, 0, built);\n\t\t\t\tattachPoint++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tattachTo.push(built);\n\t\t\t}\n\n\t\t\t// Create the dropdown for a collection\n\t\t\tif (built.conf.buttons) {\n\t\t\t\tbuilt.collection = $(\n\t\t\t\t\t'<' + domCollection.container.content.tag + '/>'\n\t\t\t\t);\n\t\t\t\tbuilt.conf._collection = built.collection;\n\n\t\t\t\t$(built.node).append(domCollection.action.dropHtml);\n\n\t\t\t\tthis._expandButton(\n\t\t\t\t\tbuilt.buttons,\n\t\t\t\t\tbuilt.conf.buttons,\n\t\t\t\t\tbuilt.conf.split,\n\t\t\t\t\t!isSplit,\n\t\t\t\t\tisSplit,\n\t\t\t\t\tattachPoint,\n\t\t\t\t\tbuilt.conf\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// And the split collection\n\t\t\tif (built.conf.split) {\n\t\t\t\tbuilt.collection = $('<' + domCollection.container.tag + '/>');\n\t\t\t\tbuilt.conf._collection = built.collection;\n\n\t\t\t\tfor (var j = 0; j < built.conf.split.length; j++) {\n\t\t\t\t\tvar item = built.conf.split[j];\n\n\t\t\t\t\tif (typeof item === 'object') {\n\t\t\t\t\t\titem.parent = parentConf;\n\n\t\t\t\t\t\tif (item.collectionLayout === undefined) {\n\t\t\t\t\t\t\titem.collectionLayout = built.conf.collectionLayout;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (item.dropup === undefined) {\n\t\t\t\t\t\t\titem.dropup = built.conf.dropup;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (item.fade === undefined) {\n\t\t\t\t\t\t\titem.fade = built.conf.fade;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._expandButton(\n\t\t\t\t\tbuilt.buttons,\n\t\t\t\t\tbuilt.conf.buttons,\n\t\t\t\t\tbuilt.conf.split,\n\t\t\t\t\t!isSplit,\n\t\t\t\t\tisSplit,\n\t\t\t\t\tattachPoint,\n\t\t\t\t\tbuilt.conf\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tbuilt.conf.parent = parentConf;\n\n\t\t\t// init call is made here, rather than buildButton as it needs to\n\t\t\t// be selectable, and for that it needs to be in the buttons array\n\t\t\tif (conf.init) {\n\t\t\t\tconf.init.call(dt.button(built.node), dt, $(built.node), conf);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Create an individual button\n\t * @param  {object} config            Resolved button configuration\n\t * @param  {boolean} inCollection `true` if a collection button\n\t * @return {object} Completed button description object\n\t * @private\n\t */\n\t_buildButton: function (config, inCollection, isSplit, inSplit) {\n\t\tvar that = this;\n\t\tvar configDom = this.c.dom;\n\t\tvar textNode;\n\t\tvar dt = this.s.dt;\n\t\tvar text = function (opt) {\n\t\t\treturn typeof opt === 'function' ? opt(dt, button, config) : opt;\n\t\t};\n\n\t\t// Create an object that describes the button which can be in `dom.button`, or\n\t\t// `dom.collection.button` or `dom.split.button` or `dom.collection.split.button`!\n\t\t// Each should extend from `dom.button`.\n\t\tvar dom = $.extend(true, {}, configDom.button);\n\n\t\tif (inCollection && isSplit && configDom.collection.split) {\n\t\t\t$.extend(true, dom, configDom.collection.split.action);\n\t\t}\n\t\telse if (inSplit || inCollection) {\n\t\t\t$.extend(true, dom, configDom.collection.button);\n\t\t}\n\t\telse if (isSplit) {\n\t\t\t$.extend(true, dom, configDom.split.button);\n\t\t}\n\n\t\t// Spacers don't do much other than insert an element into the DOM\n\t\tif (config.spacer) {\n\t\t\tvar spacer = $('<' + dom.spacer.tag + '/>')\n\t\t\t\t.addClass(\n\t\t\t\t\t'dt-button-spacer ' +\n\t\t\t\t\t\tconfig.style +\n\t\t\t\t\t\t' ' +\n\t\t\t\t\t\tdom.spacer.className\n\t\t\t\t)\n\t\t\t\t.html(text(config.text));\n\n\t\t\treturn {\n\t\t\t\tconf: config,\n\t\t\t\tnode: spacer,\n\t\t\t\tinserter: spacer,\n\t\t\t\tbuttons: [],\n\t\t\t\tinCollection: inCollection,\n\t\t\t\tisSplit: isSplit,\n\t\t\t\tcollection: null,\n\t\t\t\ttextNode: spacer\n\t\t\t};\n\t\t}\n\n\t\t// Make sure that the button is available based on whatever requirements\n\t\t// it has. For example, PDF button require pdfmake\n\t\tif (\n\t\t\tconfig.available &&\n\t\t\t!config.available(dt, config) &&\n\t\t\t!config.html\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar button;\n\n\t\tif (!config.html) {\n\t\t\tvar run = function (e, dt, button, config, done) {\n\t\t\t\tconfig.action.call(dt.button(button), e, dt, button, config, done);\n\n\t\t\t\t$(dt.table().node()).triggerHandler('buttons-action.dt', [\n\t\t\t\t\tdt.button(button),\n\t\t\t\t\tdt,\n\t\t\t\t\tbutton,\n\t\t\t\t\tconfig\n\t\t\t\t]);\n\t\t\t};\n\n\t\t\tvar action = function(e, dt, button, config) {\n\t\t\t\tif (config.async) {\n\t\t\t\t\tthat.processing(button[0], true);\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\trun(e, dt, button, config, function () {\n\t\t\t\t\t\t\tthat.processing(button[0], false);\n\t\t\t\t\t\t});\n\t\t\t\t\t}, config.async);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\trun(e, dt, button, config, function () {});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar tag = config.tag || dom.tag;\n\t\t\tvar clickBlurs =\n\t\t\t\tconfig.clickBlurs === undefined ? true : config.clickBlurs;\n\n\t\t\tbutton = $('<' + tag + '/>')\n\t\t\t\t.addClass(dom.className)\n\t\t\t\t.attr('tabindex', this.s.dt.settings()[0].iTabIndex)\n\t\t\t\t.attr('aria-controls', this.s.dt.table().node().id)\n\t\t\t\t.on('click.dtb', function (e) {\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tif (!button.hasClass(dom.disabled) && config.action) {\n\t\t\t\t\t\taction(e, dt, button, config);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (clickBlurs) {\n\t\t\t\t\t\tbutton.trigger('blur');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('keypress.dtb', function (e) {\n\t\t\t\t\tif (e.keyCode === 13) {\n\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\tif (!button.hasClass(dom.disabled) && config.action) {\n\t\t\t\t\t\t\taction(e, dt, button, config);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t// Make `a` tags act like a link\n\t\t\tif (tag.toLowerCase() === 'a') {\n\t\t\t\tbutton.attr('href', '#');\n\t\t\t}\n\n\t\t\t// Button tags should have `type=button` so they don't have any default behaviour\n\t\t\tif (tag.toLowerCase() === 'button') {\n\t\t\t\tbutton.attr('type', 'button');\n\t\t\t}\n\n\t\t\tif (dom.liner.tag) {\n\t\t\t\tvar liner = $('<' + dom.liner.tag + '/>')\n\t\t\t\t\t.html(text(config.text))\n\t\t\t\t\t.addClass(dom.liner.className);\n\n\t\t\t\tif (dom.liner.tag.toLowerCase() === 'a') {\n\t\t\t\t\tliner.attr('href', '#');\n\t\t\t\t}\n\n\t\t\t\tbutton.append(liner);\n\t\t\t\ttextNode = liner;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbutton.html(text(config.text));\n\t\t\t\ttextNode = button;\n\t\t\t}\n\n\t\t\tif (config.enabled === false) {\n\t\t\t\tbutton.addClass(dom.disabled);\n\t\t\t}\n\n\t\t\tif (config.className) {\n\t\t\t\tbutton.addClass(config.className);\n\t\t\t}\n\n\t\t\tif (config.titleAttr) {\n\t\t\t\tbutton.attr('title', text(config.titleAttr));\n\t\t\t}\n\n\t\t\tif (config.attr) {\n\t\t\t\tbutton.attr(config.attr);\n\t\t\t}\n\n\t\t\tif (!config.namespace) {\n\t\t\t\tconfig.namespace = '.dt-button-' + _buttonCounter++;\n\t\t\t}\n\n\t\t\tif (config.config !== undefined && config.config.split) {\n\t\t\t\tconfig.split = config.config.split;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tbutton = $(config.html);\n\t\t}\n\n\t\tvar buttonContainer = this.c.dom.buttonContainer;\n\t\tvar inserter;\n\t\tif (buttonContainer && buttonContainer.tag) {\n\t\t\tinserter = $('<' + buttonContainer.tag + '/>')\n\t\t\t\t.addClass(buttonContainer.className)\n\t\t\t\t.append(button);\n\t\t}\n\t\telse {\n\t\t\tinserter = button;\n\t\t}\n\n\t\tthis._addKey(config);\n\n\t\t// Style integration callback for DOM manipulation\n\t\t// Note that this is _not_ documented. It is currently\n\t\t// for style integration only\n\t\tif (this.c.buttonCreated) {\n\t\t\tinserter = this.c.buttonCreated(config, inserter);\n\t\t}\n\n\t\tvar splitDiv;\n\n\t\tif (isSplit) {\n\t\t\tvar dropdownConf = inCollection\n\t\t\t\t? $.extend(true, this.c.dom.split, this.c.dom.collection.split)\n\t\t\t\t: this.c.dom.split;\n\t\t\tvar wrapperConf = dropdownConf.wrapper;\n\n\t\t\tsplitDiv = $('<' + wrapperConf.tag + '/>')\n\t\t\t\t.addClass(wrapperConf.className)\n\t\t\t\t.append(button);\n\n\t\t\tvar dropButtonConfig = $.extend(config, {\n\t\t\t\talign: dropdownConf.dropdown.align,\n\t\t\t\tattr: {\n\t\t\t\t\t'aria-haspopup': 'dialog',\n\t\t\t\t\t'aria-expanded': false\n\t\t\t\t},\n\t\t\t\tclassName: dropdownConf.dropdown.className,\n\t\t\t\tcloseButton: false,\n\t\t\t\tsplitAlignClass: dropdownConf.dropdown.splitAlignClass,\n\t\t\t\ttext: dropdownConf.dropdown.text\n\t\t\t});\n\n\t\t\tthis._addKey(dropButtonConfig);\n\n\t\t\tvar splitAction = function (e, dt, button, config) {\n\t\t\t\t_dtButtons.split.action.call(\n\t\t\t\t\tdt.button(splitDiv),\n\t\t\t\t\te,\n\t\t\t\t\tdt,\n\t\t\t\t\tbutton,\n\t\t\t\t\tconfig\n\t\t\t\t);\n\n\t\t\t\t$(dt.table().node()).triggerHandler('buttons-action.dt', [\n\t\t\t\t\tdt.button(button),\n\t\t\t\t\tdt,\n\t\t\t\t\tbutton,\n\t\t\t\t\tconfig\n\t\t\t\t]);\n\t\t\t\tbutton.attr('aria-expanded', true);\n\t\t\t};\n\n\t\t\tvar dropButton = $(\n\t\t\t\t'<button class=\"' +\n\t\t\t\t\tdropdownConf.dropdown.className +\n\t\t\t\t\t' dt-button\"></button>'\n\t\t\t)\n\t\t\t\t.html(dropdownConf.dropdown.dropHtml)\n\t\t\t\t.on('click.dtb', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\n\t\t\t\t\tif (!dropButton.hasClass(dom.disabled)) {\n\t\t\t\t\t\tsplitAction(e, dt, dropButton, dropButtonConfig);\n\t\t\t\t\t}\n\t\t\t\t\tif (clickBlurs) {\n\t\t\t\t\t\tdropButton.trigger('blur');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('keypress.dtb', function (e) {\n\t\t\t\t\tif (e.keyCode === 13) {\n\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\tif (!dropButton.hasClass(dom.disabled)) {\n\t\t\t\t\t\t\tsplitAction(e, dt, dropButton, dropButtonConfig);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tif (config.split.length === 0) {\n\t\t\t\tdropButton.addClass('dtb-hide-drop');\n\t\t\t}\n\n\t\t\tsplitDiv.append(dropButton).attr(dropButtonConfig.attr);\n\t\t}\n\n\t\treturn {\n\t\t\tconf: config,\n\t\t\tnode: isSplit ? splitDiv.get(0) : button.get(0),\n\t\t\tinserter: isSplit ? splitDiv : inserter,\n\t\t\tbuttons: [],\n\t\t\tinCollection: inCollection,\n\t\t\tisSplit: isSplit,\n\t\t\tinSplit: inSplit,\n\t\t\tcollection: null,\n\t\t\ttextNode: textNode\n\t\t};\n\t},\n\n\t/**\n\t * Get the button object from a node (recursive)\n\t * @param  {node} node Button node\n\t * @param  {array} [buttons] Button array, uses base if not defined\n\t * @return {object} Button object\n\t * @private\n\t */\n\t_nodeToButton: function (node, buttons) {\n\t\tif (!buttons) {\n\t\t\tbuttons = this.s.buttons;\n\t\t}\n\n\t\tfor (var i = 0, ien = buttons.length; i < ien; i++) {\n\t\t\tif (buttons[i].node === node) {\n\t\t\t\treturn buttons[i];\n\t\t\t}\n\n\t\t\tif (buttons[i].buttons.length) {\n\t\t\t\tvar ret = this._nodeToButton(node, buttons[i].buttons);\n\n\t\t\t\tif (ret) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Get container array for a button from a button node (recursive)\n\t * @param  {node} node Button node\n\t * @param  {array} [buttons] Button array, uses base if not defined\n\t * @return {array} Button's host array\n\t * @private\n\t */\n\t_nodeToHost: function (node, buttons) {\n\t\tif (!buttons) {\n\t\t\tbuttons = this.s.buttons;\n\t\t}\n\n\t\tfor (var i = 0, ien = buttons.length; i < ien; i++) {\n\t\t\tif (buttons[i].node === node) {\n\t\t\t\treturn buttons;\n\t\t\t}\n\n\t\t\tif (buttons[i].buttons.length) {\n\t\t\t\tvar ret = this._nodeToHost(node, buttons[i].buttons);\n\n\t\t\t\tif (ret) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Handle a key press - determine if any button's key configured matches\n\t * what was typed and trigger the action if so.\n\t * @param  {string} character The character pressed\n\t * @param  {object} e Key event that triggered this call\n\t * @private\n\t */\n\t_keypress: function (character, e) {\n\t\t// Check if this button press already activated on another instance of Buttons\n\t\tif (e._buttonsHandled) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar run = function (conf, node) {\n\t\t\tif (!conf.key) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (conf.key === character) {\n\t\t\t\te._buttonsHandled = true;\n\t\t\t\t$(node).click();\n\t\t\t}\n\t\t\telse if ($.isPlainObject(conf.key)) {\n\t\t\t\tif (conf.key.key !== character) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (conf.key.shiftKey && !e.shiftKey) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (conf.key.altKey && !e.altKey) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (conf.key.ctrlKey && !e.ctrlKey) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (conf.key.metaKey && !e.metaKey) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Made it this far - it is good\n\t\t\t\te._buttonsHandled = true;\n\t\t\t\t$(node).click();\n\t\t\t}\n\t\t};\n\n\t\tvar recurse = function (a) {\n\t\t\tfor (var i = 0, ien = a.length; i < ien; i++) {\n\t\t\t\trun(a[i].conf, a[i].node);\n\n\t\t\t\tif (a[i].buttons.length) {\n\t\t\t\t\trecurse(a[i].buttons);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trecurse(this.s.buttons);\n\t},\n\n\t/**\n\t * Remove a key from the key listener for this instance (to be used when a\n\t * button is removed)\n\t * @param  {object} conf Button configuration\n\t * @private\n\t */\n\t_removeKey: function (conf) {\n\t\tif (conf.key) {\n\t\t\tvar character = $.isPlainObject(conf.key) ? conf.key.key : conf.key;\n\n\t\t\t// Remove only one character, as multiple buttons could have the\n\t\t\t// same listening key\n\t\t\tvar a = this.s.listenKeys.split('');\n\t\t\tvar idx = $.inArray(character, a);\n\t\t\ta.splice(idx, 1);\n\t\t\tthis.s.listenKeys = a.join('');\n\t\t}\n\t},\n\n\t/**\n\t * Resolve a button configuration\n\t * @param  {string|function|object} conf Button config to resolve\n\t * @return {object} Button configuration\n\t * @private\n\t */\n\t_resolveExtends: function (conf) {\n\t\tvar that = this;\n\t\tvar dt = this.s.dt;\n\t\tvar i, ien;\n\t\tvar toConfObject = function (base) {\n\t\t\tvar loop = 0;\n\n\t\t\t// Loop until we have resolved to a button configuration, or an\n\t\t\t// array of button configurations (which will be iterated\n\t\t\t// separately)\n\t\t\twhile (!$.isPlainObject(base) && !Array.isArray(base)) {\n\t\t\t\tif (base === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (typeof base === 'function') {\n\t\t\t\t\tbase = base.call(that, dt, conf);\n\n\t\t\t\t\tif (!base) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (typeof base === 'string') {\n\t\t\t\t\tif (!_dtButtons[base]) {\n\t\t\t\t\t\treturn { html: base };\n\t\t\t\t\t}\n\n\t\t\t\t\tbase = _dtButtons[base];\n\t\t\t\t}\n\n\t\t\t\tloop++;\n\t\t\t\tif (loop > 30) {\n\t\t\t\t\t// Protect against misconfiguration killing the browser\n\t\t\t\t\tthrow 'Buttons: Too many iterations';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn Array.isArray(base) ? base : $.extend({}, base);\n\t\t};\n\n\t\tconf = toConfObject(conf);\n\n\t\twhile (conf && conf.extend) {\n\t\t\t// Use `toConfObject` in case the button definition being extended\n\t\t\t// is itself a string or a function\n\t\t\tif (!_dtButtons[conf.extend]) {\n\t\t\t\tthrow 'Cannot extend unknown button type: ' + conf.extend;\n\t\t\t}\n\n\t\t\tvar objArray = toConfObject(_dtButtons[conf.extend]);\n\t\t\tif (Array.isArray(objArray)) {\n\t\t\t\treturn objArray;\n\t\t\t}\n\t\t\telse if (!objArray) {\n\t\t\t\t// This is a little brutal as it might be possible to have a\n\t\t\t\t// valid button without the extend, but if there is no extend\n\t\t\t\t// then the host button would be acting in an undefined state\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Stash the current class name\n\t\t\tvar originalClassName = objArray.className;\n\n\t\t\tif (conf.config !== undefined && objArray.config !== undefined) {\n\t\t\t\tconf.config = $.extend({}, objArray.config, conf.config);\n\t\t\t}\n\n\t\t\tconf = $.extend({}, objArray, conf);\n\n\t\t\t// The extend will have overwritten the original class name if the\n\t\t\t// `conf` object also assigned a class, but we want to concatenate\n\t\t\t// them so they are list that is combined from all extended buttons\n\t\t\tif (originalClassName && conf.className !== originalClassName) {\n\t\t\t\tconf.className = originalClassName + ' ' + conf.className;\n\t\t\t}\n\n\t\t\t// Although we want the `conf` object to overwrite almost all of\n\t\t\t// the properties of the object being extended, the `extend`\n\t\t\t// property should come from the object being extended\n\t\t\tconf.extend = objArray.extend;\n\t\t}\n\n\t\t// Buttons to be added to a collection  -gives the ability to define\n\t\t// if buttons should be added to the start or end of a collection\n\t\tvar postfixButtons = conf.postfixButtons;\n\t\tif (postfixButtons) {\n\t\t\tif (!conf.buttons) {\n\t\t\t\tconf.buttons = [];\n\t\t\t}\n\n\t\t\tfor (i = 0, ien = postfixButtons.length; i < ien; i++) {\n\t\t\t\tconf.buttons.push(postfixButtons[i]);\n\t\t\t}\n\t\t}\n\n\t\tvar prefixButtons = conf.prefixButtons;\n\t\tif (prefixButtons) {\n\t\t\tif (!conf.buttons) {\n\t\t\t\tconf.buttons = [];\n\t\t\t}\n\n\t\t\tfor (i = 0, ien = prefixButtons.length; i < ien; i++) {\n\t\t\t\tconf.buttons.splice(i, 0, prefixButtons[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn conf;\n\t},\n\n\t/**\n\t * Display (and replace if there is an existing one) a popover attached to a button\n\t * @param {string|node} content Content to show\n\t * @param {DataTable.Api} hostButton DT API instance of the button\n\t * @param {object} inOpts Options (see object below for all options)\n\t */\n\t_popover: function (content, hostButton, inOpts) {\n\t\tvar dt = hostButton;\n\t\tvar c = this.c;\n\t\tvar closed = false;\n\t\tvar options = $.extend(\n\t\t\t{\n\t\t\t\talign: 'button-left', // button-right, dt-container, split-left, split-right\n\t\t\t\tautoClose: false,\n\t\t\t\tbackground: true,\n\t\t\t\tbackgroundClassName: 'dt-button-background',\n\t\t\t\tcloseButton: true,\n\t\t\t\tcontainerClassName: c.dom.collection.container.className,\n\t\t\t\tcontentClassName: c.dom.collection.container.content.className,\n\t\t\t\tcollectionLayout: '',\n\t\t\t\tcollectionTitle: '',\n\t\t\t\tdropup: false,\n\t\t\t\tfade: 400,\n\t\t\t\tpopoverTitle: '',\n\t\t\t\trightAlignClassName: 'dt-button-right',\n\t\t\t\ttag: c.dom.collection.container.tag\n\t\t\t},\n\t\t\tinOpts\n\t\t);\n\n\t\tvar containerSelector =\n\t\t\toptions.tag + '.' + options.containerClassName.replace(/ /g, '.');\n\t\tvar hostNode = hostButton.node();\n\n\t\tvar close = function () {\n\t\t\tclosed = true;\n\n\t\t\t_fadeOut($(containerSelector), options.fade, function () {\n\t\t\t\t$(this).detach();\n\t\t\t});\n\n\t\t\t$(\n\t\t\t\tdt\n\t\t\t\t\t.buttons('[aria-haspopup=\"dialog\"][aria-expanded=\"true\"]')\n\t\t\t\t\t.nodes()\n\t\t\t).attr('aria-expanded', 'false');\n\n\t\t\t$('div.dt-button-background').off('click.dtb-collection');\n\t\t\tButtons.background(\n\t\t\t\tfalse,\n\t\t\t\toptions.backgroundClassName,\n\t\t\t\toptions.fade,\n\t\t\t\thostNode\n\t\t\t);\n\n\t\t\t$(window).off('resize.resize.dtb-collection');\n\t\t\t$('body').off('.dtb-collection');\n\t\t\tdt.off('buttons-action.b-internal');\n\t\t\tdt.off('destroy');\n\t\t};\n\n\t\tif (content === false) {\n\t\t\tclose();\n\t\t\treturn;\n\t\t}\n\n\t\tvar existingExpanded = $(\n\t\t\tdt.buttons('[aria-haspopup=\"dialog\"][aria-expanded=\"true\"]').nodes()\n\t\t);\n\t\tif (existingExpanded.length) {\n\t\t\t// Reuse the current position if the button that was triggered is inside an existing collection\n\t\t\tif (hostNode.closest(containerSelector).length) {\n\t\t\t\thostNode = existingExpanded.eq(0);\n\t\t\t}\n\n\t\t\tclose();\n\t\t}\n\n\t\t// Try to be smart about the layout\n\t\tvar cnt = $('.dt-button', content).length;\n\t\tvar mod = '';\n\n\t\tif (cnt === 3) {\n\t\t\tmod = 'dtb-b3';\n\t\t}\n\t\telse if (cnt === 2) {\n\t\t\tmod = 'dtb-b2';\n\t\t}\n\t\telse if (cnt === 1) {\n\t\t\tmod = 'dtb-b1';\n\t\t}\n\n\t\tvar display = $('<' + options.tag + '/>')\n\t\t\t.addClass(options.containerClassName)\n\t\t\t.addClass(options.collectionLayout)\n\t\t\t.addClass(options.splitAlignClass)\n\t\t\t.addClass(mod)\n\t\t\t.css('display', 'none')\n\t\t\t.attr({\n\t\t\t\t'aria-modal': true,\n\t\t\t\trole: 'dialog'\n\t\t\t});\n\n\t\tcontent = $(content)\n\t\t\t.addClass(options.contentClassName)\n\t\t\t.attr('role', 'menu')\n\t\t\t.appendTo(display);\n\n\t\thostNode.attr('aria-expanded', 'true');\n\n\t\tif (hostNode.parents('body')[0] !== document.body) {\n\t\t\thostNode = document.body.lastChild;\n\t\t}\n\n\t\tif (options.popoverTitle) {\n\t\t\tdisplay.prepend(\n\t\t\t\t'<div class=\"dt-button-collection-title\">' +\n\t\t\t\t\toptions.popoverTitle +\n\t\t\t\t\t'</div>'\n\t\t\t);\n\t\t}\n\t\telse if (options.collectionTitle) {\n\t\t\tdisplay.prepend(\n\t\t\t\t'<div class=\"dt-button-collection-title\">' +\n\t\t\t\t\toptions.collectionTitle +\n\t\t\t\t\t'</div>'\n\t\t\t);\n\t\t}\n\n\t\tif (options.closeButton) {\n\t\t\tdisplay\n\t\t\t\t.prepend('<div class=\"dtb-popover-close\">&times;</div>')\n\t\t\t\t.addClass('dtb-collection-closeable');\n\t\t}\n\n\t\t_fadeIn(display.insertAfter(hostNode), options.fade);\n\n\t\tvar tableContainer = $(hostButton.table().container());\n\t\tvar position = display.css('position');\n\n\t\tif (options.span === 'container' || options.align === 'dt-container') {\n\t\t\thostNode = hostNode.parent();\n\t\t\tdisplay.css('width', tableContainer.width());\n\t\t}\n\n\t\t// Align the popover relative to the DataTables container\n\t\t// Useful for wide popovers such as SearchPanes\n\t\tif (position === 'absolute') {\n\t\t\t// Align relative to the host button\n\t\t\tvar offsetParent = $(hostNode[0].offsetParent);\n\t\t\tvar buttonPosition = hostNode.position();\n\t\t\tvar buttonOffset = hostNode.offset();\n\t\t\tvar tableSizes = offsetParent.offset();\n\t\t\tvar containerPosition = offsetParent.position();\n\t\t\tvar computed = window.getComputedStyle(offsetParent[0]);\n\n\t\t\ttableSizes.height = offsetParent.outerHeight();\n\t\t\ttableSizes.width =\n\t\t\t\toffsetParent.width() + parseFloat(computed.paddingLeft);\n\t\t\ttableSizes.right = tableSizes.left + tableSizes.width;\n\t\t\ttableSizes.bottom = tableSizes.top + tableSizes.height;\n\n\t\t\t// Set the initial position so we can read height / width\n\t\t\tvar top = buttonPosition.top + hostNode.outerHeight();\n\t\t\tvar left = buttonPosition.left;\n\n\t\t\tdisplay.css({\n\t\t\t\ttop: top,\n\t\t\t\tleft: left\n\t\t\t});\n\n\t\t\t// Get the popover position\n\t\t\tcomputed = window.getComputedStyle(display[0]);\n\t\t\tvar popoverSizes = display.offset();\n\n\t\t\tpopoverSizes.height = display.outerHeight();\n\t\t\tpopoverSizes.width = display.outerWidth();\n\t\t\tpopoverSizes.right = popoverSizes.left + popoverSizes.width;\n\t\t\tpopoverSizes.bottom = popoverSizes.top + popoverSizes.height;\n\t\t\tpopoverSizes.marginTop = parseFloat(computed.marginTop);\n\t\t\tpopoverSizes.marginBottom = parseFloat(computed.marginBottom);\n\n\t\t\t// First position per the class requirements - pop up and right align\n\t\t\tif (options.dropup) {\n\t\t\t\ttop =\n\t\t\t\t\tbuttonPosition.top -\n\t\t\t\t\tpopoverSizes.height -\n\t\t\t\t\tpopoverSizes.marginTop -\n\t\t\t\t\tpopoverSizes.marginBottom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\toptions.align === 'button-right' ||\n\t\t\t\tdisplay.hasClass(options.rightAlignClassName)\n\t\t\t) {\n\t\t\t\tleft =\n\t\t\t\t\tbuttonPosition.left -\n\t\t\t\t\tpopoverSizes.width +\n\t\t\t\t\thostNode.outerWidth();\n\t\t\t}\n\n\t\t\t// Container alignment - make sure it doesn't overflow the table container\n\t\t\tif (\n\t\t\t\toptions.align === 'dt-container' ||\n\t\t\t\toptions.align === 'container'\n\t\t\t) {\n\t\t\t\tif (left < buttonPosition.left) {\n\t\t\t\t\tleft = -buttonPosition.left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Window adjustment\n\t\t\tif (\n\t\t\t\tcontainerPosition.left + left + popoverSizes.width >\n\t\t\t\t$(window).width()\n\t\t\t) {\n\t\t\t\t// Overflowing the document to the right\n\t\t\t\tleft =\n\t\t\t\t\t$(window).width() -\n\t\t\t\t\tpopoverSizes.width -\n\t\t\t\t\tcontainerPosition.left;\n\t\t\t}\n\n\t\t\tif (buttonOffset.left + left < 0) {\n\t\t\t\t// Off to the left of the document\n\t\t\t\tleft = -buttonOffset.left;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tcontainerPosition.top + top + popoverSizes.height >\n\t\t\t\t$(window).height() + $(window).scrollTop()\n\t\t\t) {\n\t\t\t\t// Pop up if otherwise we'd need the user to scroll down\n\t\t\t\ttop =\n\t\t\t\t\tbuttonPosition.top -\n\t\t\t\t\tpopoverSizes.height -\n\t\t\t\t\tpopoverSizes.marginTop -\n\t\t\t\t\tpopoverSizes.marginBottom;\n\t\t\t}\n\n\t\t\tif (containerPosition.top + top < $(window).scrollTop()) {\n\t\t\t\t// Correction for when the top is beyond the top of the page\n\t\t\t\ttop = buttonPosition.top + hostNode.outerHeight();\n\t\t\t}\n\n\t\t\t// Calculations all done - now set it\n\t\t\tdisplay.css({\n\t\t\t\ttop: top,\n\t\t\t\tleft: left\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\t// Fix position - centre on screen\n\t\t\tvar place = function () {\n\t\t\t\tvar half = $(window).height() / 2;\n\n\t\t\t\tvar top = display.height() / 2;\n\t\t\t\tif (top > half) {\n\t\t\t\t\ttop = half;\n\t\t\t\t}\n\n\t\t\t\tdisplay.css('marginTop', top * -1);\n\t\t\t};\n\n\t\t\tplace();\n\n\t\t\t$(window).on('resize.dtb-collection', function () {\n\t\t\t\tplace();\n\t\t\t});\n\t\t}\n\n\t\tif (options.background) {\n\t\t\tButtons.background(\n\t\t\t\ttrue,\n\t\t\t\toptions.backgroundClassName,\n\t\t\t\toptions.fade,\n\t\t\t\toptions.backgroundHost || hostNode\n\t\t\t);\n\t\t}\n\n\t\t// This is bonkers, but if we don't have a click listener on the\n\t\t// background element, iOS Safari will ignore the body click\n\t\t// listener below. An empty function here is all that is\n\t\t// required to make it work...\n\t\t$('div.dt-button-background').on(\n\t\t\t'click.dtb-collection',\n\t\t\tfunction () {}\n\t\t);\n\n\t\tif (options.autoClose) {\n\t\t\tsetTimeout(function () {\n\t\t\t\tdt.on('buttons-action.b-internal', function (e, btn, dt, node) {\n\t\t\t\t\tif (node[0] === hostNode[0]) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tclose();\n\t\t\t\t});\n\t\t\t}, 0);\n\t\t}\n\n\t\t$(display).trigger('buttons-popover.dt');\n\n\t\tdt.on('destroy', close);\n\n\t\tsetTimeout(function () {\n\t\t\tclosed = false;\n\t\t\t$('body')\n\t\t\t\t.on('click.dtb-collection', function (e) {\n\t\t\t\t\tif (closed) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// andSelf is deprecated in jQ1.8, but we want 1.7 compat\n\t\t\t\t\tvar back = $.fn.addBack ? 'addBack' : 'andSelf';\n\t\t\t\t\tvar parent = $(e.target).parent()[0];\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t(!$(e.target).parents()[back]().filter(content)\n\t\t\t\t\t\t\t.length &&\n\t\t\t\t\t\t\t!$(parent).hasClass('dt-buttons')) ||\n\t\t\t\t\t\t$(e.target).hasClass('dt-button-background')\n\t\t\t\t\t) {\n\t\t\t\t\t\tclose();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('keyup.dtb-collection', function (e) {\n\t\t\t\t\tif (e.keyCode === 27) {\n\t\t\t\t\t\tclose();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('keydown.dtb-collection', function (e) {\n\t\t\t\t\t// Focus trap for tab key\n\t\t\t\t\tvar elements = $('a, button', content);\n\t\t\t\t\tvar active = document.activeElement;\n\n\t\t\t\t\tif (e.keyCode !== 9) {\n\t\t\t\t\t\t// tab\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (elements.index(active) === -1) {\n\t\t\t\t\t\t// If current focus is not inside the popover\n\t\t\t\t\t\telements.first().focus();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\telse if (e.shiftKey) {\n\t\t\t\t\t\t// Reverse tabbing order when shift key is pressed\n\t\t\t\t\t\tif (active === elements[0]) {\n\t\t\t\t\t\t\telements.last().focus();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (active === elements.last()[0]) {\n\t\t\t\t\t\t\telements.first().focus();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}, 0);\n\t}\n});\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n * Statics\n */\n\n/**\n * Show / hide a background layer behind a collection\n * @param  {boolean} Flag to indicate if the background should be shown or\n *   hidden\n * @param  {string} Class to assign to the background\n * @static\n */\nButtons.background = function (show, className, fade, insertPoint) {\n\tif (fade === undefined) {\n\t\tfade = 400;\n\t}\n\tif (!insertPoint) {\n\t\tinsertPoint = document.body;\n\t}\n\n\tif (show) {\n\t\t_fadeIn(\n\t\t\t$('<div/>')\n\t\t\t\t.addClass(className)\n\t\t\t\t.css('display', 'none')\n\t\t\t\t.insertAfter(insertPoint),\n\t\t\tfade\n\t\t);\n\t}\n\telse {\n\t\t_fadeOut($('div.' + className), fade, function () {\n\t\t\t$(this).removeClass(className).remove();\n\t\t});\n\t}\n};\n\n/**\n * Instance selector - select Buttons instances based on an instance selector\n * value from the buttons assigned to a DataTable. This is only useful if\n * multiple instances are attached to a DataTable.\n * @param  {string|int|array} Instance selector - see `instance-selector`\n *   documentation on the DataTables site\n * @param  {array} Button instance array that was attached to the DataTables\n *   settings object\n * @return {array} Buttons instances\n * @static\n */\nButtons.instanceSelector = function (group, buttons) {\n\tif (group === undefined || group === null) {\n\t\treturn $.map(buttons, function (v) {\n\t\t\treturn v.inst;\n\t\t});\n\t}\n\n\tvar ret = [];\n\tvar names = $.map(buttons, function (v) {\n\t\treturn v.name;\n\t});\n\n\t// Flatten the group selector into an array of single options\n\tvar process = function (input) {\n\t\tif (Array.isArray(input)) {\n\t\t\tfor (var i = 0, ien = input.length; i < ien; i++) {\n\t\t\t\tprocess(input[i]);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof input === 'string') {\n\t\t\tif (input.indexOf(',') !== -1) {\n\t\t\t\t// String selector, list of names\n\t\t\t\tprocess(input.split(','));\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// String selector individual name\n\t\t\t\tvar idx = $.inArray(input.trim(), names);\n\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tret.push(buttons[idx].inst);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (typeof input === 'number') {\n\t\t\t// Index selector\n\t\t\tret.push(buttons[input].inst);\n\t\t}\n\t\telse if (typeof input === 'object' && input.nodeName) {\n\t\t\t// Element selector\n\t\t\tfor (var j = 0; j < buttons.length; j++) {\n\t\t\t\tif (buttons[j].inst.dom.container[0] === input) {\n\t\t\t\t\tret.push(buttons[j].inst);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (typeof input === 'object') {\n\t\t\t// Actual instance selector\n\t\t\tret.push(input);\n\t\t}\n\t};\n\n\tprocess(group);\n\n\treturn ret;\n};\n\n/**\n * Button selector - select one or more buttons from a selector input so some\n * operation can be performed on them.\n * @param  {array} Button instances array that the selector should operate on\n * @param  {string|int|node|jQuery|array} Button selector - see\n *   `button-selector` documentation on the DataTables site\n * @return {array} Array of objects containing `inst` and `idx` properties of\n *   the selected buttons so you know which instance each button belongs to.\n * @static\n */\nButtons.buttonSelector = function (insts, selector) {\n\tvar ret = [];\n\tvar nodeBuilder = function (a, buttons, baseIdx) {\n\t\tvar button;\n\t\tvar idx;\n\n\t\tfor (var i = 0, ien = buttons.length; i < ien; i++) {\n\t\t\tbutton = buttons[i];\n\n\t\t\tif (button) {\n\t\t\t\tidx = baseIdx !== undefined ? baseIdx + i : i + '';\n\n\t\t\t\ta.push({\n\t\t\t\t\tnode: button.node,\n\t\t\t\t\tname: button.conf.name,\n\t\t\t\t\tidx: idx\n\t\t\t\t});\n\n\t\t\t\tif (button.buttons) {\n\t\t\t\t\tnodeBuilder(a, button.buttons, idx + '-');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tvar run = function (selector, inst) {\n\t\tvar i, ien;\n\t\tvar buttons = [];\n\t\tnodeBuilder(buttons, inst.s.buttons);\n\n\t\tvar nodes = $.map(buttons, function (v) {\n\t\t\treturn v.node;\n\t\t});\n\n\t\tif (Array.isArray(selector) || selector instanceof $) {\n\t\t\tfor (i = 0, ien = selector.length; i < ien; i++) {\n\t\t\t\trun(selector[i], inst);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (selector === null || selector === undefined || selector === '*') {\n\t\t\t// Select all\n\t\t\tfor (i = 0, ien = buttons.length; i < ien; i++) {\n\t\t\t\tret.push({\n\t\t\t\t\tinst: inst,\n\t\t\t\t\tnode: buttons[i].node\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\telse if (typeof selector === 'number') {\n\t\t\t// Main button index selector\n\t\t\tif (inst.s.buttons[selector]) {\n\t\t\t\tret.push({\n\t\t\t\t\tinst: inst,\n\t\t\t\t\tnode: inst.s.buttons[selector].node\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\telse if (typeof selector === 'string') {\n\t\t\tif (selector.indexOf(',') !== -1) {\n\t\t\t\t// Split\n\t\t\t\tvar a = selector.split(',');\n\n\t\t\t\tfor (i = 0, ien = a.length; i < ien; i++) {\n\t\t\t\t\trun(a[i].trim(), inst);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (selector.match(/^\\d+(\\-\\d+)*$/)) {\n\t\t\t\t// Sub-button index selector\n\t\t\t\tvar indexes = $.map(buttons, function (v) {\n\t\t\t\t\treturn v.idx;\n\t\t\t\t});\n\n\t\t\t\tret.push({\n\t\t\t\t\tinst: inst,\n\t\t\t\t\tnode: buttons[$.inArray(selector, indexes)].node\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (selector.indexOf(':name') !== -1) {\n\t\t\t\t// Button name selector\n\t\t\t\tvar name = selector.replace(':name', '');\n\n\t\t\t\tfor (i = 0, ien = buttons.length; i < ien; i++) {\n\t\t\t\t\tif (buttons[i].name === name) {\n\t\t\t\t\t\tret.push({\n\t\t\t\t\t\t\tinst: inst,\n\t\t\t\t\t\t\tnode: buttons[i].node\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// jQuery selector on the nodes\n\t\t\t\t$(nodes)\n\t\t\t\t\t.filter(selector)\n\t\t\t\t\t.each(function () {\n\t\t\t\t\t\tret.push({\n\t\t\t\t\t\t\tinst: inst,\n\t\t\t\t\t\t\tnode: this\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\telse if (typeof selector === 'object' && selector.nodeName) {\n\t\t\t// Node selector\n\t\t\tvar idx = $.inArray(selector, nodes);\n\n\t\t\tif (idx !== -1) {\n\t\t\t\tret.push({\n\t\t\t\t\tinst: inst,\n\t\t\t\t\tnode: nodes[idx]\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tfor (var i = 0, ien = insts.length; i < ien; i++) {\n\t\tvar inst = insts[i];\n\n\t\trun(selector, inst);\n\t}\n\n\treturn ret;\n};\n\n/**\n * Default function used for formatting output data.\n * @param {*} str Data to strip\n */\nButtons.stripData = function (str, config) {\n\tif (typeof str !== 'string') {\n\t\treturn str;\n\t}\n\n\t// Always remove script tags\n\tstr = Buttons.stripHtmlScript(str);\n\n\t// Always remove comments\n\tstr = Buttons.stripHtmlComments(str);\n\n\tif (!config || config.stripHtml) {\n\t\tstr = DataTable.util.stripHtml(str);\n\t}\n\n\tif (!config || config.trim) {\n\t\tstr = str.trim();\n\t}\n\n\tif (!config || config.stripNewlines) {\n\t\tstr = str.replace(/\\n/g, ' ');\n\t}\n\n\tif (!config || config.decodeEntities) {\n\t\tif (_entityDecoder) {\n\t\t\tstr = _entityDecoder(str);\n\t\t}\n\t\telse {\n\t\t\t_exportTextarea.innerHTML = str;\n\t\t\tstr = _exportTextarea.value;\n\t\t}\n\t}\n\n\treturn str;\n};\n\n/**\n * Provide a custom entity decoding function - e.g. a regex one, which can be\n * much faster than the built in DOM option, but also larger code size.\n * @param {function} fn\n */\nButtons.entityDecoder = function (fn) {\n\t_entityDecoder = fn;\n};\n\n/**\n * Common function for stripping HTML comments\n *\n * @param {*} input \n * @returns \n */\nButtons.stripHtmlComments = function (input) {\n\tvar previous;  \n\t\n\tdo {  \n\t\tprevious = input;\n\t\tinput = input.replace(/(<!--.*?--!?>)|(<!--[\\S\\s]+?--!?>)|(<!--[\\S\\s]*?$)/g, '');\n\t} while (input !== previous);  \n\n\treturn input;  \n};\n\n/**\n * Common function for stripping HTML script tags\n *\n * @param {*} input \n * @returns \n */\nButtons.stripHtmlScript = function (input) {\n\tvar previous;  \n\t\n\tdo {  \n\t\tprevious = input;\n\t\tinput = input.replace(/<script\\b[^<]*(?:(?!<\\/script[^>]*>)<[^<]*)*<\\/script[^>]*>/gi, '');\n\t} while (input !== previous);  \n\n\treturn input;  \n};\n\n/**\n * Buttons defaults. For full documentation, please refer to the docs/option\n * directory or the DataTables site.\n * @type {Object}\n * @static\n */\nButtons.defaults = {\n\tbuttons: ['copy', 'excel', 'csv', 'pdf', 'print'],\n\tname: 'main',\n\ttabIndex: 0,\n\tdom: {\n\t\tcontainer: {\n\t\t\ttag: 'div',\n\t\t\tclassName: 'dt-buttons'\n\t\t},\n\t\tcollection: {\n\t\t\taction: {\n\t\t\t\t// action button\n\t\t\t\tdropHtml: '<span class=\"dt-button-down-arrow\">&#x25BC;</span>'\n\t\t\t},\n\t\t\tcontainer: {\n\t\t\t\t// The element used for the dropdown\n\t\t\t\tclassName: 'dt-button-collection',\n\t\t\t\tcontent: {\n\t\t\t\t\tclassName: '',\n\t\t\t\t\ttag: 'div'\n\t\t\t\t},\n\t\t\t\ttag: 'div'\n\t\t\t}\n\t\t\t// optionally\n\t\t\t// , button: IButton - buttons inside the collection container\n\t\t\t// , split: ISplit - splits inside the collection container\n\t\t},\n\t\tbutton: {\n\t\t\ttag: 'button',\n\t\t\tclassName: 'dt-button',\n\t\t\tactive: 'dt-button-active', // class name\n\t\t\tdisabled: 'disabled', // class name\n\t\t\tspacer: {\n\t\t\t\tclassName: 'dt-button-spacer',\n\t\t\t\ttag: 'span'\n\t\t\t},\n\t\t\tliner: {\n\t\t\t\ttag: 'span',\n\t\t\t\tclassName: ''\n\t\t\t}\n\t\t},\n\t\tsplit: {\n\t\t\taction: {\n\t\t\t\t// action button\n\t\t\t\tclassName: 'dt-button-split-drop-button dt-button',\n\t\t\t\ttag: 'button'\n\t\t\t},\n\t\t\tdropdown: {\n\t\t\t\t// button to trigger the dropdown\n\t\t\t\talign: 'split-right',\n\t\t\t\tclassName: 'dt-button-split-drop',\n\t\t\t\tdropHtml: '<span class=\"dt-button-down-arrow\">&#x25BC;</span>',\n\t\t\t\tsplitAlignClass: 'dt-button-split-left',\n\t\t\t\ttag: 'button'\n\t\t\t},\n\t\t\twrapper: {\n\t\t\t\t// wrap around both\n\t\t\t\tclassName: 'dt-button-split',\n\t\t\t\ttag: 'div'\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * Version information\n * @type {string}\n * @static\n */\nButtons.version = '3.0.2';\n\n$.extend(_dtButtons, {\n\tcollection: {\n\t\ttext: function (dt) {\n\t\t\treturn dt.i18n('buttons.collection', 'Collection');\n\t\t},\n\t\tclassName: 'buttons-collection',\n\t\tcloseButton: false,\n\t\tinit: function (dt, button) {\n\t\t\tbutton.attr('aria-expanded', false);\n\t\t},\n\t\taction: function (e, dt, button, config) {\n\t\t\tif (config._collection.parents('body').length) {\n\t\t\t\tthis.popover(false, config);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.popover(config._collection, config);\n\t\t\t}\n\n\t\t\t// When activated using a key - auto focus on the\n\t\t\t// first item in the popover\n\t\t\tif (e.type === 'keypress') {\n\t\t\t\t$('a, button', config._collection).eq(0).focus();\n\t\t\t}\n\t\t},\n\t\tattr: {\n\t\t\t'aria-haspopup': 'dialog'\n\t\t}\n\t\t// Also the popover options, defined in Buttons.popover\n\t},\n\tsplit: {\n\t\ttext: function (dt) {\n\t\t\treturn dt.i18n('buttons.split', 'Split');\n\t\t},\n\t\tclassName: 'buttons-split',\n\t\tcloseButton: false,\n\t\tinit: function (dt, button) {\n\t\t\treturn button.attr('aria-expanded', false);\n\t\t},\n\t\taction: function (e, dt, button, config) {\n\t\t\tthis.popover(config._collection, config);\n\t\t},\n\t\tattr: {\n\t\t\t'aria-haspopup': 'dialog'\n\t\t}\n\t\t// Also the popover options, defined in Buttons.popover\n\t},\n\tcopy: function () {\n\t\tif (_dtButtons.copyHtml5) {\n\t\t\treturn 'copyHtml5';\n\t\t}\n\t},\n\tcsv: function (dt, conf) {\n\t\tif (_dtButtons.csvHtml5 && _dtButtons.csvHtml5.available(dt, conf)) {\n\t\t\treturn 'csvHtml5';\n\t\t}\n\t},\n\texcel: function (dt, conf) {\n\t\tif (\n\t\t\t_dtButtons.excelHtml5 &&\n\t\t\t_dtButtons.excelHtml5.available(dt, conf)\n\t\t) {\n\t\t\treturn 'excelHtml5';\n\t\t}\n\t},\n\tpdf: function (dt, conf) {\n\t\tif (_dtButtons.pdfHtml5 && _dtButtons.pdfHtml5.available(dt, conf)) {\n\t\t\treturn 'pdfHtml5';\n\t\t}\n\t},\n\tpageLength: function (dt) {\n\t\tvar lengthMenu = dt.settings()[0].aLengthMenu;\n\t\tvar vals = [];\n\t\tvar lang = [];\n\t\tvar text = function (dt) {\n\t\t\treturn dt.i18n(\n\t\t\t\t'buttons.pageLength',\n\t\t\t\t{\n\t\t\t\t\t'-1': 'Show all rows',\n\t\t\t\t\t_: 'Show %d rows'\n\t\t\t\t},\n\t\t\t\tdt.page.len()\n\t\t\t);\n\t\t};\n\n\t\t// Support for DataTables 1.x 2D array\n\t\tif (Array.isArray(lengthMenu[0])) {\n\t\t\tvals = lengthMenu[0];\n\t\t\tlang = lengthMenu[1];\n\t\t}\n\t\telse {\n\t\t\tfor (var i = 0; i < lengthMenu.length; i++) {\n\t\t\t\tvar option = lengthMenu[i];\n\n\t\t\t\t// Support for DataTables 2 object in the array\n\t\t\t\tif ($.isPlainObject(option)) {\n\t\t\t\t\tvals.push(option.value);\n\t\t\t\t\tlang.push(option.label);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvals.push(option);\n\t\t\t\t\tlang.push(option);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\textend: 'collection',\n\t\t\ttext: text,\n\t\t\tclassName: 'buttons-page-length',\n\t\t\tautoClose: true,\n\t\t\tbuttons: $.map(vals, function (val, i) {\n\t\t\t\treturn {\n\t\t\t\t\ttext: lang[i],\n\t\t\t\t\tclassName: 'button-page-length',\n\t\t\t\t\taction: function (e, dt) {\n\t\t\t\t\t\tdt.page.len(val).draw();\n\t\t\t\t\t},\n\t\t\t\t\tinit: function (dt, node, conf) {\n\t\t\t\t\t\tvar that = this;\n\t\t\t\t\t\tvar fn = function () {\n\t\t\t\t\t\t\tthat.active(dt.page.len() === val);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tdt.on('length.dt' + conf.namespace, fn);\n\t\t\t\t\t\tfn();\n\t\t\t\t\t},\n\t\t\t\t\tdestroy: function (dt, node, conf) {\n\t\t\t\t\t\tdt.off('length.dt' + conf.namespace);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}),\n\t\t\tinit: function (dt, node, conf) {\n\t\t\t\tvar that = this;\n\t\t\t\tdt.on('length.dt' + conf.namespace, function () {\n\t\t\t\t\tthat.text(conf.text);\n\t\t\t\t});\n\t\t\t},\n\t\t\tdestroy: function (dt, node, conf) {\n\t\t\t\tdt.off('length.dt' + conf.namespace);\n\t\t\t}\n\t\t};\n\t},\n\tspacer: {\n\t\tstyle: 'empty',\n\t\tspacer: true,\n\t\ttext: function (dt) {\n\t\t\treturn dt.i18n('buttons.spacer', '');\n\t\t}\n\t}\n});\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n * DataTables API\n *\n * For complete documentation, please refer to the docs/api directory or the\n * DataTables site\n */\n\n// Buttons group and individual button selector\nDataTable.Api.register('buttons()', function (group, selector) {\n\t// Argument shifting\n\tif (selector === undefined) {\n\t\tselector = group;\n\t\tgroup = undefined;\n\t}\n\n\tthis.selector.buttonGroup = group;\n\n\tvar res = this.iterator(\n\t\ttrue,\n\t\t'table',\n\t\tfunction (ctx) {\n\t\t\tif (ctx._buttons) {\n\t\t\t\treturn Buttons.buttonSelector(\n\t\t\t\t\tButtons.instanceSelector(group, ctx._buttons),\n\t\t\t\t\tselector\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\ttrue\n\t);\n\n\tres._groupSelector = group;\n\treturn res;\n});\n\n// Individual button selector\nDataTable.Api.register('button()', function (group, selector) {\n\t// just run buttons() and truncate\n\tvar buttons = this.buttons(group, selector);\n\n\tif (buttons.length > 1) {\n\t\tbuttons.splice(1, buttons.length);\n\t}\n\n\treturn buttons;\n});\n\n// Active buttons\nDataTable.Api.registerPlural(\n\t'buttons().active()',\n\t'button().active()',\n\tfunction (flag) {\n\t\tif (flag === undefined) {\n\t\t\treturn this.map(function (set) {\n\t\t\t\treturn set.inst.active(set.node);\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function (set) {\n\t\t\tset.inst.active(set.node, flag);\n\t\t});\n\t}\n);\n\n// Get / set button action\nDataTable.Api.registerPlural(\n\t'buttons().action()',\n\t'button().action()',\n\tfunction (action) {\n\t\tif (action === undefined) {\n\t\t\treturn this.map(function (set) {\n\t\t\t\treturn set.inst.action(set.node);\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function (set) {\n\t\t\tset.inst.action(set.node, action);\n\t\t});\n\t}\n);\n\n// Collection control\nDataTable.Api.registerPlural(\n\t'buttons().collectionRebuild()',\n\t'button().collectionRebuild()',\n\tfunction (buttons) {\n\t\treturn this.each(function (set) {\n\t\t\tfor (var i = 0; i < buttons.length; i++) {\n\t\t\t\tif (typeof buttons[i] === 'object') {\n\t\t\t\t\tbuttons[i].parentConf = set;\n\t\t\t\t}\n\t\t\t}\n\t\t\tset.inst.collectionRebuild(set.node, buttons);\n\t\t});\n\t}\n);\n\n// Enable / disable buttons\nDataTable.Api.register(\n\t['buttons().enable()', 'button().enable()'],\n\tfunction (flag) {\n\t\treturn this.each(function (set) {\n\t\t\tset.inst.enable(set.node, flag);\n\t\t});\n\t}\n);\n\n// Disable buttons\nDataTable.Api.register(\n\t['buttons().disable()', 'button().disable()'],\n\tfunction () {\n\t\treturn this.each(function (set) {\n\t\t\tset.inst.disable(set.node);\n\t\t});\n\t}\n);\n\n// Button index\nDataTable.Api.register('button().index()', function () {\n\tvar idx = null;\n\n\tthis.each(function (set) {\n\t\tvar res = set.inst.index(set.node);\n\n\t\tif (res !== null) {\n\t\t\tidx = res;\n\t\t}\n\t});\n\n\treturn idx;\n});\n\n// Get button nodes\nDataTable.Api.registerPlural(\n\t'buttons().nodes()',\n\t'button().node()',\n\tfunction () {\n\t\tvar jq = $();\n\n\t\t// jQuery will automatically reduce duplicates to a single entry\n\t\t$(\n\t\t\tthis.each(function (set) {\n\t\t\t\tjq = jq.add(set.inst.node(set.node));\n\t\t\t})\n\t\t);\n\n\t\treturn jq;\n\t}\n);\n\n// Get / set button processing state\nDataTable.Api.registerPlural(\n\t'buttons().processing()',\n\t'button().processing()',\n\tfunction (flag) {\n\t\tif (flag === undefined) {\n\t\t\treturn this.map(function (set) {\n\t\t\t\treturn set.inst.processing(set.node);\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function (set) {\n\t\t\tset.inst.processing(set.node, flag);\n\t\t});\n\t}\n);\n\n// Get / set button text (i.e. the button labels)\nDataTable.Api.registerPlural(\n\t'buttons().text()',\n\t'button().text()',\n\tfunction (label) {\n\t\tif (label === undefined) {\n\t\t\treturn this.map(function (set) {\n\t\t\t\treturn set.inst.text(set.node);\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function (set) {\n\t\t\tset.inst.text(set.node, label);\n\t\t});\n\t}\n);\n\n// Trigger a button's action\nDataTable.Api.registerPlural(\n\t'buttons().trigger()',\n\t'button().trigger()',\n\tfunction () {\n\t\treturn this.each(function (set) {\n\t\t\tset.inst.node(set.node).trigger('click');\n\t\t});\n\t}\n);\n\n// Button resolver to the popover\nDataTable.Api.register('button().popover()', function (content, options) {\n\treturn this.map(function (set) {\n\t\treturn set.inst._popover(content, this.button(this[0].node), options);\n\t});\n});\n\n// Get the container elements\nDataTable.Api.register('buttons().containers()', function () {\n\tvar jq = $();\n\tvar groupSelector = this._groupSelector;\n\n\t// We need to use the group selector directly, since if there are no buttons\n\t// the result set will be empty\n\tthis.iterator(true, 'table', function (ctx) {\n\t\tif (ctx._buttons) {\n\t\t\tvar insts = Buttons.instanceSelector(groupSelector, ctx._buttons);\n\n\t\t\tfor (var i = 0, ien = insts.length; i < ien; i++) {\n\t\t\t\tjq = jq.add(insts[i].container());\n\t\t\t}\n\t\t}\n\t});\n\n\treturn jq;\n});\n\nDataTable.Api.register('buttons().container()', function () {\n\t// API level of nesting is `buttons()` so we can zip into the containers method\n\treturn this.containers().eq(0);\n});\n\n// Add a new button\nDataTable.Api.register('button().add()', function (idx, conf, draw) {\n\tvar ctx = this.context;\n\n\t// Don't use `this` as it could be empty - select the instances directly\n\tif (ctx.length) {\n\t\tvar inst = Buttons.instanceSelector(\n\t\t\tthis._groupSelector,\n\t\t\tctx[0]._buttons\n\t\t);\n\n\t\tif (inst.length) {\n\t\t\tinst[0].add(conf, idx, draw);\n\t\t}\n\t}\n\n\treturn this.button(this._groupSelector, idx);\n});\n\n// Destroy the button sets selected\nDataTable.Api.register('buttons().destroy()', function () {\n\tthis.pluck('inst')\n\t\t.unique()\n\t\t.each(function (inst) {\n\t\t\tinst.destroy();\n\t\t});\n\n\treturn this;\n});\n\n// Remove a button\nDataTable.Api.registerPlural(\n\t'buttons().remove()',\n\t'buttons().remove()',\n\tfunction () {\n\t\tthis.each(function (set) {\n\t\t\tset.inst.remove(set.node);\n\t\t});\n\n\t\treturn this;\n\t}\n);\n\n// Information box that can be used by buttons\nvar _infoTimer;\nDataTable.Api.register('buttons.info()', function (title, message, time) {\n\tvar that = this;\n\n\tif (title === false) {\n\t\tthis.off('destroy.btn-info');\n\t\t_fadeOut($('#datatables_buttons_info'), 400, function () {\n\t\t\t$(this).remove();\n\t\t});\n\t\tclearTimeout(_infoTimer);\n\t\t_infoTimer = null;\n\n\t\treturn this;\n\t}\n\n\tif (_infoTimer) {\n\t\tclearTimeout(_infoTimer);\n\t}\n\n\tif ($('#datatables_buttons_info').length) {\n\t\t$('#datatables_buttons_info').remove();\n\t}\n\n\ttitle = title ? '<h2>' + title + '</h2>' : '';\n\n\t_fadeIn(\n\t\t$('<div id=\"datatables_buttons_info\" class=\"dt-button-info\"/>')\n\t\t\t.html(title)\n\t\t\t.append(\n\t\t\t\t$('<div/>')[typeof message === 'string' ? 'html' : 'append'](\n\t\t\t\t\tmessage\n\t\t\t\t)\n\t\t\t)\n\t\t\t.css('display', 'none')\n\t\t\t.appendTo('body')\n\t);\n\n\tif (time !== undefined && time !== 0) {\n\t\t_infoTimer = setTimeout(function () {\n\t\t\tthat.buttons.info(false);\n\t\t}, time);\n\t}\n\n\tthis.on('destroy.btn-info', function () {\n\t\tthat.buttons.info(false);\n\t});\n\n\treturn this;\n});\n\n// Get data from the table for export - this is common to a number of plug-in\n// buttons so it is included in the Buttons core library\nDataTable.Api.register('buttons.exportData()', function (options) {\n\tif (this.context.length) {\n\t\treturn _exportData(new DataTable.Api(this.context[0]), options);\n\t}\n});\n\n// Get information about the export that is common to many of the export data\n// types (DRY)\nDataTable.Api.register('buttons.exportInfo()', function (conf) {\n\tif (!conf) {\n\t\tconf = {};\n\t}\n\n\treturn {\n\t\tfilename: _filename(conf, this),\n\t\ttitle: _title(conf, this),\n\t\tmessageTop: _message(this, conf, conf.message || conf.messageTop, 'top'),\n\t\tmessageBottom: _message(this, conf, conf.messageBottom, 'bottom')\n\t};\n});\n\n/**\n * Get the file name for an exported file.\n *\n * @param {object} config Button configuration\n * @param {object} dt DataTable instance\n */\nvar _filename = function (config, dt) {\n\t// Backwards compatibility\n\tvar filename =\n\t\tconfig.filename === '*' &&\n\t\tconfig.title !== '*' &&\n\t\tconfig.title !== undefined &&\n\t\tconfig.title !== null &&\n\t\tconfig.title !== ''\n\t\t\t? config.title\n\t\t\t: config.filename;\n\n\tif (typeof filename === 'function') {\n\t\tfilename = filename(config, dt);\n\t}\n\n\tif (filename === undefined || filename === null) {\n\t\treturn null;\n\t}\n\n\tif (filename.indexOf('*') !== -1) {\n\t\tfilename = filename.replace(/\\*/g, $('head > title').text()).trim();\n\t}\n\n\t// Strip characters which the OS will object to\n\tfilename = filename.replace(/[^a-zA-Z0-9_\\u00A1-\\uFFFF\\.,\\-_ !\\(\\)]/g, '');\n\n\tvar extension = _stringOrFunction(config.extension, config, dt);\n\tif (!extension) {\n\t\textension = '';\n\t}\n\n\treturn filename + extension;\n};\n\n/**\n * Simply utility method to allow parameters to be given as a function\n *\n * @param {undefined|string|function} option Option\n * @return {null|string} Resolved value\n */\nvar _stringOrFunction = function (option, config, dt) {\n\tif (option === null || option === undefined) {\n\t\treturn null;\n\t}\n\telse if (typeof option === 'function') {\n\t\treturn option(config, dt);\n\t}\n\treturn option;\n};\n\n/**\n * Get the title for an exported file.\n *\n * @param {object} config\tButton configuration\n */\nvar _title = function (config, dt) {\n\tvar title = _stringOrFunction(config.title, config, dt);\n\n\treturn title === null\n\t\t? null\n\t\t: title.indexOf('*') !== -1\n\t\t? title.replace(/\\*/g, $('head > title').text() || 'Exported data')\n\t\t: title;\n};\n\nvar _message = function (dt, config, option, position) {\n\tvar message = _stringOrFunction(option, config, dt);\n\tif (message === null) {\n\t\treturn null;\n\t}\n\n\tvar caption = $('caption', dt.table().container()).eq(0);\n\tif (message === '*') {\n\t\tvar side = caption.css('caption-side');\n\t\tif (side !== position) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn caption.length ? caption.text() : '';\n\t}\n\n\treturn message;\n};\n\nvar _exportTextarea = $('<textarea/>')[0];\nvar _exportData = function (dt, inOpts) {\n\tvar config = $.extend(\n\t\ttrue,\n\t\t{},\n\t\t{\n\t\t\trows: null,\n\t\t\tcolumns: '',\n\t\t\tmodifier: {\n\t\t\t\tsearch: 'applied',\n\t\t\t\torder: 'applied'\n\t\t\t},\n\t\t\torthogonal: 'display',\n\t\t\tstripHtml: true,\n\t\t\tstripNewlines: true,\n\t\t\tdecodeEntities: true,\n\t\t\ttrim: true,\n\t\t\tformat: {\n\t\t\t\theader: function (d) {\n\t\t\t\t\treturn Buttons.stripData(d, config);\n\t\t\t\t},\n\t\t\t\tfooter: function (d) {\n\t\t\t\t\treturn Buttons.stripData(d, config);\n\t\t\t\t},\n\t\t\t\tbody: function (d) {\n\t\t\t\t\treturn Buttons.stripData(d, config);\n\t\t\t\t}\n\t\t\t},\n\t\t\tcustomizeData: null,\n\t\t\tcustomizeZip: null\n\t\t},\n\t\tinOpts\n\t);\n\n\tvar header = dt\n\t\t.columns(config.columns)\n\t\t.indexes()\n\t\t.map(function (idx) {\n\t\t\tvar col = dt.column(idx);\n\t\t\treturn config.format.header(col.title(), idx, col.header());\n\t\t})\n\t\t.toArray();\n\n\tvar footer = dt.table().footer()\n\t\t? dt\n\t\t\t\t.columns(config.columns)\n\t\t\t\t.indexes()\n\t\t\t\t.map(function (idx) {\n\t\t\t\t\tvar el = dt.column(idx).footer();\n\t\t\t\t\tvar val = '';\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tvar inner = $('.dt-column-title', el);\n\n\t\t\t\t\t\tval = inner.length\n\t\t\t\t\t\t\t? inner.html()\n\t\t\t\t\t\t\t: $(el).html();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn config.format.footer(val, idx, el);\n\t\t\t\t})\n\t\t\t\t.toArray()\n\t\t: null;\n\n\t// If Select is available on this table, and any rows are selected, limit the export\n\t// to the selected rows. If no rows are selected, all rows will be exported. Specify\n\t// a `selected` modifier to control directly.\n\tvar modifier = $.extend({}, config.modifier);\n\tif (\n\t\tdt.select &&\n\t\ttypeof dt.select.info === 'function' &&\n\t\tmodifier.selected === undefined\n\t) {\n\t\tif (\n\t\t\tdt.rows(config.rows, $.extend({ selected: true }, modifier)).any()\n\t\t) {\n\t\t\t$.extend(modifier, { selected: true });\n\t\t}\n\t}\n\n\tvar rowIndexes = dt.rows(config.rows, modifier).indexes().toArray();\n\tvar selectedCells = dt.cells(rowIndexes, config.columns, {\n\t\torder: modifier.order\n\t});\n\tvar cells = selectedCells.render(config.orthogonal).toArray();\n\tvar cellNodes = selectedCells.nodes().toArray();\n\tvar cellIndexes = selectedCells.indexes().toArray();\n\n\tvar columns = dt.columns(config.columns).count();\n\tvar rows = columns > 0 ? cells.length / columns : 0;\n\tvar body = [];\n\tvar cellCounter = 0;\n\n\tfor (var i = 0, ien = rows; i < ien; i++) {\n\t\tvar row = [columns];\n\n\t\tfor (var j = 0; j < columns; j++) {\n\t\t\trow[j] = config.format.body(\n\t\t\t\tcells[cellCounter],\n\t\t\t\tcellIndexes[cellCounter].row,\n\t\t\t\tcellIndexes[cellCounter].column,\n\t\t\t\tcellNodes[cellCounter]\n\t\t\t);\n\t\t\tcellCounter++;\n\t\t}\n\n\t\tbody[i] = row;\n\t}\n\n\tvar data = {\n\t\theader: header,\n\t\theaderStructure: _headerFormatter(\n\t\t\tconfig.format.header,\n\t\t\tdt.table().header.structure(config.columns)\n\t\t),\n\t\tfooter: footer,\n\t\tfooterStructure: _headerFormatter(\n\t\t\tconfig.format.footer,\n\t\t\tdt.table().footer.structure(config.columns)\n\t\t),\n\t\tbody: body\n\t};\n\n\tif (config.customizeData) {\n\t\tconfig.customizeData(data);\n\t}\n\n\treturn data;\n};\n\nfunction _headerFormatter(formatter, struct) {\n\tfor (var i=0 ; i<struct.length ; i++) {\n\t\tfor (var j=0 ; j<struct[i].length ; j++) {\n\t\t\tvar item = struct[i][j];\n\n\t\t\tif (item) {\n\t\t\t\titem.title = formatter(\n\t\t\t\t\titem.title,\n\t\t\t\t\tj,\n\t\t\t\t\titem.cell\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn struct;\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n * DataTables interface\n */\n\n// Attach to DataTables objects for global access\n$.fn.dataTable.Buttons = Buttons;\n$.fn.DataTable.Buttons = Buttons;\n\n// DataTables creation - check if the buttons have been defined for this table,\n// they will have been if the `B` option was used in `dom`, otherwise we should\n// create the buttons instance here so they can be inserted into the document\n// using the API. Listen for `init` for compatibility with pre 1.10.10, but to\n// be removed in future.\n$(document).on('init.dt plugin-init.dt', function (e, settings) {\n\tif (e.namespace !== 'dt') {\n\t\treturn;\n\t}\n\n\tvar opts = settings.oInit.buttons || DataTable.defaults.buttons;\n\n\tif (opts && !settings._buttons) {\n\t\tnew Buttons(settings, opts).container();\n\t}\n});\n\nfunction _init(settings, options) {\n\tvar api = new DataTable.Api(settings);\n\tvar opts = options\n\t\t? options\n\t\t: api.init().buttons || DataTable.defaults.buttons;\n\n\treturn new Buttons(api, opts).container();\n}\n\n// DataTables 1 `dom` feature option\nDataTable.ext.feature.push({\n\tfnInit: _init,\n\tcFeature: 'B'\n});\n\n// DataTables 2 layout feature\nif (DataTable.feature) {\n\tDataTable.feature.register('buttons', _init);\n}\n\n\nreturn DataTable;\n}));\n", "/*!\n * HTML5 export buttons for Buttons and DataTables.\n * \u00A9 SpryMedia Ltd - datatables.net/license\n *\n * FileSaver.js (1.3.3) - MIT license\n * Copyright \u00A9 2016 Eli Grey - http://eligrey.com\n */\n\n(function( factory ){\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( ['jquery', 'datatables.net', 'datatables.net-buttons'], function ( $ ) {\n\t\t\treturn factory( $, window, document );\n\t\t} );\n\t}\n\telse if ( typeof exports === 'object' ) {\n\t\t// CommonJS\n\t\tvar jq = require('jquery');\n\t\tvar cjsRequires = function (root, $) {\n\t\t\tif ( ! $.fn.dataTable ) {\n\t\t\t\trequire('datatables.net')(root, $);\n\t\t\t}\n\n\t\t\tif ( ! $.fn.dataTable.Buttons ) {\n\t\t\t\trequire('datatables.net-buttons')(root, $);\n\t\t\t}\n\t\t};\n\n\t\tif (typeof window === 'undefined') {\n\t\t\tmodule.exports = function (root, $) {\n\t\t\t\tif ( ! root ) {\n\t\t\t\t\t// CommonJS environments without a window global must pass a\n\t\t\t\t\t// root. This will give an error otherwise\n\t\t\t\t\troot = window;\n\t\t\t\t}\n\n\t\t\t\tif ( ! $ ) {\n\t\t\t\t\t$ = jq( root );\n\t\t\t\t}\n\n\t\t\t\tcjsRequires( root, $ );\n\t\t\t\treturn factory( $, root, root.document );\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tcjsRequires( window, jq );\n\t\t\tmodule.exports = factory( jq, window, window.document );\n\t\t}\n\t}\n\telse {\n\t\t// Browser\n\t\tfactory( jQuery, window, document );\n\t}\n}(function( $, window, document ) {\n'use strict';\nvar DataTable = $.fn.dataTable;\n\n\n\n// Allow the constructor to pass in JSZip and PDFMake from external requires.\n// Otherwise, use globally defined variables, if they are available.\nvar useJszip;\nvar usePdfmake;\n\nfunction _jsZip() {\n\treturn useJszip || window.JSZip;\n}\nfunction _pdfMake() {\n\treturn usePdfmake || window.pdfMake;\n}\n\nDataTable.Buttons.pdfMake = function (_) {\n\tif (!_) {\n\t\treturn _pdfMake();\n\t}\n\tusePdfmake = _;\n};\n\nDataTable.Buttons.jszip = function (_) {\n\tif (!_) {\n\t\treturn _jsZip();\n\t}\n\tuseJszip = _;\n};\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n * FileSaver.js dependency\n */\n\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\nvar _saveAs = (function (view) {\n\t'use strict';\n\t// IE <10 is explicitly unsupported\n\tif (\n\t\ttypeof view === 'undefined' ||\n\t\t(typeof navigator !== 'undefined' &&\n\t\t\t/MSIE [1-9]\\./.test(navigator.userAgent))\n\t) {\n\t\treturn;\n\t}\n\tvar doc = view.document,\n\t\t// only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\tget_URL = function () {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t},\n\t\tsave_link = doc.createElementNS('http://www.w3.org/1999/xhtml', 'a'),\n\t\tcan_use_save_link = 'download' in save_link,\n\t\tclick = function (node) {\n\t\t\tvar event = new MouseEvent('click');\n\t\t\tnode.dispatchEvent(event);\n\t\t},\n\t\tis_safari = /constructor/i.test(view.HTMLElement) || view.safari,\n\t\tis_chrome_ios = /CriOS\\/[\\d]+/.test(navigator.userAgent),\n\t\tthrow_outside = function (ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function () {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t},\n\t\tforce_saveable_type = 'application/octet-stream',\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\tarbitrary_revoke_timeout = 1000 * 40, // in ms\n\t\trevoke = function (file) {\n\t\t\tvar revoker = function () {\n\t\t\t\tif (typeof file === 'string') {\n\t\t\t\t\t// file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t},\n\t\tdispatch = function (filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver['on' + event_types[i]];\n\t\t\t\tif (typeof listener === 'function') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tauto_bom = function (blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (\n\t\t\t\t/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(\n\t\t\t\t\tblob.type\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xfeff), blob], {\n\t\t\t\t\ttype: blob.type\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn blob;\n\t\t},\n\t\tFileSaver = function (blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar filesaver = this,\n\t\t\t\ttype = blob.type,\n\t\t\t\tforce = type === force_saveable_type,\n\t\t\t\tobject_url,\n\t\t\t\tdispatch_all = function () {\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\tfilesaver,\n\t\t\t\t\t\t'writestart progress write writeend'.split(' ')\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\tfs_error = function () {\n\t\t\t\t\tif (\n\t\t\t\t\t\t(is_chrome_ios || (force && is_safari)) &&\n\t\t\t\t\t\tview.FileReader\n\t\t\t\t\t) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function () {\n\t\t\t\t\t\t\tvar url = is_chrome_ios\n\t\t\t\t\t\t\t\t? reader.result\n\t\t\t\t\t\t\t\t: reader.result.replace(\n\t\t\t\t\t\t\t\t\t\t/^data:[^;]*;/,\n\t\t\t\t\t\t\t\t\t\t'data:attachment/file;'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif (!popup) view.location.href = url;\n\t\t\t\t\t\t\turl = undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar opened = view.open(object_url, '_blank');\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t};\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t},\n\t\tFS_proto = FileSaver.prototype,\n\t\tsaveAs = function (blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(\n\t\t\t\tblob,\n\t\t\t\tname || blob.name || 'download',\n\t\t\t\tno_auto_bom\n\t\t\t);\n\t\t};\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== 'undefined' && navigator.msSaveOrOpenBlob) {\n\t\treturn function (blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || 'download';\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function () {};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\t\tFS_proto.onwritestart =\n\t\tFS_proto.onprogress =\n\t\tFS_proto.onwrite =\n\t\tFS_proto.onabort =\n\t\tFS_proto.onerror =\n\t\tFS_proto.onwriteend =\n\t\t\tnull;\n\n\treturn saveAs;\n})(\n\t(typeof self !== 'undefined' && self) ||\n\t\t(typeof window !== 'undefined' && window) ||\n\t\tthis.content\n);\n\n// Expose file saver on the DataTables API. Can't attach to `DataTables.Buttons`\n// since this file can be loaded before Button's core!\nDataTable.fileSave = _saveAs;\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n * Local (private) functions\n */\n\n/**\n * Get the sheet name for Excel exports.\n *\n * @param {object}\tconfig Button configuration\n */\nvar _sheetname = function (config) {\n\tvar sheetName = 'Sheet1';\n\n\tif (config.sheetName) {\n\t\tsheetName = config.sheetName.replace(/[\\[\\]\\*\\/\\\\\\?\\:]/g, '');\n\t}\n\n\treturn sheetName;\n};\n\n/**\n * Get the newline character(s)\n *\n * @param {object}\tconfig Button configuration\n * @return {string}\t\t\t\tNewline character\n */\nvar _newLine = function (config) {\n\treturn config.newline\n\t\t? config.newline\n\t\t: navigator.userAgent.match(/Windows/)\n\t\t? '\\r\\n'\n\t\t: '\\n';\n};\n\n/**\n * Combine the data from the `buttons.exportData` method into a string that\n * will be used in the export file.\n *\n * @param\t{DataTable.Api} dt\t\t DataTables API instance\n * @param\t{object}\t\t\t\tconfig Button configuration\n * @return {object}\t\t\t\t\t\t\t The data to export\n */\nvar _exportData = function (dt, config) {\n\tvar newLine = _newLine(config);\n\tvar data = dt.buttons.exportData(config.exportOptions);\n\tvar boundary = config.fieldBoundary;\n\tvar separator = config.fieldSeparator;\n\tvar reBoundary = new RegExp(boundary, 'g');\n\tvar escapeChar = config.escapeChar !== undefined ? config.escapeChar : '\\\\';\n\tvar join = function (a) {\n\t\tvar s = '';\n\n\t\t// If there is a field boundary, then we might need to escape it in\n\t\t// the source data\n\t\tfor (var i = 0, ien = a.length; i < ien; i++) {\n\t\t\tif (i > 0) {\n\t\t\t\ts += separator;\n\t\t\t}\n\n\t\t\ts += boundary\n\t\t\t\t? boundary +\n\t\t\t\t('' + a[i]).replace(reBoundary, escapeChar + boundary) +\n\t\t\t\tboundary\n\t\t\t\t: a[i];\n\t\t}\n\n\t\treturn s;\n\t};\n\n\tvar header = '';\n\tvar footer = '';\n\tvar body = [];\n\n\tif (config.header) {\n\t\theader =\n\t\t\tdata.headerStructure\n\t\t\t\t.map(function (row) {\n\t\t\t\t\treturn join(\n\t\t\t\t\t\trow.map(function (cell) {\n\t\t\t\t\t\t\treturn cell ? cell.title : '';\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.join(newLine) + newLine;\n\t}\n\n\tif (config.footer && data.footer) {\n\t\tfooter =\n\t\t\tdata.footerStructure\n\t\t\t\t.map(function (row) {\n\t\t\t\t\treturn join(\n\t\t\t\t\t\trow.map(function (cell) {\n\t\t\t\t\t\t\treturn cell ? cell.title : '';\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.join(newLine) + newLine;\n\t}\n\n\tfor (var i = 0, ien = data.body.length; i < ien; i++) {\n\t\tbody.push(join(data.body[i]));\n\t}\n\n\treturn {\n\t\tstr: header + body.join(newLine) + newLine + footer,\n\t\trows: body.length\n\t};\n};\n\n/**\n * Older versions of Safari (prior to tech preview 18) don't support the\n * download option required.\n *\n * @return {Boolean} `true` if old Safari\n */\nvar _isDuffSafari = function () {\n\tvar safari =\n\t\tnavigator.userAgent.indexOf('Safari') !== -1 &&\n\t\tnavigator.userAgent.indexOf('Chrome') === -1 &&\n\t\tnavigator.userAgent.indexOf('Opera') === -1;\n\n\tif (!safari) {\n\t\treturn false;\n\t}\n\n\tvar version = navigator.userAgent.match(/AppleWebKit\\/(\\d+\\.\\d+)/);\n\tif (version && version.length > 1 && version[1] * 1 < 603.1) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\n/**\n * Convert from numeric position to letter for column names in Excel\n * @param  {int} n Column number\n * @return {string} Column letter(s) name\n */\nfunction createCellPos(n) {\n\tvar ordA = 'A'.charCodeAt(0);\n\tvar ordZ = 'Z'.charCodeAt(0);\n\tvar len = ordZ - ordA + 1;\n\tvar s = '';\n\n\twhile (n >= 0) {\n\t\ts = String.fromCharCode((n % len) + ordA) + s;\n\t\tn = Math.floor(n / len) - 1;\n\t}\n\n\treturn s;\n}\n\ntry {\n\tvar _serialiser = new XMLSerializer();\n\tvar _ieExcel;\n} catch (t) {\n\t// noop\n}\n\n/**\n * Recursively add XML files from an object's structure to a ZIP file. This\n * allows the XSLX file to be easily defined with an object's structure matching\n * the files structure.\n *\n * @param {JSZip} zip ZIP package\n * @param {object} obj Object to add (recursive)\n */\nfunction _addToZip(zip, obj) {\n\tif (_ieExcel === undefined) {\n\t\t// Detect if we are dealing with IE's _awful_ serialiser by seeing if it\n\t\t// drop attributes\n\t\t_ieExcel =\n\t\t\t_serialiser\n\t\t\t\t.serializeToString(\n\t\t\t\t\tnew window.DOMParser().parseFromString(\n\t\t\t\t\t\texcelStrings['xl/worksheets/sheet1.xml'],\n\t\t\t\t\t\t'text/xml'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.indexOf('xmlns:r') === -1;\n\t}\n\n\t$.each(obj, function (name, val) {\n\t\tif ($.isPlainObject(val)) {\n\t\t\tvar newDir = zip.folder(name);\n\t\t\t_addToZip(newDir, val);\n\t\t}\n\t\telse {\n\t\t\tif (_ieExcel) {\n\t\t\t\t// IE's XML serialiser will drop some name space attributes from\n\t\t\t\t// from the root node, so we need to save them. Do this by\n\t\t\t\t// replacing the namespace nodes with a regular attribute that\n\t\t\t\t// we convert back when serialised. Edge does not have this\n\t\t\t\t// issue\n\t\t\t\tvar worksheet = val.childNodes[0];\n\t\t\t\tvar i, ien;\n\t\t\t\tvar attrs = [];\n\n\t\t\t\tfor (i = worksheet.attributes.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar attrName = worksheet.attributes[i].nodeName;\n\t\t\t\t\tvar attrValue = worksheet.attributes[i].nodeValue;\n\n\t\t\t\t\tif (attrName.indexOf(':') !== -1) {\n\t\t\t\t\t\tattrs.push({ name: attrName, value: attrValue });\n\n\t\t\t\t\t\tworksheet.removeAttribute(attrName);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (i = 0, ien = attrs.length; i < ien; i++) {\n\t\t\t\t\tvar attr = val.createAttribute(\n\t\t\t\t\t\tattrs[i].name.replace(':', '_dt_b_namespace_token_')\n\t\t\t\t\t);\n\t\t\t\t\tattr.value = attrs[i].value;\n\t\t\t\t\tworksheet.setAttributeNode(attr);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar str = _serialiser.serializeToString(val);\n\n\t\t\t// Fix IE's XML\n\t\t\tif (_ieExcel) {\n\t\t\t\t// IE doesn't include the XML declaration\n\t\t\t\tif (str.indexOf('<?xml') === -1) {\n\t\t\t\t\tstr =\n\t\t\t\t\t\t'<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' +\n\t\t\t\t\t\tstr;\n\t\t\t\t}\n\n\t\t\t\t// Return namespace attributes to being as such\n\t\t\t\tstr = str.replace(/_dt_b_namespace_token_/g, ':');\n\n\t\t\t\t// Remove testing name space that IE puts into the space preserve attr\n\t\t\t\tstr = str.replace(/xmlns:NS[\\d]+=\"\" NS[\\d]+:/g, '');\n\t\t\t}\n\n\t\t\t// Safari, IE and Edge will put empty name space attributes onto\n\t\t\t// various elements making them useless. This strips them out\n\t\t\tstr = str.replace(/<([^<>]*?) xmlns=\"\"([^<>]*?)>/g, '<$1 $2>');\n\n\t\t\tzip.file(name, str);\n\t\t}\n\t});\n}\n\n/**\n * Create an XML node and add any children, attributes, etc without needing to\n * be verbose in the DOM.\n *\n * @param  {object} doc      XML document\n * @param  {string} nodeName Node name\n * @param  {object} opts     Options - can be `attr` (attributes), `children`\n *   (child nodes) and `text` (text content)\n * @return {node}            Created node\n */\nfunction _createNode(doc, nodeName, opts) {\n\tvar tempNode = doc.createElement(nodeName);\n\n\tif (opts) {\n\t\tif (opts.attr) {\n\t\t\t$(tempNode).attr(opts.attr);\n\t\t}\n\n\t\tif (opts.children) {\n\t\t\t$.each(opts.children, function (key, value) {\n\t\t\t\ttempNode.appendChild(value);\n\t\t\t});\n\t\t}\n\n\t\tif (opts.text !== null && opts.text !== undefined) {\n\t\t\ttempNode.appendChild(doc.createTextNode(opts.text));\n\t\t}\n\t}\n\n\treturn tempNode;\n}\n\n/**\n * Get the width for an Excel column based on the contents of that column\n * @param  {object} data Data for export\n * @param  {int}    col  Column index\n * @return {int}         Column width\n */\nfunction _excelColWidth(data, col) {\n\tvar max = data.header[col].length;\n\tvar len, lineSplit, str;\n\n\tif (data.footer && data.footer[col] && data.footer[col].length > max) {\n\t\tmax = data.footer[col].length;\n\t}\n\n\tfor (var i = 0, ien = data.body.length; i < ien; i++) {\n\t\tvar point = data.body[i][col];\n\t\tstr = point !== null && point !== undefined ? point.toString() : '';\n\n\t\t// If there is a newline character, workout the width of the column\n\t\t// based on the longest line in the string\n\t\tif (str.indexOf('\\n') !== -1) {\n\t\t\tlineSplit = str.split('\\n');\n\t\t\tlineSplit.sort(function (a, b) {\n\t\t\t\treturn b.length - a.length;\n\t\t\t});\n\n\t\t\tlen = lineSplit[0].length;\n\t\t}\n\t\telse {\n\t\t\tlen = str.length;\n\t\t}\n\n\t\tif (len > max) {\n\t\t\tmax = len;\n\t\t}\n\n\t\t// Max width rather than having potentially massive column widths\n\t\tif (max > 40) {\n\t\t\treturn 54; // 40 * 1.35\n\t\t}\n\t}\n\n\tmax *= 1.35;\n\n\t// And a min width\n\treturn max > 6 ? max : 6;\n}\n\n// Excel - Pre-defined strings to build a basic XLSX file\nvar excelStrings = {\n\t'_rels/.rels':\n\t\t'<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' +\n\t\t'<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">' +\n\t\t'<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\" Target=\"xl/workbook.xml\"/>' +\n\t\t'</Relationships>',\n\n\t'xl/_rels/workbook.xml.rels':\n\t\t'<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' +\n\t\t'<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">' +\n\t\t'<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\" Target=\"worksheets/sheet1.xml\"/>' +\n\t\t'<Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\" Target=\"styles.xml\"/>' +\n\t\t'</Relationships>',\n\n\t'[Content_Types].xml':\n\t\t'<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' +\n\t\t'<Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\">' +\n\t\t'<Default Extension=\"xml\" ContentType=\"application/xml\" />' +\n\t\t'<Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\" />' +\n\t\t'<Default Extension=\"jpeg\" ContentType=\"image/jpeg\" />' +\n\t\t'<Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\" />' +\n\t\t'<Override PartName=\"/xl/worksheets/sheet1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\" />' +\n\t\t'<Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\" />' +\n\t\t'</Types>',\n\n\t'xl/workbook.xml':\n\t\t'<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' +\n\t\t'<workbook xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\">' +\n\t\t'<fileVersion appName=\"xl\" lastEdited=\"5\" lowestEdited=\"5\" rupBuild=\"24816\"/>' +\n\t\t'<workbookPr showInkAnnotation=\"0\" autoCompressPictures=\"0\"/>' +\n\t\t'<bookViews>' +\n\t\t'<workbookView xWindow=\"0\" yWindow=\"0\" windowWidth=\"25600\" windowHeight=\"19020\" tabRatio=\"500\"/>' +\n\t\t'</bookViews>' +\n\t\t'<sheets>' +\n\t\t'<sheet name=\"Sheet1\" sheetId=\"1\" r:id=\"rId1\"/>' +\n\t\t'</sheets>' +\n\t\t'<definedNames/>' +\n\t\t'</workbook>',\n\n\t'xl/worksheets/sheet1.xml':\n\t\t'<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' +\n\t\t'<worksheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x14ac\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\">' +\n\t\t'<sheetData/>' +\n\t\t'<mergeCells count=\"0\"/>' +\n\t\t'</worksheet>',\n\n\t'xl/styles.xml':\n\t\t'<?xml version=\"1.0\" encoding=\"UTF-8\"?>' +\n\t\t'<styleSheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x14ac\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\">' +\n\t\t'<numFmts count=\"6\">' +\n\t\t'<numFmt numFmtId=\"164\" formatCode=\"[$$-409]#,##0.00;-[$$-409]#,##0.00\"/>' +\n\t\t'<numFmt numFmtId=\"165\" formatCode=\"&quot;\u00A3&quot;#,##0.00\"/>' +\n\t\t'<numFmt numFmtId=\"166\" formatCode=\"[$\u20AC-2] #,##0.00\"/>' +\n\t\t'<numFmt numFmtId=\"167\" formatCode=\"0.0%\"/>' +\n\t\t'<numFmt numFmtId=\"168\" formatCode=\"#,##0;(#,##0)\"/>' +\n\t\t'<numFmt numFmtId=\"169\" formatCode=\"#,##0.00;(#,##0.00)\"/>' +\n\t\t'</numFmts>' +\n\t\t'<fonts count=\"5\" x14ac:knownFonts=\"1\">' +\n\t\t'<font>' +\n\t\t'<sz val=\"11\" />' +\n\t\t'<name val=\"Calibri\" />' +\n\t\t'</font>' +\n\t\t'<font>' +\n\t\t'<sz val=\"11\" />' +\n\t\t'<name val=\"Calibri\" />' +\n\t\t'<color rgb=\"FFFFFFFF\" />' +\n\t\t'</font>' +\n\t\t'<font>' +\n\t\t'<sz val=\"11\" />' +\n\t\t'<name val=\"Calibri\" />' +\n\t\t'<b />' +\n\t\t'</font>' +\n\t\t'<font>' +\n\t\t'<sz val=\"11\" />' +\n\t\t'<name val=\"Calibri\" />' +\n\t\t'<i />' +\n\t\t'</font>' +\n\t\t'<font>' +\n\t\t'<sz val=\"11\" />' +\n\t\t'<name val=\"Calibri\" />' +\n\t\t'<u />' +\n\t\t'</font>' +\n\t\t'</fonts>' +\n\t\t'<fills count=\"6\">' +\n\t\t'<fill>' +\n\t\t'<patternFill patternType=\"none\" />' +\n\t\t'</fill>' +\n\t\t'<fill>' + // Excel appears to use this as a dotted background regardless of values but\n\t\t'<patternFill patternType=\"none\" />' + // to be valid to the schema, use a patternFill\n\t\t'</fill>' +\n\t\t'<fill>' +\n\t\t'<patternFill patternType=\"solid\">' +\n\t\t'<fgColor rgb=\"FFD9D9D9\" />' +\n\t\t'<bgColor indexed=\"64\" />' +\n\t\t'</patternFill>' +\n\t\t'</fill>' +\n\t\t'<fill>' +\n\t\t'<patternFill patternType=\"solid\">' +\n\t\t'<fgColor rgb=\"FFD99795\" />' +\n\t\t'<bgColor indexed=\"64\" />' +\n\t\t'</patternFill>' +\n\t\t'</fill>' +\n\t\t'<fill>' +\n\t\t'<patternFill patternType=\"solid\">' +\n\t\t'<fgColor rgb=\"ffc6efce\" />' +\n\t\t'<bgColor indexed=\"64\" />' +\n\t\t'</patternFill>' +\n\t\t'</fill>' +\n\t\t'<fill>' +\n\t\t'<patternFill patternType=\"solid\">' +\n\t\t'<fgColor rgb=\"ffc6cfef\" />' +\n\t\t'<bgColor indexed=\"64\" />' +\n\t\t'</patternFill>' +\n\t\t'</fill>' +\n\t\t'</fills>' +\n\t\t'<borders count=\"2\">' +\n\t\t'<border>' +\n\t\t'<left />' +\n\t\t'<right />' +\n\t\t'<top />' +\n\t\t'<bottom />' +\n\t\t'<diagonal />' +\n\t\t'</border>' +\n\t\t'<border diagonalUp=\"false\" diagonalDown=\"false\">' +\n\t\t'<left style=\"thin\">' +\n\t\t'<color auto=\"1\" />' +\n\t\t'</left>' +\n\t\t'<right style=\"thin\">' +\n\t\t'<color auto=\"1\" />' +\n\t\t'</right>' +\n\t\t'<top style=\"thin\">' +\n\t\t'<color auto=\"1\" />' +\n\t\t'</top>' +\n\t\t'<bottom style=\"thin\">' +\n\t\t'<color auto=\"1\" />' +\n\t\t'</bottom>' +\n\t\t'<diagonal />' +\n\t\t'</border>' +\n\t\t'</borders>' +\n\t\t'<cellStyleXfs count=\"1\">' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" />' +\n\t\t'</cellStyleXfs>' +\n\t\t'<cellXfs count=\"68\">' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"1\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"2\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"3\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"4\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"2\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"1\" fillId=\"2\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"2\" fillId=\"2\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"3\" fillId=\"2\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"4\" fillId=\"2\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"3\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"1\" fillId=\"3\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"2\" fillId=\"3\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"3\" fillId=\"3\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"4\" fillId=\"3\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"4\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"1\" fillId=\"4\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"2\" fillId=\"4\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"3\" fillId=\"4\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"4\" fillId=\"4\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"5\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"1\" fillId=\"5\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"2\" fillId=\"5\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"3\" fillId=\"5\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"4\" fillId=\"5\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"1\" fillId=\"0\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"2\" fillId=\"0\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"3\" fillId=\"0\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"4\" fillId=\"0\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"2\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"1\" fillId=\"2\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"2\" fillId=\"2\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"3\" fillId=\"2\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"4\" fillId=\"2\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"3\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"1\" fillId=\"3\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"2\" fillId=\"3\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"3\" fillId=\"3\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"4\" fillId=\"3\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"4\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"1\" fillId=\"4\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"2\" fillId=\"4\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"3\" fillId=\"4\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"4\" fillId=\"4\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"5\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"1\" fillId=\"5\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"2\" fillId=\"5\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"3\" fillId=\"5\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"4\" fillId=\"5\" borderId=\"1\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\"/>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyAlignment=\"1\">' +\n\t\t'<alignment horizontal=\"left\"/>' +\n\t\t'</xf>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyAlignment=\"1\">' +\n\t\t'<alignment horizontal=\"center\"/>' +\n\t\t'</xf>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyAlignment=\"1\">' +\n\t\t'<alignment horizontal=\"right\"/>' +\n\t\t'</xf>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyAlignment=\"1\">' +\n\t\t'<alignment horizontal=\"fill\"/>' +\n\t\t'</xf>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyAlignment=\"1\">' +\n\t\t'<alignment textRotation=\"90\"/>' +\n\t\t'</xf>' +\n\t\t'<xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyAlignment=\"1\">' +\n\t\t'<alignment wrapText=\"1\"/>' +\n\t\t'</xf>' +\n\t\t'<xf numFmtId=\"9\"   fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyNumberFormat=\"1\"/>' +\n\t\t'<xf numFmtId=\"164\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyNumberFormat=\"1\"/>' +\n\t\t'<xf numFmtId=\"165\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyNumberFormat=\"1\"/>' +\n\t\t'<xf numFmtId=\"166\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyNumberFormat=\"1\"/>' +\n\t\t'<xf numFmtId=\"167\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyNumberFormat=\"1\"/>' +\n\t\t'<xf numFmtId=\"168\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyNumberFormat=\"1\"/>' +\n\t\t'<xf numFmtId=\"169\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyNumberFormat=\"1\"/>' +\n\t\t'<xf numFmtId=\"3\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyNumberFormat=\"1\"/>' +\n\t\t'<xf numFmtId=\"4\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyNumberFormat=\"1\"/>' +\n\t\t'<xf numFmtId=\"1\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyNumberFormat=\"1\"/>' +\n\t\t'<xf numFmtId=\"2\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyNumberFormat=\"1\"/>' +\n\t\t'<xf numFmtId=\"14\" fontId=\"0\" fillId=\"0\" borderId=\"0\" applyFont=\"1\" applyFill=\"1\" applyBorder=\"1\" xfId=\"0\" applyNumberFormat=\"1\"/>' +\n\t\t'</cellXfs>' +\n\t\t'<cellStyles count=\"1\">' +\n\t\t'<cellStyle name=\"Normal\" xfId=\"0\" builtinId=\"0\" />' +\n\t\t'</cellStyles>' +\n\t\t'<dxfs count=\"0\" />' +\n\t\t'<tableStyles count=\"0\" defaultTableStyle=\"TableStyleMedium9\" defaultPivotStyle=\"PivotStyleMedium4\" />' +\n\t\t'</styleSheet>'\n};\n// Note we could use 3 `for` loops for the styles, but when gzipped there is\n// virtually no difference in size, since the above can be easily compressed\n\n// Pattern matching for special number formats. Perhaps this should be exposed\n// via an API in future?\n// Ref: section 3.8.30 - built in formatters in open spreadsheet\n//   https://www.ecma-international.org/news/TC45_current_work/Office%20Open%20XML%20Part%204%20-%20Markup%20Language%20Reference.pdf\nvar _excelSpecials = [\n\t{\n\t\tmatch: /^\\-?\\d+\\.\\d%$/,\n\t\tstyle: 60,\n\t\tfmt: function (d) {\n\t\t\treturn d / 100;\n\t\t}\n\t}, // Percent with d.p.\n\t{\n\t\tmatch: /^\\-?\\d+\\.?\\d*%$/,\n\t\tstyle: 56,\n\t\tfmt: function (d) {\n\t\t\treturn d / 100;\n\t\t}\n\t}, // Percent\n\t{ match: /^\\-?\\$[\\d,]+.?\\d*$/, style: 57 }, // Dollars\n\t{ match: /^\\-?\u00A3[\\d,]+.?\\d*$/, style: 58 }, // Pounds\n\t{ match: /^\\-?\u20AC[\\d,]+.?\\d*$/, style: 59 }, // Euros\n\t{ match: /^\\-?\\d+$/, style: 65 }, // Numbers without thousand separators\n\t{ match: /^\\-?\\d+\\.\\d{2}$/, style: 66 }, // Numbers 2 d.p. without thousands separators\n\t{\n\t\tmatch: /^\\([\\d,]+\\)$/,\n\t\tstyle: 61,\n\t\tfmt: function (d) {\n\t\t\treturn -1 * d.replace(/[\\(\\)]/g, '');\n\t\t}\n\t}, // Negative numbers indicated by brackets\n\t{\n\t\tmatch: /^\\([\\d,]+\\.\\d{2}\\)$/,\n\t\tstyle: 62,\n\t\tfmt: function (d) {\n\t\t\treturn -1 * d.replace(/[\\(\\)]/g, '');\n\t\t}\n\t}, // Negative numbers indicated by brackets - 2d.p.\n\t{ match: /^\\-?[\\d,]+$/, style: 63 }, // Numbers with thousand separators\n\t{ match: /^\\-?[\\d,]+\\.\\d{2}$/, style: 64 },\n\t{\n\t\tmatch: /^[\\d]{4}\\-[01][\\d]\\-[0123][\\d]$/,\n\t\tstyle: 67,\n\t\tfmt: function (d) {\n\t\t\treturn Math.round(25569 + Date.parse(d) / (86400 * 1000));\n\t\t}\n\t} //Date yyyy-mm-dd\n];\n\nvar _excelMergeCells = function (rels, row, column, rowspan, colspan) {\n\tvar mergeCells = $('mergeCells', rels);\n\n\tmergeCells[0].appendChild(\n\t\t_createNode(rels, 'mergeCell', {\n\t\t\tattr: {\n\t\t\t\tref:\n\t\t\t\t\tcreateCellPos(column) +\n\t\t\t\t\trow +\n\t\t\t\t\t':' +\n\t\t\t\t\tcreateCellPos(column + colspan - 1) +\n\t\t\t\t\t(row + rowspan - 1)\n\t\t\t}\n\t\t})\n\t);\n\n\tmergeCells.attr('count', parseFloat(mergeCells.attr('count')) + 1);\n};\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n * Buttons\n */\n\n//\n// Copy to clipboard\n//\nDataTable.ext.buttons.copyHtml5 = {\n\tclassName: 'buttons-copy buttons-html5',\n\n\ttext: function (dt) {\n\t\treturn dt.i18n('buttons.copy', 'Copy');\n\t},\n\n\taction: function (e, dt, button, config, cb) {\n\t\tvar exportData = _exportData(dt, config);\n\t\tvar info = dt.buttons.exportInfo(config);\n\t\tvar newline = _newLine(config);\n\t\tvar output = exportData.str;\n\t\tvar hiddenDiv = $('<div/>').css({\n\t\t\theight: 1,\n\t\t\twidth: 1,\n\t\t\toverflow: 'hidden',\n\t\t\tposition: 'fixed',\n\t\t\ttop: 0,\n\t\t\tleft: 0\n\t\t});\n\n\t\tif (info.title) {\n\t\t\toutput = info.title + newline + newline + output;\n\t\t}\n\n\t\tif (info.messageTop) {\n\t\t\toutput = info.messageTop + newline + newline + output;\n\t\t}\n\n\t\tif (info.messageBottom) {\n\t\t\toutput = output + newline + newline + info.messageBottom;\n\t\t}\n\n\t\tif (config.customize) {\n\t\t\toutput = config.customize(output, config, dt);\n\t\t}\n\n\t\tvar textarea = $('<textarea readonly/>')\n\t\t\t.val(output)\n\t\t\t.appendTo(hiddenDiv);\n\n\t\t// For browsers that support the copy execCommand, try to use it\n\t\tif (document.queryCommandSupported('copy')) {\n\t\t\thiddenDiv.appendTo(dt.table().container());\n\t\t\ttextarea[0].focus();\n\t\t\ttextarea[0].select();\n\n\t\t\ttry {\n\t\t\t\tvar successful = document.execCommand('copy');\n\t\t\t\thiddenDiv.remove();\n\n\t\t\t\tif (successful) {\n\t\t\t\t\tdt.buttons.info(\n\t\t\t\t\t\tdt.i18n('buttons.copyTitle', 'Copy to clipboard'),\n\t\t\t\t\t\tdt.i18n(\n\t\t\t\t\t\t\t'buttons.copySuccess',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t1: 'Copied one row to clipboard',\n\t\t\t\t\t\t\t\t_: 'Copied %d rows to clipboard'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\texportData.rows\n\t\t\t\t\t\t),\n\t\t\t\t\t\t2000\n\t\t\t\t\t);\n\n\t\t\t\t\tcb();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch (t) {\n\t\t\t\t// noop\n\t\t\t}\n\t\t}\n\n\t\t// Otherwise we show the text box and instruct the user to use it\n\t\tvar message = $(\n\t\t\t'<span>' +\n\t\t\t\tdt.i18n(\n\t\t\t\t\t'buttons.copyKeys',\n\t\t\t\t\t'Press <i>ctrl</i> or <i>\\u2318</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>' +\n\t\t\t\t\t\t'To cancel, click this message or press escape.'\n\t\t\t\t) +\n\t\t\t\t'</span>'\n\t\t).append(hiddenDiv);\n\n\t\tdt.buttons.info(\n\t\t\tdt.i18n('buttons.copyTitle', 'Copy to clipboard'),\n\t\t\tmessage,\n\t\t\t0\n\t\t);\n\n\t\t// Select the text so when the user activates their system clipboard\n\t\t// it will copy that text\n\t\ttextarea[0].focus();\n\t\ttextarea[0].select();\n\n\t\t// Event to hide the message when the user is done\n\t\tvar container = $(message).closest('.dt-button-info');\n\t\tvar close = function () {\n\t\t\tcontainer.off('click.buttons-copy');\n\t\t\t$(document).off('.buttons-copy');\n\t\t\tdt.buttons.info(false);\n\t\t};\n\n\t\tcontainer.on('click.buttons-copy', close);\n\t\t$(document)\n\t\t\t.on('keydown.buttons-copy', function (e) {\n\t\t\t\tif (e.keyCode === 27) {\n\t\t\t\t\t// esc\n\t\t\t\t\tclose();\n\t\t\t\t\tcb();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('copy.buttons-copy cut.buttons-copy', function () {\n\t\t\t\tclose();\n\t\t\t\tcb();\n\t\t\t});\n\t},\n\n\tasync: 100,\n\n\texportOptions: {},\n\n\tfieldSeparator: '\\t',\n\n\tfieldBoundary: '',\n\n\theader: true,\n\n\tfooter: true,\n\n\ttitle: '*',\n\n\tmessageTop: '*',\n\n\tmessageBottom: '*'\n};\n\n//\n// CSV export\n//\nDataTable.ext.buttons.csvHtml5 = {\n\tbom: false,\n\n\tclassName: 'buttons-csv buttons-html5',\n\n\tavailable: function () {\n\t\treturn window.FileReader !== undefined && window.Blob;\n\t},\n\n\ttext: function (dt) {\n\t\treturn dt.i18n('buttons.csv', 'CSV');\n\t},\n\n\taction: function (e, dt, button, config, cb) {\n\t\t// Set the text\n\t\tvar output = _exportData(dt, config).str;\n\t\tvar info = dt.buttons.exportInfo(config);\n\t\tvar charset = config.charset;\n\n\t\tif (config.customize) {\n\t\t\toutput = config.customize(output, config, dt);\n\t\t}\n\n\t\tif (charset !== false) {\n\t\t\tif (!charset) {\n\t\t\t\tcharset = document.characterSet || document.charset;\n\t\t\t}\n\n\t\t\tif (charset) {\n\t\t\t\tcharset = ';charset=' + charset;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tcharset = '';\n\t\t}\n\n\t\tif (config.bom) {\n\t\t\toutput = String.fromCharCode(0xfeff) + output;\n\t\t}\n\n\t\t_saveAs(\n\t\t\tnew Blob([output], { type: 'text/csv' + charset }),\n\t\t\tinfo.filename,\n\t\t\ttrue\n\t\t);\n\n\t\tcb();\n\t},\n\n\tasync: 100,\n\n\tfilename: '*',\n\n\textension: '.csv',\n\n\texportOptions: {},\n\n\tfieldSeparator: ',',\n\n\tfieldBoundary: '\"',\n\n\tescapeChar: '\"',\n\n\tcharset: null,\n\n\theader: true,\n\n\tfooter: true\n};\n\n//\n// Excel (xlsx) export\n//\nDataTable.ext.buttons.excelHtml5 = {\n\tclassName: 'buttons-excel buttons-html5',\n\n\tavailable: function () {\n\t\treturn (\n\t\t\twindow.FileReader !== undefined &&\n\t\t\t_jsZip() !== undefined &&\n\t\t\t!_isDuffSafari() &&\n\t\t\t_serialiser\n\t\t);\n\t},\n\n\ttext: function (dt) {\n\t\treturn dt.i18n('buttons.excel', 'Excel');\n\t},\n\n\taction: function (e, dt, button, config, cb) {\n\t\tvar rowPos = 0;\n\t\tvar dataStartRow, dataEndRow;\n\t\tvar getXml = function (type) {\n\t\t\tvar str = excelStrings[type];\n\n\t\t\t//str = str.replace( /xmlns:/g, 'xmlns_' ).replace( /mc:/g, 'mc_' );\n\n\t\t\treturn $.parseXML(str);\n\t\t};\n\t\tvar rels = getXml('xl/worksheets/sheet1.xml');\n\t\tvar relsGet = rels.getElementsByTagName('sheetData')[0];\n\n\t\tvar xlsx = {\n\t\t\t_rels: {\n\t\t\t\t'.rels': getXml('_rels/.rels')\n\t\t\t},\n\t\t\txl: {\n\t\t\t\t_rels: {\n\t\t\t\t\t'workbook.xml.rels': getXml('xl/_rels/workbook.xml.rels')\n\t\t\t\t},\n\t\t\t\t'workbook.xml': getXml('xl/workbook.xml'),\n\t\t\t\t'styles.xml': getXml('xl/styles.xml'),\n\t\t\t\tworksheets: {\n\t\t\t\t\t'sheet1.xml': rels\n\t\t\t\t}\n\t\t\t},\n\t\t\t'[Content_Types].xml': getXml('[Content_Types].xml')\n\t\t};\n\n\t\tvar data = dt.buttons.exportData(config.exportOptions);\n\t\tvar currentRow, rowNode;\n\t\tvar addRow = function (row) {\n\t\t\tcurrentRow = rowPos + 1;\n\t\t\trowNode = _createNode(rels, 'row', { attr: { r: currentRow } });\n\n\t\t\tfor (var i = 0, ien = row.length; i < ien; i++) {\n\t\t\t\t// Concat both the Cell Columns as a letter and the Row of the cell.\n\t\t\t\tvar cellId = createCellPos(i) + '' + currentRow;\n\t\t\t\tvar cell = null;\n\n\t\t\t\t// For null, undefined of blank cell, continue so it doesn't create the _createNode\n\t\t\t\tif (row[i] === null || row[i] === undefined || row[i] === '') {\n\t\t\t\t\tif (config.createEmptyCells === true) {\n\t\t\t\t\t\trow[i] = '';\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar originalContent = row[i];\n\t\t\t\trow[i] =\n\t\t\t\t\ttypeof row[i].trim === 'function' ? row[i].trim() : row[i];\n\n\t\t\t\t// Special number formatting options\n\t\t\t\tfor (var j = 0, jen = _excelSpecials.length; j < jen; j++) {\n\t\t\t\t\tvar special = _excelSpecials[j];\n\n\t\t\t\t\t// TODO Need to provide the ability for the specials to say\n\t\t\t\t\t// if they are returning a string, since at the moment it is\n\t\t\t\t\t// assumed to be a number\n\t\t\t\t\tif (\n\t\t\t\t\t\trow[i].match &&\n\t\t\t\t\t\t!row[i].match(/^0\\d+/) &&\n\t\t\t\t\t\trow[i].match(special.match)\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar val = row[i].replace(/[^\\d\\.\\-]/g, '');\n\n\t\t\t\t\t\tif (special.fmt) {\n\t\t\t\t\t\t\tval = special.fmt(val);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcell = _createNode(rels, 'c', {\n\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\tr: cellId,\n\t\t\t\t\t\t\t\ts: special.style\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchildren: [_createNode(rels, 'v', { text: val })]\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!cell) {\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof row[i] === 'number' ||\n\t\t\t\t\t\t(row[i].match &&\n\t\t\t\t\t\t\trow[i].match(/^-?\\d+(\\.\\d+)?([eE]\\-?\\d+)?$/) && // Includes exponential format\n\t\t\t\t\t\t\t!row[i].match(/^0\\d+/))\n\t\t\t\t\t) {\n\t\t\t\t\t\t// Detect numbers - don't match numbers with leading zeros\n\t\t\t\t\t\t// or a negative anywhere but the start\n\t\t\t\t\t\tcell = _createNode(rels, 'c', {\n\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\tt: 'n',\n\t\t\t\t\t\t\t\tr: cellId\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchildren: [_createNode(rels, 'v', { text: row[i] })]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// String output - replace non standard characters for text output\n\t\t\t\t\t\t/*eslint no-control-regex: \"off\"*/\n\t\t\t\t\t\tvar text = !originalContent.replace\n\t\t\t\t\t\t\t? originalContent\n\t\t\t\t\t\t\t: originalContent.replace(\n\t\t\t\t\t\t\t\t\t/[\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x9F]/g,\n\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\tcell = _createNode(rels, 'c', {\n\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\tt: 'inlineStr',\n\t\t\t\t\t\t\t\tr: cellId\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchildren: {\n\t\t\t\t\t\t\t\trow: _createNode(rels, 'is', {\n\t\t\t\t\t\t\t\t\tchildren: {\n\t\t\t\t\t\t\t\t\t\trow: _createNode(rels, 't', {\n\t\t\t\t\t\t\t\t\t\t\ttext: text,\n\t\t\t\t\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\t\t\t\t\t'xml:space': 'preserve'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trowNode.appendChild(cell);\n\t\t\t}\n\n\t\t\trelsGet.appendChild(rowNode);\n\t\t\trowPos++;\n\t\t};\n\n\t\tvar addHeader = function (structure) {\n\t\t\tstructure.forEach(function (row) {\n\t\t\t\taddRow(\n\t\t\t\t\trow.map(function (cell) {\n\t\t\t\t\t\treturn cell ? cell.title : '';\n\t\t\t\t\t}),\n\t\t\t\t\trowPos\n\t\t\t\t);\n\t\t\t\t$('row:last c', rels).attr('s', '2'); // bold\n\n\t\t\t\t// Add any merge cells\n\t\t\t\trow.forEach(function (cell, columnCounter) {\n\t\t\t\t\tif (cell && (cell.colSpan > 1 || cell.rowSpan > 1)) {\n\t\t\t\t\t\t_excelMergeCells(\n\t\t\t\t\t\t\trels,\n\t\t\t\t\t\t\trowPos,\n\t\t\t\t\t\t\tcolumnCounter,\n\t\t\t\t\t\t\tcell.rowSpan,\n\t\t\t\t\t\t\tcell.colSpan\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tif (config.customizeData) {\n\t\t\tconfig.customizeData(data);\n\t\t}\n\n\t\t// Title and top messages\n\t\tvar exportInfo = dt.buttons.exportInfo(config);\n\t\tif (exportInfo.title) {\n\t\t\taddRow([exportInfo.title], rowPos);\n\t\t\t_excelMergeCells(rels, rowPos, 0, 1, data.header.length);\n\t\t\t$('row:last c', rels).attr('s', '51'); // centre\n\t\t}\n\n\t\tif (exportInfo.messageTop) {\n\t\t\taddRow([exportInfo.messageTop], rowPos);\n\t\t\t_excelMergeCells(rels, rowPos, 0, 1, data.header.length);\n\t\t}\n\n\t\t// Table header\n\t\tif (config.header) {\n\t\t\taddHeader(data.headerStructure);\n\t\t}\n\n\t\tdataStartRow = rowPos;\n\n\t\t// Table body\n\t\tfor (var n = 0, ie = data.body.length; n < ie; n++) {\n\t\t\taddRow(data.body[n], rowPos);\n\t\t}\n\n\t\tdataEndRow = rowPos;\n\n\t\t// Table footer\n\t\tif (config.footer && data.footer) {\n\t\t\taddHeader(data.footerStructure);\n\t\t}\n\n\t\t// Below the table\n\t\tif (exportInfo.messageBottom) {\n\t\t\taddRow([exportInfo.messageBottom], rowPos);\n\t\t\t_excelMergeCells(rels, rowPos, 0, 1, data.header.length);\n\t\t}\n\n\t\t// Set column widths\n\t\tvar cols = _createNode(rels, 'cols');\n\t\t$('worksheet', rels).prepend(cols);\n\n\t\tfor (var i = 0, ien = data.header.length; i < ien; i++) {\n\t\t\tcols.appendChild(\n\t\t\t\t_createNode(rels, 'col', {\n\t\t\t\t\tattr: {\n\t\t\t\t\t\tmin: i + 1,\n\t\t\t\t\t\tmax: i + 1,\n\t\t\t\t\t\twidth: _excelColWidth(data, i),\n\t\t\t\t\t\tcustomWidth: 1\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\t// Workbook modifications\n\t\tvar workbook = xlsx.xl['workbook.xml'];\n\n\t\t$('sheets sheet', workbook).attr('name', _sheetname(config));\n\n\t\t// Auto filter for columns\n\t\tif (config.autoFilter) {\n\t\t\t$('mergeCells', rels).before(\n\t\t\t\t_createNode(rels, 'autoFilter', {\n\t\t\t\t\tattr: {\n\t\t\t\t\t\tref:\n\t\t\t\t\t\t\t'A' +\n\t\t\t\t\t\t\tdataStartRow +\n\t\t\t\t\t\t\t':' +\n\t\t\t\t\t\t\tcreateCellPos(data.header.length - 1) +\n\t\t\t\t\t\t\tdataEndRow\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\n\t\t\t$('definedNames', workbook).append(\n\t\t\t\t_createNode(workbook, 'definedName', {\n\t\t\t\t\tattr: {\n\t\t\t\t\t\tname: '_xlnm._FilterDatabase',\n\t\t\t\t\t\tlocalSheetId: '0',\n\t\t\t\t\t\thidden: 1\n\t\t\t\t\t},\n\t\t\t\t\ttext:\n\t\t\t\t\t\t'\\'' +\n\t\t\t\t\t\t_sheetname(config).replace(/'/g, '\\'\\'') +\n\t\t\t\t\t\t'\\'!$A$' +\n\t\t\t\t\t\tdataStartRow +\n\t\t\t\t\t\t':' +\n\t\t\t\t\t\tcreateCellPos(data.header.length - 1) +\n\t\t\t\t\t\tdataEndRow\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\t// Let the developer customise the document if they want to\n\t\tif (config.customize) {\n\t\t\tconfig.customize(xlsx, config, dt);\n\t\t}\n\n\t\t// Excel doesn't like an empty mergeCells tag\n\t\tif ($('mergeCells', rels).children().length === 0) {\n\t\t\t$('mergeCells', rels).remove();\n\t\t}\n\n\t\tvar jszip = _jsZip();\n\t\tvar zip = new jszip();\n\t\tvar zipConfig = {\n\t\t\tcompression: 'DEFLATE',\n\t\t\ttype: 'blob',\n\t\t\tmimeType:\n\t\t\t\t'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n\t\t};\n\n\t\t_addToZip(zip, xlsx);\n\n\t\t// Modern Excel has a 218 character limit on the file name + path of the file (why!?)\n\t\t// https://support.microsoft.com/en-us/office/excel-specifications-and-limits-1672b34d-7043-467e-8e27-269d656771c3\n\t\t// So we truncate to allow for this.\n\t\tvar filename = exportInfo.filename;\n\n\t\tif (filename > 175) {\n\t\t\tfilename = filename.substr(0, 175);\n\t\t}\n\n\t\t// Let the developer customize the final zip file if they want to before it is generated and sent to the browser\n\t\tif (config.customizeZip) {\n\t\t\tconfig.customizeZip(zip, data, filename);\n\t\t}\n\n\n\t\tif (zip.generateAsync) {\n\t\t\t// JSZip 3+\n\t\t\tzip.generateAsync(zipConfig).then(function (blob) {\n\t\t\t\t_saveAs(blob, filename);\n\t\t\t\tcb();\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\t// JSZip 2.5\n\t\t\t_saveAs(zip.generate(zipConfig), filename);\n\t\t\tcb();\n\t\t}\n\t},\n\n\tasync: 100,\n\n\tfilename: '*',\n\n\textension: '.xlsx',\n\n\texportOptions: {},\n\n\theader: true,\n\n\tfooter: true,\n\n\ttitle: '*',\n\n\tmessageTop: '*',\n\n\tmessageBottom: '*',\n\n\tcreateEmptyCells: false,\n\n\tautoFilter: false,\n\n\tsheetName: ''\n};\n\n//\n// PDF export - using pdfMake - http://pdfmake.org\n//\nDataTable.ext.buttons.pdfHtml5 = {\n\tclassName: 'buttons-pdf buttons-html5',\n\n\tavailable: function () {\n\t\treturn window.FileReader !== undefined && _pdfMake();\n\t},\n\n\ttext: function (dt) {\n\t\treturn dt.i18n('buttons.pdf', 'PDF');\n\t},\n\n\taction: function (e, dt, button, config, cb) {\n\t\tvar data = dt.buttons.exportData(config.exportOptions);\n\t\tvar info = dt.buttons.exportInfo(config);\n\t\tvar rows = [];\n\n\t\tif (config.header) {\n\t\t\tdata.headerStructure.forEach(function (row) {\n\t\t\t\trows.push(\n\t\t\t\t\trow.map(function (cell) {\n\t\t\t\t\t\treturn cell\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\ttext: cell.title,\n\t\t\t\t\t\t\t\t\tcolSpan: cell.colspan,\n\t\t\t\t\t\t\t\t\trowSpan: cell.rowspan,\n\t\t\t\t\t\t\t\t\tstyle: 'tableHeader'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: {};\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\tfor (var i = 0, ien = data.body.length; i < ien; i++) {\n\t\t\trows.push(\n\t\t\t\tdata.body[i].map(function (d) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\td === null || d === undefined\n\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t: typeof d === 'string'\n\t\t\t\t\t\t\t\t? d\n\t\t\t\t\t\t\t\t: d.toString()\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\tif (config.footer) {\n\t\t\tdata.footerStructure.forEach(function (row) {\n\t\t\t\trows.push(\n\t\t\t\t\trow.map(function (cell) {\n\t\t\t\t\t\treturn cell\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\ttext: cell.title,\n\t\t\t\t\t\t\t\t\tcolSpan: cell.colspan,\n\t\t\t\t\t\t\t\t\trowSpan: cell.rowspan,\n\t\t\t\t\t\t\t\t\tstyle: 'tableHeader'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: {};\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\tvar doc = {\n\t\t\tpageSize: config.pageSize,\n\t\t\tpageOrientation: config.orientation,\n\t\t\tcontent: [\n\t\t\t\t{\n\t\t\t\t\tstyle: 'table',\n\t\t\t\t\ttable: {\n\t\t\t\t\t\theaderRows: data.headerStructure.length,\n\t\t\t\t\t\tfooterRows: data.footerStructure.length, // Used for styling, doesn't do anything in pdfmake\n\t\t\t\t\t\tbody: rows\n\t\t\t\t\t},\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\thLineWidth: function (i, node) {\n\t\t\t\t\t\t\tif (i === 0 || i === node.table.body.length) {\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0.5;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvLineWidth: function () {\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},\n\t\t\t\t\t\thLineColor: function (i, node) {\n\t\t\t\t\t\t\treturn i === node.table.headerRows ||\n\t\t\t\t\t\t\t\ti ===\n\t\t\t\t\t\t\t\t\tnode.table.body.length -\n\t\t\t\t\t\t\t\t\t\tnode.table.footerRows\n\t\t\t\t\t\t\t\t? '#333'\n\t\t\t\t\t\t\t\t: '#ddd';\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfillColor: function (rowIndex) {\n\t\t\t\t\t\t\tif (rowIndex < data.headerStructure.length) {\n\t\t\t\t\t\t\t\treturn '#fff';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn rowIndex % 2 === 0 ? '#f3f3f3' : null;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpaddingTop: function () {\n\t\t\t\t\t\t\treturn 5;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpaddingBottom: function () {\n\t\t\t\t\t\t\treturn 5;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\tstyles: {\n\t\t\t\ttableHeader: {\n\t\t\t\t\tbold: true,\n\t\t\t\t\tfontSize: 11,\n\t\t\t\t\talignment: 'center'\n\t\t\t\t},\n\t\t\t\ttableFooter: {\n\t\t\t\t\tbold: true,\n\t\t\t\t\tfontSize: 11\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tmargin: [0, 5, 0, 5]\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\talignment: 'center',\n\t\t\t\t\tfontSize: 13\n\t\t\t\t},\n\t\t\t\tmessage: {}\n\t\t\t},\n\t\t\tdefaultStyle: {\n\t\t\t\tfontSize: 10\n\t\t\t}\n\t\t};\n\n\t\tif (info.messageTop) {\n\t\t\tdoc.content.unshift({\n\t\t\t\ttext: info.messageTop,\n\t\t\t\tstyle: 'message',\n\t\t\t\tmargin: [0, 0, 0, 12]\n\t\t\t});\n\t\t}\n\n\t\tif (info.messageBottom) {\n\t\t\tdoc.content.push({\n\t\t\t\ttext: info.messageBottom,\n\t\t\t\tstyle: 'message',\n\t\t\t\tmargin: [0, 0, 0, 12]\n\t\t\t});\n\t\t}\n\n\t\tif (info.title) {\n\t\t\tdoc.content.unshift({\n\t\t\t\ttext: info.title,\n\t\t\t\tstyle: 'title',\n\t\t\t\tmargin: [0, 0, 0, 12]\n\t\t\t});\n\t\t}\n\n\t\tif (config.customize) {\n\t\t\tconfig.customize(doc, config, dt);\n\t\t}\n\n\t\tvar pdf = _pdfMake().createPdf(doc);\n\n\t\tif (config.download === 'open' && !_isDuffSafari()) {\n\t\t\tpdf.open();\n\t\t}\n\t\telse {\n\t\t\tpdf.download(info.filename);\n\t\t}\n\n\t\tcb();\n\t},\n\n\tasync: 100,\n\n\ttitle: '*',\n\n\tfilename: '*',\n\n\textension: '.pdf',\n\n\texportOptions: {},\n\n\torientation: 'portrait',\n\n\t// This isn't perfect, but it is close\n\tpageSize:\n\t\tnavigator.language === 'en-US' || navigator.language === 'en-CA'\n\t\t\t? 'LETTER'\n\t\t\t: 'A4',\n\n\theader: true,\n\n\tfooter: true,\n\n\tmessageTop: '*',\n\n\tmessageBottom: '*',\n\n\tcustomize: null,\n\n\tdownload: 'download'\n};\n\n\nreturn DataTable;\n}));\n", "/*!\n * Print button for Buttons and DataTables.\n * \u00A9 SpryMedia Ltd - datatables.net/license\n */\n\n(function( factory ){\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( ['jquery', 'datatables.net', 'datatables.net-buttons'], function ( $ ) {\n\t\t\treturn factory( $, window, document );\n\t\t} );\n\t}\n\telse if ( typeof exports === 'object' ) {\n\t\t// CommonJS\n\t\tvar jq = require('jquery');\n\t\tvar cjsRequires = function (root, $) {\n\t\t\tif ( ! $.fn.dataTable ) {\n\t\t\t\trequire('datatables.net')(root, $);\n\t\t\t}\n\n\t\t\tif ( ! $.fn.dataTable.Buttons ) {\n\t\t\t\trequire('datatables.net-buttons')(root, $);\n\t\t\t}\n\t\t};\n\n\t\tif (typeof window === 'undefined') {\n\t\t\tmodule.exports = function (root, $) {\n\t\t\t\tif ( ! root ) {\n\t\t\t\t\t// CommonJS environments without a window global must pass a\n\t\t\t\t\t// root. This will give an error otherwise\n\t\t\t\t\troot = window;\n\t\t\t\t}\n\n\t\t\t\tif ( ! $ ) {\n\t\t\t\t\t$ = jq( root );\n\t\t\t\t}\n\n\t\t\t\tcjsRequires( root, $ );\n\t\t\t\treturn factory( $, root, root.document );\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tcjsRequires( window, jq );\n\t\t\tmodule.exports = factory( jq, window, window.document );\n\t\t}\n\t}\n\telse {\n\t\t// Browser\n\t\tfactory( jQuery, window, document );\n\t}\n}(function( $, window, document ) {\n'use strict';\nvar DataTable = $.fn.dataTable;\n\n\n\nvar _link = document.createElement('a');\n\n/**\n * Clone link and style tags, taking into account the need to change the source\n * path.\n *\n * @param  {node}     el Element to convert\n */\nvar _styleToAbs = function (el) {\n\tvar clone = $(el).clone()[0];\n\n\tif (clone.nodeName.toLowerCase() === 'link') {\n\t\tclone.href = _relToAbs(clone.href);\n\t}\n\n\treturn clone.outerHTML;\n};\n\n/**\n * Convert a URL from a relative to an absolute address so it will work\n * correctly in the popup window which has no base URL.\n *\n * @param  {string} href URL\n */\nvar _relToAbs = function (href) {\n\t// Assign to a link on the original page so the browser will do all the\n\t// hard work of figuring out where the file actually is\n\t_link.href = href;\n\tvar linkHost = _link.host;\n\n\t// IE doesn't have a trailing slash on the host\n\t// Chrome has it on the pathname\n\tif (linkHost.indexOf('/') === -1 && _link.pathname.indexOf('/') !== 0) {\n\t\tlinkHost += '/';\n\t}\n\n\treturn _link.protocol + '//' + linkHost + _link.pathname + _link.search;\n};\n\nDataTable.ext.buttons.print = {\n\tclassName: 'buttons-print',\n\n\ttext: function (dt) {\n\t\treturn dt.i18n('buttons.print', 'Print');\n\t},\n\n\taction: function (e, dt, button, config, cb) {\n\t\tvar data = dt.buttons.exportData(\n\t\t\t$.extend({ decodeEntities: false }, config.exportOptions) // XSS protection\n\t\t);\n\t\tvar exportInfo = dt.buttons.exportInfo(config);\n\n\t\t// Get the classes for the columns from the header cells\n\t\tvar columnClasses = dt\n\t\t\t.columns(config.exportOptions.columns)\n\t\t\t.nodes()\n\t\t\t.map(function (n) {\n\t\t\t\treturn n.className;\n\t\t\t})\n\t\t\t.toArray();\n\n\t\tvar addRow = function (d, tag) {\n\t\t\tvar str = '<tr>';\n\n\t\t\tfor (var i = 0, ien = d.length; i < ien; i++) {\n\t\t\t\t// null and undefined aren't useful in the print output\n\t\t\t\tvar dataOut = d[i] === null || d[i] === undefined ? '' : d[i];\n\t\t\t\tvar classAttr = columnClasses[i]\n\t\t\t\t\t? 'class=\"' + columnClasses[i] + '\"'\n\t\t\t\t\t: '';\n\n\t\t\t\tstr +=\n\t\t\t\t\t'<' +\n\t\t\t\t\ttag +\n\t\t\t\t\t' ' +\n\t\t\t\t\tclassAttr +\n\t\t\t\t\t'>' +\n\t\t\t\t\tdataOut +\n\t\t\t\t\t'</' +\n\t\t\t\t\ttag +\n\t\t\t\t\t'>';\n\t\t\t}\n\n\t\t\treturn str + '</tr>';\n\t\t};\n\n\t\t// Construct a table for printing\n\t\tvar html = '<table class=\"' + dt.table().node().className + '\">';\n\n\t\tif (config.header) {\n\t\t\tvar headerRows = data.headerStructure.map(function (row) {\n\t\t\t\treturn (\n\t\t\t\t\t'<tr>' +\n\t\t\t\t\trow\n\t\t\t\t\t\t.map(function (cell) {\n\t\t\t\t\t\t\treturn cell\n\t\t\t\t\t\t\t\t? '<th colspan=\"' +\n\t\t\t\t\t\t\t\t\t\tcell.colspan +\n\t\t\t\t\t\t\t\t\t\t'\" rowspan=\"' +\n\t\t\t\t\t\t\t\t\t\tcell.rowspan +\n\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\tcell.title +\n\t\t\t\t\t\t\t\t\t\t'</th>'\n\t\t\t\t\t\t\t\t: '';\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.join('') +\n\t\t\t\t\t'</tr>'\n\t\t\t\t);\n\t\t\t});\n\n\t\t\thtml += '<thead>' + headerRows.join('') + '</thead>';\n\t\t}\n\n\t\thtml += '<tbody>';\n\t\tfor (var i = 0, ien = data.body.length; i < ien; i++) {\n\t\t\thtml += addRow(data.body[i], 'td');\n\t\t}\n\t\thtml += '</tbody>';\n\n\t\tif (config.footer && data.footer) {\n\t\t\tvar footerRows = data.footerStructure.map(function (row) {\n\t\t\t\treturn (\n\t\t\t\t\t'<tr>' +\n\t\t\t\t\trow\n\t\t\t\t\t\t.map(function (cell) {\n\t\t\t\t\t\t\treturn cell\n\t\t\t\t\t\t\t\t? '<th colspan=\"' +\n\t\t\t\t\t\t\t\t\t\tcell.colspan +\n\t\t\t\t\t\t\t\t\t\t'\" rowspan=\"' +\n\t\t\t\t\t\t\t\t\t\tcell.rowspan +\n\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\tcell.title +\n\t\t\t\t\t\t\t\t\t\t'</th>'\n\t\t\t\t\t\t\t\t: '';\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.join('') +\n\t\t\t\t\t'</tr>'\n\t\t\t\t);\n\t\t\t});\n\n\t\t\thtml += '<tfoot>' + footerRows.join('') + '</tfoot>';\n\t\t}\n\t\thtml += '</table>';\n\n\t\t// Open a new window for the printable table\n\t\tvar win = window.open('', '');\n\n\t\tif (!win) {\n\t\t\tdt.buttons.info(\n\t\t\t\tdt.i18n('buttons.printErrorTitle', 'Unable to open print view'),\n\t\t\t\tdt.i18n(\n\t\t\t\t\t'buttons.printErrorMsg',\n\t\t\t\t\t'Please allow popups in your browser for this site to be able to view the print view.'\n\t\t\t\t),\n\t\t\t\t5000\n\t\t\t);\n\n\t\t\treturn;\n\t\t}\n\n\t\twin.document.close();\n\n\t\t// Inject the title and also a copy of the style and link tags from this\n\t\t// document so the table can retain its base styling. Note that we have\n\t\t// to use string manipulation as IE won't allow elements to be created\n\t\t// in the host document and then appended to the new window.\n\t\tvar head = '<title>' + exportInfo.title + '</title>';\n\t\t$('style, link').each(function () {\n\t\t\thead += _styleToAbs(this);\n\t\t});\n\n\t\ttry {\n\t\t\twin.document.head.innerHTML = head; // Work around for Edge\n\t\t} catch (e) {\n\t\t\t$(win.document.head).html(head); // Old IE\n\t\t}\n\n\t\t// Inject the table and other surrounding information\n\t\twin.document.body.innerHTML =\n\t\t\t'<h1>' +\n\t\t\texportInfo.title +\n\t\t\t'</h1>' +\n\t\t\t'<div>' +\n\t\t\t(exportInfo.messageTop || '') +\n\t\t\t'</div>' +\n\t\t\thtml +\n\t\t\t'<div>' +\n\t\t\t(exportInfo.messageBottom || '') +\n\t\t\t'</div>';\n\n\t\t$(win.document.body).addClass('dt-print-view');\n\n\t\t$('img', win.document.body).each(function (i, img) {\n\t\t\timg.setAttribute('src', _relToAbs(img.getAttribute('src')));\n\t\t});\n\n\t\tif (config.customize) {\n\t\t\tconfig.customize(win, config, dt);\n\t\t}\n\n\t\t// Allow stylesheets time to load\n\t\tvar autoPrint = function () {\n\t\t\tif (config.autoPrint) {\n\t\t\t\twin.print(); // blocking - so close will not\n\t\t\t\twin.close(); // execute until this is done\n\t\t\t}\n\t\t};\n\n\t\twin.setTimeout(autoPrint, 1000);\n\n\t\tcb();\n\t},\n\n\tasync: 100,\n\n\ttitle: '*',\n\n\tmessageTop: '*',\n\n\tmessageBottom: '*',\n\n\texportOptions: {},\n\n\theader: true,\n\n\tfooter: true,\n\n\tautoPrint: true,\n\n\tcustomize: null\n};\n\n\nreturn DataTable;\n}));\n", "(function(global, factory) {\n  typeof exports === \"object\" && typeof module !== \"undefined\" ? factory(exports) : typeof define === \"function\" && define.amd ? define([ \"exports\" ], factory) : (global = typeof globalThis !== \"undefined\" ? globalThis : global || self, \n  factory(global.ActiveStorage = {}));\n})(this, (function(exports) {\n  \"use strict\";\n  var sparkMd5 = {\n    exports: {}\n  };\n  (function(module, exports) {\n    (function(factory) {\n      {\n        module.exports = factory();\n      }\n    })((function(undefined$1) {\n      var hex_chr = [ \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\" ];\n      function md5cycle(x, k) {\n        var a = x[0], b = x[1], c = x[2], d = x[3];\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n      }\n      function md5blk(s) {\n        var md5blks = [], i;\n        for (i = 0; i < 64; i += 4) {\n          md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n      }\n      function md5blk_array(a) {\n        var md5blks = [], i;\n        for (i = 0; i < 64; i += 4) {\n          md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n      }\n      function md51(s) {\n        var n = s.length, state = [ 1732584193, -271733879, -1732584194, 271733878 ], i, length, tail, tmp, lo, hi;\n        for (i = 64; i <= n; i += 64) {\n          md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n        }\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n        if (i > 55) {\n          md5cycle(state, tail);\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(state, tail);\n        return state;\n      }\n      function md51_array(a) {\n        var n = a.length, state = [ 1732584193, -271733879, -1732584194, 271733878 ], i, length, tail, tmp, lo, hi;\n        for (i = 64; i <= n; i += 64) {\n          md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n        a = i - 64 < n ? a.subarray(i - 64) : new Uint8Array(0);\n        length = a.length;\n        tail = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= a[i] << (i % 4 << 3);\n        }\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n        if (i > 55) {\n          md5cycle(state, tail);\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(state, tail);\n        return state;\n      }\n      function rhex(n) {\n        var s = \"\", j;\n        for (j = 0; j < 4; j += 1) {\n          s += hex_chr[n >> j * 8 + 4 & 15] + hex_chr[n >> j * 8 & 15];\n        }\n        return s;\n      }\n      function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n          x[i] = rhex(x[i]);\n        }\n        return x.join(\"\");\n      }\n      if (hex(md51(\"hello\")) !== \"5d41402abc4b2a76b9719d911017c592\") ;\n      if (typeof ArrayBuffer !== \"undefined\" && !ArrayBuffer.prototype.slice) {\n        (function() {\n          function clamp(val, length) {\n            val = val | 0 || 0;\n            if (val < 0) {\n              return Math.max(val + length, 0);\n            }\n            return Math.min(val, length);\n          }\n          ArrayBuffer.prototype.slice = function(from, to) {\n            var length = this.byteLength, begin = clamp(from, length), end = length, num, target, targetArray, sourceArray;\n            if (to !== undefined$1) {\n              end = clamp(to, length);\n            }\n            if (begin > end) {\n              return new ArrayBuffer(0);\n            }\n            num = end - begin;\n            target = new ArrayBuffer(num);\n            targetArray = new Uint8Array(target);\n            sourceArray = new Uint8Array(this, begin, num);\n            targetArray.set(sourceArray);\n            return target;\n          };\n        })();\n      }\n      function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n          str = unescape(encodeURIComponent(str));\n        }\n        return str;\n      }\n      function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length, buff = new ArrayBuffer(length), arr = new Uint8Array(buff), i;\n        for (i = 0; i < length; i += 1) {\n          arr[i] = str.charCodeAt(i);\n        }\n        return returnUInt8Array ? arr : buff;\n      }\n      function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n      }\n      function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n        return returnUInt8Array ? result : result.buffer;\n      }\n      function hexToBinaryString(hex) {\n        var bytes = [], length = hex.length, x;\n        for (x = 0; x < length - 1; x += 2) {\n          bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n        return String.fromCharCode.apply(String, bytes);\n      }\n      function SparkMD5() {\n        this.reset();\n      }\n      SparkMD5.prototype.append = function(str) {\n        this.appendBinary(toUtf8(str));\n        return this;\n      };\n      SparkMD5.prototype.appendBinary = function(contents) {\n        this._buff += contents;\n        this._length += contents.length;\n        var length = this._buff.length, i;\n        for (i = 64; i <= length; i += 64) {\n          md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n        this._buff = this._buff.substring(i - 64);\n        return this;\n      };\n      SparkMD5.prototype.end = function(raw) {\n        var buff = this._buff, length = buff.length, i, tail = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], ret;\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= buff.charCodeAt(i) << (i % 4 << 3);\n        }\n        this._finish(tail, length);\n        ret = hex(this._hash);\n        if (raw) {\n          ret = hexToBinaryString(ret);\n        }\n        this.reset();\n        return ret;\n      };\n      SparkMD5.prototype.reset = function() {\n        this._buff = \"\";\n        this._length = 0;\n        this._hash = [ 1732584193, -271733879, -1732584194, 271733878 ];\n        return this;\n      };\n      SparkMD5.prototype.getState = function() {\n        return {\n          buff: this._buff,\n          length: this._length,\n          hash: this._hash.slice()\n        };\n      };\n      SparkMD5.prototype.setState = function(state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n        return this;\n      };\n      SparkMD5.prototype.destroy = function() {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n      };\n      SparkMD5.prototype._finish = function(tail, length) {\n        var i = length, tmp, lo, hi;\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n        if (i > 55) {\n          md5cycle(this._hash, tail);\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n      };\n      SparkMD5.hash = function(str, raw) {\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n      };\n      SparkMD5.hashBinary = function(content, raw) {\n        var hash = md51(content), ret = hex(hash);\n        return raw ? hexToBinaryString(ret) : ret;\n      };\n      SparkMD5.ArrayBuffer = function() {\n        this.reset();\n      };\n      SparkMD5.ArrayBuffer.prototype.append = function(arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true), length = buff.length, i;\n        this._length += arr.byteLength;\n        for (i = 64; i <= length; i += 64) {\n          md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n        this._buff = i - 64 < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n        return this;\n      };\n      SparkMD5.ArrayBuffer.prototype.end = function(raw) {\n        var buff = this._buff, length = buff.length, tail = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], i, ret;\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= buff[i] << (i % 4 << 3);\n        }\n        this._finish(tail, length);\n        ret = hex(this._hash);\n        if (raw) {\n          ret = hexToBinaryString(ret);\n        }\n        this.reset();\n        return ret;\n      };\n      SparkMD5.ArrayBuffer.prototype.reset = function() {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [ 1732584193, -271733879, -1732584194, 271733878 ];\n        return this;\n      };\n      SparkMD5.ArrayBuffer.prototype.getState = function() {\n        var state = SparkMD5.prototype.getState.call(this);\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n        return state;\n      };\n      SparkMD5.ArrayBuffer.prototype.setState = function(state) {\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n        return SparkMD5.prototype.setState.call(this, state);\n      };\n      SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n      SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n      SparkMD5.ArrayBuffer.hash = function(arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)), ret = hex(hash);\n        return raw ? hexToBinaryString(ret) : ret;\n      };\n      return SparkMD5;\n    }));\n  })(sparkMd5);\n  var SparkMD5 = sparkMd5.exports;\n  const fileSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice;\n  class FileChecksum {\n    static create(file, callback) {\n      const instance = new FileChecksum(file);\n      instance.create(callback);\n    }\n    constructor(file) {\n      this.file = file;\n      this.chunkSize = 2097152;\n      this.chunkCount = Math.ceil(this.file.size / this.chunkSize);\n      this.chunkIndex = 0;\n    }\n    create(callback) {\n      this.callback = callback;\n      this.md5Buffer = new SparkMD5.ArrayBuffer;\n      this.fileReader = new FileReader;\n      this.fileReader.addEventListener(\"load\", (event => this.fileReaderDidLoad(event)));\n      this.fileReader.addEventListener(\"error\", (event => this.fileReaderDidError(event)));\n      this.readNextChunk();\n    }\n    fileReaderDidLoad(event) {\n      this.md5Buffer.append(event.target.result);\n      if (!this.readNextChunk()) {\n        const binaryDigest = this.md5Buffer.end(true);\n        const base64digest = btoa(binaryDigest);\n        this.callback(null, base64digest);\n      }\n    }\n    fileReaderDidError(event) {\n      this.callback(`Error reading ${this.file.name}`);\n    }\n    readNextChunk() {\n      if (this.chunkIndex < this.chunkCount || this.chunkIndex == 0 && this.chunkCount == 0) {\n        const start = this.chunkIndex * this.chunkSize;\n        const end = Math.min(start + this.chunkSize, this.file.size);\n        const bytes = fileSlice.call(this.file, start, end);\n        this.fileReader.readAsArrayBuffer(bytes);\n        this.chunkIndex++;\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n  function getMetaValue(name) {\n    const element = findElement(document.head, `meta[name=\"${name}\"]`);\n    if (element) {\n      return element.getAttribute(\"content\");\n    }\n  }\n  function findElements(root, selector) {\n    if (typeof root == \"string\") {\n      selector = root;\n      root = document;\n    }\n    const elements = root.querySelectorAll(selector);\n    return toArray(elements);\n  }\n  function findElement(root, selector) {\n    if (typeof root == \"string\") {\n      selector = root;\n      root = document;\n    }\n    return root.querySelector(selector);\n  }\n  function dispatchEvent(element, type, eventInit = {}) {\n    const {disabled: disabled} = element;\n    const {bubbles: bubbles, cancelable: cancelable, detail: detail} = eventInit;\n    const event = document.createEvent(\"Event\");\n    event.initEvent(type, bubbles || true, cancelable || true);\n    event.detail = detail || {};\n    try {\n      element.disabled = false;\n      element.dispatchEvent(event);\n    } finally {\n      element.disabled = disabled;\n    }\n    return event;\n  }\n  function toArray(value) {\n    if (Array.isArray(value)) {\n      return value;\n    } else if (Array.from) {\n      return Array.from(value);\n    } else {\n      return [].slice.call(value);\n    }\n  }\n  class BlobRecord {\n    constructor(file, checksum, url, customHeaders = {}) {\n      this.file = file;\n      this.attributes = {\n        filename: file.name,\n        content_type: file.type || \"application/octet-stream\",\n        byte_size: file.size,\n        checksum: checksum\n      };\n      this.xhr = new XMLHttpRequest;\n      this.xhr.open(\"POST\", url, true);\n      this.xhr.responseType = \"json\";\n      this.xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n      this.xhr.setRequestHeader(\"Accept\", \"application/json\");\n      this.xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n      Object.keys(customHeaders).forEach((headerKey => {\n        this.xhr.setRequestHeader(headerKey, customHeaders[headerKey]);\n      }));\n      const csrfToken = getMetaValue(\"csrf-token\");\n      if (csrfToken != undefined) {\n        this.xhr.setRequestHeader(\"X-CSRF-Token\", csrfToken);\n      }\n      this.xhr.addEventListener(\"load\", (event => this.requestDidLoad(event)));\n      this.xhr.addEventListener(\"error\", (event => this.requestDidError(event)));\n    }\n    get status() {\n      return this.xhr.status;\n    }\n    get response() {\n      const {responseType: responseType, response: response} = this.xhr;\n      if (responseType == \"json\") {\n        return response;\n      } else {\n        return JSON.parse(response);\n      }\n    }\n    create(callback) {\n      this.callback = callback;\n      this.xhr.send(JSON.stringify({\n        blob: this.attributes\n      }));\n    }\n    requestDidLoad(event) {\n      if (this.status >= 200 && this.status < 300) {\n        const {response: response} = this;\n        const {direct_upload: direct_upload} = response;\n        delete response.direct_upload;\n        this.attributes = response;\n        this.directUploadData = direct_upload;\n        this.callback(null, this.toJSON());\n      } else {\n        this.requestDidError(event);\n      }\n    }\n    requestDidError(event) {\n      this.callback(`Error creating Blob for \"${this.file.name}\". Status: ${this.status}`);\n    }\n    toJSON() {\n      const result = {};\n      for (const key in this.attributes) {\n        result[key] = this.attributes[key];\n      }\n      return result;\n    }\n  }\n  class BlobUpload {\n    constructor(blob) {\n      this.blob = blob;\n      this.file = blob.file;\n      const {url: url, headers: headers} = blob.directUploadData;\n      this.xhr = new XMLHttpRequest;\n      this.xhr.open(\"PUT\", url, true);\n      this.xhr.responseType = \"text\";\n      for (const key in headers) {\n        this.xhr.setRequestHeader(key, headers[key]);\n      }\n      this.xhr.addEventListener(\"load\", (event => this.requestDidLoad(event)));\n      this.xhr.addEventListener(\"error\", (event => this.requestDidError(event)));\n    }\n    create(callback) {\n      this.callback = callback;\n      this.xhr.send(this.file.slice());\n    }\n    requestDidLoad(event) {\n      const {status: status, response: response} = this.xhr;\n      if (status >= 200 && status < 300) {\n        this.callback(null, response);\n      } else {\n        this.requestDidError(event);\n      }\n    }\n    requestDidError(event) {\n      this.callback(`Error storing \"${this.file.name}\". Status: ${this.xhr.status}`);\n    }\n  }\n  let id = 0;\n  class DirectUpload {\n    constructor(file, url, delegate, customHeaders = {}) {\n      this.id = ++id;\n      this.file = file;\n      this.url = url;\n      this.delegate = delegate;\n      this.customHeaders = customHeaders;\n    }\n    create(callback) {\n      FileChecksum.create(this.file, ((error, checksum) => {\n        if (error) {\n          callback(error);\n          return;\n        }\n        const blob = new BlobRecord(this.file, checksum, this.url, this.customHeaders);\n        notify(this.delegate, \"directUploadWillCreateBlobWithXHR\", blob.xhr);\n        blob.create((error => {\n          if (error) {\n            callback(error);\n          } else {\n            const upload = new BlobUpload(blob);\n            notify(this.delegate, \"directUploadWillStoreFileWithXHR\", upload.xhr);\n            upload.create((error => {\n              if (error) {\n                callback(error);\n              } else {\n                callback(null, blob.toJSON());\n              }\n            }));\n          }\n        }));\n      }));\n    }\n  }\n  function notify(object, methodName, ...messages) {\n    if (object && typeof object[methodName] == \"function\") {\n      return object[methodName](...messages);\n    }\n  }\n  class DirectUploadController {\n    constructor(input, file) {\n      this.input = input;\n      this.file = file;\n      this.directUpload = new DirectUpload(this.file, this.url, this);\n      this.dispatch(\"initialize\");\n    }\n    start(callback) {\n      const hiddenInput = document.createElement(\"input\");\n      hiddenInput.type = \"hidden\";\n      hiddenInput.name = this.input.name;\n      this.input.insertAdjacentElement(\"beforebegin\", hiddenInput);\n      this.dispatch(\"start\");\n      this.directUpload.create(((error, attributes) => {\n        if (error) {\n          hiddenInput.parentNode.removeChild(hiddenInput);\n          this.dispatchError(error);\n        } else {\n          hiddenInput.value = attributes.signed_id;\n        }\n        this.dispatch(\"end\");\n        callback(error);\n      }));\n    }\n    uploadRequestDidProgress(event) {\n      const progress = event.loaded / event.total * 100;\n      if (progress) {\n        this.dispatch(\"progress\", {\n          progress: progress\n        });\n      }\n    }\n    get url() {\n      return this.input.getAttribute(\"data-direct-upload-url\");\n    }\n    dispatch(name, detail = {}) {\n      detail.file = this.file;\n      detail.id = this.directUpload.id;\n      return dispatchEvent(this.input, `direct-upload:${name}`, {\n        detail: detail\n      });\n    }\n    dispatchError(error) {\n      const event = this.dispatch(\"error\", {\n        error: error\n      });\n      if (!event.defaultPrevented) {\n        alert(error);\n      }\n    }\n    directUploadWillCreateBlobWithXHR(xhr) {\n      this.dispatch(\"before-blob-request\", {\n        xhr: xhr\n      });\n    }\n    directUploadWillStoreFileWithXHR(xhr) {\n      this.dispatch(\"before-storage-request\", {\n        xhr: xhr\n      });\n      xhr.upload.addEventListener(\"progress\", (event => this.uploadRequestDidProgress(event)));\n    }\n  }\n  const inputSelector = \"input[type=file][data-direct-upload-url]:not([disabled])\";\n  class DirectUploadsController {\n    constructor(form) {\n      this.form = form;\n      this.inputs = findElements(form, inputSelector).filter((input => input.files.length));\n    }\n    start(callback) {\n      const controllers = this.createDirectUploadControllers();\n      const startNextController = () => {\n        const controller = controllers.shift();\n        if (controller) {\n          controller.start((error => {\n            if (error) {\n              callback(error);\n              this.dispatch(\"end\");\n            } else {\n              startNextController();\n            }\n          }));\n        } else {\n          callback();\n          this.dispatch(\"end\");\n        }\n      };\n      this.dispatch(\"start\");\n      startNextController();\n    }\n    createDirectUploadControllers() {\n      const controllers = [];\n      this.inputs.forEach((input => {\n        toArray(input.files).forEach((file => {\n          const controller = new DirectUploadController(input, file);\n          controllers.push(controller);\n        }));\n      }));\n      return controllers;\n    }\n    dispatch(name, detail = {}) {\n      return dispatchEvent(this.form, `direct-uploads:${name}`, {\n        detail: detail\n      });\n    }\n  }\n  const processingAttribute = \"data-direct-uploads-processing\";\n  const submitButtonsByForm = new WeakMap;\n  let started = false;\n  function start() {\n    if (!started) {\n      started = true;\n      document.addEventListener(\"click\", didClick, true);\n      document.addEventListener(\"submit\", didSubmitForm, true);\n      document.addEventListener(\"ajax:before\", didSubmitRemoteElement);\n    }\n  }\n  function didClick(event) {\n    const button = event.target.closest(\"button, input\");\n    if (button && button.type === \"submit\" && button.form) {\n      submitButtonsByForm.set(button.form, button);\n    }\n  }\n  function didSubmitForm(event) {\n    handleFormSubmissionEvent(event);\n  }\n  function didSubmitRemoteElement(event) {\n    if (event.target.tagName == \"FORM\") {\n      handleFormSubmissionEvent(event);\n    }\n  }\n  function handleFormSubmissionEvent(event) {\n    const form = event.target;\n    if (form.hasAttribute(processingAttribute)) {\n      event.preventDefault();\n      return;\n    }\n    const controller = new DirectUploadsController(form);\n    const {inputs: inputs} = controller;\n    if (inputs.length) {\n      event.preventDefault();\n      form.setAttribute(processingAttribute, \"\");\n      inputs.forEach(disable);\n      controller.start((error => {\n        form.removeAttribute(processingAttribute);\n        if (error) {\n          inputs.forEach(enable);\n        } else {\n          submitForm(form);\n        }\n      }));\n    }\n  }\n  function submitForm(form) {\n    let button = submitButtonsByForm.get(form) || findElement(form, \"input[type=submit], button[type=submit]\");\n    if (button) {\n      const {disabled: disabled} = button;\n      button.disabled = false;\n      button.focus();\n      button.click();\n      button.disabled = disabled;\n    } else {\n      button = document.createElement(\"input\");\n      button.type = \"submit\";\n      button.style.display = \"none\";\n      form.appendChild(button);\n      button.click();\n      form.removeChild(button);\n    }\n    submitButtonsByForm.delete(form);\n  }\n  function disable(input) {\n    input.disabled = true;\n  }\n  function enable(input) {\n    input.disabled = false;\n  }\n  function autostart() {\n    if (window.ActiveStorage) {\n      start();\n    }\n  }\n  setTimeout(autostart, 1);\n  exports.DirectUpload = DirectUpload;\n  exports.DirectUploadController = DirectUploadController;\n  exports.DirectUploadsController = DirectUploadsController;\n  exports.start = start;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n}));\n", "/*\nTurbo 7.3.0\nCopyright \u00A9 2023 37signals LLC\n */\n(function () {\n    if (window.Reflect === undefined ||\n        window.customElements === undefined ||\n        window.customElements.polyfillWrapFlushCallback) {\n        return;\n    }\n    const BuiltInHTMLElement = HTMLElement;\n    const wrapperForTheName = {\n        HTMLElement: function HTMLElement() {\n            return Reflect.construct(BuiltInHTMLElement, [], this.constructor);\n        },\n    };\n    window.HTMLElement = wrapperForTheName[\"HTMLElement\"];\n    HTMLElement.prototype = BuiltInHTMLElement.prototype;\n    HTMLElement.prototype.constructor = HTMLElement;\n    Object.setPrototypeOf(HTMLElement, BuiltInHTMLElement);\n})();\n\n/**\n * The MIT License (MIT)\n * \n * Copyright (c) 2019 Javan Makhmali\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n(function(prototype) {\n  if (typeof prototype.requestSubmit == \"function\") return\n\n  prototype.requestSubmit = function(submitter) {\n    if (submitter) {\n      validateSubmitter(submitter, this);\n      submitter.click();\n    } else {\n      submitter = document.createElement(\"input\");\n      submitter.type = \"submit\";\n      submitter.hidden = true;\n      this.appendChild(submitter);\n      submitter.click();\n      this.removeChild(submitter);\n    }\n  };\n\n  function validateSubmitter(submitter, form) {\n    submitter instanceof HTMLElement || raise(TypeError, \"parameter 1 is not of type 'HTMLElement'\");\n    submitter.type == \"submit\" || raise(TypeError, \"The specified element is not a submit button\");\n    submitter.form == form || raise(DOMException, \"The specified element is not owned by this form element\", \"NotFoundError\");\n  }\n\n  function raise(errorConstructor, message, name) {\n    throw new errorConstructor(\"Failed to execute 'requestSubmit' on 'HTMLFormElement': \" + message + \".\", name)\n  }\n})(HTMLFormElement.prototype);\n\nconst submittersByForm = new WeakMap();\nfunction findSubmitterFromClickTarget(target) {\n    const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n    const candidate = element ? element.closest(\"input, button\") : null;\n    return (candidate === null || candidate === void 0 ? void 0 : candidate.type) == \"submit\" ? candidate : null;\n}\nfunction clickCaptured(event) {\n    const submitter = findSubmitterFromClickTarget(event.target);\n    if (submitter && submitter.form) {\n        submittersByForm.set(submitter.form, submitter);\n    }\n}\n(function () {\n    if (\"submitter\" in Event.prototype)\n        return;\n    let prototype = window.Event.prototype;\n    if (\"SubmitEvent\" in window && /Apple Computer/.test(navigator.vendor)) {\n        prototype = window.SubmitEvent.prototype;\n    }\n    else if (\"SubmitEvent\" in window) {\n        return;\n    }\n    addEventListener(\"click\", clickCaptured, true);\n    Object.defineProperty(prototype, \"submitter\", {\n        get() {\n            if (this.type == \"submit\" && this.target instanceof HTMLFormElement) {\n                return submittersByForm.get(this.target);\n            }\n        },\n    });\n})();\n\nvar FrameLoadingStyle;\n(function (FrameLoadingStyle) {\n    FrameLoadingStyle[\"eager\"] = \"eager\";\n    FrameLoadingStyle[\"lazy\"] = \"lazy\";\n})(FrameLoadingStyle || (FrameLoadingStyle = {}));\nclass FrameElement extends HTMLElement {\n    static get observedAttributes() {\n        return [\"disabled\", \"complete\", \"loading\", \"src\"];\n    }\n    constructor() {\n        super();\n        this.loaded = Promise.resolve();\n        this.delegate = new FrameElement.delegateConstructor(this);\n    }\n    connectedCallback() {\n        this.delegate.connect();\n    }\n    disconnectedCallback() {\n        this.delegate.disconnect();\n    }\n    reload() {\n        return this.delegate.sourceURLReloaded();\n    }\n    attributeChangedCallback(name) {\n        if (name == \"loading\") {\n            this.delegate.loadingStyleChanged();\n        }\n        else if (name == \"complete\") {\n            this.delegate.completeChanged();\n        }\n        else if (name == \"src\") {\n            this.delegate.sourceURLChanged();\n        }\n        else {\n            this.delegate.disabledChanged();\n        }\n    }\n    get src() {\n        return this.getAttribute(\"src\");\n    }\n    set src(value) {\n        if (value) {\n            this.setAttribute(\"src\", value);\n        }\n        else {\n            this.removeAttribute(\"src\");\n        }\n    }\n    get loading() {\n        return frameLoadingStyleFromString(this.getAttribute(\"loading\") || \"\");\n    }\n    set loading(value) {\n        if (value) {\n            this.setAttribute(\"loading\", value);\n        }\n        else {\n            this.removeAttribute(\"loading\");\n        }\n    }\n    get disabled() {\n        return this.hasAttribute(\"disabled\");\n    }\n    set disabled(value) {\n        if (value) {\n            this.setAttribute(\"disabled\", \"\");\n        }\n        else {\n            this.removeAttribute(\"disabled\");\n        }\n    }\n    get autoscroll() {\n        return this.hasAttribute(\"autoscroll\");\n    }\n    set autoscroll(value) {\n        if (value) {\n            this.setAttribute(\"autoscroll\", \"\");\n        }\n        else {\n            this.removeAttribute(\"autoscroll\");\n        }\n    }\n    get complete() {\n        return !this.delegate.isLoading;\n    }\n    get isActive() {\n        return this.ownerDocument === document && !this.isPreview;\n    }\n    get isPreview() {\n        var _a, _b;\n        return (_b = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.documentElement) === null || _b === void 0 ? void 0 : _b.hasAttribute(\"data-turbo-preview\");\n    }\n}\nfunction frameLoadingStyleFromString(style) {\n    switch (style.toLowerCase()) {\n        case \"lazy\":\n            return FrameLoadingStyle.lazy;\n        default:\n            return FrameLoadingStyle.eager;\n    }\n}\n\nfunction expandURL(locatable) {\n    return new URL(locatable.toString(), document.baseURI);\n}\nfunction getAnchor(url) {\n    let anchorMatch;\n    if (url.hash) {\n        return url.hash.slice(1);\n    }\n    else if ((anchorMatch = url.href.match(/#(.*)$/))) {\n        return anchorMatch[1];\n    }\n}\nfunction getAction(form, submitter) {\n    const action = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"formaction\")) || form.getAttribute(\"action\") || form.action;\n    return expandURL(action);\n}\nfunction getExtension(url) {\n    return (getLastPathComponent(url).match(/\\.[^.]*$/) || [])[0] || \"\";\n}\nfunction isHTML(url) {\n    return !!getExtension(url).match(/^(?:|\\.(?:htm|html|xhtml|php))$/);\n}\nfunction isPrefixedBy(baseURL, url) {\n    const prefix = getPrefix(url);\n    return baseURL.href === expandURL(prefix).href || baseURL.href.startsWith(prefix);\n}\nfunction locationIsVisitable(location, rootLocation) {\n    return isPrefixedBy(location, rootLocation) && isHTML(location);\n}\nfunction getRequestURL(url) {\n    const anchor = getAnchor(url);\n    return anchor != null ? url.href.slice(0, -(anchor.length + 1)) : url.href;\n}\nfunction toCacheKey(url) {\n    return getRequestURL(url);\n}\nfunction urlsAreEqual(left, right) {\n    return expandURL(left).href == expandURL(right).href;\n}\nfunction getPathComponents(url) {\n    return url.pathname.split(\"/\").slice(1);\n}\nfunction getLastPathComponent(url) {\n    return getPathComponents(url).slice(-1)[0];\n}\nfunction getPrefix(url) {\n    return addTrailingSlash(url.origin + url.pathname);\n}\nfunction addTrailingSlash(value) {\n    return value.endsWith(\"/\") ? value : value + \"/\";\n}\n\nclass FetchResponse {\n    constructor(response) {\n        this.response = response;\n    }\n    get succeeded() {\n        return this.response.ok;\n    }\n    get failed() {\n        return !this.succeeded;\n    }\n    get clientError() {\n        return this.statusCode >= 400 && this.statusCode <= 499;\n    }\n    get serverError() {\n        return this.statusCode >= 500 && this.statusCode <= 599;\n    }\n    get redirected() {\n        return this.response.redirected;\n    }\n    get location() {\n        return expandURL(this.response.url);\n    }\n    get isHTML() {\n        return this.contentType && this.contentType.match(/^(?:text\\/([^\\s;,]+\\b)?html|application\\/xhtml\\+xml)\\b/);\n    }\n    get statusCode() {\n        return this.response.status;\n    }\n    get contentType() {\n        return this.header(\"Content-Type\");\n    }\n    get responseText() {\n        return this.response.clone().text();\n    }\n    get responseHTML() {\n        if (this.isHTML) {\n            return this.response.clone().text();\n        }\n        else {\n            return Promise.resolve(undefined);\n        }\n    }\n    header(name) {\n        return this.response.headers.get(name);\n    }\n}\n\nfunction activateScriptElement(element) {\n    if (element.getAttribute(\"data-turbo-eval\") == \"false\") {\n        return element;\n    }\n    else {\n        const createdScriptElement = document.createElement(\"script\");\n        const cspNonce = getMetaContent(\"csp-nonce\");\n        if (cspNonce) {\n            createdScriptElement.nonce = cspNonce;\n        }\n        createdScriptElement.textContent = element.textContent;\n        createdScriptElement.async = false;\n        copyElementAttributes(createdScriptElement, element);\n        return createdScriptElement;\n    }\n}\nfunction copyElementAttributes(destinationElement, sourceElement) {\n    for (const { name, value } of sourceElement.attributes) {\n        destinationElement.setAttribute(name, value);\n    }\n}\nfunction createDocumentFragment(html) {\n    const template = document.createElement(\"template\");\n    template.innerHTML = html;\n    return template.content;\n}\nfunction dispatch(eventName, { target, cancelable, detail } = {}) {\n    const event = new CustomEvent(eventName, {\n        cancelable,\n        bubbles: true,\n        composed: true,\n        detail,\n    });\n    if (target && target.isConnected) {\n        target.dispatchEvent(event);\n    }\n    else {\n        document.documentElement.dispatchEvent(event);\n    }\n    return event;\n}\nfunction nextAnimationFrame() {\n    return new Promise((resolve) => requestAnimationFrame(() => resolve()));\n}\nfunction nextEventLoopTick() {\n    return new Promise((resolve) => setTimeout(() => resolve(), 0));\n}\nfunction nextMicrotask() {\n    return Promise.resolve();\n}\nfunction parseHTMLDocument(html = \"\") {\n    return new DOMParser().parseFromString(html, \"text/html\");\n}\nfunction unindent(strings, ...values) {\n    const lines = interpolate(strings, values).replace(/^\\n/, \"\").split(\"\\n\");\n    const match = lines[0].match(/^\\s+/);\n    const indent = match ? match[0].length : 0;\n    return lines.map((line) => line.slice(indent)).join(\"\\n\");\n}\nfunction interpolate(strings, values) {\n    return strings.reduce((result, string, i) => {\n        const value = values[i] == undefined ? \"\" : values[i];\n        return result + string + value;\n    }, \"\");\n}\nfunction uuid() {\n    return Array.from({ length: 36 })\n        .map((_, i) => {\n        if (i == 8 || i == 13 || i == 18 || i == 23) {\n            return \"-\";\n        }\n        else if (i == 14) {\n            return \"4\";\n        }\n        else if (i == 19) {\n            return (Math.floor(Math.random() * 4) + 8).toString(16);\n        }\n        else {\n            return Math.floor(Math.random() * 15).toString(16);\n        }\n    })\n        .join(\"\");\n}\nfunction getAttribute(attributeName, ...elements) {\n    for (const value of elements.map((element) => element === null || element === void 0 ? void 0 : element.getAttribute(attributeName))) {\n        if (typeof value == \"string\")\n            return value;\n    }\n    return null;\n}\nfunction hasAttribute(attributeName, ...elements) {\n    return elements.some((element) => element && element.hasAttribute(attributeName));\n}\nfunction markAsBusy(...elements) {\n    for (const element of elements) {\n        if (element.localName == \"turbo-frame\") {\n            element.setAttribute(\"busy\", \"\");\n        }\n        element.setAttribute(\"aria-busy\", \"true\");\n    }\n}\nfunction clearBusyState(...elements) {\n    for (const element of elements) {\n        if (element.localName == \"turbo-frame\") {\n            element.removeAttribute(\"busy\");\n        }\n        element.removeAttribute(\"aria-busy\");\n    }\n}\nfunction waitForLoad(element, timeoutInMilliseconds = 2000) {\n    return new Promise((resolve) => {\n        const onComplete = () => {\n            element.removeEventListener(\"error\", onComplete);\n            element.removeEventListener(\"load\", onComplete);\n            resolve();\n        };\n        element.addEventListener(\"load\", onComplete, { once: true });\n        element.addEventListener(\"error\", onComplete, { once: true });\n        setTimeout(resolve, timeoutInMilliseconds);\n    });\n}\nfunction getHistoryMethodForAction(action) {\n    switch (action) {\n        case \"replace\":\n            return history.replaceState;\n        case \"advance\":\n        case \"restore\":\n            return history.pushState;\n    }\n}\nfunction isAction(action) {\n    return action == \"advance\" || action == \"replace\" || action == \"restore\";\n}\nfunction getVisitAction(...elements) {\n    const action = getAttribute(\"data-turbo-action\", ...elements);\n    return isAction(action) ? action : null;\n}\nfunction getMetaElement(name) {\n    return document.querySelector(`meta[name=\"${name}\"]`);\n}\nfunction getMetaContent(name) {\n    const element = getMetaElement(name);\n    return element && element.content;\n}\nfunction setMetaContent(name, content) {\n    let element = getMetaElement(name);\n    if (!element) {\n        element = document.createElement(\"meta\");\n        element.setAttribute(\"name\", name);\n        document.head.appendChild(element);\n    }\n    element.setAttribute(\"content\", content);\n    return element;\n}\nfunction findClosestRecursively(element, selector) {\n    var _a;\n    if (element instanceof Element) {\n        return (element.closest(selector) ||\n            findClosestRecursively(element.assignedSlot || ((_a = element.getRootNode()) === null || _a === void 0 ? void 0 : _a.host), selector));\n    }\n}\n\nvar FetchMethod;\n(function (FetchMethod) {\n    FetchMethod[FetchMethod[\"get\"] = 0] = \"get\";\n    FetchMethod[FetchMethod[\"post\"] = 1] = \"post\";\n    FetchMethod[FetchMethod[\"put\"] = 2] = \"put\";\n    FetchMethod[FetchMethod[\"patch\"] = 3] = \"patch\";\n    FetchMethod[FetchMethod[\"delete\"] = 4] = \"delete\";\n})(FetchMethod || (FetchMethod = {}));\nfunction fetchMethodFromString(method) {\n    switch (method.toLowerCase()) {\n        case \"get\":\n            return FetchMethod.get;\n        case \"post\":\n            return FetchMethod.post;\n        case \"put\":\n            return FetchMethod.put;\n        case \"patch\":\n            return FetchMethod.patch;\n        case \"delete\":\n            return FetchMethod.delete;\n    }\n}\nclass FetchRequest {\n    constructor(delegate, method, location, body = new URLSearchParams(), target = null) {\n        this.abortController = new AbortController();\n        this.resolveRequestPromise = (_value) => { };\n        this.delegate = delegate;\n        this.method = method;\n        this.headers = this.defaultHeaders;\n        this.body = body;\n        this.url = location;\n        this.target = target;\n    }\n    get location() {\n        return this.url;\n    }\n    get params() {\n        return this.url.searchParams;\n    }\n    get entries() {\n        return this.body ? Array.from(this.body.entries()) : [];\n    }\n    cancel() {\n        this.abortController.abort();\n    }\n    async perform() {\n        const { fetchOptions } = this;\n        this.delegate.prepareRequest(this);\n        await this.allowRequestToBeIntercepted(fetchOptions);\n        try {\n            this.delegate.requestStarted(this);\n            const response = await fetch(this.url.href, fetchOptions);\n            return await this.receive(response);\n        }\n        catch (error) {\n            if (error.name !== \"AbortError\") {\n                if (this.willDelegateErrorHandling(error)) {\n                    this.delegate.requestErrored(this, error);\n                }\n                throw error;\n            }\n        }\n        finally {\n            this.delegate.requestFinished(this);\n        }\n    }\n    async receive(response) {\n        const fetchResponse = new FetchResponse(response);\n        const event = dispatch(\"turbo:before-fetch-response\", {\n            cancelable: true,\n            detail: { fetchResponse },\n            target: this.target,\n        });\n        if (event.defaultPrevented) {\n            this.delegate.requestPreventedHandlingResponse(this, fetchResponse);\n        }\n        else if (fetchResponse.succeeded) {\n            this.delegate.requestSucceededWithResponse(this, fetchResponse);\n        }\n        else {\n            this.delegate.requestFailedWithResponse(this, fetchResponse);\n        }\n        return fetchResponse;\n    }\n    get fetchOptions() {\n        var _a;\n        return {\n            method: FetchMethod[this.method].toUpperCase(),\n            credentials: \"same-origin\",\n            headers: this.headers,\n            redirect: \"follow\",\n            body: this.isSafe ? null : this.body,\n            signal: this.abortSignal,\n            referrer: (_a = this.delegate.referrer) === null || _a === void 0 ? void 0 : _a.href,\n        };\n    }\n    get defaultHeaders() {\n        return {\n            Accept: \"text/html, application/xhtml+xml\",\n        };\n    }\n    get isSafe() {\n        return this.method === FetchMethod.get;\n    }\n    get abortSignal() {\n        return this.abortController.signal;\n    }\n    acceptResponseType(mimeType) {\n        this.headers[\"Accept\"] = [mimeType, this.headers[\"Accept\"]].join(\", \");\n    }\n    async allowRequestToBeIntercepted(fetchOptions) {\n        const requestInterception = new Promise((resolve) => (this.resolveRequestPromise = resolve));\n        const event = dispatch(\"turbo:before-fetch-request\", {\n            cancelable: true,\n            detail: {\n                fetchOptions,\n                url: this.url,\n                resume: this.resolveRequestPromise,\n            },\n            target: this.target,\n        });\n        if (event.defaultPrevented)\n            await requestInterception;\n    }\n    willDelegateErrorHandling(error) {\n        const event = dispatch(\"turbo:fetch-request-error\", {\n            target: this.target,\n            cancelable: true,\n            detail: { request: this, error: error },\n        });\n        return !event.defaultPrevented;\n    }\n}\n\nclass AppearanceObserver {\n    constructor(delegate, element) {\n        this.started = false;\n        this.intersect = (entries) => {\n            const lastEntry = entries.slice(-1)[0];\n            if (lastEntry === null || lastEntry === void 0 ? void 0 : lastEntry.isIntersecting) {\n                this.delegate.elementAppearedInViewport(this.element);\n            }\n        };\n        this.delegate = delegate;\n        this.element = element;\n        this.intersectionObserver = new IntersectionObserver(this.intersect);\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.intersectionObserver.observe(this.element);\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.intersectionObserver.unobserve(this.element);\n        }\n    }\n}\n\nclass StreamMessage {\n    static wrap(message) {\n        if (typeof message == \"string\") {\n            return new this(createDocumentFragment(message));\n        }\n        else {\n            return message;\n        }\n    }\n    constructor(fragment) {\n        this.fragment = importStreamElements(fragment);\n    }\n}\nStreamMessage.contentType = \"text/vnd.turbo-stream.html\";\nfunction importStreamElements(fragment) {\n    for (const element of fragment.querySelectorAll(\"turbo-stream\")) {\n        const streamElement = document.importNode(element, true);\n        for (const inertScriptElement of streamElement.templateElement.content.querySelectorAll(\"script\")) {\n            inertScriptElement.replaceWith(activateScriptElement(inertScriptElement));\n        }\n        element.replaceWith(streamElement);\n    }\n    return fragment;\n}\n\nvar FormSubmissionState;\n(function (FormSubmissionState) {\n    FormSubmissionState[FormSubmissionState[\"initialized\"] = 0] = \"initialized\";\n    FormSubmissionState[FormSubmissionState[\"requesting\"] = 1] = \"requesting\";\n    FormSubmissionState[FormSubmissionState[\"waiting\"] = 2] = \"waiting\";\n    FormSubmissionState[FormSubmissionState[\"receiving\"] = 3] = \"receiving\";\n    FormSubmissionState[FormSubmissionState[\"stopping\"] = 4] = \"stopping\";\n    FormSubmissionState[FormSubmissionState[\"stopped\"] = 5] = \"stopped\";\n})(FormSubmissionState || (FormSubmissionState = {}));\nvar FormEnctype;\n(function (FormEnctype) {\n    FormEnctype[\"urlEncoded\"] = \"application/x-www-form-urlencoded\";\n    FormEnctype[\"multipart\"] = \"multipart/form-data\";\n    FormEnctype[\"plain\"] = \"text/plain\";\n})(FormEnctype || (FormEnctype = {}));\nfunction formEnctypeFromString(encoding) {\n    switch (encoding.toLowerCase()) {\n        case FormEnctype.multipart:\n            return FormEnctype.multipart;\n        case FormEnctype.plain:\n            return FormEnctype.plain;\n        default:\n            return FormEnctype.urlEncoded;\n    }\n}\nclass FormSubmission {\n    static confirmMethod(message, _element, _submitter) {\n        return Promise.resolve(confirm(message));\n    }\n    constructor(delegate, formElement, submitter, mustRedirect = false) {\n        this.state = FormSubmissionState.initialized;\n        this.delegate = delegate;\n        this.formElement = formElement;\n        this.submitter = submitter;\n        this.formData = buildFormData(formElement, submitter);\n        this.location = expandURL(this.action);\n        if (this.method == FetchMethod.get) {\n            mergeFormDataEntries(this.location, [...this.body.entries()]);\n        }\n        this.fetchRequest = new FetchRequest(this, this.method, this.location, this.body, this.formElement);\n        this.mustRedirect = mustRedirect;\n    }\n    get method() {\n        var _a;\n        const method = ((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"formmethod\")) || this.formElement.getAttribute(\"method\") || \"\";\n        return fetchMethodFromString(method.toLowerCase()) || FetchMethod.get;\n    }\n    get action() {\n        var _a;\n        const formElementAction = typeof this.formElement.action === \"string\" ? this.formElement.action : null;\n        if ((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.hasAttribute(\"formaction\")) {\n            return this.submitter.getAttribute(\"formaction\") || \"\";\n        }\n        else {\n            return this.formElement.getAttribute(\"action\") || formElementAction || \"\";\n        }\n    }\n    get body() {\n        if (this.enctype == FormEnctype.urlEncoded || this.method == FetchMethod.get) {\n            return new URLSearchParams(this.stringFormData);\n        }\n        else {\n            return this.formData;\n        }\n    }\n    get enctype() {\n        var _a;\n        return formEnctypeFromString(((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"formenctype\")) || this.formElement.enctype);\n    }\n    get isSafe() {\n        return this.fetchRequest.isSafe;\n    }\n    get stringFormData() {\n        return [...this.formData].reduce((entries, [name, value]) => {\n            return entries.concat(typeof value == \"string\" ? [[name, value]] : []);\n        }, []);\n    }\n    async start() {\n        const { initialized, requesting } = FormSubmissionState;\n        const confirmationMessage = getAttribute(\"data-turbo-confirm\", this.submitter, this.formElement);\n        if (typeof confirmationMessage === \"string\") {\n            const answer = await FormSubmission.confirmMethod(confirmationMessage, this.formElement, this.submitter);\n            if (!answer) {\n                return;\n            }\n        }\n        if (this.state == initialized) {\n            this.state = requesting;\n            return this.fetchRequest.perform();\n        }\n    }\n    stop() {\n        const { stopping, stopped } = FormSubmissionState;\n        if (this.state != stopping && this.state != stopped) {\n            this.state = stopping;\n            this.fetchRequest.cancel();\n            return true;\n        }\n    }\n    prepareRequest(request) {\n        if (!request.isSafe) {\n            const token = getCookieValue(getMetaContent(\"csrf-param\")) || getMetaContent(\"csrf-token\");\n            if (token) {\n                request.headers[\"X-CSRF-Token\"] = token;\n            }\n        }\n        if (this.requestAcceptsTurboStreamResponse(request)) {\n            request.acceptResponseType(StreamMessage.contentType);\n        }\n    }\n    requestStarted(_request) {\n        var _a;\n        this.state = FormSubmissionState.waiting;\n        (_a = this.submitter) === null || _a === void 0 ? void 0 : _a.setAttribute(\"disabled\", \"\");\n        this.setSubmitsWith();\n        dispatch(\"turbo:submit-start\", {\n            target: this.formElement,\n            detail: { formSubmission: this },\n        });\n        this.delegate.formSubmissionStarted(this);\n    }\n    requestPreventedHandlingResponse(request, response) {\n        this.result = { success: response.succeeded, fetchResponse: response };\n    }\n    requestSucceededWithResponse(request, response) {\n        if (response.clientError || response.serverError) {\n            this.delegate.formSubmissionFailedWithResponse(this, response);\n        }\n        else if (this.requestMustRedirect(request) && responseSucceededWithoutRedirect(response)) {\n            const error = new Error(\"Form responses must redirect to another location\");\n            this.delegate.formSubmissionErrored(this, error);\n        }\n        else {\n            this.state = FormSubmissionState.receiving;\n            this.result = { success: true, fetchResponse: response };\n            this.delegate.formSubmissionSucceededWithResponse(this, response);\n        }\n    }\n    requestFailedWithResponse(request, response) {\n        this.result = { success: false, fetchResponse: response };\n        this.delegate.formSubmissionFailedWithResponse(this, response);\n    }\n    requestErrored(request, error) {\n        this.result = { success: false, error };\n        this.delegate.formSubmissionErrored(this, error);\n    }\n    requestFinished(_request) {\n        var _a;\n        this.state = FormSubmissionState.stopped;\n        (_a = this.submitter) === null || _a === void 0 ? void 0 : _a.removeAttribute(\"disabled\");\n        this.resetSubmitterText();\n        dispatch(\"turbo:submit-end\", {\n            target: this.formElement,\n            detail: Object.assign({ formSubmission: this }, this.result),\n        });\n        this.delegate.formSubmissionFinished(this);\n    }\n    setSubmitsWith() {\n        if (!this.submitter || !this.submitsWith)\n            return;\n        if (this.submitter.matches(\"button\")) {\n            this.originalSubmitText = this.submitter.innerHTML;\n            this.submitter.innerHTML = this.submitsWith;\n        }\n        else if (this.submitter.matches(\"input\")) {\n            const input = this.submitter;\n            this.originalSubmitText = input.value;\n            input.value = this.submitsWith;\n        }\n    }\n    resetSubmitterText() {\n        if (!this.submitter || !this.originalSubmitText)\n            return;\n        if (this.submitter.matches(\"button\")) {\n            this.submitter.innerHTML = this.originalSubmitText;\n        }\n        else if (this.submitter.matches(\"input\")) {\n            const input = this.submitter;\n            input.value = this.originalSubmitText;\n        }\n    }\n    requestMustRedirect(request) {\n        return !request.isSafe && this.mustRedirect;\n    }\n    requestAcceptsTurboStreamResponse(request) {\n        return !request.isSafe || hasAttribute(\"data-turbo-stream\", this.submitter, this.formElement);\n    }\n    get submitsWith() {\n        var _a;\n        return (_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-turbo-submits-with\");\n    }\n}\nfunction buildFormData(formElement, submitter) {\n    const formData = new FormData(formElement);\n    const name = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"name\");\n    const value = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"value\");\n    if (name) {\n        formData.append(name, value || \"\");\n    }\n    return formData;\n}\nfunction getCookieValue(cookieName) {\n    if (cookieName != null) {\n        const cookies = document.cookie ? document.cookie.split(\"; \") : [];\n        const cookie = cookies.find((cookie) => cookie.startsWith(cookieName));\n        if (cookie) {\n            const value = cookie.split(\"=\").slice(1).join(\"=\");\n            return value ? decodeURIComponent(value) : undefined;\n        }\n    }\n}\nfunction responseSucceededWithoutRedirect(response) {\n    return response.statusCode == 200 && !response.redirected;\n}\nfunction mergeFormDataEntries(url, entries) {\n    const searchParams = new URLSearchParams();\n    for (const [name, value] of entries) {\n        if (value instanceof File)\n            continue;\n        searchParams.append(name, value);\n    }\n    url.search = searchParams.toString();\n    return url;\n}\n\nclass Snapshot {\n    constructor(element) {\n        this.element = element;\n    }\n    get activeElement() {\n        return this.element.ownerDocument.activeElement;\n    }\n    get children() {\n        return [...this.element.children];\n    }\n    hasAnchor(anchor) {\n        return this.getElementForAnchor(anchor) != null;\n    }\n    getElementForAnchor(anchor) {\n        return anchor ? this.element.querySelector(`[id='${anchor}'], a[name='${anchor}']`) : null;\n    }\n    get isConnected() {\n        return this.element.isConnected;\n    }\n    get firstAutofocusableElement() {\n        const inertDisabledOrHidden = \"[inert], :disabled, [hidden], details:not([open]), dialog:not([open])\";\n        for (const element of this.element.querySelectorAll(\"[autofocus]\")) {\n            if (element.closest(inertDisabledOrHidden) == null)\n                return element;\n            else\n                continue;\n        }\n        return null;\n    }\n    get permanentElements() {\n        return queryPermanentElementsAll(this.element);\n    }\n    getPermanentElementById(id) {\n        return getPermanentElementById(this.element, id);\n    }\n    getPermanentElementMapForSnapshot(snapshot) {\n        const permanentElementMap = {};\n        for (const currentPermanentElement of this.permanentElements) {\n            const { id } = currentPermanentElement;\n            const newPermanentElement = snapshot.getPermanentElementById(id);\n            if (newPermanentElement) {\n                permanentElementMap[id] = [currentPermanentElement, newPermanentElement];\n            }\n        }\n        return permanentElementMap;\n    }\n}\nfunction getPermanentElementById(node, id) {\n    return node.querySelector(`#${id}[data-turbo-permanent]`);\n}\nfunction queryPermanentElementsAll(node) {\n    return node.querySelectorAll(\"[id][data-turbo-permanent]\");\n}\n\nclass FormSubmitObserver {\n    constructor(delegate, eventTarget) {\n        this.started = false;\n        this.submitCaptured = () => {\n            this.eventTarget.removeEventListener(\"submit\", this.submitBubbled, false);\n            this.eventTarget.addEventListener(\"submit\", this.submitBubbled, false);\n        };\n        this.submitBubbled = ((event) => {\n            if (!event.defaultPrevented) {\n                const form = event.target instanceof HTMLFormElement ? event.target : undefined;\n                const submitter = event.submitter || undefined;\n                if (form &&\n                    submissionDoesNotDismissDialog(form, submitter) &&\n                    submissionDoesNotTargetIFrame(form, submitter) &&\n                    this.delegate.willSubmitForm(form, submitter)) {\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                    this.delegate.formSubmitted(form, submitter);\n                }\n            }\n        });\n        this.delegate = delegate;\n        this.eventTarget = eventTarget;\n    }\n    start() {\n        if (!this.started) {\n            this.eventTarget.addEventListener(\"submit\", this.submitCaptured, true);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.eventTarget.removeEventListener(\"submit\", this.submitCaptured, true);\n            this.started = false;\n        }\n    }\n}\nfunction submissionDoesNotDismissDialog(form, submitter) {\n    const method = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"formmethod\")) || form.getAttribute(\"method\");\n    return method != \"dialog\";\n}\nfunction submissionDoesNotTargetIFrame(form, submitter) {\n    if ((submitter === null || submitter === void 0 ? void 0 : submitter.hasAttribute(\"formtarget\")) || form.hasAttribute(\"target\")) {\n        const target = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"formtarget\")) || form.target;\n        for (const element of document.getElementsByName(target)) {\n            if (element instanceof HTMLIFrameElement)\n                return false;\n        }\n        return true;\n    }\n    else {\n        return true;\n    }\n}\n\nclass View {\n    constructor(delegate, element) {\n        this.resolveRenderPromise = (_value) => { };\n        this.resolveInterceptionPromise = (_value) => { };\n        this.delegate = delegate;\n        this.element = element;\n    }\n    scrollToAnchor(anchor) {\n        const element = this.snapshot.getElementForAnchor(anchor);\n        if (element) {\n            this.scrollToElement(element);\n            this.focusElement(element);\n        }\n        else {\n            this.scrollToPosition({ x: 0, y: 0 });\n        }\n    }\n    scrollToAnchorFromLocation(location) {\n        this.scrollToAnchor(getAnchor(location));\n    }\n    scrollToElement(element) {\n        element.scrollIntoView();\n    }\n    focusElement(element) {\n        if (element instanceof HTMLElement) {\n            if (element.hasAttribute(\"tabindex\")) {\n                element.focus();\n            }\n            else {\n                element.setAttribute(\"tabindex\", \"-1\");\n                element.focus();\n                element.removeAttribute(\"tabindex\");\n            }\n        }\n    }\n    scrollToPosition({ x, y }) {\n        this.scrollRoot.scrollTo(x, y);\n    }\n    scrollToTop() {\n        this.scrollToPosition({ x: 0, y: 0 });\n    }\n    get scrollRoot() {\n        return window;\n    }\n    async render(renderer) {\n        const { isPreview, shouldRender, newSnapshot: snapshot } = renderer;\n        if (shouldRender) {\n            try {\n                this.renderPromise = new Promise((resolve) => (this.resolveRenderPromise = resolve));\n                this.renderer = renderer;\n                await this.prepareToRenderSnapshot(renderer);\n                const renderInterception = new Promise((resolve) => (this.resolveInterceptionPromise = resolve));\n                const options = { resume: this.resolveInterceptionPromise, render: this.renderer.renderElement };\n                const immediateRender = this.delegate.allowsImmediateRender(snapshot, options);\n                if (!immediateRender)\n                    await renderInterception;\n                await this.renderSnapshot(renderer);\n                this.delegate.viewRenderedSnapshot(snapshot, isPreview);\n                this.delegate.preloadOnLoadLinksForView(this.element);\n                this.finishRenderingSnapshot(renderer);\n            }\n            finally {\n                delete this.renderer;\n                this.resolveRenderPromise(undefined);\n                delete this.renderPromise;\n            }\n        }\n        else {\n            this.invalidate(renderer.reloadReason);\n        }\n    }\n    invalidate(reason) {\n        this.delegate.viewInvalidated(reason);\n    }\n    async prepareToRenderSnapshot(renderer) {\n        this.markAsPreview(renderer.isPreview);\n        await renderer.prepareToRender();\n    }\n    markAsPreview(isPreview) {\n        if (isPreview) {\n            this.element.setAttribute(\"data-turbo-preview\", \"\");\n        }\n        else {\n            this.element.removeAttribute(\"data-turbo-preview\");\n        }\n    }\n    async renderSnapshot(renderer) {\n        await renderer.render();\n    }\n    finishRenderingSnapshot(renderer) {\n        renderer.finishRendering();\n    }\n}\n\nclass FrameView extends View {\n    missing() {\n        this.element.innerHTML = `<strong class=\"turbo-frame-error\">Content missing</strong>`;\n    }\n    get snapshot() {\n        return new Snapshot(this.element);\n    }\n}\n\nclass LinkInterceptor {\n    constructor(delegate, element) {\n        this.clickBubbled = (event) => {\n            if (this.respondsToEventTarget(event.target)) {\n                this.clickEvent = event;\n            }\n            else {\n                delete this.clickEvent;\n            }\n        };\n        this.linkClicked = ((event) => {\n            if (this.clickEvent && this.respondsToEventTarget(event.target) && event.target instanceof Element) {\n                if (this.delegate.shouldInterceptLinkClick(event.target, event.detail.url, event.detail.originalEvent)) {\n                    this.clickEvent.preventDefault();\n                    event.preventDefault();\n                    this.delegate.linkClickIntercepted(event.target, event.detail.url, event.detail.originalEvent);\n                }\n            }\n            delete this.clickEvent;\n        });\n        this.willVisit = ((_event) => {\n            delete this.clickEvent;\n        });\n        this.delegate = delegate;\n        this.element = element;\n    }\n    start() {\n        this.element.addEventListener(\"click\", this.clickBubbled);\n        document.addEventListener(\"turbo:click\", this.linkClicked);\n        document.addEventListener(\"turbo:before-visit\", this.willVisit);\n    }\n    stop() {\n        this.element.removeEventListener(\"click\", this.clickBubbled);\n        document.removeEventListener(\"turbo:click\", this.linkClicked);\n        document.removeEventListener(\"turbo:before-visit\", this.willVisit);\n    }\n    respondsToEventTarget(target) {\n        const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n        return element && element.closest(\"turbo-frame, html\") == this.element;\n    }\n}\n\nclass LinkClickObserver {\n    constructor(delegate, eventTarget) {\n        this.started = false;\n        this.clickCaptured = () => {\n            this.eventTarget.removeEventListener(\"click\", this.clickBubbled, false);\n            this.eventTarget.addEventListener(\"click\", this.clickBubbled, false);\n        };\n        this.clickBubbled = (event) => {\n            if (event instanceof MouseEvent && this.clickEventIsSignificant(event)) {\n                const target = (event.composedPath && event.composedPath()[0]) || event.target;\n                const link = this.findLinkFromClickTarget(target);\n                if (link && doesNotTargetIFrame(link)) {\n                    const location = this.getLocationForLink(link);\n                    if (this.delegate.willFollowLinkToLocation(link, location, event)) {\n                        event.preventDefault();\n                        this.delegate.followedLinkToLocation(link, location);\n                    }\n                }\n            }\n        };\n        this.delegate = delegate;\n        this.eventTarget = eventTarget;\n    }\n    start() {\n        if (!this.started) {\n            this.eventTarget.addEventListener(\"click\", this.clickCaptured, true);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.eventTarget.removeEventListener(\"click\", this.clickCaptured, true);\n            this.started = false;\n        }\n    }\n    clickEventIsSignificant(event) {\n        return !((event.target && event.target.isContentEditable) ||\n            event.defaultPrevented ||\n            event.which > 1 ||\n            event.altKey ||\n            event.ctrlKey ||\n            event.metaKey ||\n            event.shiftKey);\n    }\n    findLinkFromClickTarget(target) {\n        return findClosestRecursively(target, \"a[href]:not([target^=_]):not([download])\");\n    }\n    getLocationForLink(link) {\n        return expandURL(link.getAttribute(\"href\") || \"\");\n    }\n}\nfunction doesNotTargetIFrame(anchor) {\n    if (anchor.hasAttribute(\"target\")) {\n        for (const element of document.getElementsByName(anchor.target)) {\n            if (element instanceof HTMLIFrameElement)\n                return false;\n        }\n        return true;\n    }\n    else {\n        return true;\n    }\n}\n\nclass FormLinkClickObserver {\n    constructor(delegate, element) {\n        this.delegate = delegate;\n        this.linkInterceptor = new LinkClickObserver(this, element);\n    }\n    start() {\n        this.linkInterceptor.start();\n    }\n    stop() {\n        this.linkInterceptor.stop();\n    }\n    willFollowLinkToLocation(link, location, originalEvent) {\n        return (this.delegate.willSubmitFormLinkToLocation(link, location, originalEvent) &&\n            link.hasAttribute(\"data-turbo-method\"));\n    }\n    followedLinkToLocation(link, location) {\n        const form = document.createElement(\"form\");\n        const type = \"hidden\";\n        for (const [name, value] of location.searchParams) {\n            form.append(Object.assign(document.createElement(\"input\"), { type, name, value }));\n        }\n        const action = Object.assign(location, { search: \"\" });\n        form.setAttribute(\"data-turbo\", \"true\");\n        form.setAttribute(\"action\", action.href);\n        form.setAttribute(\"hidden\", \"\");\n        const method = link.getAttribute(\"data-turbo-method\");\n        if (method)\n            form.setAttribute(\"method\", method);\n        const turboFrame = link.getAttribute(\"data-turbo-frame\");\n        if (turboFrame)\n            form.setAttribute(\"data-turbo-frame\", turboFrame);\n        const turboAction = getVisitAction(link);\n        if (turboAction)\n            form.setAttribute(\"data-turbo-action\", turboAction);\n        const turboConfirm = link.getAttribute(\"data-turbo-confirm\");\n        if (turboConfirm)\n            form.setAttribute(\"data-turbo-confirm\", turboConfirm);\n        const turboStream = link.hasAttribute(\"data-turbo-stream\");\n        if (turboStream)\n            form.setAttribute(\"data-turbo-stream\", \"\");\n        this.delegate.submittedFormLinkToLocation(link, location, form);\n        document.body.appendChild(form);\n        form.addEventListener(\"turbo:submit-end\", () => form.remove(), { once: true });\n        requestAnimationFrame(() => form.requestSubmit());\n    }\n}\n\nclass Bardo {\n    static async preservingPermanentElements(delegate, permanentElementMap, callback) {\n        const bardo = new this(delegate, permanentElementMap);\n        bardo.enter();\n        await callback();\n        bardo.leave();\n    }\n    constructor(delegate, permanentElementMap) {\n        this.delegate = delegate;\n        this.permanentElementMap = permanentElementMap;\n    }\n    enter() {\n        for (const id in this.permanentElementMap) {\n            const [currentPermanentElement, newPermanentElement] = this.permanentElementMap[id];\n            this.delegate.enteringBardo(currentPermanentElement, newPermanentElement);\n            this.replaceNewPermanentElementWithPlaceholder(newPermanentElement);\n        }\n    }\n    leave() {\n        for (const id in this.permanentElementMap) {\n            const [currentPermanentElement] = this.permanentElementMap[id];\n            this.replaceCurrentPermanentElementWithClone(currentPermanentElement);\n            this.replacePlaceholderWithPermanentElement(currentPermanentElement);\n            this.delegate.leavingBardo(currentPermanentElement);\n        }\n    }\n    replaceNewPermanentElementWithPlaceholder(permanentElement) {\n        const placeholder = createPlaceholderForPermanentElement(permanentElement);\n        permanentElement.replaceWith(placeholder);\n    }\n    replaceCurrentPermanentElementWithClone(permanentElement) {\n        const clone = permanentElement.cloneNode(true);\n        permanentElement.replaceWith(clone);\n    }\n    replacePlaceholderWithPermanentElement(permanentElement) {\n        const placeholder = this.getPlaceholderById(permanentElement.id);\n        placeholder === null || placeholder === void 0 ? void 0 : placeholder.replaceWith(permanentElement);\n    }\n    getPlaceholderById(id) {\n        return this.placeholders.find((element) => element.content == id);\n    }\n    get placeholders() {\n        return [...document.querySelectorAll(\"meta[name=turbo-permanent-placeholder][content]\")];\n    }\n}\nfunction createPlaceholderForPermanentElement(permanentElement) {\n    const element = document.createElement(\"meta\");\n    element.setAttribute(\"name\", \"turbo-permanent-placeholder\");\n    element.setAttribute(\"content\", permanentElement.id);\n    return element;\n}\n\nclass Renderer {\n    constructor(currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {\n        this.activeElement = null;\n        this.currentSnapshot = currentSnapshot;\n        this.newSnapshot = newSnapshot;\n        this.isPreview = isPreview;\n        this.willRender = willRender;\n        this.renderElement = renderElement;\n        this.promise = new Promise((resolve, reject) => (this.resolvingFunctions = { resolve, reject }));\n    }\n    get shouldRender() {\n        return true;\n    }\n    get reloadReason() {\n        return;\n    }\n    prepareToRender() {\n        return;\n    }\n    finishRendering() {\n        if (this.resolvingFunctions) {\n            this.resolvingFunctions.resolve();\n            delete this.resolvingFunctions;\n        }\n    }\n    async preservingPermanentElements(callback) {\n        await Bardo.preservingPermanentElements(this, this.permanentElementMap, callback);\n    }\n    focusFirstAutofocusableElement() {\n        const element = this.connectedSnapshot.firstAutofocusableElement;\n        if (elementIsFocusable(element)) {\n            element.focus();\n        }\n    }\n    enteringBardo(currentPermanentElement) {\n        if (this.activeElement)\n            return;\n        if (currentPermanentElement.contains(this.currentSnapshot.activeElement)) {\n            this.activeElement = this.currentSnapshot.activeElement;\n        }\n    }\n    leavingBardo(currentPermanentElement) {\n        if (currentPermanentElement.contains(this.activeElement) && this.activeElement instanceof HTMLElement) {\n            this.activeElement.focus();\n            this.activeElement = null;\n        }\n    }\n    get connectedSnapshot() {\n        return this.newSnapshot.isConnected ? this.newSnapshot : this.currentSnapshot;\n    }\n    get currentElement() {\n        return this.currentSnapshot.element;\n    }\n    get newElement() {\n        return this.newSnapshot.element;\n    }\n    get permanentElementMap() {\n        return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot);\n    }\n}\nfunction elementIsFocusable(element) {\n    return element && typeof element.focus == \"function\";\n}\n\nclass FrameRenderer extends Renderer {\n    static renderElement(currentElement, newElement) {\n        var _a;\n        const destinationRange = document.createRange();\n        destinationRange.selectNodeContents(currentElement);\n        destinationRange.deleteContents();\n        const frameElement = newElement;\n        const sourceRange = (_a = frameElement.ownerDocument) === null || _a === void 0 ? void 0 : _a.createRange();\n        if (sourceRange) {\n            sourceRange.selectNodeContents(frameElement);\n            currentElement.appendChild(sourceRange.extractContents());\n        }\n    }\n    constructor(delegate, currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {\n        super(currentSnapshot, newSnapshot, renderElement, isPreview, willRender);\n        this.delegate = delegate;\n    }\n    get shouldRender() {\n        return true;\n    }\n    async render() {\n        await nextAnimationFrame();\n        this.preservingPermanentElements(() => {\n            this.loadFrameElement();\n        });\n        this.scrollFrameIntoView();\n        await nextAnimationFrame();\n        this.focusFirstAutofocusableElement();\n        await nextAnimationFrame();\n        this.activateScriptElements();\n    }\n    loadFrameElement() {\n        this.delegate.willRenderFrame(this.currentElement, this.newElement);\n        this.renderElement(this.currentElement, this.newElement);\n    }\n    scrollFrameIntoView() {\n        if (this.currentElement.autoscroll || this.newElement.autoscroll) {\n            const element = this.currentElement.firstElementChild;\n            const block = readScrollLogicalPosition(this.currentElement.getAttribute(\"data-autoscroll-block\"), \"end\");\n            const behavior = readScrollBehavior(this.currentElement.getAttribute(\"data-autoscroll-behavior\"), \"auto\");\n            if (element) {\n                element.scrollIntoView({ block, behavior });\n                return true;\n            }\n        }\n        return false;\n    }\n    activateScriptElements() {\n        for (const inertScriptElement of this.newScriptElements) {\n            const activatedScriptElement = activateScriptElement(inertScriptElement);\n            inertScriptElement.replaceWith(activatedScriptElement);\n        }\n    }\n    get newScriptElements() {\n        return this.currentElement.querySelectorAll(\"script\");\n    }\n}\nfunction readScrollLogicalPosition(value, defaultValue) {\n    if (value == \"end\" || value == \"start\" || value == \"center\" || value == \"nearest\") {\n        return value;\n    }\n    else {\n        return defaultValue;\n    }\n}\nfunction readScrollBehavior(value, defaultValue) {\n    if (value == \"auto\" || value == \"smooth\") {\n        return value;\n    }\n    else {\n        return defaultValue;\n    }\n}\n\nclass ProgressBar {\n    static get defaultCSS() {\n        return unindent `\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 2147483647;\n        transition:\n          width ${ProgressBar.animationDuration}ms ease-out,\n          opacity ${ProgressBar.animationDuration / 2}ms ${ProgressBar.animationDuration / 2}ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    `;\n    }\n    constructor() {\n        this.hiding = false;\n        this.value = 0;\n        this.visible = false;\n        this.trickle = () => {\n            this.setValue(this.value + Math.random() / 100);\n        };\n        this.stylesheetElement = this.createStylesheetElement();\n        this.progressElement = this.createProgressElement();\n        this.installStylesheetElement();\n        this.setValue(0);\n    }\n    show() {\n        if (!this.visible) {\n            this.visible = true;\n            this.installProgressElement();\n            this.startTrickling();\n        }\n    }\n    hide() {\n        if (this.visible && !this.hiding) {\n            this.hiding = true;\n            this.fadeProgressElement(() => {\n                this.uninstallProgressElement();\n                this.stopTrickling();\n                this.visible = false;\n                this.hiding = false;\n            });\n        }\n    }\n    setValue(value) {\n        this.value = value;\n        this.refresh();\n    }\n    installStylesheetElement() {\n        document.head.insertBefore(this.stylesheetElement, document.head.firstChild);\n    }\n    installProgressElement() {\n        this.progressElement.style.width = \"0\";\n        this.progressElement.style.opacity = \"1\";\n        document.documentElement.insertBefore(this.progressElement, document.body);\n        this.refresh();\n    }\n    fadeProgressElement(callback) {\n        this.progressElement.style.opacity = \"0\";\n        setTimeout(callback, ProgressBar.animationDuration * 1.5);\n    }\n    uninstallProgressElement() {\n        if (this.progressElement.parentNode) {\n            document.documentElement.removeChild(this.progressElement);\n        }\n    }\n    startTrickling() {\n        if (!this.trickleInterval) {\n            this.trickleInterval = window.setInterval(this.trickle, ProgressBar.animationDuration);\n        }\n    }\n    stopTrickling() {\n        window.clearInterval(this.trickleInterval);\n        delete this.trickleInterval;\n    }\n    refresh() {\n        requestAnimationFrame(() => {\n            this.progressElement.style.width = `${10 + this.value * 90}%`;\n        });\n    }\n    createStylesheetElement() {\n        const element = document.createElement(\"style\");\n        element.type = \"text/css\";\n        element.textContent = ProgressBar.defaultCSS;\n        if (this.cspNonce) {\n            element.nonce = this.cspNonce;\n        }\n        return element;\n    }\n    createProgressElement() {\n        const element = document.createElement(\"div\");\n        element.className = \"turbo-progress-bar\";\n        return element;\n    }\n    get cspNonce() {\n        return getMetaContent(\"csp-nonce\");\n    }\n}\nProgressBar.animationDuration = 300;\n\nclass HeadSnapshot extends Snapshot {\n    constructor() {\n        super(...arguments);\n        this.detailsByOuterHTML = this.children\n            .filter((element) => !elementIsNoscript(element))\n            .map((element) => elementWithoutNonce(element))\n            .reduce((result, element) => {\n            const { outerHTML } = element;\n            const details = outerHTML in result\n                ? result[outerHTML]\n                : {\n                    type: elementType(element),\n                    tracked: elementIsTracked(element),\n                    elements: [],\n                };\n            return Object.assign(Object.assign({}, result), { [outerHTML]: Object.assign(Object.assign({}, details), { elements: [...details.elements, element] }) });\n        }, {});\n    }\n    get trackedElementSignature() {\n        return Object.keys(this.detailsByOuterHTML)\n            .filter((outerHTML) => this.detailsByOuterHTML[outerHTML].tracked)\n            .join(\"\");\n    }\n    getScriptElementsNotInSnapshot(snapshot) {\n        return this.getElementsMatchingTypeNotInSnapshot(\"script\", snapshot);\n    }\n    getStylesheetElementsNotInSnapshot(snapshot) {\n        return this.getElementsMatchingTypeNotInSnapshot(\"stylesheet\", snapshot);\n    }\n    getElementsMatchingTypeNotInSnapshot(matchedType, snapshot) {\n        return Object.keys(this.detailsByOuterHTML)\n            .filter((outerHTML) => !(outerHTML in snapshot.detailsByOuterHTML))\n            .map((outerHTML) => this.detailsByOuterHTML[outerHTML])\n            .filter(({ type }) => type == matchedType)\n            .map(({ elements: [element] }) => element);\n    }\n    get provisionalElements() {\n        return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n            const { type, tracked, elements } = this.detailsByOuterHTML[outerHTML];\n            if (type == null && !tracked) {\n                return [...result, ...elements];\n            }\n            else if (elements.length > 1) {\n                return [...result, ...elements.slice(1)];\n            }\n            else {\n                return result;\n            }\n        }, []);\n    }\n    getMetaValue(name) {\n        const element = this.findMetaElementByName(name);\n        return element ? element.getAttribute(\"content\") : null;\n    }\n    findMetaElementByName(name) {\n        return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n            const { elements: [element], } = this.detailsByOuterHTML[outerHTML];\n            return elementIsMetaElementWithName(element, name) ? element : result;\n        }, undefined);\n    }\n}\nfunction elementType(element) {\n    if (elementIsScript(element)) {\n        return \"script\";\n    }\n    else if (elementIsStylesheet(element)) {\n        return \"stylesheet\";\n    }\n}\nfunction elementIsTracked(element) {\n    return element.getAttribute(\"data-turbo-track\") == \"reload\";\n}\nfunction elementIsScript(element) {\n    const tagName = element.localName;\n    return tagName == \"script\";\n}\nfunction elementIsNoscript(element) {\n    const tagName = element.localName;\n    return tagName == \"noscript\";\n}\nfunction elementIsStylesheet(element) {\n    const tagName = element.localName;\n    return tagName == \"style\" || (tagName == \"link\" && element.getAttribute(\"rel\") == \"stylesheet\");\n}\nfunction elementIsMetaElementWithName(element, name) {\n    const tagName = element.localName;\n    return tagName == \"meta\" && element.getAttribute(\"name\") == name;\n}\nfunction elementWithoutNonce(element) {\n    if (element.hasAttribute(\"nonce\")) {\n        element.setAttribute(\"nonce\", \"\");\n    }\n    return element;\n}\n\nclass PageSnapshot extends Snapshot {\n    static fromHTMLString(html = \"\") {\n        return this.fromDocument(parseHTMLDocument(html));\n    }\n    static fromElement(element) {\n        return this.fromDocument(element.ownerDocument);\n    }\n    static fromDocument({ head, body }) {\n        return new this(body, new HeadSnapshot(head));\n    }\n    constructor(element, headSnapshot) {\n        super(element);\n        this.headSnapshot = headSnapshot;\n    }\n    clone() {\n        const clonedElement = this.element.cloneNode(true);\n        const selectElements = this.element.querySelectorAll(\"select\");\n        const clonedSelectElements = clonedElement.querySelectorAll(\"select\");\n        for (const [index, source] of selectElements.entries()) {\n            const clone = clonedSelectElements[index];\n            for (const option of clone.selectedOptions)\n                option.selected = false;\n            for (const option of source.selectedOptions)\n                clone.options[option.index].selected = true;\n        }\n        for (const clonedPasswordInput of clonedElement.querySelectorAll('input[type=\"password\"]')) {\n            clonedPasswordInput.value = \"\";\n        }\n        return new PageSnapshot(clonedElement, this.headSnapshot);\n    }\n    get headElement() {\n        return this.headSnapshot.element;\n    }\n    get rootLocation() {\n        var _a;\n        const root = (_a = this.getSetting(\"root\")) !== null && _a !== void 0 ? _a : \"/\";\n        return expandURL(root);\n    }\n    get cacheControlValue() {\n        return this.getSetting(\"cache-control\");\n    }\n    get isPreviewable() {\n        return this.cacheControlValue != \"no-preview\";\n    }\n    get isCacheable() {\n        return this.cacheControlValue != \"no-cache\";\n    }\n    get isVisitable() {\n        return this.getSetting(\"visit-control\") != \"reload\";\n    }\n    getSetting(name) {\n        return this.headSnapshot.getMetaValue(`turbo-${name}`);\n    }\n}\n\nvar TimingMetric;\n(function (TimingMetric) {\n    TimingMetric[\"visitStart\"] = \"visitStart\";\n    TimingMetric[\"requestStart\"] = \"requestStart\";\n    TimingMetric[\"requestEnd\"] = \"requestEnd\";\n    TimingMetric[\"visitEnd\"] = \"visitEnd\";\n})(TimingMetric || (TimingMetric = {}));\nvar VisitState;\n(function (VisitState) {\n    VisitState[\"initialized\"] = \"initialized\";\n    VisitState[\"started\"] = \"started\";\n    VisitState[\"canceled\"] = \"canceled\";\n    VisitState[\"failed\"] = \"failed\";\n    VisitState[\"completed\"] = \"completed\";\n})(VisitState || (VisitState = {}));\nconst defaultOptions = {\n    action: \"advance\",\n    historyChanged: false,\n    visitCachedSnapshot: () => { },\n    willRender: true,\n    updateHistory: true,\n    shouldCacheSnapshot: true,\n    acceptsStreamResponse: false,\n};\nvar SystemStatusCode;\n(function (SystemStatusCode) {\n    SystemStatusCode[SystemStatusCode[\"networkFailure\"] = 0] = \"networkFailure\";\n    SystemStatusCode[SystemStatusCode[\"timeoutFailure\"] = -1] = \"timeoutFailure\";\n    SystemStatusCode[SystemStatusCode[\"contentTypeMismatch\"] = -2] = \"contentTypeMismatch\";\n})(SystemStatusCode || (SystemStatusCode = {}));\nclass Visit {\n    constructor(delegate, location, restorationIdentifier, options = {}) {\n        this.identifier = uuid();\n        this.timingMetrics = {};\n        this.followedRedirect = false;\n        this.historyChanged = false;\n        this.scrolled = false;\n        this.shouldCacheSnapshot = true;\n        this.acceptsStreamResponse = false;\n        this.snapshotCached = false;\n        this.state = VisitState.initialized;\n        this.delegate = delegate;\n        this.location = location;\n        this.restorationIdentifier = restorationIdentifier || uuid();\n        const { action, historyChanged, referrer, snapshot, snapshotHTML, response, visitCachedSnapshot, willRender, updateHistory, shouldCacheSnapshot, acceptsStreamResponse, } = Object.assign(Object.assign({}, defaultOptions), options);\n        this.action = action;\n        this.historyChanged = historyChanged;\n        this.referrer = referrer;\n        this.snapshot = snapshot;\n        this.snapshotHTML = snapshotHTML;\n        this.response = response;\n        this.isSamePage = this.delegate.locationWithActionIsSamePage(this.location, this.action);\n        this.visitCachedSnapshot = visitCachedSnapshot;\n        this.willRender = willRender;\n        this.updateHistory = updateHistory;\n        this.scrolled = !willRender;\n        this.shouldCacheSnapshot = shouldCacheSnapshot;\n        this.acceptsStreamResponse = acceptsStreamResponse;\n    }\n    get adapter() {\n        return this.delegate.adapter;\n    }\n    get view() {\n        return this.delegate.view;\n    }\n    get history() {\n        return this.delegate.history;\n    }\n    get restorationData() {\n        return this.history.getRestorationDataForIdentifier(this.restorationIdentifier);\n    }\n    get silent() {\n        return this.isSamePage;\n    }\n    start() {\n        if (this.state == VisitState.initialized) {\n            this.recordTimingMetric(TimingMetric.visitStart);\n            this.state = VisitState.started;\n            this.adapter.visitStarted(this);\n            this.delegate.visitStarted(this);\n        }\n    }\n    cancel() {\n        if (this.state == VisitState.started) {\n            if (this.request) {\n                this.request.cancel();\n            }\n            this.cancelRender();\n            this.state = VisitState.canceled;\n        }\n    }\n    complete() {\n        if (this.state == VisitState.started) {\n            this.recordTimingMetric(TimingMetric.visitEnd);\n            this.state = VisitState.completed;\n            this.followRedirect();\n            if (!this.followedRedirect) {\n                this.adapter.visitCompleted(this);\n                this.delegate.visitCompleted(this);\n            }\n        }\n    }\n    fail() {\n        if (this.state == VisitState.started) {\n            this.state = VisitState.failed;\n            this.adapter.visitFailed(this);\n        }\n    }\n    changeHistory() {\n        var _a;\n        if (!this.historyChanged && this.updateHistory) {\n            const actionForHistory = this.location.href === ((_a = this.referrer) === null || _a === void 0 ? void 0 : _a.href) ? \"replace\" : this.action;\n            const method = getHistoryMethodForAction(actionForHistory);\n            this.history.update(method, this.location, this.restorationIdentifier);\n            this.historyChanged = true;\n        }\n    }\n    issueRequest() {\n        if (this.hasPreloadedResponse()) {\n            this.simulateRequest();\n        }\n        else if (this.shouldIssueRequest() && !this.request) {\n            this.request = new FetchRequest(this, FetchMethod.get, this.location);\n            this.request.perform();\n        }\n    }\n    simulateRequest() {\n        if (this.response) {\n            this.startRequest();\n            this.recordResponse();\n            this.finishRequest();\n        }\n    }\n    startRequest() {\n        this.recordTimingMetric(TimingMetric.requestStart);\n        this.adapter.visitRequestStarted(this);\n    }\n    recordResponse(response = this.response) {\n        this.response = response;\n        if (response) {\n            const { statusCode } = response;\n            if (isSuccessful(statusCode)) {\n                this.adapter.visitRequestCompleted(this);\n            }\n            else {\n                this.adapter.visitRequestFailedWithStatusCode(this, statusCode);\n            }\n        }\n    }\n    finishRequest() {\n        this.recordTimingMetric(TimingMetric.requestEnd);\n        this.adapter.visitRequestFinished(this);\n    }\n    loadResponse() {\n        if (this.response) {\n            const { statusCode, responseHTML } = this.response;\n            this.render(async () => {\n                if (this.shouldCacheSnapshot)\n                    this.cacheSnapshot();\n                if (this.view.renderPromise)\n                    await this.view.renderPromise;\n                if (isSuccessful(statusCode) && responseHTML != null) {\n                    await this.view.renderPage(PageSnapshot.fromHTMLString(responseHTML), false, this.willRender, this);\n                    this.performScroll();\n                    this.adapter.visitRendered(this);\n                    this.complete();\n                }\n                else {\n                    await this.view.renderError(PageSnapshot.fromHTMLString(responseHTML), this);\n                    this.adapter.visitRendered(this);\n                    this.fail();\n                }\n            });\n        }\n    }\n    getCachedSnapshot() {\n        const snapshot = this.view.getCachedSnapshotForLocation(this.location) || this.getPreloadedSnapshot();\n        if (snapshot && (!getAnchor(this.location) || snapshot.hasAnchor(getAnchor(this.location)))) {\n            if (this.action == \"restore\" || snapshot.isPreviewable) {\n                return snapshot;\n            }\n        }\n    }\n    getPreloadedSnapshot() {\n        if (this.snapshotHTML) {\n            return PageSnapshot.fromHTMLString(this.snapshotHTML);\n        }\n    }\n    hasCachedSnapshot() {\n        return this.getCachedSnapshot() != null;\n    }\n    loadCachedSnapshot() {\n        const snapshot = this.getCachedSnapshot();\n        if (snapshot) {\n            const isPreview = this.shouldIssueRequest();\n            this.render(async () => {\n                this.cacheSnapshot();\n                if (this.isSamePage) {\n                    this.adapter.visitRendered(this);\n                }\n                else {\n                    if (this.view.renderPromise)\n                        await this.view.renderPromise;\n                    await this.view.renderPage(snapshot, isPreview, this.willRender, this);\n                    this.performScroll();\n                    this.adapter.visitRendered(this);\n                    if (!isPreview) {\n                        this.complete();\n                    }\n                }\n            });\n        }\n    }\n    followRedirect() {\n        var _a;\n        if (this.redirectedToLocation && !this.followedRedirect && ((_a = this.response) === null || _a === void 0 ? void 0 : _a.redirected)) {\n            this.adapter.visitProposedToLocation(this.redirectedToLocation, {\n                action: \"replace\",\n                response: this.response,\n                shouldCacheSnapshot: false,\n                willRender: false,\n            });\n            this.followedRedirect = true;\n        }\n    }\n    goToSamePageAnchor() {\n        if (this.isSamePage) {\n            this.render(async () => {\n                this.cacheSnapshot();\n                this.performScroll();\n                this.changeHistory();\n                this.adapter.visitRendered(this);\n            });\n        }\n    }\n    prepareRequest(request) {\n        if (this.acceptsStreamResponse) {\n            request.acceptResponseType(StreamMessage.contentType);\n        }\n    }\n    requestStarted() {\n        this.startRequest();\n    }\n    requestPreventedHandlingResponse(_request, _response) { }\n    async requestSucceededWithResponse(request, response) {\n        const responseHTML = await response.responseHTML;\n        const { redirected, statusCode } = response;\n        if (responseHTML == undefined) {\n            this.recordResponse({\n                statusCode: SystemStatusCode.contentTypeMismatch,\n                redirected,\n            });\n        }\n        else {\n            this.redirectedToLocation = response.redirected ? response.location : undefined;\n            this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n        }\n    }\n    async requestFailedWithResponse(request, response) {\n        const responseHTML = await response.responseHTML;\n        const { redirected, statusCode } = response;\n        if (responseHTML == undefined) {\n            this.recordResponse({\n                statusCode: SystemStatusCode.contentTypeMismatch,\n                redirected,\n            });\n        }\n        else {\n            this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n        }\n    }\n    requestErrored(_request, _error) {\n        this.recordResponse({\n            statusCode: SystemStatusCode.networkFailure,\n            redirected: false,\n        });\n    }\n    requestFinished() {\n        this.finishRequest();\n    }\n    performScroll() {\n        if (!this.scrolled && !this.view.forceReloaded) {\n            if (this.action == \"restore\") {\n                this.scrollToRestoredPosition() || this.scrollToAnchor() || this.view.scrollToTop();\n            }\n            else {\n                this.scrollToAnchor() || this.view.scrollToTop();\n            }\n            if (this.isSamePage) {\n                this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation, this.location);\n            }\n            this.scrolled = true;\n        }\n    }\n    scrollToRestoredPosition() {\n        const { scrollPosition } = this.restorationData;\n        if (scrollPosition) {\n            this.view.scrollToPosition(scrollPosition);\n            return true;\n        }\n    }\n    scrollToAnchor() {\n        const anchor = getAnchor(this.location);\n        if (anchor != null) {\n            this.view.scrollToAnchor(anchor);\n            return true;\n        }\n    }\n    recordTimingMetric(metric) {\n        this.timingMetrics[metric] = new Date().getTime();\n    }\n    getTimingMetrics() {\n        return Object.assign({}, this.timingMetrics);\n    }\n    getHistoryMethodForAction(action) {\n        switch (action) {\n            case \"replace\":\n                return history.replaceState;\n            case \"advance\":\n            case \"restore\":\n                return history.pushState;\n        }\n    }\n    hasPreloadedResponse() {\n        return typeof this.response == \"object\";\n    }\n    shouldIssueRequest() {\n        if (this.isSamePage) {\n            return false;\n        }\n        else if (this.action == \"restore\") {\n            return !this.hasCachedSnapshot();\n        }\n        else {\n            return this.willRender;\n        }\n    }\n    cacheSnapshot() {\n        if (!this.snapshotCached) {\n            this.view.cacheSnapshot(this.snapshot).then((snapshot) => snapshot && this.visitCachedSnapshot(snapshot));\n            this.snapshotCached = true;\n        }\n    }\n    async render(callback) {\n        this.cancelRender();\n        await new Promise((resolve) => {\n            this.frame = requestAnimationFrame(() => resolve());\n        });\n        await callback();\n        delete this.frame;\n    }\n    cancelRender() {\n        if (this.frame) {\n            cancelAnimationFrame(this.frame);\n            delete this.frame;\n        }\n    }\n}\nfunction isSuccessful(statusCode) {\n    return statusCode >= 200 && statusCode < 300;\n}\n\nclass BrowserAdapter {\n    constructor(session) {\n        this.progressBar = new ProgressBar();\n        this.showProgressBar = () => {\n            this.progressBar.show();\n        };\n        this.session = session;\n    }\n    visitProposedToLocation(location, options) {\n        this.navigator.startVisit(location, (options === null || options === void 0 ? void 0 : options.restorationIdentifier) || uuid(), options);\n    }\n    visitStarted(visit) {\n        this.location = visit.location;\n        visit.loadCachedSnapshot();\n        visit.issueRequest();\n        visit.goToSamePageAnchor();\n    }\n    visitRequestStarted(visit) {\n        this.progressBar.setValue(0);\n        if (visit.hasCachedSnapshot() || visit.action != \"restore\") {\n            this.showVisitProgressBarAfterDelay();\n        }\n        else {\n            this.showProgressBar();\n        }\n    }\n    visitRequestCompleted(visit) {\n        visit.loadResponse();\n    }\n    visitRequestFailedWithStatusCode(visit, statusCode) {\n        switch (statusCode) {\n            case SystemStatusCode.networkFailure:\n            case SystemStatusCode.timeoutFailure:\n            case SystemStatusCode.contentTypeMismatch:\n                return this.reload({\n                    reason: \"request_failed\",\n                    context: {\n                        statusCode,\n                    },\n                });\n            default:\n                return visit.loadResponse();\n        }\n    }\n    visitRequestFinished(_visit) {\n        this.progressBar.setValue(1);\n        this.hideVisitProgressBar();\n    }\n    visitCompleted(_visit) { }\n    pageInvalidated(reason) {\n        this.reload(reason);\n    }\n    visitFailed(_visit) { }\n    visitRendered(_visit) { }\n    formSubmissionStarted(_formSubmission) {\n        this.progressBar.setValue(0);\n        this.showFormProgressBarAfterDelay();\n    }\n    formSubmissionFinished(_formSubmission) {\n        this.progressBar.setValue(1);\n        this.hideFormProgressBar();\n    }\n    showVisitProgressBarAfterDelay() {\n        this.visitProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n    }\n    hideVisitProgressBar() {\n        this.progressBar.hide();\n        if (this.visitProgressBarTimeout != null) {\n            window.clearTimeout(this.visitProgressBarTimeout);\n            delete this.visitProgressBarTimeout;\n        }\n    }\n    showFormProgressBarAfterDelay() {\n        if (this.formProgressBarTimeout == null) {\n            this.formProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n        }\n    }\n    hideFormProgressBar() {\n        this.progressBar.hide();\n        if (this.formProgressBarTimeout != null) {\n            window.clearTimeout(this.formProgressBarTimeout);\n            delete this.formProgressBarTimeout;\n        }\n    }\n    reload(reason) {\n        var _a;\n        dispatch(\"turbo:reload\", { detail: reason });\n        window.location.href = ((_a = this.location) === null || _a === void 0 ? void 0 : _a.toString()) || window.location.href;\n    }\n    get navigator() {\n        return this.session.navigator;\n    }\n}\n\nclass CacheObserver {\n    constructor() {\n        this.selector = \"[data-turbo-temporary]\";\n        this.deprecatedSelector = \"[data-turbo-cache=false]\";\n        this.started = false;\n        this.removeTemporaryElements = ((_event) => {\n            for (const element of this.temporaryElements) {\n                element.remove();\n            }\n        });\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            addEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            removeEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n        }\n    }\n    get temporaryElements() {\n        return [...document.querySelectorAll(this.selector), ...this.temporaryElementsWithDeprecation];\n    }\n    get temporaryElementsWithDeprecation() {\n        const elements = document.querySelectorAll(this.deprecatedSelector);\n        if (elements.length) {\n            console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`);\n        }\n        return [...elements];\n    }\n}\n\nclass FrameRedirector {\n    constructor(session, element) {\n        this.session = session;\n        this.element = element;\n        this.linkInterceptor = new LinkInterceptor(this, element);\n        this.formSubmitObserver = new FormSubmitObserver(this, element);\n    }\n    start() {\n        this.linkInterceptor.start();\n        this.formSubmitObserver.start();\n    }\n    stop() {\n        this.linkInterceptor.stop();\n        this.formSubmitObserver.stop();\n    }\n    shouldInterceptLinkClick(element, _location, _event) {\n        return this.shouldRedirect(element);\n    }\n    linkClickIntercepted(element, url, event) {\n        const frame = this.findFrameElement(element);\n        if (frame) {\n            frame.delegate.linkClickIntercepted(element, url, event);\n        }\n    }\n    willSubmitForm(element, submitter) {\n        return (element.closest(\"turbo-frame\") == null &&\n            this.shouldSubmit(element, submitter) &&\n            this.shouldRedirect(element, submitter));\n    }\n    formSubmitted(element, submitter) {\n        const frame = this.findFrameElement(element, submitter);\n        if (frame) {\n            frame.delegate.formSubmitted(element, submitter);\n        }\n    }\n    shouldSubmit(form, submitter) {\n        var _a;\n        const action = getAction(form, submitter);\n        const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n        const rootLocation = expandURL((_a = meta === null || meta === void 0 ? void 0 : meta.content) !== null && _a !== void 0 ? _a : \"/\");\n        return this.shouldRedirect(form, submitter) && locationIsVisitable(action, rootLocation);\n    }\n    shouldRedirect(element, submitter) {\n        const isNavigatable = element instanceof HTMLFormElement\n            ? this.session.submissionIsNavigatable(element, submitter)\n            : this.session.elementIsNavigatable(element);\n        if (isNavigatable) {\n            const frame = this.findFrameElement(element, submitter);\n            return frame ? frame != element.closest(\"turbo-frame\") : false;\n        }\n        else {\n            return false;\n        }\n    }\n    findFrameElement(element, submitter) {\n        const id = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"data-turbo-frame\")) || element.getAttribute(\"data-turbo-frame\");\n        if (id && id != \"_top\") {\n            const frame = this.element.querySelector(`#${id}:not([disabled])`);\n            if (frame instanceof FrameElement) {\n                return frame;\n            }\n        }\n    }\n}\n\nclass History {\n    constructor(delegate) {\n        this.restorationIdentifier = uuid();\n        this.restorationData = {};\n        this.started = false;\n        this.pageLoaded = false;\n        this.onPopState = (event) => {\n            if (this.shouldHandlePopState()) {\n                const { turbo } = event.state || {};\n                if (turbo) {\n                    this.location = new URL(window.location.href);\n                    const { restorationIdentifier } = turbo;\n                    this.restorationIdentifier = restorationIdentifier;\n                    this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location, restorationIdentifier);\n                }\n            }\n        };\n        this.onPageLoad = async (_event) => {\n            await nextMicrotask();\n            this.pageLoaded = true;\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"popstate\", this.onPopState, false);\n            addEventListener(\"load\", this.onPageLoad, false);\n            this.started = true;\n            this.replace(new URL(window.location.href));\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"popstate\", this.onPopState, false);\n            removeEventListener(\"load\", this.onPageLoad, false);\n            this.started = false;\n        }\n    }\n    push(location, restorationIdentifier) {\n        this.update(history.pushState, location, restorationIdentifier);\n    }\n    replace(location, restorationIdentifier) {\n        this.update(history.replaceState, location, restorationIdentifier);\n    }\n    update(method, location, restorationIdentifier = uuid()) {\n        const state = { turbo: { restorationIdentifier } };\n        method.call(history, state, \"\", location.href);\n        this.location = location;\n        this.restorationIdentifier = restorationIdentifier;\n    }\n    getRestorationDataForIdentifier(restorationIdentifier) {\n        return this.restorationData[restorationIdentifier] || {};\n    }\n    updateRestorationData(additionalData) {\n        const { restorationIdentifier } = this;\n        const restorationData = this.restorationData[restorationIdentifier];\n        this.restorationData[restorationIdentifier] = Object.assign(Object.assign({}, restorationData), additionalData);\n    }\n    assumeControlOfScrollRestoration() {\n        var _a;\n        if (!this.previousScrollRestoration) {\n            this.previousScrollRestoration = (_a = history.scrollRestoration) !== null && _a !== void 0 ? _a : \"auto\";\n            history.scrollRestoration = \"manual\";\n        }\n    }\n    relinquishControlOfScrollRestoration() {\n        if (this.previousScrollRestoration) {\n            history.scrollRestoration = this.previousScrollRestoration;\n            delete this.previousScrollRestoration;\n        }\n    }\n    shouldHandlePopState() {\n        return this.pageIsLoaded();\n    }\n    pageIsLoaded() {\n        return this.pageLoaded || document.readyState == \"complete\";\n    }\n}\n\nclass Navigator {\n    constructor(delegate) {\n        this.delegate = delegate;\n    }\n    proposeVisit(location, options = {}) {\n        if (this.delegate.allowsVisitingLocationWithAction(location, options.action)) {\n            if (locationIsVisitable(location, this.view.snapshot.rootLocation)) {\n                this.delegate.visitProposedToLocation(location, options);\n            }\n            else {\n                window.location.href = location.toString();\n            }\n        }\n    }\n    startVisit(locatable, restorationIdentifier, options = {}) {\n        this.stop();\n        this.currentVisit = new Visit(this, expandURL(locatable), restorationIdentifier, Object.assign({ referrer: this.location }, options));\n        this.currentVisit.start();\n    }\n    submitForm(form, submitter) {\n        this.stop();\n        this.formSubmission = new FormSubmission(this, form, submitter, true);\n        this.formSubmission.start();\n    }\n    stop() {\n        if (this.formSubmission) {\n            this.formSubmission.stop();\n            delete this.formSubmission;\n        }\n        if (this.currentVisit) {\n            this.currentVisit.cancel();\n            delete this.currentVisit;\n        }\n    }\n    get adapter() {\n        return this.delegate.adapter;\n    }\n    get view() {\n        return this.delegate.view;\n    }\n    get history() {\n        return this.delegate.history;\n    }\n    formSubmissionStarted(formSubmission) {\n        if (typeof this.adapter.formSubmissionStarted === \"function\") {\n            this.adapter.formSubmissionStarted(formSubmission);\n        }\n    }\n    async formSubmissionSucceededWithResponse(formSubmission, fetchResponse) {\n        if (formSubmission == this.formSubmission) {\n            const responseHTML = await fetchResponse.responseHTML;\n            if (responseHTML) {\n                const shouldCacheSnapshot = formSubmission.isSafe;\n                if (!shouldCacheSnapshot) {\n                    this.view.clearSnapshotCache();\n                }\n                const { statusCode, redirected } = fetchResponse;\n                const action = this.getActionForFormSubmission(formSubmission);\n                const visitOptions = {\n                    action,\n                    shouldCacheSnapshot,\n                    response: { statusCode, responseHTML, redirected },\n                };\n                this.proposeVisit(fetchResponse.location, visitOptions);\n            }\n        }\n    }\n    async formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n        const responseHTML = await fetchResponse.responseHTML;\n        if (responseHTML) {\n            const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n            if (fetchResponse.serverError) {\n                await this.view.renderError(snapshot, this.currentVisit);\n            }\n            else {\n                await this.view.renderPage(snapshot, false, true, this.currentVisit);\n            }\n            this.view.scrollToTop();\n            this.view.clearSnapshotCache();\n        }\n    }\n    formSubmissionErrored(formSubmission, error) {\n        console.error(error);\n    }\n    formSubmissionFinished(formSubmission) {\n        if (typeof this.adapter.formSubmissionFinished === \"function\") {\n            this.adapter.formSubmissionFinished(formSubmission);\n        }\n    }\n    visitStarted(visit) {\n        this.delegate.visitStarted(visit);\n    }\n    visitCompleted(visit) {\n        this.delegate.visitCompleted(visit);\n    }\n    locationWithActionIsSamePage(location, action) {\n        const anchor = getAnchor(location);\n        const currentAnchor = getAnchor(this.view.lastRenderedLocation);\n        const isRestorationToTop = action === \"restore\" && typeof anchor === \"undefined\";\n        return (action !== \"replace\" &&\n            getRequestURL(location) === getRequestURL(this.view.lastRenderedLocation) &&\n            (isRestorationToTop || (anchor != null && anchor !== currentAnchor)));\n    }\n    visitScrolledToSamePageLocation(oldURL, newURL) {\n        this.delegate.visitScrolledToSamePageLocation(oldURL, newURL);\n    }\n    get location() {\n        return this.history.location;\n    }\n    get restorationIdentifier() {\n        return this.history.restorationIdentifier;\n    }\n    getActionForFormSubmission({ submitter, formElement }) {\n        return getVisitAction(submitter, formElement) || \"advance\";\n    }\n}\n\nvar PageStage;\n(function (PageStage) {\n    PageStage[PageStage[\"initial\"] = 0] = \"initial\";\n    PageStage[PageStage[\"loading\"] = 1] = \"loading\";\n    PageStage[PageStage[\"interactive\"] = 2] = \"interactive\";\n    PageStage[PageStage[\"complete\"] = 3] = \"complete\";\n})(PageStage || (PageStage = {}));\nclass PageObserver {\n    constructor(delegate) {\n        this.stage = PageStage.initial;\n        this.started = false;\n        this.interpretReadyState = () => {\n            const { readyState } = this;\n            if (readyState == \"interactive\") {\n                this.pageIsInteractive();\n            }\n            else if (readyState == \"complete\") {\n                this.pageIsComplete();\n            }\n        };\n        this.pageWillUnload = () => {\n            this.delegate.pageWillUnload();\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            if (this.stage == PageStage.initial) {\n                this.stage = PageStage.loading;\n            }\n            document.addEventListener(\"readystatechange\", this.interpretReadyState, false);\n            addEventListener(\"pagehide\", this.pageWillUnload, false);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            document.removeEventListener(\"readystatechange\", this.interpretReadyState, false);\n            removeEventListener(\"pagehide\", this.pageWillUnload, false);\n            this.started = false;\n        }\n    }\n    pageIsInteractive() {\n        if (this.stage == PageStage.loading) {\n            this.stage = PageStage.interactive;\n            this.delegate.pageBecameInteractive();\n        }\n    }\n    pageIsComplete() {\n        this.pageIsInteractive();\n        if (this.stage == PageStage.interactive) {\n            this.stage = PageStage.complete;\n            this.delegate.pageLoaded();\n        }\n    }\n    get readyState() {\n        return document.readyState;\n    }\n}\n\nclass ScrollObserver {\n    constructor(delegate) {\n        this.started = false;\n        this.onScroll = () => {\n            this.updatePosition({ x: window.pageXOffset, y: window.pageYOffset });\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"scroll\", this.onScroll, false);\n            this.onScroll();\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"scroll\", this.onScroll, false);\n            this.started = false;\n        }\n    }\n    updatePosition(position) {\n        this.delegate.scrollPositionChanged(position);\n    }\n}\n\nclass StreamMessageRenderer {\n    render({ fragment }) {\n        Bardo.preservingPermanentElements(this, getPermanentElementMapForFragment(fragment), () => document.documentElement.appendChild(fragment));\n    }\n    enteringBardo(currentPermanentElement, newPermanentElement) {\n        newPermanentElement.replaceWith(currentPermanentElement.cloneNode(true));\n    }\n    leavingBardo() { }\n}\nfunction getPermanentElementMapForFragment(fragment) {\n    const permanentElementsInDocument = queryPermanentElementsAll(document.documentElement);\n    const permanentElementMap = {};\n    for (const permanentElementInDocument of permanentElementsInDocument) {\n        const { id } = permanentElementInDocument;\n        for (const streamElement of fragment.querySelectorAll(\"turbo-stream\")) {\n            const elementInStream = getPermanentElementById(streamElement.templateElement.content, id);\n            if (elementInStream) {\n                permanentElementMap[id] = [permanentElementInDocument, elementInStream];\n            }\n        }\n    }\n    return permanentElementMap;\n}\n\nclass StreamObserver {\n    constructor(delegate) {\n        this.sources = new Set();\n        this.started = false;\n        this.inspectFetchResponse = ((event) => {\n            const response = fetchResponseFromEvent(event);\n            if (response && fetchResponseIsStream(response)) {\n                event.preventDefault();\n                this.receiveMessageResponse(response);\n            }\n        });\n        this.receiveMessageEvent = (event) => {\n            if (this.started && typeof event.data == \"string\") {\n                this.receiveMessageHTML(event.data);\n            }\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            addEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            removeEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n        }\n    }\n    connectStreamSource(source) {\n        if (!this.streamSourceIsConnected(source)) {\n            this.sources.add(source);\n            source.addEventListener(\"message\", this.receiveMessageEvent, false);\n        }\n    }\n    disconnectStreamSource(source) {\n        if (this.streamSourceIsConnected(source)) {\n            this.sources.delete(source);\n            source.removeEventListener(\"message\", this.receiveMessageEvent, false);\n        }\n    }\n    streamSourceIsConnected(source) {\n        return this.sources.has(source);\n    }\n    async receiveMessageResponse(response) {\n        const html = await response.responseHTML;\n        if (html) {\n            this.receiveMessageHTML(html);\n        }\n    }\n    receiveMessageHTML(html) {\n        this.delegate.receivedMessageFromStream(StreamMessage.wrap(html));\n    }\n}\nfunction fetchResponseFromEvent(event) {\n    var _a;\n    const fetchResponse = (_a = event.detail) === null || _a === void 0 ? void 0 : _a.fetchResponse;\n    if (fetchResponse instanceof FetchResponse) {\n        return fetchResponse;\n    }\n}\nfunction fetchResponseIsStream(response) {\n    var _a;\n    const contentType = (_a = response.contentType) !== null && _a !== void 0 ? _a : \"\";\n    return contentType.startsWith(StreamMessage.contentType);\n}\n\nclass ErrorRenderer extends Renderer {\n    static renderElement(currentElement, newElement) {\n        const { documentElement, body } = document;\n        documentElement.replaceChild(newElement, body);\n    }\n    async render() {\n        this.replaceHeadAndBody();\n        this.activateScriptElements();\n    }\n    replaceHeadAndBody() {\n        const { documentElement, head } = document;\n        documentElement.replaceChild(this.newHead, head);\n        this.renderElement(this.currentElement, this.newElement);\n    }\n    activateScriptElements() {\n        for (const replaceableElement of this.scriptElements) {\n            const parentNode = replaceableElement.parentNode;\n            if (parentNode) {\n                const element = activateScriptElement(replaceableElement);\n                parentNode.replaceChild(element, replaceableElement);\n            }\n        }\n    }\n    get newHead() {\n        return this.newSnapshot.headSnapshot.element;\n    }\n    get scriptElements() {\n        return document.documentElement.querySelectorAll(\"script\");\n    }\n}\n\nclass PageRenderer extends Renderer {\n    static renderElement(currentElement, newElement) {\n        if (document.body && newElement instanceof HTMLBodyElement) {\n            document.body.replaceWith(newElement);\n        }\n        else {\n            document.documentElement.appendChild(newElement);\n        }\n    }\n    get shouldRender() {\n        return this.newSnapshot.isVisitable && this.trackedElementsAreIdentical;\n    }\n    get reloadReason() {\n        if (!this.newSnapshot.isVisitable) {\n            return {\n                reason: \"turbo_visit_control_is_reload\",\n            };\n        }\n        if (!this.trackedElementsAreIdentical) {\n            return {\n                reason: \"tracked_element_mismatch\",\n            };\n        }\n    }\n    async prepareToRender() {\n        await this.mergeHead();\n    }\n    async render() {\n        if (this.willRender) {\n            await this.replaceBody();\n        }\n    }\n    finishRendering() {\n        super.finishRendering();\n        if (!this.isPreview) {\n            this.focusFirstAutofocusableElement();\n        }\n    }\n    get currentHeadSnapshot() {\n        return this.currentSnapshot.headSnapshot;\n    }\n    get newHeadSnapshot() {\n        return this.newSnapshot.headSnapshot;\n    }\n    get newElement() {\n        return this.newSnapshot.element;\n    }\n    async mergeHead() {\n        const mergedHeadElements = this.mergeProvisionalElements();\n        const newStylesheetElements = this.copyNewHeadStylesheetElements();\n        this.copyNewHeadScriptElements();\n        await mergedHeadElements;\n        await newStylesheetElements;\n    }\n    async replaceBody() {\n        await this.preservingPermanentElements(async () => {\n            this.activateNewBody();\n            await this.assignNewBody();\n        });\n    }\n    get trackedElementsAreIdentical() {\n        return this.currentHeadSnapshot.trackedElementSignature == this.newHeadSnapshot.trackedElementSignature;\n    }\n    async copyNewHeadStylesheetElements() {\n        const loadingElements = [];\n        for (const element of this.newHeadStylesheetElements) {\n            loadingElements.push(waitForLoad(element));\n            document.head.appendChild(element);\n        }\n        await Promise.all(loadingElements);\n    }\n    copyNewHeadScriptElements() {\n        for (const element of this.newHeadScriptElements) {\n            document.head.appendChild(activateScriptElement(element));\n        }\n    }\n    async mergeProvisionalElements() {\n        const newHeadElements = [...this.newHeadProvisionalElements];\n        for (const element of this.currentHeadProvisionalElements) {\n            if (!this.isCurrentElementInElementList(element, newHeadElements)) {\n                document.head.removeChild(element);\n            }\n        }\n        for (const element of newHeadElements) {\n            document.head.appendChild(element);\n        }\n    }\n    isCurrentElementInElementList(element, elementList) {\n        for (const [index, newElement] of elementList.entries()) {\n            if (element.tagName == \"TITLE\") {\n                if (newElement.tagName != \"TITLE\") {\n                    continue;\n                }\n                if (element.innerHTML == newElement.innerHTML) {\n                    elementList.splice(index, 1);\n                    return true;\n                }\n            }\n            if (newElement.isEqualNode(element)) {\n                elementList.splice(index, 1);\n                return true;\n            }\n        }\n        return false;\n    }\n    removeCurrentHeadProvisionalElements() {\n        for (const element of this.currentHeadProvisionalElements) {\n            document.head.removeChild(element);\n        }\n    }\n    copyNewHeadProvisionalElements() {\n        for (const element of this.newHeadProvisionalElements) {\n            document.head.appendChild(element);\n        }\n    }\n    activateNewBody() {\n        document.adoptNode(this.newElement);\n        this.activateNewBodyScriptElements();\n    }\n    activateNewBodyScriptElements() {\n        for (const inertScriptElement of this.newBodyScriptElements) {\n            const activatedScriptElement = activateScriptElement(inertScriptElement);\n            inertScriptElement.replaceWith(activatedScriptElement);\n        }\n    }\n    async assignNewBody() {\n        await this.renderElement(this.currentElement, this.newElement);\n    }\n    get newHeadStylesheetElements() {\n        return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot);\n    }\n    get newHeadScriptElements() {\n        return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot);\n    }\n    get currentHeadProvisionalElements() {\n        return this.currentHeadSnapshot.provisionalElements;\n    }\n    get newHeadProvisionalElements() {\n        return this.newHeadSnapshot.provisionalElements;\n    }\n    get newBodyScriptElements() {\n        return this.newElement.querySelectorAll(\"script\");\n    }\n}\n\nclass SnapshotCache {\n    constructor(size) {\n        this.keys = [];\n        this.snapshots = {};\n        this.size = size;\n    }\n    has(location) {\n        return toCacheKey(location) in this.snapshots;\n    }\n    get(location) {\n        if (this.has(location)) {\n            const snapshot = this.read(location);\n            this.touch(location);\n            return snapshot;\n        }\n    }\n    put(location, snapshot) {\n        this.write(location, snapshot);\n        this.touch(location);\n        return snapshot;\n    }\n    clear() {\n        this.snapshots = {};\n    }\n    read(location) {\n        return this.snapshots[toCacheKey(location)];\n    }\n    write(location, snapshot) {\n        this.snapshots[toCacheKey(location)] = snapshot;\n    }\n    touch(location) {\n        const key = toCacheKey(location);\n        const index = this.keys.indexOf(key);\n        if (index > -1)\n            this.keys.splice(index, 1);\n        this.keys.unshift(key);\n        this.trim();\n    }\n    trim() {\n        for (const key of this.keys.splice(this.size)) {\n            delete this.snapshots[key];\n        }\n    }\n}\n\nclass PageView extends View {\n    constructor() {\n        super(...arguments);\n        this.snapshotCache = new SnapshotCache(10);\n        this.lastRenderedLocation = new URL(location.href);\n        this.forceReloaded = false;\n    }\n    renderPage(snapshot, isPreview = false, willRender = true, visit) {\n        const renderer = new PageRenderer(this.snapshot, snapshot, PageRenderer.renderElement, isPreview, willRender);\n        if (!renderer.shouldRender) {\n            this.forceReloaded = true;\n        }\n        else {\n            visit === null || visit === void 0 ? void 0 : visit.changeHistory();\n        }\n        return this.render(renderer);\n    }\n    renderError(snapshot, visit) {\n        visit === null || visit === void 0 ? void 0 : visit.changeHistory();\n        const renderer = new ErrorRenderer(this.snapshot, snapshot, ErrorRenderer.renderElement, false);\n        return this.render(renderer);\n    }\n    clearSnapshotCache() {\n        this.snapshotCache.clear();\n    }\n    async cacheSnapshot(snapshot = this.snapshot) {\n        if (snapshot.isCacheable) {\n            this.delegate.viewWillCacheSnapshot();\n            const { lastRenderedLocation: location } = this;\n            await nextEventLoopTick();\n            const cachedSnapshot = snapshot.clone();\n            this.snapshotCache.put(location, cachedSnapshot);\n            return cachedSnapshot;\n        }\n    }\n    getCachedSnapshotForLocation(location) {\n        return this.snapshotCache.get(location);\n    }\n    get snapshot() {\n        return PageSnapshot.fromElement(this.element);\n    }\n}\n\nclass Preloader {\n    constructor(delegate) {\n        this.selector = \"a[data-turbo-preload]\";\n        this.delegate = delegate;\n    }\n    get snapshotCache() {\n        return this.delegate.navigator.view.snapshotCache;\n    }\n    start() {\n        if (document.readyState === \"loading\") {\n            return document.addEventListener(\"DOMContentLoaded\", () => {\n                this.preloadOnLoadLinksForView(document.body);\n            });\n        }\n        else {\n            this.preloadOnLoadLinksForView(document.body);\n        }\n    }\n    preloadOnLoadLinksForView(element) {\n        for (const link of element.querySelectorAll(this.selector)) {\n            this.preloadURL(link);\n        }\n    }\n    async preloadURL(link) {\n        const location = new URL(link.href);\n        if (this.snapshotCache.has(location)) {\n            return;\n        }\n        try {\n            const response = await fetch(location.toString(), { headers: { \"VND.PREFETCH\": \"true\", Accept: \"text/html\" } });\n            const responseText = await response.text();\n            const snapshot = PageSnapshot.fromHTMLString(responseText);\n            this.snapshotCache.put(location, snapshot);\n        }\n        catch (_) {\n        }\n    }\n}\n\nclass Session {\n    constructor() {\n        this.navigator = new Navigator(this);\n        this.history = new History(this);\n        this.preloader = new Preloader(this);\n        this.view = new PageView(this, document.documentElement);\n        this.adapter = new BrowserAdapter(this);\n        this.pageObserver = new PageObserver(this);\n        this.cacheObserver = new CacheObserver();\n        this.linkClickObserver = new LinkClickObserver(this, window);\n        this.formSubmitObserver = new FormSubmitObserver(this, document);\n        this.scrollObserver = new ScrollObserver(this);\n        this.streamObserver = new StreamObserver(this);\n        this.formLinkClickObserver = new FormLinkClickObserver(this, document.documentElement);\n        this.frameRedirector = new FrameRedirector(this, document.documentElement);\n        this.streamMessageRenderer = new StreamMessageRenderer();\n        this.drive = true;\n        this.enabled = true;\n        this.progressBarDelay = 500;\n        this.started = false;\n        this.formMode = \"on\";\n    }\n    start() {\n        if (!this.started) {\n            this.pageObserver.start();\n            this.cacheObserver.start();\n            this.formLinkClickObserver.start();\n            this.linkClickObserver.start();\n            this.formSubmitObserver.start();\n            this.scrollObserver.start();\n            this.streamObserver.start();\n            this.frameRedirector.start();\n            this.history.start();\n            this.preloader.start();\n            this.started = true;\n            this.enabled = true;\n        }\n    }\n    disable() {\n        this.enabled = false;\n    }\n    stop() {\n        if (this.started) {\n            this.pageObserver.stop();\n            this.cacheObserver.stop();\n            this.formLinkClickObserver.stop();\n            this.linkClickObserver.stop();\n            this.formSubmitObserver.stop();\n            this.scrollObserver.stop();\n            this.streamObserver.stop();\n            this.frameRedirector.stop();\n            this.history.stop();\n            this.started = false;\n        }\n    }\n    registerAdapter(adapter) {\n        this.adapter = adapter;\n    }\n    visit(location, options = {}) {\n        const frameElement = options.frame ? document.getElementById(options.frame) : null;\n        if (frameElement instanceof FrameElement) {\n            frameElement.src = location.toString();\n            frameElement.loaded;\n        }\n        else {\n            this.navigator.proposeVisit(expandURL(location), options);\n        }\n    }\n    connectStreamSource(source) {\n        this.streamObserver.connectStreamSource(source);\n    }\n    disconnectStreamSource(source) {\n        this.streamObserver.disconnectStreamSource(source);\n    }\n    renderStreamMessage(message) {\n        this.streamMessageRenderer.render(StreamMessage.wrap(message));\n    }\n    clearCache() {\n        this.view.clearSnapshotCache();\n    }\n    setProgressBarDelay(delay) {\n        this.progressBarDelay = delay;\n    }\n    setFormMode(mode) {\n        this.formMode = mode;\n    }\n    get location() {\n        return this.history.location;\n    }\n    get restorationIdentifier() {\n        return this.history.restorationIdentifier;\n    }\n    historyPoppedToLocationWithRestorationIdentifier(location, restorationIdentifier) {\n        if (this.enabled) {\n            this.navigator.startVisit(location, restorationIdentifier, {\n                action: \"restore\",\n                historyChanged: true,\n            });\n        }\n        else {\n            this.adapter.pageInvalidated({\n                reason: \"turbo_disabled\",\n            });\n        }\n    }\n    scrollPositionChanged(position) {\n        this.history.updateRestorationData({ scrollPosition: position });\n    }\n    willSubmitFormLinkToLocation(link, location) {\n        return this.elementIsNavigatable(link) && locationIsVisitable(location, this.snapshot.rootLocation);\n    }\n    submittedFormLinkToLocation() { }\n    willFollowLinkToLocation(link, location, event) {\n        return (this.elementIsNavigatable(link) &&\n            locationIsVisitable(location, this.snapshot.rootLocation) &&\n            this.applicationAllowsFollowingLinkToLocation(link, location, event));\n    }\n    followedLinkToLocation(link, location) {\n        const action = this.getActionForLink(link);\n        const acceptsStreamResponse = link.hasAttribute(\"data-turbo-stream\");\n        this.visit(location.href, { action, acceptsStreamResponse });\n    }\n    allowsVisitingLocationWithAction(location, action) {\n        return this.locationWithActionIsSamePage(location, action) || this.applicationAllowsVisitingLocation(location);\n    }\n    visitProposedToLocation(location, options) {\n        extendURLWithDeprecatedProperties(location);\n        this.adapter.visitProposedToLocation(location, options);\n    }\n    visitStarted(visit) {\n        if (!visit.acceptsStreamResponse) {\n            markAsBusy(document.documentElement);\n        }\n        extendURLWithDeprecatedProperties(visit.location);\n        if (!visit.silent) {\n            this.notifyApplicationAfterVisitingLocation(visit.location, visit.action);\n        }\n    }\n    visitCompleted(visit) {\n        clearBusyState(document.documentElement);\n        this.notifyApplicationAfterPageLoad(visit.getTimingMetrics());\n    }\n    locationWithActionIsSamePage(location, action) {\n        return this.navigator.locationWithActionIsSamePage(location, action);\n    }\n    visitScrolledToSamePageLocation(oldURL, newURL) {\n        this.notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL);\n    }\n    willSubmitForm(form, submitter) {\n        const action = getAction(form, submitter);\n        return (this.submissionIsNavigatable(form, submitter) &&\n            locationIsVisitable(expandURL(action), this.snapshot.rootLocation));\n    }\n    formSubmitted(form, submitter) {\n        this.navigator.submitForm(form, submitter);\n    }\n    pageBecameInteractive() {\n        this.view.lastRenderedLocation = this.location;\n        this.notifyApplicationAfterPageLoad();\n    }\n    pageLoaded() {\n        this.history.assumeControlOfScrollRestoration();\n    }\n    pageWillUnload() {\n        this.history.relinquishControlOfScrollRestoration();\n    }\n    receivedMessageFromStream(message) {\n        this.renderStreamMessage(message);\n    }\n    viewWillCacheSnapshot() {\n        var _a;\n        if (!((_a = this.navigator.currentVisit) === null || _a === void 0 ? void 0 : _a.silent)) {\n            this.notifyApplicationBeforeCachingSnapshot();\n        }\n    }\n    allowsImmediateRender({ element }, options) {\n        const event = this.notifyApplicationBeforeRender(element, options);\n        const { defaultPrevented, detail: { render }, } = event;\n        if (this.view.renderer && render) {\n            this.view.renderer.renderElement = render;\n        }\n        return !defaultPrevented;\n    }\n    viewRenderedSnapshot(_snapshot, _isPreview) {\n        this.view.lastRenderedLocation = this.history.location;\n        this.notifyApplicationAfterRender();\n    }\n    preloadOnLoadLinksForView(element) {\n        this.preloader.preloadOnLoadLinksForView(element);\n    }\n    viewInvalidated(reason) {\n        this.adapter.pageInvalidated(reason);\n    }\n    frameLoaded(frame) {\n        this.notifyApplicationAfterFrameLoad(frame);\n    }\n    frameRendered(fetchResponse, frame) {\n        this.notifyApplicationAfterFrameRender(fetchResponse, frame);\n    }\n    applicationAllowsFollowingLinkToLocation(link, location, ev) {\n        const event = this.notifyApplicationAfterClickingLinkToLocation(link, location, ev);\n        return !event.defaultPrevented;\n    }\n    applicationAllowsVisitingLocation(location) {\n        const event = this.notifyApplicationBeforeVisitingLocation(location);\n        return !event.defaultPrevented;\n    }\n    notifyApplicationAfterClickingLinkToLocation(link, location, event) {\n        return dispatch(\"turbo:click\", {\n            target: link,\n            detail: { url: location.href, originalEvent: event },\n            cancelable: true,\n        });\n    }\n    notifyApplicationBeforeVisitingLocation(location) {\n        return dispatch(\"turbo:before-visit\", {\n            detail: { url: location.href },\n            cancelable: true,\n        });\n    }\n    notifyApplicationAfterVisitingLocation(location, action) {\n        return dispatch(\"turbo:visit\", { detail: { url: location.href, action } });\n    }\n    notifyApplicationBeforeCachingSnapshot() {\n        return dispatch(\"turbo:before-cache\");\n    }\n    notifyApplicationBeforeRender(newBody, options) {\n        return dispatch(\"turbo:before-render\", {\n            detail: Object.assign({ newBody }, options),\n            cancelable: true,\n        });\n    }\n    notifyApplicationAfterRender() {\n        return dispatch(\"turbo:render\");\n    }\n    notifyApplicationAfterPageLoad(timing = {}) {\n        return dispatch(\"turbo:load\", {\n            detail: { url: this.location.href, timing },\n        });\n    }\n    notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL) {\n        dispatchEvent(new HashChangeEvent(\"hashchange\", {\n            oldURL: oldURL.toString(),\n            newURL: newURL.toString(),\n        }));\n    }\n    notifyApplicationAfterFrameLoad(frame) {\n        return dispatch(\"turbo:frame-load\", { target: frame });\n    }\n    notifyApplicationAfterFrameRender(fetchResponse, frame) {\n        return dispatch(\"turbo:frame-render\", {\n            detail: { fetchResponse },\n            target: frame,\n            cancelable: true,\n        });\n    }\n    submissionIsNavigatable(form, submitter) {\n        if (this.formMode == \"off\") {\n            return false;\n        }\n        else {\n            const submitterIsNavigatable = submitter ? this.elementIsNavigatable(submitter) : true;\n            if (this.formMode == \"optin\") {\n                return submitterIsNavigatable && form.closest('[data-turbo=\"true\"]') != null;\n            }\n            else {\n                return submitterIsNavigatable && this.elementIsNavigatable(form);\n            }\n        }\n    }\n    elementIsNavigatable(element) {\n        const container = findClosestRecursively(element, \"[data-turbo]\");\n        const withinFrame = findClosestRecursively(element, \"turbo-frame\");\n        if (this.drive || withinFrame) {\n            if (container) {\n                return container.getAttribute(\"data-turbo\") != \"false\";\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            if (container) {\n                return container.getAttribute(\"data-turbo\") == \"true\";\n            }\n            else {\n                return false;\n            }\n        }\n    }\n    getActionForLink(link) {\n        return getVisitAction(link) || \"advance\";\n    }\n    get snapshot() {\n        return this.view.snapshot;\n    }\n}\nfunction extendURLWithDeprecatedProperties(url) {\n    Object.defineProperties(url, deprecatedLocationPropertyDescriptors);\n}\nconst deprecatedLocationPropertyDescriptors = {\n    absoluteURL: {\n        get() {\n            return this.toString();\n        },\n    },\n};\n\nclass Cache {\n    constructor(session) {\n        this.session = session;\n    }\n    clear() {\n        this.session.clearCache();\n    }\n    resetCacheControl() {\n        this.setCacheControl(\"\");\n    }\n    exemptPageFromCache() {\n        this.setCacheControl(\"no-cache\");\n    }\n    exemptPageFromPreview() {\n        this.setCacheControl(\"no-preview\");\n    }\n    setCacheControl(value) {\n        setMetaContent(\"turbo-cache-control\", value);\n    }\n}\n\nconst StreamActions = {\n    after() {\n        this.targetElements.forEach((e) => { var _a; return (_a = e.parentElement) === null || _a === void 0 ? void 0 : _a.insertBefore(this.templateContent, e.nextSibling); });\n    },\n    append() {\n        this.removeDuplicateTargetChildren();\n        this.targetElements.forEach((e) => e.append(this.templateContent));\n    },\n    before() {\n        this.targetElements.forEach((e) => { var _a; return (_a = e.parentElement) === null || _a === void 0 ? void 0 : _a.insertBefore(this.templateContent, e); });\n    },\n    prepend() {\n        this.removeDuplicateTargetChildren();\n        this.targetElements.forEach((e) => e.prepend(this.templateContent));\n    },\n    remove() {\n        this.targetElements.forEach((e) => e.remove());\n    },\n    replace() {\n        this.targetElements.forEach((e) => e.replaceWith(this.templateContent));\n    },\n    update() {\n        this.targetElements.forEach((targetElement) => {\n            targetElement.innerHTML = \"\";\n            targetElement.append(this.templateContent);\n        });\n    },\n};\n\nconst session = new Session();\nconst cache = new Cache(session);\nconst { navigator: navigator$1 } = session;\nfunction start() {\n    session.start();\n}\nfunction registerAdapter(adapter) {\n    session.registerAdapter(adapter);\n}\nfunction visit(location, options) {\n    session.visit(location, options);\n}\nfunction connectStreamSource(source) {\n    session.connectStreamSource(source);\n}\nfunction disconnectStreamSource(source) {\n    session.disconnectStreamSource(source);\n}\nfunction renderStreamMessage(message) {\n    session.renderStreamMessage(message);\n}\nfunction clearCache() {\n    console.warn(\"Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`\");\n    session.clearCache();\n}\nfunction setProgressBarDelay(delay) {\n    session.setProgressBarDelay(delay);\n}\nfunction setConfirmMethod(confirmMethod) {\n    FormSubmission.confirmMethod = confirmMethod;\n}\nfunction setFormMode(mode) {\n    session.setFormMode(mode);\n}\n\nvar Turbo = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    navigator: navigator$1,\n    session: session,\n    cache: cache,\n    PageRenderer: PageRenderer,\n    PageSnapshot: PageSnapshot,\n    FrameRenderer: FrameRenderer,\n    start: start,\n    registerAdapter: registerAdapter,\n    visit: visit,\n    connectStreamSource: connectStreamSource,\n    disconnectStreamSource: disconnectStreamSource,\n    renderStreamMessage: renderStreamMessage,\n    clearCache: clearCache,\n    setProgressBarDelay: setProgressBarDelay,\n    setConfirmMethod: setConfirmMethod,\n    setFormMode: setFormMode,\n    StreamActions: StreamActions\n});\n\nclass TurboFrameMissingError extends Error {\n}\n\nclass FrameController {\n    constructor(element) {\n        this.fetchResponseLoaded = (_fetchResponse) => { };\n        this.currentFetchRequest = null;\n        this.resolveVisitPromise = () => { };\n        this.connected = false;\n        this.hasBeenLoaded = false;\n        this.ignoredAttributes = new Set();\n        this.action = null;\n        this.visitCachedSnapshot = ({ element }) => {\n            const frame = element.querySelector(\"#\" + this.element.id);\n            if (frame && this.previousFrameElement) {\n                frame.replaceChildren(...this.previousFrameElement.children);\n            }\n            delete this.previousFrameElement;\n        };\n        this.element = element;\n        this.view = new FrameView(this, this.element);\n        this.appearanceObserver = new AppearanceObserver(this, this.element);\n        this.formLinkClickObserver = new FormLinkClickObserver(this, this.element);\n        this.linkInterceptor = new LinkInterceptor(this, this.element);\n        this.restorationIdentifier = uuid();\n        this.formSubmitObserver = new FormSubmitObserver(this, this.element);\n    }\n    connect() {\n        if (!this.connected) {\n            this.connected = true;\n            if (this.loadingStyle == FrameLoadingStyle.lazy) {\n                this.appearanceObserver.start();\n            }\n            else {\n                this.loadSourceURL();\n            }\n            this.formLinkClickObserver.start();\n            this.linkInterceptor.start();\n            this.formSubmitObserver.start();\n        }\n    }\n    disconnect() {\n        if (this.connected) {\n            this.connected = false;\n            this.appearanceObserver.stop();\n            this.formLinkClickObserver.stop();\n            this.linkInterceptor.stop();\n            this.formSubmitObserver.stop();\n        }\n    }\n    disabledChanged() {\n        if (this.loadingStyle == FrameLoadingStyle.eager) {\n            this.loadSourceURL();\n        }\n    }\n    sourceURLChanged() {\n        if (this.isIgnoringChangesTo(\"src\"))\n            return;\n        if (this.element.isConnected) {\n            this.complete = false;\n        }\n        if (this.loadingStyle == FrameLoadingStyle.eager || this.hasBeenLoaded) {\n            this.loadSourceURL();\n        }\n    }\n    sourceURLReloaded() {\n        const { src } = this.element;\n        this.ignoringChangesToAttribute(\"complete\", () => {\n            this.element.removeAttribute(\"complete\");\n        });\n        this.element.src = null;\n        this.element.src = src;\n        return this.element.loaded;\n    }\n    completeChanged() {\n        if (this.isIgnoringChangesTo(\"complete\"))\n            return;\n        this.loadSourceURL();\n    }\n    loadingStyleChanged() {\n        if (this.loadingStyle == FrameLoadingStyle.lazy) {\n            this.appearanceObserver.start();\n        }\n        else {\n            this.appearanceObserver.stop();\n            this.loadSourceURL();\n        }\n    }\n    async loadSourceURL() {\n        if (this.enabled && this.isActive && !this.complete && this.sourceURL) {\n            this.element.loaded = this.visit(expandURL(this.sourceURL));\n            this.appearanceObserver.stop();\n            await this.element.loaded;\n            this.hasBeenLoaded = true;\n        }\n    }\n    async loadResponse(fetchResponse) {\n        if (fetchResponse.redirected || (fetchResponse.succeeded && fetchResponse.isHTML)) {\n            this.sourceURL = fetchResponse.response.url;\n        }\n        try {\n            const html = await fetchResponse.responseHTML;\n            if (html) {\n                const document = parseHTMLDocument(html);\n                const pageSnapshot = PageSnapshot.fromDocument(document);\n                if (pageSnapshot.isVisitable) {\n                    await this.loadFrameResponse(fetchResponse, document);\n                }\n                else {\n                    await this.handleUnvisitableFrameResponse(fetchResponse);\n                }\n            }\n        }\n        finally {\n            this.fetchResponseLoaded = () => { };\n        }\n    }\n    elementAppearedInViewport(element) {\n        this.proposeVisitIfNavigatedWithAction(element, element);\n        this.loadSourceURL();\n    }\n    willSubmitFormLinkToLocation(link) {\n        return this.shouldInterceptNavigation(link);\n    }\n    submittedFormLinkToLocation(link, _location, form) {\n        const frame = this.findFrameElement(link);\n        if (frame)\n            form.setAttribute(\"data-turbo-frame\", frame.id);\n    }\n    shouldInterceptLinkClick(element, _location, _event) {\n        return this.shouldInterceptNavigation(element);\n    }\n    linkClickIntercepted(element, location) {\n        this.navigateFrame(element, location);\n    }\n    willSubmitForm(element, submitter) {\n        return element.closest(\"turbo-frame\") == this.element && this.shouldInterceptNavigation(element, submitter);\n    }\n    formSubmitted(element, submitter) {\n        if (this.formSubmission) {\n            this.formSubmission.stop();\n        }\n        this.formSubmission = new FormSubmission(this, element, submitter);\n        const { fetchRequest } = this.formSubmission;\n        this.prepareRequest(fetchRequest);\n        this.formSubmission.start();\n    }\n    prepareRequest(request) {\n        var _a;\n        request.headers[\"Turbo-Frame\"] = this.id;\n        if ((_a = this.currentNavigationElement) === null || _a === void 0 ? void 0 : _a.hasAttribute(\"data-turbo-stream\")) {\n            request.acceptResponseType(StreamMessage.contentType);\n        }\n    }\n    requestStarted(_request) {\n        markAsBusy(this.element);\n    }\n    requestPreventedHandlingResponse(_request, _response) {\n        this.resolveVisitPromise();\n    }\n    async requestSucceededWithResponse(request, response) {\n        await this.loadResponse(response);\n        this.resolveVisitPromise();\n    }\n    async requestFailedWithResponse(request, response) {\n        await this.loadResponse(response);\n        this.resolveVisitPromise();\n    }\n    requestErrored(request, error) {\n        console.error(error);\n        this.resolveVisitPromise();\n    }\n    requestFinished(_request) {\n        clearBusyState(this.element);\n    }\n    formSubmissionStarted({ formElement }) {\n        markAsBusy(formElement, this.findFrameElement(formElement));\n    }\n    formSubmissionSucceededWithResponse(formSubmission, response) {\n        const frame = this.findFrameElement(formSubmission.formElement, formSubmission.submitter);\n        frame.delegate.proposeVisitIfNavigatedWithAction(frame, formSubmission.formElement, formSubmission.submitter);\n        frame.delegate.loadResponse(response);\n        if (!formSubmission.isSafe) {\n            session.clearCache();\n        }\n    }\n    formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n        this.element.delegate.loadResponse(fetchResponse);\n        session.clearCache();\n    }\n    formSubmissionErrored(formSubmission, error) {\n        console.error(error);\n    }\n    formSubmissionFinished({ formElement }) {\n        clearBusyState(formElement, this.findFrameElement(formElement));\n    }\n    allowsImmediateRender({ element: newFrame }, options) {\n        const event = dispatch(\"turbo:before-frame-render\", {\n            target: this.element,\n            detail: Object.assign({ newFrame }, options),\n            cancelable: true,\n        });\n        const { defaultPrevented, detail: { render }, } = event;\n        if (this.view.renderer && render) {\n            this.view.renderer.renderElement = render;\n        }\n        return !defaultPrevented;\n    }\n    viewRenderedSnapshot(_snapshot, _isPreview) { }\n    preloadOnLoadLinksForView(element) {\n        session.preloadOnLoadLinksForView(element);\n    }\n    viewInvalidated() { }\n    willRenderFrame(currentElement, _newElement) {\n        this.previousFrameElement = currentElement.cloneNode(true);\n    }\n    async loadFrameResponse(fetchResponse, document) {\n        const newFrameElement = await this.extractForeignFrameElement(document.body);\n        if (newFrameElement) {\n            const snapshot = new Snapshot(newFrameElement);\n            const renderer = new FrameRenderer(this, this.view.snapshot, snapshot, FrameRenderer.renderElement, false, false);\n            if (this.view.renderPromise)\n                await this.view.renderPromise;\n            this.changeHistory();\n            await this.view.render(renderer);\n            this.complete = true;\n            session.frameRendered(fetchResponse, this.element);\n            session.frameLoaded(this.element);\n            this.fetchResponseLoaded(fetchResponse);\n        }\n        else if (this.willHandleFrameMissingFromResponse(fetchResponse)) {\n            this.handleFrameMissingFromResponse(fetchResponse);\n        }\n    }\n    async visit(url) {\n        var _a;\n        const request = new FetchRequest(this, FetchMethod.get, url, new URLSearchParams(), this.element);\n        (_a = this.currentFetchRequest) === null || _a === void 0 ? void 0 : _a.cancel();\n        this.currentFetchRequest = request;\n        return new Promise((resolve) => {\n            this.resolveVisitPromise = () => {\n                this.resolveVisitPromise = () => { };\n                this.currentFetchRequest = null;\n                resolve();\n            };\n            request.perform();\n        });\n    }\n    navigateFrame(element, url, submitter) {\n        const frame = this.findFrameElement(element, submitter);\n        frame.delegate.proposeVisitIfNavigatedWithAction(frame, element, submitter);\n        this.withCurrentNavigationElement(element, () => {\n            frame.src = url;\n        });\n    }\n    proposeVisitIfNavigatedWithAction(frame, element, submitter) {\n        this.action = getVisitAction(submitter, element, frame);\n        if (this.action) {\n            const pageSnapshot = PageSnapshot.fromElement(frame).clone();\n            const { visitCachedSnapshot } = frame.delegate;\n            frame.delegate.fetchResponseLoaded = (fetchResponse) => {\n                if (frame.src) {\n                    const { statusCode, redirected } = fetchResponse;\n                    const responseHTML = frame.ownerDocument.documentElement.outerHTML;\n                    const response = { statusCode, redirected, responseHTML };\n                    const options = {\n                        response,\n                        visitCachedSnapshot,\n                        willRender: false,\n                        updateHistory: false,\n                        restorationIdentifier: this.restorationIdentifier,\n                        snapshot: pageSnapshot,\n                    };\n                    if (this.action)\n                        options.action = this.action;\n                    session.visit(frame.src, options);\n                }\n            };\n        }\n    }\n    changeHistory() {\n        if (this.action) {\n            const method = getHistoryMethodForAction(this.action);\n            session.history.update(method, expandURL(this.element.src || \"\"), this.restorationIdentifier);\n        }\n    }\n    async handleUnvisitableFrameResponse(fetchResponse) {\n        console.warn(`The response (${fetchResponse.statusCode}) from <turbo-frame id=\"${this.element.id}\"> is performing a full page visit due to turbo-visit-control.`);\n        await this.visitResponse(fetchResponse.response);\n    }\n    willHandleFrameMissingFromResponse(fetchResponse) {\n        this.element.setAttribute(\"complete\", \"\");\n        const response = fetchResponse.response;\n        const visit = async (url, options = {}) => {\n            if (url instanceof Response) {\n                this.visitResponse(url);\n            }\n            else {\n                session.visit(url, options);\n            }\n        };\n        const event = dispatch(\"turbo:frame-missing\", {\n            target: this.element,\n            detail: { response, visit },\n            cancelable: true,\n        });\n        return !event.defaultPrevented;\n    }\n    handleFrameMissingFromResponse(fetchResponse) {\n        this.view.missing();\n        this.throwFrameMissingError(fetchResponse);\n    }\n    throwFrameMissingError(fetchResponse) {\n        const message = `The response (${fetchResponse.statusCode}) did not contain the expected <turbo-frame id=\"${this.element.id}\"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;\n        throw new TurboFrameMissingError(message);\n    }\n    async visitResponse(response) {\n        const wrapped = new FetchResponse(response);\n        const responseHTML = await wrapped.responseHTML;\n        const { location, redirected, statusCode } = wrapped;\n        return session.visit(location, { response: { redirected, statusCode, responseHTML } });\n    }\n    findFrameElement(element, submitter) {\n        var _a;\n        const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n        return (_a = getFrameElementById(id)) !== null && _a !== void 0 ? _a : this.element;\n    }\n    async extractForeignFrameElement(container) {\n        let element;\n        const id = CSS.escape(this.id);\n        try {\n            element = activateElement(container.querySelector(`turbo-frame#${id}`), this.sourceURL);\n            if (element) {\n                return element;\n            }\n            element = activateElement(container.querySelector(`turbo-frame[src][recurse~=${id}]`), this.sourceURL);\n            if (element) {\n                await element.loaded;\n                return await this.extractForeignFrameElement(element);\n            }\n        }\n        catch (error) {\n            console.error(error);\n            return new FrameElement();\n        }\n        return null;\n    }\n    formActionIsVisitable(form, submitter) {\n        const action = getAction(form, submitter);\n        return locationIsVisitable(expandURL(action), this.rootLocation);\n    }\n    shouldInterceptNavigation(element, submitter) {\n        const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n        if (element instanceof HTMLFormElement && !this.formActionIsVisitable(element, submitter)) {\n            return false;\n        }\n        if (!this.enabled || id == \"_top\") {\n            return false;\n        }\n        if (id) {\n            const frameElement = getFrameElementById(id);\n            if (frameElement) {\n                return !frameElement.disabled;\n            }\n        }\n        if (!session.elementIsNavigatable(element)) {\n            return false;\n        }\n        if (submitter && !session.elementIsNavigatable(submitter)) {\n            return false;\n        }\n        return true;\n    }\n    get id() {\n        return this.element.id;\n    }\n    get enabled() {\n        return !this.element.disabled;\n    }\n    get sourceURL() {\n        if (this.element.src) {\n            return this.element.src;\n        }\n    }\n    set sourceURL(sourceURL) {\n        this.ignoringChangesToAttribute(\"src\", () => {\n            this.element.src = sourceURL !== null && sourceURL !== void 0 ? sourceURL : null;\n        });\n    }\n    get loadingStyle() {\n        return this.element.loading;\n    }\n    get isLoading() {\n        return this.formSubmission !== undefined || this.resolveVisitPromise() !== undefined;\n    }\n    get complete() {\n        return this.element.hasAttribute(\"complete\");\n    }\n    set complete(value) {\n        this.ignoringChangesToAttribute(\"complete\", () => {\n            if (value) {\n                this.element.setAttribute(\"complete\", \"\");\n            }\n            else {\n                this.element.removeAttribute(\"complete\");\n            }\n        });\n    }\n    get isActive() {\n        return this.element.isActive && this.connected;\n    }\n    get rootLocation() {\n        var _a;\n        const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n        const root = (_a = meta === null || meta === void 0 ? void 0 : meta.content) !== null && _a !== void 0 ? _a : \"/\";\n        return expandURL(root);\n    }\n    isIgnoringChangesTo(attributeName) {\n        return this.ignoredAttributes.has(attributeName);\n    }\n    ignoringChangesToAttribute(attributeName, callback) {\n        this.ignoredAttributes.add(attributeName);\n        callback();\n        this.ignoredAttributes.delete(attributeName);\n    }\n    withCurrentNavigationElement(element, callback) {\n        this.currentNavigationElement = element;\n        callback();\n        delete this.currentNavigationElement;\n    }\n}\nfunction getFrameElementById(id) {\n    if (id != null) {\n        const element = document.getElementById(id);\n        if (element instanceof FrameElement) {\n            return element;\n        }\n    }\n}\nfunction activateElement(element, currentURL) {\n    if (element) {\n        const src = element.getAttribute(\"src\");\n        if (src != null && currentURL != null && urlsAreEqual(src, currentURL)) {\n            throw new Error(`Matching <turbo-frame id=\"${element.id}\"> element has a source URL which references itself`);\n        }\n        if (element.ownerDocument !== document) {\n            element = document.importNode(element, true);\n        }\n        if (element instanceof FrameElement) {\n            element.connectedCallback();\n            element.disconnectedCallback();\n            return element;\n        }\n    }\n}\n\nclass StreamElement extends HTMLElement {\n    static async renderElement(newElement) {\n        await newElement.performAction();\n    }\n    async connectedCallback() {\n        try {\n            await this.render();\n        }\n        catch (error) {\n            console.error(error);\n        }\n        finally {\n            this.disconnect();\n        }\n    }\n    async render() {\n        var _a;\n        return ((_a = this.renderPromise) !== null && _a !== void 0 ? _a : (this.renderPromise = (async () => {\n            const event = this.beforeRenderEvent;\n            if (this.dispatchEvent(event)) {\n                await nextAnimationFrame();\n                await event.detail.render(this);\n            }\n        })()));\n    }\n    disconnect() {\n        try {\n            this.remove();\n        }\n        catch (_a) { }\n    }\n    removeDuplicateTargetChildren() {\n        this.duplicateChildren.forEach((c) => c.remove());\n    }\n    get duplicateChildren() {\n        var _a;\n        const existingChildren = this.targetElements.flatMap((e) => [...e.children]).filter((c) => !!c.id);\n        const newChildrenIds = [...(((_a = this.templateContent) === null || _a === void 0 ? void 0 : _a.children) || [])].filter((c) => !!c.id).map((c) => c.id);\n        return existingChildren.filter((c) => newChildrenIds.includes(c.id));\n    }\n    get performAction() {\n        if (this.action) {\n            const actionFunction = StreamActions[this.action];\n            if (actionFunction) {\n                return actionFunction;\n            }\n            this.raise(\"unknown action\");\n        }\n        this.raise(\"action attribute is missing\");\n    }\n    get targetElements() {\n        if (this.target) {\n            return this.targetElementsById;\n        }\n        else if (this.targets) {\n            return this.targetElementsByQuery;\n        }\n        else {\n            this.raise(\"target or targets attribute is missing\");\n        }\n    }\n    get templateContent() {\n        return this.templateElement.content.cloneNode(true);\n    }\n    get templateElement() {\n        if (this.firstElementChild === null) {\n            const template = this.ownerDocument.createElement(\"template\");\n            this.appendChild(template);\n            return template;\n        }\n        else if (this.firstElementChild instanceof HTMLTemplateElement) {\n            return this.firstElementChild;\n        }\n        this.raise(\"first child element must be a <template> element\");\n    }\n    get action() {\n        return this.getAttribute(\"action\");\n    }\n    get target() {\n        return this.getAttribute(\"target\");\n    }\n    get targets() {\n        return this.getAttribute(\"targets\");\n    }\n    raise(message) {\n        throw new Error(`${this.description}: ${message}`);\n    }\n    get description() {\n        var _a, _b;\n        return (_b = ((_a = this.outerHTML.match(/<[^>]+>/)) !== null && _a !== void 0 ? _a : [])[0]) !== null && _b !== void 0 ? _b : \"<turbo-stream>\";\n    }\n    get beforeRenderEvent() {\n        return new CustomEvent(\"turbo:before-stream-render\", {\n            bubbles: true,\n            cancelable: true,\n            detail: { newStream: this, render: StreamElement.renderElement },\n        });\n    }\n    get targetElementsById() {\n        var _a;\n        const element = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.getElementById(this.target);\n        if (element !== null) {\n            return [element];\n        }\n        else {\n            return [];\n        }\n    }\n    get targetElementsByQuery() {\n        var _a;\n        const elements = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.querySelectorAll(this.targets);\n        if (elements.length !== 0) {\n            return Array.prototype.slice.call(elements);\n        }\n        else {\n            return [];\n        }\n    }\n}\n\nclass StreamSourceElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this.streamSource = null;\n    }\n    connectedCallback() {\n        this.streamSource = this.src.match(/^ws{1,2}:/) ? new WebSocket(this.src) : new EventSource(this.src);\n        connectStreamSource(this.streamSource);\n    }\n    disconnectedCallback() {\n        if (this.streamSource) {\n            disconnectStreamSource(this.streamSource);\n        }\n    }\n    get src() {\n        return this.getAttribute(\"src\") || \"\";\n    }\n}\n\nFrameElement.delegateConstructor = FrameController;\nif (customElements.get(\"turbo-frame\") === undefined) {\n    customElements.define(\"turbo-frame\", FrameElement);\n}\nif (customElements.get(\"turbo-stream\") === undefined) {\n    customElements.define(\"turbo-stream\", StreamElement);\n}\nif (customElements.get(\"turbo-stream-source\") === undefined) {\n    customElements.define(\"turbo-stream-source\", StreamSourceElement);\n}\n\n(() => {\n    let element = document.currentScript;\n    if (!element)\n        return;\n    if (element.hasAttribute(\"data-turbo-suppress-warning\"))\n        return;\n    element = element.parentElement;\n    while (element) {\n        if (element == document.body) {\n            return console.warn(unindent `\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements\n\n        \u2014\u2014\n        Suppress this warning by adding a \"data-turbo-suppress-warning\" attribute to: %s\n      `, element.outerHTML);\n        }\n        element = element.parentElement;\n    }\n})();\n\nwindow.Turbo = Turbo;\nstart();\n\nexport { FrameElement, FrameLoadingStyle, FrameRenderer, PageRenderer, PageSnapshot, StreamActions, StreamElement, StreamSourceElement, cache, clearCache, connectStreamSource, disconnectStreamSource, navigator$1 as navigator, registerAdapter, renderStreamMessage, session, setConfirmMethod, setFormMode, setProgressBarDelay, start, visit };\n", "let consumer\n\nexport async function getConsumer() {\n  return consumer || setConsumer(createConsumer().then(setConsumer))\n}\n\nexport function setConsumer(newConsumer) {\n  return consumer = newConsumer\n}\n\nexport async function createConsumer() {\n  const { createConsumer } = await import(/* webpackChunkName: \"actioncable\" */ \"@rails/actioncable/src\")\n  return createConsumer()\n}\n\nexport async function subscribeTo(channel, mixin) {\n  const { subscriptions } = await getConsumer()\n  return subscriptions.create(channel, mixin)\n}\n", "// Based on https://github.com/nathan7/snakeize\n//\n// This software is released under the MIT license:\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\nexport default function walk (obj) {\n    if (!obj || typeof obj !== 'object') return obj;\n    if (obj instanceof Date || obj instanceof RegExp) return obj;\n    if (Array.isArray(obj)) return obj.map(walk);\n    return Object.keys(obj).reduce(function (acc, key) {\n        var camel = key[0].toLowerCase() + key.slice(1).replace(/([A-Z]+)/g, function (m, x) {\n            return '_' + x.toLowerCase();\n        });\n        acc[camel] = walk(obj[key]);\n        return acc;\n    }, {});\n};", "import { connectStreamSource, disconnectStreamSource } from \"@hotwired/turbo\"\nimport { subscribeTo } from \"./cable\"\nimport snakeize from \"./snakeize\"\n\nclass TurboCableStreamSourceElement extends HTMLElement {\n  async connectedCallback() {\n    connectStreamSource(this)\n    this.subscription = await subscribeTo(this.channel, {\n      received: this.dispatchMessageEvent.bind(this),\n      connected: this.subscriptionConnected.bind(this),\n      disconnected: this.subscriptionDisconnected.bind(this)\n    })\n  }\n\n  disconnectedCallback() {\n    disconnectStreamSource(this)\n    if (this.subscription) this.subscription.unsubscribe()\n  }\n\n  dispatchMessageEvent(data) {\n    const event = new MessageEvent(\"message\", { data })\n    return this.dispatchEvent(event)\n  }\n\n  subscriptionConnected() {\n    this.setAttribute(\"connected\", \"\")\n  }\n\n  subscriptionDisconnected() {\n    this.removeAttribute(\"connected\")\n  }\n\n  get channel() {\n    const channel = this.getAttribute(\"channel\")\n    const signed_stream_name = this.getAttribute(\"signed-stream-name\")\n    return { channel, signed_stream_name, ...snakeize({ ...this.dataset }) }\n  }\n}\n\n\nif (customElements.get(\"turbo-cable-stream-source\") === undefined) {\n  customElements.define(\"turbo-cable-stream-source\", TurboCableStreamSourceElement)\n}\n", "export function encodeMethodIntoRequestBody(event) {\n  if (event.target instanceof HTMLFormElement) {\n    const { target: form, detail: { fetchOptions } } = event\n\n    form.addEventListener(\"turbo:submit-start\", ({ detail: { formSubmission: { submitter } } }) => {\n      const body = isBodyInit(fetchOptions.body) ? fetchOptions.body : new URLSearchParams()\n      const method = determineFetchMethod(submitter, body, form)\n\n      if (!/get/i.test(method)) {\n        if (/post/i.test(method)) {\n          body.delete(\"_method\")\n        } else {\n          body.set(\"_method\", method)\n        }\n\n        fetchOptions.method = \"post\"\n      }\n    }, { once: true })\n  }\n}\n\nfunction determineFetchMethod(submitter, body, form) {\n  const formMethod = determineFormMethod(submitter)\n  const overrideMethod = body.get(\"_method\")\n  const method = form.getAttribute(\"method\") || \"get\"\n\n  if (typeof formMethod == \"string\") {\n    return formMethod\n  } else if (typeof overrideMethod == \"string\") {\n    return overrideMethod\n  } else {\n    return method\n  }\n}\n\nfunction determineFormMethod(submitter) {\n  if (submitter instanceof HTMLButtonElement || submitter instanceof HTMLInputElement) {\n    if (submitter.hasAttribute(\"formmethod\")) {\n      return submitter.formMethod\n    } else {\n      return null\n    }\n  } else {\n    return null\n  }\n}\n\nfunction isBodyInit(body) {\n  return body instanceof FormData || body instanceof URLSearchParams\n}\n", "import \"./cable_stream_source_element\"\n\nimport * as Turbo from \"@hotwired/turbo\"\nexport { Turbo }\n\nimport * as cable from \"./cable\"\nexport { cable }\n\nimport { encodeMethodIntoRequestBody } from \"./fetch_requests\"\n\naddEventListener(\"turbo:before-fetch-request\", encodeMethodIntoRequestBody)\n", "/*\nStimulus 3.2.1\nCopyright \u00A9 2023 Basecamp, LLC\n */\nclass EventListener {\n    constructor(eventTarget, eventName, eventOptions) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.eventOptions = eventOptions;\n        this.unorderedBindings = new Set();\n    }\n    connect() {\n        this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);\n    }\n    disconnect() {\n        this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);\n    }\n    bindingConnected(binding) {\n        this.unorderedBindings.add(binding);\n    }\n    bindingDisconnected(binding) {\n        this.unorderedBindings.delete(binding);\n    }\n    handleEvent(event) {\n        const extendedEvent = extendEvent(event);\n        for (const binding of this.bindings) {\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    }\n    hasBindings() {\n        return this.unorderedBindings.size > 0;\n    }\n    get bindings() {\n        return Array.from(this.unorderedBindings).sort((left, right) => {\n            const leftIndex = left.index, rightIndex = right.index;\n            return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n        });\n    }\n}\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        const { stopImmediatePropagation } = event;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation() {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation.call(this);\n            },\n        });\n    }\n}\n\nclass Dispatcher {\n    constructor(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map();\n        this.started = false;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach((eventListener) => eventListener.connect());\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach((eventListener) => eventListener.disconnect());\n        }\n    }\n    get eventListeners() {\n        return Array.from(this.eventListenerMaps.values()).reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);\n    }\n    bindingConnected(binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    }\n    bindingDisconnected(binding, clearEventListeners = false) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n        if (clearEventListeners)\n            this.clearEventListenersForBinding(binding);\n    }\n    handleError(error, message, detail = {}) {\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    clearEventListenersForBinding(binding) {\n        const eventListener = this.fetchEventListenerForBinding(binding);\n        if (!eventListener.hasBindings()) {\n            eventListener.disconnect();\n            this.removeMappedEventListenerFor(binding);\n        }\n    }\n    removeMappedEventListenerFor(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        eventListenerMap.delete(cacheKey);\n        if (eventListenerMap.size == 0)\n            this.eventListenerMaps.delete(eventTarget);\n    }\n    fetchEventListenerForBinding(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        return this.fetchEventListener(eventTarget, eventName, eventOptions);\n    }\n    fetchEventListener(eventTarget, eventName, eventOptions) {\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        let eventListener = eventListenerMap.get(cacheKey);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName, eventOptions);\n            eventListenerMap.set(cacheKey, eventListener);\n        }\n        return eventListener;\n    }\n    createEventListener(eventTarget, eventName, eventOptions) {\n        const eventListener = new EventListener(eventTarget, eventName, eventOptions);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    }\n    fetchEventListenerMapForEventTarget(eventTarget) {\n        let eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map();\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    }\n    cacheKey(eventName, eventOptions) {\n        const parts = [eventName];\n        Object.keys(eventOptions)\n            .sort()\n            .forEach((key) => {\n            parts.push(`${eventOptions[key] ? \"\" : \"!\"}${key}`);\n        });\n        return parts.join(\":\");\n    }\n}\n\nconst defaultActionDescriptorFilters = {\n    stop({ event, value }) {\n        if (value)\n            event.stopPropagation();\n        return true;\n    },\n    prevent({ event, value }) {\n        if (value)\n            event.preventDefault();\n        return true;\n    },\n    self({ event, value, element }) {\n        if (value) {\n            return element === event.target;\n        }\n        else {\n            return true;\n        }\n    },\n};\nconst descriptorPattern = /^(?:(?:([^.]+?)\\+)?(.+?)(?:\\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;\nfunction parseActionDescriptorString(descriptorString) {\n    const source = descriptorString.trim();\n    const matches = source.match(descriptorPattern) || [];\n    let eventName = matches[2];\n    let keyFilter = matches[3];\n    if (keyFilter && ![\"keydown\", \"keyup\", \"keypress\"].includes(eventName)) {\n        eventName += `.${keyFilter}`;\n        keyFilter = \"\";\n    }\n    return {\n        eventTarget: parseEventTarget(matches[4]),\n        eventName,\n        eventOptions: matches[7] ? parseEventOptions(matches[7]) : {},\n        identifier: matches[5],\n        methodName: matches[6],\n        keyFilter: matches[1] || keyFilter,\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nfunction parseEventOptions(eventOptions) {\n    return eventOptions\n        .split(\":\")\n        .reduce((options, token) => Object.assign(options, { [token.replace(/^!/, \"\")]: !/^!/.test(token) }), {});\n}\nfunction stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n\nfunction camelize(value) {\n    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());\n}\nfunction namespaceCamelize(value) {\n    return camelize(value.replace(/--/g, \"-\").replace(/__/g, \"_\"));\n}\nfunction capitalize(value) {\n    return value.charAt(0).toUpperCase() + value.slice(1);\n}\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);\n}\nfunction tokenize(value) {\n    return value.match(/[^\\s]+/g) || [];\n}\n\nfunction isSomething(object) {\n    return object !== null && object !== undefined;\n}\nfunction hasProperty(object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n}\n\nconst allModifiers = [\"meta\", \"ctrl\", \"alt\", \"shift\"];\nclass Action {\n    constructor(element, index, descriptor, schema) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.eventOptions = descriptor.eventOptions || {};\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n        this.keyFilter = descriptor.keyFilter || \"\";\n        this.schema = schema;\n    }\n    static forToken(token, schema) {\n        return new this(token.element, token.index, parseActionDescriptorString(token.content), schema);\n    }\n    toString() {\n        const eventFilter = this.keyFilter ? `.${this.keyFilter}` : \"\";\n        const eventTarget = this.eventTargetName ? `@${this.eventTargetName}` : \"\";\n        return `${this.eventName}${eventFilter}${eventTarget}->${this.identifier}#${this.methodName}`;\n    }\n    shouldIgnoreKeyboardEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = this.keyFilter.split(\"+\");\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        const standardFilter = filters.filter((key) => !allModifiers.includes(key))[0];\n        if (!standardFilter) {\n            return false;\n        }\n        if (!hasProperty(this.keyMappings, standardFilter)) {\n            error(`contains unknown key filter: ${this.keyFilter}`);\n        }\n        return this.keyMappings[standardFilter].toLowerCase() !== event.key.toLowerCase();\n    }\n    shouldIgnoreMouseEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = [this.keyFilter];\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        return false;\n    }\n    get params() {\n        const params = {};\n        const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`, \"i\");\n        for (const { name, value } of Array.from(this.element.attributes)) {\n            const match = name.match(pattern);\n            const key = match && match[1];\n            if (key) {\n                params[camelize(key)] = typecast(value);\n            }\n        }\n        return params;\n    }\n    get eventTargetName() {\n        return stringifyEventTarget(this.eventTarget);\n    }\n    get keyMappings() {\n        return this.schema.keyMappings;\n    }\n    keyFilterDissatisfied(event, filters) {\n        const [meta, ctrl, alt, shift] = allModifiers.map((modifier) => filters.includes(modifier));\n        return event.metaKey !== meta || event.ctrlKey !== ctrl || event.altKey !== alt || event.shiftKey !== shift;\n    }\n}\nconst defaultEventNames = {\n    a: () => \"click\",\n    button: () => \"click\",\n    form: () => \"submit\",\n    details: () => \"toggle\",\n    input: (e) => (e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"input\"),\n    select: () => \"change\",\n    textarea: () => \"input\",\n};\nfunction getDefaultEventNameForElement(element) {\n    const tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\nfunction typecast(value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (o_O) {\n        return value;\n    }\n}\n\nclass Binding {\n    constructor(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    get index() {\n        return this.action.index;\n    }\n    get eventTarget() {\n        return this.action.eventTarget;\n    }\n    get eventOptions() {\n        return this.action.eventOptions;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    handleEvent(event) {\n        const actionEvent = this.prepareActionEvent(event);\n        if (this.willBeInvokedByEvent(event) && this.applyEventModifiers(actionEvent)) {\n            this.invokeWithEvent(actionEvent);\n        }\n    }\n    get eventName() {\n        return this.action.eventName;\n    }\n    get method() {\n        const method = this.controller[this.methodName];\n        if (typeof method == \"function\") {\n            return method;\n        }\n        throw new Error(`Action \"${this.action}\" references undefined method \"${this.methodName}\"`);\n    }\n    applyEventModifiers(event) {\n        const { element } = this.action;\n        const { actionDescriptorFilters } = this.context.application;\n        const { controller } = this.context;\n        let passes = true;\n        for (const [name, value] of Object.entries(this.eventOptions)) {\n            if (name in actionDescriptorFilters) {\n                const filter = actionDescriptorFilters[name];\n                passes = passes && filter({ name, value, event, element, controller });\n            }\n            else {\n                continue;\n            }\n        }\n        return passes;\n    }\n    prepareActionEvent(event) {\n        return Object.assign(event, { params: this.action.params });\n    }\n    invokeWithEvent(event) {\n        const { target, currentTarget } = event;\n        try {\n            this.method.call(this.controller, event);\n            this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });\n        }\n        catch (error) {\n            const { identifier, controller, element, index } = this;\n            const detail = { identifier, controller, element, index, event };\n            this.context.handleError(error, `invoking action \"${this.action}\"`, detail);\n        }\n    }\n    willBeInvokedByEvent(event) {\n        const eventTarget = event.target;\n        if (event instanceof KeyboardEvent && this.action.shouldIgnoreKeyboardEvent(event)) {\n            return false;\n        }\n        if (event instanceof MouseEvent && this.action.shouldIgnoreMouseEvent(event)) {\n            return false;\n        }\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return this.scope.containsElement(this.action.element);\n        }\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    get methodName() {\n        return this.action.methodName;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nclass ElementObserver {\n    constructor(element, delegate) {\n        this.mutationObserverInit = { attributes: true, childList: true, subtree: true };\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.refresh();\n        }\n    }\n    pause(callback) {\n        if (this.started) {\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n        callback();\n        if (!this.started) {\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            const matches = new Set(this.matchElementsInTree());\n            for (const element of Array.from(this.elements)) {\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (const element of Array.from(matches)) {\n                this.addElement(element);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    }\n    processAttributeChange(element, attributeName) {\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    }\n    processRemovedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    }\n    processAddedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    }\n    matchElement(element) {\n        return this.delegate.matchElement(element);\n    }\n    matchElementsInTree(tree = this.element) {\n        return this.delegate.matchElementsInTree(tree);\n    }\n    processTree(tree, processor) {\n        for (const element of this.matchElementsInTree(tree)) {\n            processor.call(this, element);\n        }\n    }\n    elementFromNode(node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    }\n    elementIsActive(element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    }\n    addElement(element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    }\n    removeElement(element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    }\n}\n\nclass AttributeObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    get selector() {\n        return `[${this.attributeName}]`;\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    matchElement(element) {\n        return element.hasAttribute(this.attributeName);\n    }\n    matchElementsInTree(tree) {\n        const match = this.matchElement(tree) ? [tree] : [];\n        const matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    }\n    elementMatched(element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementUnmatched(element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementAttributeChanged(element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    }\n}\n\nfunction add(map, key, value) {\n    fetch(map, key).add(value);\n}\nfunction del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nfunction fetch(map, key) {\n    let values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nfunction prune(map, key) {\n    const values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n\nclass Multimap {\n    constructor() {\n        this.valuesByKey = new Map();\n    }\n    get keys() {\n        return Array.from(this.valuesByKey.keys());\n    }\n    get values() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((values, set) => values.concat(Array.from(set)), []);\n    }\n    get size() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((size, set) => size + set.size, 0);\n    }\n    add(key, value) {\n        add(this.valuesByKey, key, value);\n    }\n    delete(key, value) {\n        del(this.valuesByKey, key, value);\n    }\n    has(key, value) {\n        const values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    }\n    hasKey(key) {\n        return this.valuesByKey.has(key);\n    }\n    hasValue(value) {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.some((set) => set.has(value));\n    }\n    getValuesForKey(key) {\n        const values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    }\n    getKeysForValue(value) {\n        return Array.from(this.valuesByKey)\n            .filter(([_key, values]) => values.has(value))\n            .map(([key, _values]) => key);\n    }\n}\n\nclass IndexedMultimap extends Multimap {\n    constructor() {\n        super();\n        this.keysByValue = new Map();\n    }\n    get values() {\n        return Array.from(this.keysByValue.keys());\n    }\n    add(key, value) {\n        super.add(key, value);\n        add(this.keysByValue, value, key);\n    }\n    delete(key, value) {\n        super.delete(key, value);\n        del(this.keysByValue, value, key);\n    }\n    hasValue(value) {\n        return this.keysByValue.has(value);\n    }\n    getKeysForValue(value) {\n        const set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    }\n}\n\nclass SelectorObserver {\n    constructor(element, selector, delegate, details) {\n        this._selector = selector;\n        this.details = details;\n        this.elementObserver = new ElementObserver(element, this);\n        this.delegate = delegate;\n        this.matchesByElement = new Multimap();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    get selector() {\n        return this._selector;\n    }\n    set selector(selector) {\n        this._selector = selector;\n        this.refresh();\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    matchElement(element) {\n        const { selector } = this;\n        if (selector) {\n            const matches = element.matches(selector);\n            if (this.delegate.selectorMatchElement) {\n                return matches && this.delegate.selectorMatchElement(element, this.details);\n            }\n            return matches;\n        }\n        else {\n            return false;\n        }\n    }\n    matchElementsInTree(tree) {\n        const { selector } = this;\n        if (selector) {\n            const match = this.matchElement(tree) ? [tree] : [];\n            const matches = Array.from(tree.querySelectorAll(selector)).filter((match) => this.matchElement(match));\n            return match.concat(matches);\n        }\n        else {\n            return [];\n        }\n    }\n    elementMatched(element) {\n        const { selector } = this;\n        if (selector) {\n            this.selectorMatched(element, selector);\n        }\n    }\n    elementUnmatched(element) {\n        const selectors = this.matchesByElement.getKeysForValue(element);\n        for (const selector of selectors) {\n            this.selectorUnmatched(element, selector);\n        }\n    }\n    elementAttributeChanged(element, _attributeName) {\n        const { selector } = this;\n        if (selector) {\n            const matches = this.matchElement(element);\n            const matchedBefore = this.matchesByElement.has(selector, element);\n            if (matches && !matchedBefore) {\n                this.selectorMatched(element, selector);\n            }\n            else if (!matches && matchedBefore) {\n                this.selectorUnmatched(element, selector);\n            }\n        }\n    }\n    selectorMatched(element, selector) {\n        this.delegate.selectorMatched(element, selector, this.details);\n        this.matchesByElement.add(selector, element);\n    }\n    selectorUnmatched(element, selector) {\n        this.delegate.selectorUnmatched(element, selector, this.details);\n        this.matchesByElement.delete(selector, element);\n    }\n}\n\nclass StringMapObserver {\n    constructor(element, delegate) {\n        this.element = element;\n        this.delegate = delegate;\n        this.started = false;\n        this.stringMap = new Map();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });\n            this.refresh();\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            for (const attributeName of this.knownAttributeNames) {\n                this.refreshAttribute(attributeName, null);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        const attributeName = mutation.attributeName;\n        if (attributeName) {\n            this.refreshAttribute(attributeName, mutation.oldValue);\n        }\n    }\n    refreshAttribute(attributeName, oldValue) {\n        const key = this.delegate.getStringMapKeyForAttribute(attributeName);\n        if (key != null) {\n            if (!this.stringMap.has(attributeName)) {\n                this.stringMapKeyAdded(key, attributeName);\n            }\n            const value = this.element.getAttribute(attributeName);\n            if (this.stringMap.get(attributeName) != value) {\n                this.stringMapValueChanged(value, key, oldValue);\n            }\n            if (value == null) {\n                const oldValue = this.stringMap.get(attributeName);\n                this.stringMap.delete(attributeName);\n                if (oldValue)\n                    this.stringMapKeyRemoved(key, attributeName, oldValue);\n            }\n            else {\n                this.stringMap.set(attributeName, value);\n            }\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        if (this.delegate.stringMapKeyAdded) {\n            this.delegate.stringMapKeyAdded(key, attributeName);\n        }\n    }\n    stringMapValueChanged(value, key, oldValue) {\n        if (this.delegate.stringMapValueChanged) {\n            this.delegate.stringMapValueChanged(value, key, oldValue);\n        }\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        if (this.delegate.stringMapKeyRemoved) {\n            this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);\n        }\n    }\n    get knownAttributeNames() {\n        return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));\n    }\n    get currentAttributeNames() {\n        return Array.from(this.element.attributes).map((attribute) => attribute.name);\n    }\n    get recordedAttributeNames() {\n        return Array.from(this.stringMap.keys());\n    }\n}\n\nclass TokenListObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap();\n    }\n    get started() {\n        return this.attributeObserver.started;\n    }\n    start() {\n        this.attributeObserver.start();\n    }\n    pause(callback) {\n        this.attributeObserver.pause(callback);\n    }\n    stop() {\n        this.attributeObserver.stop();\n    }\n    refresh() {\n        this.attributeObserver.refresh();\n    }\n    get element() {\n        return this.attributeObserver.element;\n    }\n    get attributeName() {\n        return this.attributeObserver.attributeName;\n    }\n    elementMatchedAttribute(element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    }\n    elementAttributeValueChanged(element) {\n        const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    }\n    elementUnmatchedAttribute(element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    }\n    tokensMatched(tokens) {\n        tokens.forEach((token) => this.tokenMatched(token));\n    }\n    tokensUnmatched(tokens) {\n        tokens.forEach((token) => this.tokenUnmatched(token));\n    }\n    tokenMatched(token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    }\n    tokenUnmatched(token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    }\n    refreshTokensForElement(element) {\n        const previousTokens = this.tokensByElement.getValuesForKey(element);\n        const currentTokens = this.readTokensForElement(element);\n        const firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    }\n    readTokensForElement(element) {\n        const attributeName = this.attributeName;\n        const tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    }\n}\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString\n        .trim()\n        .split(/\\s+/)\n        .filter((content) => content.length)\n        .map((content, index) => ({ element, attributeName, content, index }));\n}\nfunction zip(left, right) {\n    const length = Math.max(left.length, right.length);\n    return Array.from({ length }, (_, index) => [left[index], right[index]]);\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n\nclass ValueListObserver {\n    constructor(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap();\n        this.valuesByTokenByElement = new WeakMap();\n    }\n    get started() {\n        return this.tokenListObserver.started;\n    }\n    start() {\n        this.tokenListObserver.start();\n    }\n    stop() {\n        this.tokenListObserver.stop();\n    }\n    refresh() {\n        this.tokenListObserver.refresh();\n    }\n    get element() {\n        return this.tokenListObserver.element;\n    }\n    get attributeName() {\n        return this.tokenListObserver.attributeName;\n    }\n    tokenMatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    }\n    tokenUnmatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    }\n    fetchParseResultForToken(token) {\n        let parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    }\n    fetchValuesByTokenForElement(element) {\n        let valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map();\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    }\n    parseToken(token) {\n        try {\n            const value = this.delegate.parseValueForToken(token);\n            return { value };\n        }\n        catch (error) {\n            return { error };\n        }\n    }\n}\n\nclass BindingObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map();\n    }\n    start() {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    }\n    stop() {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    }\n    get element() {\n        return this.context.element;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get actionAttribute() {\n        return this.schema.actionAttribute;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get bindings() {\n        return Array.from(this.bindingsByAction.values());\n    }\n    connectAction(action) {\n        const binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    }\n    disconnectAction(action) {\n        const binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    }\n    disconnectAllActions() {\n        this.bindings.forEach((binding) => this.delegate.bindingDisconnected(binding, true));\n        this.bindingsByAction.clear();\n    }\n    parseValueForToken(token) {\n        const action = Action.forToken(token, this.schema);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    }\n    elementMatchedValue(element, action) {\n        this.connectAction(action);\n    }\n    elementUnmatchedValue(element, action) {\n        this.disconnectAction(action);\n    }\n}\n\nclass ValueObserver {\n    constructor(context, receiver) {\n        this.context = context;\n        this.receiver = receiver;\n        this.stringMapObserver = new StringMapObserver(this.element, this);\n        this.valueDescriptorMap = this.controller.valueDescriptorMap;\n    }\n    start() {\n        this.stringMapObserver.start();\n        this.invokeChangedCallbacksForDefaultValues();\n    }\n    stop() {\n        this.stringMapObserver.stop();\n    }\n    get element() {\n        return this.context.element;\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    getStringMapKeyForAttribute(attributeName) {\n        if (attributeName in this.valueDescriptorMap) {\n            return this.valueDescriptorMap[attributeName].name;\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        const descriptor = this.valueDescriptorMap[attributeName];\n        if (!this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));\n        }\n    }\n    stringMapValueChanged(value, name, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[name];\n        if (value === null)\n            return;\n        if (oldValue === null) {\n            oldValue = descriptor.writer(descriptor.defaultValue);\n        }\n        this.invokeChangedCallback(name, value, oldValue);\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[key];\n        if (this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);\n        }\n        else {\n            this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);\n        }\n    }\n    invokeChangedCallbacksForDefaultValues() {\n        for (const { key, name, defaultValue, writer } of this.valueDescriptors) {\n            if (defaultValue != undefined && !this.controller.data.has(key)) {\n                this.invokeChangedCallback(name, writer(defaultValue), undefined);\n            }\n        }\n    }\n    invokeChangedCallback(name, rawValue, rawOldValue) {\n        const changedMethodName = `${name}Changed`;\n        const changedMethod = this.receiver[changedMethodName];\n        if (typeof changedMethod == \"function\") {\n            const descriptor = this.valueDescriptorNameMap[name];\n            try {\n                const value = descriptor.reader(rawValue);\n                let oldValue = rawOldValue;\n                if (rawOldValue) {\n                    oldValue = descriptor.reader(rawOldValue);\n                }\n                changedMethod.call(this.receiver, value, oldValue);\n            }\n            catch (error) {\n                if (error instanceof TypeError) {\n                    error.message = `Stimulus Value \"${this.context.identifier}.${descriptor.name}\" - ${error.message}`;\n                }\n                throw error;\n            }\n        }\n    }\n    get valueDescriptors() {\n        const { valueDescriptorMap } = this;\n        return Object.keys(valueDescriptorMap).map((key) => valueDescriptorMap[key]);\n    }\n    get valueDescriptorNameMap() {\n        const descriptors = {};\n        Object.keys(this.valueDescriptorMap).forEach((key) => {\n            const descriptor = this.valueDescriptorMap[key];\n            descriptors[descriptor.name] = descriptor;\n        });\n        return descriptors;\n    }\n    hasValue(attributeName) {\n        const descriptor = this.valueDescriptorNameMap[attributeName];\n        const hasMethodName = `has${capitalize(descriptor.name)}`;\n        return this.receiver[hasMethodName];\n    }\n}\n\nclass TargetObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.targetsByName = new Multimap();\n    }\n    start() {\n        if (!this.tokenListObserver) {\n            this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);\n            this.tokenListObserver.start();\n        }\n    }\n    stop() {\n        if (this.tokenListObserver) {\n            this.disconnectAllTargets();\n            this.tokenListObserver.stop();\n            delete this.tokenListObserver;\n        }\n    }\n    tokenMatched({ element, content: name }) {\n        if (this.scope.containsElement(element)) {\n            this.connectTarget(element, name);\n        }\n    }\n    tokenUnmatched({ element, content: name }) {\n        this.disconnectTarget(element, name);\n    }\n    connectTarget(element, name) {\n        var _a;\n        if (!this.targetsByName.has(name, element)) {\n            this.targetsByName.add(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));\n        }\n    }\n    disconnectTarget(element, name) {\n        var _a;\n        if (this.targetsByName.has(name, element)) {\n            this.targetsByName.delete(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));\n        }\n    }\n    disconnectAllTargets() {\n        for (const name of this.targetsByName.keys) {\n            for (const element of this.targetsByName.getValuesForKey(name)) {\n                this.disconnectTarget(element, name);\n            }\n        }\n    }\n    get attributeName() {\n        return `data-${this.context.identifier}-target`;\n    }\n    get element() {\n        return this.context.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nfunction readInheritableStaticArrayValues(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce((values, constructor) => {\n        getOwnStaticArrayValues(constructor, propertyName).forEach((name) => values.add(name));\n        return values;\n    }, new Set()));\n}\nfunction readInheritableStaticObjectPairs(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return ancestors.reduce((pairs, constructor) => {\n        pairs.push(...getOwnStaticObjectPairs(constructor, propertyName));\n        return pairs;\n    }, []);\n}\nfunction getAncestorsForConstructor(constructor) {\n    const ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors.reverse();\n}\nfunction getOwnStaticArrayValues(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction getOwnStaticObjectPairs(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return definition ? Object.keys(definition).map((key) => [key, definition[key]]) : [];\n}\n\nclass OutletObserver {\n    constructor(context, delegate) {\n        this.started = false;\n        this.context = context;\n        this.delegate = delegate;\n        this.outletsByName = new Multimap();\n        this.outletElementsByName = new Multimap();\n        this.selectorObserverMap = new Map();\n        this.attributeObserverMap = new Map();\n    }\n    start() {\n        if (!this.started) {\n            this.outletDefinitions.forEach((outletName) => {\n                this.setupSelectorObserverForOutlet(outletName);\n                this.setupAttributeObserverForOutlet(outletName);\n            });\n            this.started = true;\n            this.dependentContexts.forEach((context) => context.refresh());\n        }\n    }\n    refresh() {\n        this.selectorObserverMap.forEach((observer) => observer.refresh());\n        this.attributeObserverMap.forEach((observer) => observer.refresh());\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.disconnectAllOutlets();\n            this.stopSelectorObservers();\n            this.stopAttributeObservers();\n        }\n    }\n    stopSelectorObservers() {\n        if (this.selectorObserverMap.size > 0) {\n            this.selectorObserverMap.forEach((observer) => observer.stop());\n            this.selectorObserverMap.clear();\n        }\n    }\n    stopAttributeObservers() {\n        if (this.attributeObserverMap.size > 0) {\n            this.attributeObserverMap.forEach((observer) => observer.stop());\n            this.attributeObserverMap.clear();\n        }\n    }\n    selectorMatched(element, _selector, { outletName }) {\n        const outlet = this.getOutlet(element, outletName);\n        if (outlet) {\n            this.connectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorUnmatched(element, _selector, { outletName }) {\n        const outlet = this.getOutletFromMap(element, outletName);\n        if (outlet) {\n            this.disconnectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorMatchElement(element, { outletName }) {\n        const selector = this.selector(outletName);\n        const hasOutlet = this.hasOutlet(element, outletName);\n        const hasOutletController = element.matches(`[${this.schema.controllerAttribute}~=${outletName}]`);\n        if (selector) {\n            return hasOutlet && hasOutletController && element.matches(selector);\n        }\n        else {\n            return false;\n        }\n    }\n    elementMatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementAttributeValueChanged(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementUnmatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    connectOutlet(outlet, element, outletName) {\n        var _a;\n        if (!this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.add(outletName, outlet);\n            this.outletElementsByName.add(outletName, element);\n            (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletConnected(outlet, element, outletName));\n        }\n    }\n    disconnectOutlet(outlet, element, outletName) {\n        var _a;\n        if (this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.delete(outletName, outlet);\n            this.outletElementsByName.delete(outletName, element);\n            (_a = this.selectorObserverMap\n                .get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletDisconnected(outlet, element, outletName));\n        }\n    }\n    disconnectAllOutlets() {\n        for (const outletName of this.outletElementsByName.keys) {\n            for (const element of this.outletElementsByName.getValuesForKey(outletName)) {\n                for (const outlet of this.outletsByName.getValuesForKey(outletName)) {\n                    this.disconnectOutlet(outlet, element, outletName);\n                }\n            }\n        }\n    }\n    updateSelectorObserverForOutlet(outletName) {\n        const observer = this.selectorObserverMap.get(outletName);\n        if (observer) {\n            observer.selector = this.selector(outletName);\n        }\n    }\n    setupSelectorObserverForOutlet(outletName) {\n        const selector = this.selector(outletName);\n        const selectorObserver = new SelectorObserver(document.body, selector, this, { outletName });\n        this.selectorObserverMap.set(outletName, selectorObserver);\n        selectorObserver.start();\n    }\n    setupAttributeObserverForOutlet(outletName) {\n        const attributeName = this.attributeNameForOutletName(outletName);\n        const attributeObserver = new AttributeObserver(this.scope.element, attributeName, this);\n        this.attributeObserverMap.set(outletName, attributeObserver);\n        attributeObserver.start();\n    }\n    selector(outletName) {\n        return this.scope.outlets.getSelectorForOutletName(outletName);\n    }\n    attributeNameForOutletName(outletName) {\n        return this.scope.schema.outletAttributeForScope(this.identifier, outletName);\n    }\n    getOutletNameFromOutletAttributeName(attributeName) {\n        return this.outletDefinitions.find((outletName) => this.attributeNameForOutletName(outletName) === attributeName);\n    }\n    get outletDependencies() {\n        const dependencies = new Multimap();\n        this.router.modules.forEach((module) => {\n            const constructor = module.definition.controllerConstructor;\n            const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n            outlets.forEach((outlet) => dependencies.add(outlet, module.identifier));\n        });\n        return dependencies;\n    }\n    get outletDefinitions() {\n        return this.outletDependencies.getKeysForValue(this.identifier);\n    }\n    get dependentControllerIdentifiers() {\n        return this.outletDependencies.getValuesForKey(this.identifier);\n    }\n    get dependentContexts() {\n        const identifiers = this.dependentControllerIdentifiers;\n        return this.router.contexts.filter((context) => identifiers.includes(context.identifier));\n    }\n    hasOutlet(element, outletName) {\n        return !!this.getOutlet(element, outletName) || !!this.getOutletFromMap(element, outletName);\n    }\n    getOutlet(element, outletName) {\n        return this.application.getControllerForElementAndIdentifier(element, outletName);\n    }\n    getOutletFromMap(element, outletName) {\n        return this.outletsByName.getValuesForKey(outletName).find((outlet) => outlet.element === element);\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get router() {\n        return this.application.router;\n    }\n}\n\nclass Context {\n    constructor(module, scope) {\n        this.logDebugActivity = (functionName, detail = {}) => {\n            const { identifier, controller, element } = this;\n            detail = Object.assign({ identifier, controller, element }, detail);\n            this.application.logDebugActivity(this.identifier, functionName, detail);\n        };\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        this.valueObserver = new ValueObserver(this, this.controller);\n        this.targetObserver = new TargetObserver(this, this);\n        this.outletObserver = new OutletObserver(this, this);\n        try {\n            this.controller.initialize();\n            this.logDebugActivity(\"initialize\");\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    connect() {\n        this.bindingObserver.start();\n        this.valueObserver.start();\n        this.targetObserver.start();\n        this.outletObserver.start();\n        try {\n            this.controller.connect();\n            this.logDebugActivity(\"connect\");\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    }\n    refresh() {\n        this.outletObserver.refresh();\n    }\n    disconnect() {\n        try {\n            this.controller.disconnect();\n            this.logDebugActivity(\"disconnect\");\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.outletObserver.stop();\n        this.targetObserver.stop();\n        this.valueObserver.stop();\n        this.bindingObserver.stop();\n    }\n    get application() {\n        return this.module.application;\n    }\n    get identifier() {\n        return this.module.identifier;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get dispatcher() {\n        return this.application.dispatcher;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get parentElement() {\n        return this.element.parentElement;\n    }\n    handleError(error, message, detail = {}) {\n        const { identifier, controller, element } = this;\n        detail = Object.assign({ identifier, controller, element }, detail);\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    targetConnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetConnected`, element);\n    }\n    targetDisconnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetDisconnected`, element);\n    }\n    outletConnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletConnected`, outlet, element);\n    }\n    outletDisconnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletDisconnected`, outlet, element);\n    }\n    invokeControllerMethod(methodName, ...args) {\n        const controller = this.controller;\n        if (typeof controller[methodName] == \"function\") {\n            controller[methodName](...args);\n        }\n    }\n}\n\nfunction bless(constructor) {\n    return shadow(constructor, getBlessedProperties(constructor));\n}\nfunction shadow(constructor, properties) {\n    const shadowConstructor = extend(constructor);\n    const shadowProperties = getShadowProperties(constructor.prototype, properties);\n    Object.defineProperties(shadowConstructor.prototype, shadowProperties);\n    return shadowConstructor;\n}\nfunction getBlessedProperties(constructor) {\n    const blessings = readInheritableStaticArrayValues(constructor, \"blessings\");\n    return blessings.reduce((blessedProperties, blessing) => {\n        const properties = blessing(constructor);\n        for (const key in properties) {\n            const descriptor = blessedProperties[key] || {};\n            blessedProperties[key] = Object.assign(descriptor, properties[key]);\n        }\n        return blessedProperties;\n    }, {});\n}\nfunction getShadowProperties(prototype, properties) {\n    return getOwnKeys(properties).reduce((shadowProperties, key) => {\n        const descriptor = getShadowedDescriptor(prototype, properties, key);\n        if (descriptor) {\n            Object.assign(shadowProperties, { [key]: descriptor });\n        }\n        return shadowProperties;\n    }, {});\n}\nfunction getShadowedDescriptor(prototype, properties, key) {\n    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);\n    const shadowedByValue = shadowingDescriptor && \"value\" in shadowingDescriptor;\n    if (!shadowedByValue) {\n        const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;\n        if (shadowingDescriptor) {\n            descriptor.get = shadowingDescriptor.get || descriptor.get;\n            descriptor.set = shadowingDescriptor.set || descriptor.set;\n        }\n        return descriptor;\n    }\n}\nconst getOwnKeys = (() => {\n    if (typeof Object.getOwnPropertySymbols == \"function\") {\n        return (object) => [...Object.getOwnPropertyNames(object), ...Object.getOwnPropertySymbols(object)];\n    }\n    else {\n        return Object.getOwnPropertyNames;\n    }\n})();\nconst extend = (() => {\n    function extendWithReflect(constructor) {\n        function extended() {\n            return Reflect.construct(constructor, arguments, new.target);\n        }\n        extended.prototype = Object.create(constructor.prototype, {\n            constructor: { value: extended },\n        });\n        Reflect.setPrototypeOf(extended, constructor);\n        return extended;\n    }\n    function testReflectExtension() {\n        const a = function () {\n            this.a.call(this);\n        };\n        const b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b();\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return (constructor) => class extended extends constructor {\n        };\n    }\n})();\n\nfunction blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: bless(definition.controllerConstructor),\n    };\n}\n\nclass Module {\n    constructor(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap();\n        this.connectedContexts = new Set();\n    }\n    get identifier() {\n        return this.definition.identifier;\n    }\n    get controllerConstructor() {\n        return this.definition.controllerConstructor;\n    }\n    get contexts() {\n        return Array.from(this.connectedContexts);\n    }\n    connectContextForScope(scope) {\n        const context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    }\n    disconnectContextForScope(scope) {\n        const context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    }\n    fetchContextForScope(scope) {\n        let context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    }\n}\n\nclass ClassMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    has(name) {\n        return this.data.has(this.getDataKey(name));\n    }\n    get(name) {\n        return this.getAll(name)[0];\n    }\n    getAll(name) {\n        const tokenString = this.data.get(this.getDataKey(name)) || \"\";\n        return tokenize(tokenString);\n    }\n    getAttributeName(name) {\n        return this.data.getAttributeNameForKey(this.getDataKey(name));\n    }\n    getDataKey(name) {\n        return `${name}-class`;\n    }\n    get data() {\n        return this.scope.data;\n    }\n}\n\nclass DataMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.getAttribute(name);\n    }\n    set(key, value) {\n        const name = this.getAttributeNameForKey(key);\n        this.element.setAttribute(name, value);\n        return this.get(key);\n    }\n    has(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.hasAttribute(name);\n    }\n    delete(key) {\n        if (this.has(key)) {\n            const name = this.getAttributeNameForKey(key);\n            this.element.removeAttribute(name);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    getAttributeNameForKey(key) {\n        return `data-${this.identifier}-${dasherize(key)}`;\n    }\n}\n\nclass Guide {\n    constructor(logger) {\n        this.warnedKeysByObject = new WeakMap();\n        this.logger = logger;\n    }\n    warn(object, key, message) {\n        let warnedKeys = this.warnedKeysByObject.get(object);\n        if (!warnedKeys) {\n            warnedKeys = new Set();\n            this.warnedKeysByObject.set(object, warnedKeys);\n        }\n        if (!warnedKeys.has(key)) {\n            warnedKeys.add(key);\n            this.logger.warn(message, object);\n        }\n    }\n}\n\nfunction attributeValueContainsToken(attributeName, token) {\n    return `[${attributeName}~=\"${token}\"]`;\n}\n\nclass TargetSet {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(targetName) {\n        return this.find(targetName) != null;\n    }\n    find(...targetNames) {\n        return targetNames.reduce((target, targetName) => target || this.findTarget(targetName) || this.findLegacyTarget(targetName), undefined);\n    }\n    findAll(...targetNames) {\n        return targetNames.reduce((targets, targetName) => [\n            ...targets,\n            ...this.findAllTargets(targetName),\n            ...this.findAllLegacyTargets(targetName),\n        ], []);\n    }\n    findTarget(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findElement(selector);\n    }\n    findAllTargets(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector);\n    }\n    getSelectorForTargetName(targetName) {\n        const attributeName = this.schema.targetAttributeForScope(this.identifier);\n        return attributeValueContainsToken(attributeName, targetName);\n    }\n    findLegacyTarget(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.deprecate(this.scope.findElement(selector), targetName);\n    }\n    findAllLegacyTargets(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector).map((element) => this.deprecate(element, targetName));\n    }\n    getLegacySelectorForTargetName(targetName) {\n        const targetDescriptor = `${this.identifier}.${targetName}`;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    }\n    deprecate(element, targetName) {\n        if (element) {\n            const { identifier } = this;\n            const attributeName = this.schema.targetAttribute;\n            const revisedAttributeName = this.schema.targetAttributeForScope(identifier);\n            this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}=\"${identifier}.${targetName}\" with ${revisedAttributeName}=\"${targetName}\". ` +\n                `The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);\n        }\n        return element;\n    }\n    get guide() {\n        return this.scope.guide;\n    }\n}\n\nclass OutletSet {\n    constructor(scope, controllerElement) {\n        this.scope = scope;\n        this.controllerElement = controllerElement;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(outletName) {\n        return this.find(outletName) != null;\n    }\n    find(...outletNames) {\n        return outletNames.reduce((outlet, outletName) => outlet || this.findOutlet(outletName), undefined);\n    }\n    findAll(...outletNames) {\n        return outletNames.reduce((outlets, outletName) => [...outlets, ...this.findAllOutlets(outletName)], []);\n    }\n    getSelectorForOutletName(outletName) {\n        const attributeName = this.schema.outletAttributeForScope(this.identifier, outletName);\n        return this.controllerElement.getAttribute(attributeName);\n    }\n    findOutlet(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        if (selector)\n            return this.findElement(selector, outletName);\n    }\n    findAllOutlets(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        return selector ? this.findAllElements(selector, outletName) : [];\n    }\n    findElement(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName))[0];\n    }\n    findAllElements(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName));\n    }\n    matchesElement(element, selector, outletName) {\n        const controllerAttribute = element.getAttribute(this.scope.schema.controllerAttribute) || \"\";\n        return element.matches(selector) && controllerAttribute.split(\" \").includes(outletName);\n    }\n}\n\nclass Scope {\n    constructor(schema, element, identifier, logger) {\n        this.targets = new TargetSet(this);\n        this.classes = new ClassMap(this);\n        this.data = new DataMap(this);\n        this.containsElement = (element) => {\n            return element.closest(this.controllerSelector) === this.element;\n        };\n        this.schema = schema;\n        this.element = element;\n        this.identifier = identifier;\n        this.guide = new Guide(logger);\n        this.outlets = new OutletSet(this.documentScope, element);\n    }\n    findElement(selector) {\n        return this.element.matches(selector) ? this.element : this.queryElements(selector).find(this.containsElement);\n    }\n    findAllElements(selector) {\n        return [\n            ...(this.element.matches(selector) ? [this.element] : []),\n            ...this.queryElements(selector).filter(this.containsElement),\n        ];\n    }\n    queryElements(selector) {\n        return Array.from(this.element.querySelectorAll(selector));\n    }\n    get controllerSelector() {\n        return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n    }\n    get isDocumentScope() {\n        return this.element === document.documentElement;\n    }\n    get documentScope() {\n        return this.isDocumentScope\n            ? this\n            : new Scope(this.schema, document.documentElement, this.identifier, this.guide.logger);\n    }\n}\n\nclass ScopeObserver {\n    constructor(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap();\n        this.scopeReferenceCounts = new WeakMap();\n    }\n    start() {\n        this.valueListObserver.start();\n    }\n    stop() {\n        this.valueListObserver.stop();\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    parseValueForToken(token) {\n        const { element, content: identifier } = token;\n        return this.parseValueForElementAndIdentifier(element, identifier);\n    }\n    parseValueForElementAndIdentifier(element, identifier) {\n        const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        let scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    }\n    elementMatchedValue(element, value) {\n        const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    }\n    elementUnmatchedValue(element, value) {\n        const referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    }\n    fetchScopesByIdentifierForElement(element) {\n        let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map();\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    }\n}\n\nclass Router {\n    constructor(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap();\n        this.modulesByIdentifier = new Map();\n    }\n    get element() {\n        return this.application.element;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get logger() {\n        return this.application.logger;\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    get modules() {\n        return Array.from(this.modulesByIdentifier.values());\n    }\n    get contexts() {\n        return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);\n    }\n    start() {\n        this.scopeObserver.start();\n    }\n    stop() {\n        this.scopeObserver.stop();\n    }\n    loadDefinition(definition) {\n        this.unloadIdentifier(definition.identifier);\n        const module = new Module(this.application, definition);\n        this.connectModule(module);\n        const afterLoad = definition.controllerConstructor.afterLoad;\n        if (afterLoad) {\n            afterLoad.call(definition.controllerConstructor, definition.identifier, this.application);\n        }\n    }\n    unloadIdentifier(identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    }\n    getContextForElementAndIdentifier(element, identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find((context) => context.element == element);\n        }\n    }\n    proposeToConnectScopeForElementAndIdentifier(element, identifier) {\n        const scope = this.scopeObserver.parseValueForElementAndIdentifier(element, identifier);\n        if (scope) {\n            this.scopeObserver.elementMatchedValue(scope.element, scope);\n        }\n        else {\n            console.error(`Couldn't find or create scope for identifier: \"${identifier}\" and element:`, element);\n        }\n    }\n    handleError(error, message, detail) {\n        this.application.handleError(error, message, detail);\n    }\n    createScopeForElementAndIdentifier(element, identifier) {\n        return new Scope(this.schema, element, identifier, this.logger);\n    }\n    scopeConnected(scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    }\n    scopeDisconnected(scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    }\n    connectModule(module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.connectContextForScope(scope));\n    }\n    disconnectModule(module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.disconnectContextForScope(scope));\n    }\n}\n\nconst defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\",\n    targetAttributeForScope: (identifier) => `data-${identifier}-target`,\n    outletAttributeForScope: (identifier, outlet) => `data-${identifier}-${outlet}-outlet`,\n    keyMappings: Object.assign(Object.assign({ enter: \"Enter\", tab: \"Tab\", esc: \"Escape\", space: \" \", up: \"ArrowUp\", down: \"ArrowDown\", left: \"ArrowLeft\", right: \"ArrowRight\", home: \"Home\", end: \"End\", page_up: \"PageUp\", page_down: \"PageDown\" }, objectFromEntries(\"abcdefghijklmnopqrstuvwxyz\".split(\"\").map((c) => [c, c]))), objectFromEntries(\"0123456789\".split(\"\").map((n) => [n, n]))),\n};\nfunction objectFromEntries(array) {\n    return array.reduce((memo, [k, v]) => (Object.assign(Object.assign({}, memo), { [k]: v })), {});\n}\n\nclass Application {\n    constructor(element = document.documentElement, schema = defaultSchema) {\n        this.logger = console;\n        this.debug = false;\n        this.logDebugActivity = (identifier, functionName, detail = {}) => {\n            if (this.debug) {\n                this.logFormattedMessage(identifier, functionName, detail);\n            }\n        };\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n        this.actionDescriptorFilters = Object.assign({}, defaultActionDescriptorFilters);\n    }\n    static start(element, schema) {\n        const application = new this(element, schema);\n        application.start();\n        return application;\n    }\n    async start() {\n        await domReady();\n        this.logDebugActivity(\"application\", \"starting\");\n        this.dispatcher.start();\n        this.router.start();\n        this.logDebugActivity(\"application\", \"start\");\n    }\n    stop() {\n        this.logDebugActivity(\"application\", \"stopping\");\n        this.dispatcher.stop();\n        this.router.stop();\n        this.logDebugActivity(\"application\", \"stop\");\n    }\n    register(identifier, controllerConstructor) {\n        this.load({ identifier, controllerConstructor });\n    }\n    registerActionOption(name, filter) {\n        this.actionDescriptorFilters[name] = filter;\n    }\n    load(head, ...rest) {\n        const definitions = Array.isArray(head) ? head : [head, ...rest];\n        definitions.forEach((definition) => {\n            if (definition.controllerConstructor.shouldLoad) {\n                this.router.loadDefinition(definition);\n            }\n        });\n    }\n    unload(head, ...rest) {\n        const identifiers = Array.isArray(head) ? head : [head, ...rest];\n        identifiers.forEach((identifier) => this.router.unloadIdentifier(identifier));\n    }\n    get controllers() {\n        return this.router.contexts.map((context) => context.controller);\n    }\n    getControllerForElementAndIdentifier(element, identifier) {\n        const context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    }\n    handleError(error, message, detail) {\n        var _a;\n        this.logger.error(`%s\\n\\n%o\\n\\n%o`, message, error, detail);\n        (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message, \"\", 0, 0, error);\n    }\n    logFormattedMessage(identifier, functionName, detail = {}) {\n        detail = Object.assign({ application: this }, detail);\n        this.logger.groupCollapsed(`${identifier} #${functionName}`);\n        this.logger.log(\"details:\", Object.assign({}, detail));\n        this.logger.groupEnd();\n    }\n}\nfunction domReady() {\n    return new Promise((resolve) => {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", () => resolve());\n        }\n        else {\n            resolve();\n        }\n    });\n}\n\nfunction ClassPropertiesBlessing(constructor) {\n    const classes = readInheritableStaticArrayValues(constructor, \"classes\");\n    return classes.reduce((properties, classDefinition) => {\n        return Object.assign(properties, propertiesForClassDefinition(classDefinition));\n    }, {});\n}\nfunction propertiesForClassDefinition(key) {\n    return {\n        [`${key}Class`]: {\n            get() {\n                const { classes } = this;\n                if (classes.has(key)) {\n                    return classes.get(key);\n                }\n                else {\n                    const attribute = classes.getAttributeName(key);\n                    throw new Error(`Missing attribute \"${attribute}\"`);\n                }\n            },\n        },\n        [`${key}Classes`]: {\n            get() {\n                return this.classes.getAll(key);\n            },\n        },\n        [`has${capitalize(key)}Class`]: {\n            get() {\n                return this.classes.has(key);\n            },\n        },\n    };\n}\n\nfunction OutletPropertiesBlessing(constructor) {\n    const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n    return outlets.reduce((properties, outletDefinition) => {\n        return Object.assign(properties, propertiesForOutletDefinition(outletDefinition));\n    }, {});\n}\nfunction getOutletController(controller, element, identifier) {\n    return controller.application.getControllerForElementAndIdentifier(element, identifier);\n}\nfunction getControllerAndEnsureConnectedScope(controller, element, outletName) {\n    let outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n    controller.application.router.proposeToConnectScopeForElementAndIdentifier(element, outletName);\n    outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n}\nfunction propertiesForOutletDefinition(name) {\n    const camelizedName = namespaceCamelize(name);\n    return {\n        [`${camelizedName}Outlet`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                    if (outletController)\n                        return outletController;\n                    throw new Error(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`);\n                }\n                throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n            },\n        },\n        [`${camelizedName}Outlets`]: {\n            get() {\n                const outlets = this.outlets.findAll(name);\n                if (outlets.length > 0) {\n                    return outlets\n                        .map((outletElement) => {\n                        const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                        if (outletController)\n                            return outletController;\n                        console.warn(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`, outletElement);\n                    })\n                        .filter((controller) => controller);\n                }\n                return [];\n            },\n        },\n        [`${camelizedName}OutletElement`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    return outletElement;\n                }\n                else {\n                    throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n                }\n            },\n        },\n        [`${camelizedName}OutletElements`]: {\n            get() {\n                return this.outlets.findAll(name);\n            },\n        },\n        [`has${capitalize(camelizedName)}Outlet`]: {\n            get() {\n                return this.outlets.has(name);\n            },\n        },\n    };\n}\n\nfunction TargetPropertiesBlessing(constructor) {\n    const targets = readInheritableStaticArrayValues(constructor, \"targets\");\n    return targets.reduce((properties, targetDefinition) => {\n        return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));\n    }, {});\n}\nfunction propertiesForTargetDefinition(name) {\n    return {\n        [`${name}Target`]: {\n            get() {\n                const target = this.targets.find(name);\n                if (target) {\n                    return target;\n                }\n                else {\n                    throw new Error(`Missing target element \"${name}\" for \"${this.identifier}\" controller`);\n                }\n            },\n        },\n        [`${name}Targets`]: {\n            get() {\n                return this.targets.findAll(name);\n            },\n        },\n        [`has${capitalize(name)}Target`]: {\n            get() {\n                return this.targets.has(name);\n            },\n        },\n    };\n}\n\nfunction ValuePropertiesBlessing(constructor) {\n    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, \"values\");\n    const propertyDescriptorMap = {\n        valueDescriptorMap: {\n            get() {\n                return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {\n                    const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair, this.identifier);\n                    const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);\n                    return Object.assign(result, { [attributeName]: valueDescriptor });\n                }, {});\n            },\n        },\n    };\n    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {\n        return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));\n    }, propertyDescriptorMap);\n}\nfunction propertiesForValueDefinitionPair(valueDefinitionPair, controller) {\n    const definition = parseValueDefinitionPair(valueDefinitionPair, controller);\n    const { key, name, reader: read, writer: write } = definition;\n    return {\n        [name]: {\n            get() {\n                const value = this.data.get(key);\n                if (value !== null) {\n                    return read(value);\n                }\n                else {\n                    return definition.defaultValue;\n                }\n            },\n            set(value) {\n                if (value === undefined) {\n                    this.data.delete(key);\n                }\n                else {\n                    this.data.set(key, write(value));\n                }\n            },\n        },\n        [`has${capitalize(name)}`]: {\n            get() {\n                return this.data.has(key) || definition.hasCustomDefaultValue;\n            },\n        },\n    };\n}\nfunction parseValueDefinitionPair([token, typeDefinition], controller) {\n    return valueDescriptorForTokenAndTypeDefinition({\n        controller,\n        token,\n        typeDefinition,\n    });\n}\nfunction parseValueTypeConstant(constant) {\n    switch (constant) {\n        case Array:\n            return \"array\";\n        case Boolean:\n            return \"boolean\";\n        case Number:\n            return \"number\";\n        case Object:\n            return \"object\";\n        case String:\n            return \"string\";\n    }\n}\nfunction parseValueTypeDefault(defaultValue) {\n    switch (typeof defaultValue) {\n        case \"boolean\":\n            return \"boolean\";\n        case \"number\":\n            return \"number\";\n        case \"string\":\n            return \"string\";\n    }\n    if (Array.isArray(defaultValue))\n        return \"array\";\n    if (Object.prototype.toString.call(defaultValue) === \"[object Object]\")\n        return \"object\";\n}\nfunction parseValueTypeObject(payload) {\n    const { controller, token, typeObject } = payload;\n    const hasType = isSomething(typeObject.type);\n    const hasDefault = isSomething(typeObject.default);\n    const fullObject = hasType && hasDefault;\n    const onlyType = hasType && !hasDefault;\n    const onlyDefault = !hasType && hasDefault;\n    const typeFromObject = parseValueTypeConstant(typeObject.type);\n    const typeFromDefaultValue = parseValueTypeDefault(payload.typeObject.default);\n    if (onlyType)\n        return typeFromObject;\n    if (onlyDefault)\n        return typeFromDefaultValue;\n    if (typeFromObject !== typeFromDefaultValue) {\n        const propertyPath = controller ? `${controller}.${token}` : token;\n        throw new Error(`The specified default value for the Stimulus Value \"${propertyPath}\" must match the defined type \"${typeFromObject}\". The provided default value of \"${typeObject.default}\" is of type \"${typeFromDefaultValue}\".`);\n    }\n    if (fullObject)\n        return typeFromObject;\n}\nfunction parseValueTypeDefinition(payload) {\n    const { controller, token, typeDefinition } = payload;\n    const typeObject = { controller, token, typeObject: typeDefinition };\n    const typeFromObject = parseValueTypeObject(typeObject);\n    const typeFromDefaultValue = parseValueTypeDefault(typeDefinition);\n    const typeFromConstant = parseValueTypeConstant(typeDefinition);\n    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;\n    if (type)\n        return type;\n    const propertyPath = controller ? `${controller}.${typeDefinition}` : token;\n    throw new Error(`Unknown value type \"${propertyPath}\" for \"${token}\" value`);\n}\nfunction defaultValueForDefinition(typeDefinition) {\n    const constant = parseValueTypeConstant(typeDefinition);\n    if (constant)\n        return defaultValuesByType[constant];\n    const hasDefault = hasProperty(typeDefinition, \"default\");\n    const hasType = hasProperty(typeDefinition, \"type\");\n    const typeObject = typeDefinition;\n    if (hasDefault)\n        return typeObject.default;\n    if (hasType) {\n        const { type } = typeObject;\n        const constantFromType = parseValueTypeConstant(type);\n        if (constantFromType)\n            return defaultValuesByType[constantFromType];\n    }\n    return typeDefinition;\n}\nfunction valueDescriptorForTokenAndTypeDefinition(payload) {\n    const { token, typeDefinition } = payload;\n    const key = `${dasherize(token)}-value`;\n    const type = parseValueTypeDefinition(payload);\n    return {\n        type,\n        key,\n        name: camelize(key),\n        get defaultValue() {\n            return defaultValueForDefinition(typeDefinition);\n        },\n        get hasCustomDefaultValue() {\n            return parseValueTypeDefault(typeDefinition) !== undefined;\n        },\n        reader: readers[type],\n        writer: writers[type] || writers.default,\n    };\n}\nconst defaultValuesByType = {\n    get array() {\n        return [];\n    },\n    boolean: false,\n    number: 0,\n    get object() {\n        return {};\n    },\n    string: \"\",\n};\nconst readers = {\n    array(value) {\n        const array = JSON.parse(value);\n        if (!Array.isArray(array)) {\n            throw new TypeError(`expected value of type \"array\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(array)}\"`);\n        }\n        return array;\n    },\n    boolean(value) {\n        return !(value == \"0\" || String(value).toLowerCase() == \"false\");\n    },\n    number(value) {\n        return Number(value.replace(/_/g, \"\"));\n    },\n    object(value) {\n        const object = JSON.parse(value);\n        if (object === null || typeof object != \"object\" || Array.isArray(object)) {\n            throw new TypeError(`expected value of type \"object\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(object)}\"`);\n        }\n        return object;\n    },\n    string(value) {\n        return value;\n    },\n};\nconst writers = {\n    default: writeString,\n    array: writeJSON,\n    object: writeJSON,\n};\nfunction writeJSON(value) {\n    return JSON.stringify(value);\n}\nfunction writeString(value) {\n    return `${value}`;\n}\n\nclass Controller {\n    constructor(context) {\n        this.context = context;\n    }\n    static get shouldLoad() {\n        return true;\n    }\n    static afterLoad(_identifier, _application) {\n        return;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get targets() {\n        return this.scope.targets;\n    }\n    get outlets() {\n        return this.scope.outlets;\n    }\n    get classes() {\n        return this.scope.classes;\n    }\n    get data() {\n        return this.scope.data;\n    }\n    initialize() {\n    }\n    connect() {\n    }\n    disconnect() {\n    }\n    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true, } = {}) {\n        const type = prefix ? `${prefix}:${eventName}` : eventName;\n        const event = new CustomEvent(type, { detail, bubbles, cancelable });\n        target.dispatchEvent(event);\n        return event;\n    }\n}\nController.blessings = [\n    ClassPropertiesBlessing,\n    TargetPropertiesBlessing,\n    ValuePropertiesBlessing,\n    OutletPropertiesBlessing,\n];\nController.targets = [];\nController.outlets = [];\nController.values = {};\n\nexport { Application, AttributeObserver, Context, Controller, ElementObserver, IndexedMultimap, Multimap, SelectorObserver, StringMapObserver, TokenListObserver, ValueListObserver, add, defaultSchema, del, fetch, prune };\n", "import { Controller } from \"@hotwired/stimulus\";\nimport toastr from \"toastr\";\n\nexport default class extends Controller {\n  connect() {\n    const flashMessagesElement = document.getElementById(\"flash-messages\");\n    if (flashMessagesElement) {\n      const flashData = JSON.parse(flashMessagesElement.dataset.flash);\n      console.log(\"Flash data:\", flashData); // <-- Agregar esta l\u00EDnea para verificar los datos flash\n      if (flashData.notice) {\n        toastr.success(flashData.notice);\n      }\n      if (flashData.alert) {\n        toastr.warning(flashData.alert);\n      }\n      if (flashData.error) {\n        toastr.error(flashData.error);\n      }\n    }\n  }\n}\n", "// Importar los controladores\nimport { Application } from \"@hotwired/stimulus\";\nimport FlashController from \"./flash_controller\";\n\n// Iniciar la aplicaci\u00F3n Stimulus\nconst application = Application.start();\napplication.register(\"flash\", FlashController);\n", "import \"@hotwired/turbo-rails\";\nimport \"./controllers\";\nimport \"bulma/css/bulma.css\";\nimport \"../assets/stylesheets/application.css\";\nimport \"../assets/stylesheets/dataTables_custom.css\";\n\nimport { Application } from \"@hotwired/stimulus\";\nimport toastr from \"toastr\";\nimport \"toastr/build/toastr.min.css\";\nimport 'datatables.net-dt/css/dataTables.dataTables.css';\nimport 'datatables.net-buttons-dt/css/buttons.dataTables.css';\nimport 'datatables.net';\nimport 'datatables.net-buttons';\nimport 'datatables.net-buttons/js/buttons.html5.js';\nimport 'datatables.net-buttons/js/buttons.print.js';\nimport Rails from \"@rails/ujs\";\n\nimport $ from 'jquery';\nwindow.$ = window.jQuery = $;\n\nRails.start();\nrequire(\"@rails/activestorage\").start();\n\nimport \"chartkick/chart.js\";\nimport { Chart, registerables } from 'chart.js';\nChart.register(...registerables);\n\nfunction calculatePageLength() {\n  const windowHeight = $(window).height();\n  const baseLength = 8;\n  let pageLength;\n\n  if (windowHeight < 600) {\n    pageLength = Math.max(3, baseLength - 4);\n  } else if (windowHeight < 800) {\n    pageLength = Math.max(5, baseLength - 2);\n  } else {\n    pageLength = baseLength;\n  }\n\n  if (pageLength >= 7) {\n    return pageLength - 1;\n  } else if (pageLength >= 5) {\n    return pageLength - 1;\n  } else if (pageLength >= 4) {\n    return pageLength - 1;\n  } else {\n    return pageLength;\n  }\n}\n\nfunction initializeDataTables() {\n  document.querySelectorAll('.table-datatables').forEach(table => {\n    if (!$.fn.DataTable.isDataTable(table)) {\n      var tableInstance = $(table).DataTable({\n        dom: 'Bfrtip',\n        buttons: [\n          {\n            extend: 'csv',\n            exportOptions: {\n              columns: ':not(:last-child)'\n            }\n          },\n          {\n            extend: 'print',\n            exportOptions: {\n              columns: ':not(:last-child)'\n            }\n          }\n        ],\n        paging: true,\n        searching: true,\n        info: true,\n        ordering: true,\n        pageLength: calculatePageLength(),\n      });\n\n      window.addEventListener('resize', function() {\n        tableInstance.page.len(calculatePageLength()).draw();\n      });\n    }\n  });\n}\n\ndocument.addEventListener(\"turbo:load\", () => {\n  const flashMessagesElement = document.getElementById(\"flash-messages\");\n  if (flashMessagesElement) {\n    const flashData = JSON.parse(flashMessagesElement.dataset.flash);\n    console.log(\"Flash data:\", flashData);\n    if (flashData.notice) {\n      toastr.success(flashData.notice);\n    }\n    if (flashData.alert) {\n      toastr.warning(flashData.alert);\n    }\n    if (flashData.error) {\n      toastr.error(flashData.error);\n    }\n  } else {\n    console.log(\"No flash messages element found\");\n  }\n\n  initializeDataTables();\n\n  const chartContainer = document.getElementById('chart-container');\n  if (chartContainer) {\n    const ctx = document.getElementById('myChart').getContext('2d');\n    const chartData = JSON.parse(chartContainer.dataset.chartData);\n    const chartType = chartContainer.dataset.chartType;\n    \n    let config;\n\n    if (chartType === 'courses_completed_per_month' || chartType === 'course_completions_by_month') {\n      config = {\n        type: 'bar',\n        data: {\n          labels: Object.keys(chartData),\n          datasets: [{\n            label: 'Cantidad',\n            data: Object.values(chartData),\n            borderColor: 'rgba(75, 192, 192, 1)',\n            backgroundColor: 'rgba(75, 192, 192, 0.2)',\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              position: 'top',\n            },\n            title: {\n              display: true,\n              text: 'Gr\u00E1fico de Barras'\n            }\n          }\n        }\n      };\n    } else if (chartType === 'user_distribution_by_university' || chartType === 'study_materials_distribution_by_category' || chartType === 'user_distribution_by_degree_and_university') {\n      config = {\n        type: 'pie',\n        data: {\n          labels: Object.keys(chartData),\n          datasets: [{\n            label: 'Cantidad',\n            data: Object.values(chartData),\n            backgroundColor: [\n              'rgba(255, 99, 132, 0.2)',\n              'rgba(54, 162, 235, 0.2)',\n              'rgba(255, 206, 86, 0.2)',\n              'rgba(75, 192, 192, 0.2)',\n              'rgba(153, 102, 255, 0.2)',\n              'rgba(255, 159, 64, 0.2)'\n            ],\n            borderColor: [\n              'rgba(255, 99, 132, 1)',\n              'rgba(54, 162, 235, 1)',\n              'rgba(255, 206, 86, 1)',\n              'rgba(75, 192, 192, 1)',\n              'rgba(153, 102, 255, 1)',\n              'rgba(255, 159, 64, 1)'\n            ],\n            borderWidth: 1\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              position: 'top',\n            },\n            title: {\n              display: true,\n              text: 'Gr\u00E1fico de Torta'\n            }\n          }\n        }\n      };\n    }\n\n    new Chart(ctx, config);\n  }\n});\n", "/*\nUnobtrusive JavaScript\nhttps://github.com/rails/rails/blob/main/actionview/app/javascript\nReleased under the MIT license\n */\nconst linkClickSelector = \"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]\";\n\nconst buttonClickSelector = {\n  selector: \"button[data-remote]:not([form]), button[data-confirm]:not([form])\",\n  exclude: \"form button\"\n};\n\nconst inputChangeSelector = \"select[data-remote], input[data-remote], textarea[data-remote]\";\n\nconst formSubmitSelector = \"form:not([data-turbo=true])\";\n\nconst formInputClickSelector = \"form:not([data-turbo=true]) input[type=submit], form:not([data-turbo=true]) input[type=image], form:not([data-turbo=true]) button[type=submit], form:not([data-turbo=true]) button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])\";\n\nconst formDisableSelector = \"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled\";\n\nconst formEnableSelector = \"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled\";\n\nconst fileInputSelector = \"input[name][type=file]:not([disabled])\";\n\nconst linkDisableSelector = \"a[data-disable-with], a[data-disable]\";\n\nconst buttonDisableSelector = \"button[data-remote][data-disable-with], button[data-remote][data-disable]\";\n\nlet nonce = null;\n\nconst loadCSPNonce = () => {\n  const metaTag = document.querySelector(\"meta[name=csp-nonce]\");\n  return nonce = metaTag && metaTag.content;\n};\n\nconst cspNonce = () => nonce || loadCSPNonce();\n\nconst m = Element.prototype.matches || Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nconst matches = function(element, selector) {\n  if (selector.exclude) {\n    return m.call(element, selector.selector) && !m.call(element, selector.exclude);\n  } else {\n    return m.call(element, selector);\n  }\n};\n\nconst EXPANDO = \"_ujsData\";\n\nconst getData = (element, key) => element[EXPANDO] ? element[EXPANDO][key] : undefined;\n\nconst setData = function(element, key, value) {\n  if (!element[EXPANDO]) {\n    element[EXPANDO] = {};\n  }\n  return element[EXPANDO][key] = value;\n};\n\nconst $ = selector => Array.prototype.slice.call(document.querySelectorAll(selector));\n\nconst isContentEditable = function(element) {\n  var isEditable = false;\n  do {\n    if (element.isContentEditable) {\n      isEditable = true;\n      break;\n    }\n    element = element.parentElement;\n  } while (element);\n  return isEditable;\n};\n\nconst csrfToken = () => {\n  const meta = document.querySelector(\"meta[name=csrf-token]\");\n  return meta && meta.content;\n};\n\nconst csrfParam = () => {\n  const meta = document.querySelector(\"meta[name=csrf-param]\");\n  return meta && meta.content;\n};\n\nconst CSRFProtection = xhr => {\n  const token = csrfToken();\n  if (token) {\n    return xhr.setRequestHeader(\"X-CSRF-Token\", token);\n  }\n};\n\nconst refreshCSRFTokens = () => {\n  const token = csrfToken();\n  const param = csrfParam();\n  if (token && param) {\n    return $('form input[name=\"' + param + '\"]').forEach((input => input.value = token));\n  }\n};\n\nconst AcceptHeaders = {\n  \"*\": \"*/*\",\n  text: \"text/plain\",\n  html: \"text/html\",\n  xml: \"application/xml, text/xml\",\n  json: \"application/json, text/javascript\",\n  script: \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"\n};\n\nconst ajax = options => {\n  options = prepareOptions(options);\n  var xhr = createXHR(options, (function() {\n    const response = processResponse(xhr.response != null ? xhr.response : xhr.responseText, xhr.getResponseHeader(\"Content-Type\"));\n    if (Math.floor(xhr.status / 100) === 2) {\n      if (typeof options.success === \"function\") {\n        options.success(response, xhr.statusText, xhr);\n      }\n    } else {\n      if (typeof options.error === \"function\") {\n        options.error(response, xhr.statusText, xhr);\n      }\n    }\n    return typeof options.complete === \"function\" ? options.complete(xhr, xhr.statusText) : undefined;\n  }));\n  if (options.beforeSend && !options.beforeSend(xhr, options)) {\n    return false;\n  }\n  if (xhr.readyState === XMLHttpRequest.OPENED) {\n    return xhr.send(options.data);\n  }\n};\n\nvar prepareOptions = function(options) {\n  options.url = options.url || location.href;\n  options.type = options.type.toUpperCase();\n  if (options.type === \"GET\" && options.data) {\n    if (options.url.indexOf(\"?\") < 0) {\n      options.url += \"?\" + options.data;\n    } else {\n      options.url += \"&\" + options.data;\n    }\n  }\n  if (!(options.dataType in AcceptHeaders)) {\n    options.dataType = \"*\";\n  }\n  options.accept = AcceptHeaders[options.dataType];\n  if (options.dataType !== \"*\") {\n    options.accept += \", */*; q=0.01\";\n  }\n  return options;\n};\n\nvar createXHR = function(options, done) {\n  const xhr = new XMLHttpRequest;\n  xhr.open(options.type, options.url, true);\n  xhr.setRequestHeader(\"Accept\", options.accept);\n  if (typeof options.data === \"string\") {\n    xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded; charset=UTF-8\");\n  }\n  if (!options.crossDomain) {\n    xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n    CSRFProtection(xhr);\n  }\n  xhr.withCredentials = !!options.withCredentials;\n  xhr.onreadystatechange = function() {\n    if (xhr.readyState === XMLHttpRequest.DONE) {\n      return done(xhr);\n    }\n  };\n  return xhr;\n};\n\nvar processResponse = function(response, type) {\n  if (typeof response === \"string\" && typeof type === \"string\") {\n    if (type.match(/\\bjson\\b/)) {\n      try {\n        response = JSON.parse(response);\n      } catch (error) {}\n    } else if (type.match(/\\b(?:java|ecma)script\\b/)) {\n      const script = document.createElement(\"script\");\n      script.setAttribute(\"nonce\", cspNonce());\n      script.text = response;\n      document.head.appendChild(script).parentNode.removeChild(script);\n    } else if (type.match(/\\b(xml|html|svg)\\b/)) {\n      const parser = new DOMParser;\n      type = type.replace(/;.+/, \"\");\n      try {\n        response = parser.parseFromString(response, type);\n      } catch (error1) {}\n    }\n  }\n  return response;\n};\n\nconst href = element => element.href;\n\nconst isCrossDomain = function(url) {\n  const originAnchor = document.createElement(\"a\");\n  originAnchor.href = location.href;\n  const urlAnchor = document.createElement(\"a\");\n  try {\n    urlAnchor.href = url;\n    return !((!urlAnchor.protocol || urlAnchor.protocol === \":\") && !urlAnchor.host || originAnchor.protocol + \"//\" + originAnchor.host === urlAnchor.protocol + \"//\" + urlAnchor.host);\n  } catch (e) {\n    return true;\n  }\n};\n\nlet preventDefault;\n\nlet {CustomEvent: CustomEvent} = window;\n\nif (typeof CustomEvent !== \"function\") {\n  CustomEvent = function(event, params) {\n    const evt = document.createEvent(\"CustomEvent\");\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  };\n  CustomEvent.prototype = window.Event.prototype;\n  ({preventDefault: preventDefault} = CustomEvent.prototype);\n  CustomEvent.prototype.preventDefault = function() {\n    const result = preventDefault.call(this);\n    if (this.cancelable && !this.defaultPrevented) {\n      Object.defineProperty(this, \"defaultPrevented\", {\n        get() {\n          return true;\n        }\n      });\n    }\n    return result;\n  };\n}\n\nconst fire = (obj, name, data) => {\n  const event = new CustomEvent(name, {\n    bubbles: true,\n    cancelable: true,\n    detail: data\n  });\n  obj.dispatchEvent(event);\n  return !event.defaultPrevented;\n};\n\nconst stopEverything = e => {\n  fire(e.target, \"ujs:everythingStopped\");\n  e.preventDefault();\n  e.stopPropagation();\n  e.stopImmediatePropagation();\n};\n\nconst delegate = (element, selector, eventType, handler) => element.addEventListener(eventType, (function(e) {\n  let {target: target} = e;\n  while (!!(target instanceof Element) && !matches(target, selector)) {\n    target = target.parentNode;\n  }\n  if (target instanceof Element && handler.call(target, e) === false) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n}));\n\nconst toArray = e => Array.prototype.slice.call(e);\n\nconst serializeElement = (element, additionalParam) => {\n  let inputs = [ element ];\n  if (matches(element, \"form\")) {\n    inputs = toArray(element.elements);\n  }\n  const params = [];\n  inputs.forEach((function(input) {\n    if (!input.name || input.disabled) {\n      return;\n    }\n    if (matches(input, \"fieldset[disabled] *\")) {\n      return;\n    }\n    if (matches(input, \"select\")) {\n      toArray(input.options).forEach((function(option) {\n        if (option.selected) {\n          params.push({\n            name: input.name,\n            value: option.value\n          });\n        }\n      }));\n    } else if (input.checked || [ \"radio\", \"checkbox\", \"submit\" ].indexOf(input.type) === -1) {\n      params.push({\n        name: input.name,\n        value: input.value\n      });\n    }\n  }));\n  if (additionalParam) {\n    params.push(additionalParam);\n  }\n  return params.map((function(param) {\n    if (param.name) {\n      return `${encodeURIComponent(param.name)}=${encodeURIComponent(param.value)}`;\n    } else {\n      return param;\n    }\n  })).join(\"&\");\n};\n\nconst formElements = (form, selector) => {\n  if (matches(form, \"form\")) {\n    return toArray(form.elements).filter((el => matches(el, selector)));\n  } else {\n    return toArray(form.querySelectorAll(selector));\n  }\n};\n\nconst handleConfirmWithRails = rails => function(e) {\n  if (!allowAction(this, rails)) {\n    stopEverything(e);\n  }\n};\n\nconst confirm = (message, element) => window.confirm(message);\n\nvar allowAction = function(element, rails) {\n  let callback;\n  const message = element.getAttribute(\"data-confirm\");\n  if (!message) {\n    return true;\n  }\n  let answer = false;\n  if (fire(element, \"confirm\")) {\n    try {\n      answer = rails.confirm(message, element);\n    } catch (error) {}\n    callback = fire(element, \"confirm:complete\", [ answer ]);\n  }\n  return answer && callback;\n};\n\nconst handleDisabledElement = function(e) {\n  const element = this;\n  if (element.disabled) {\n    stopEverything(e);\n  }\n};\n\nconst enableElement = e => {\n  let element;\n  if (e instanceof Event) {\n    if (isXhrRedirect(e)) {\n      return;\n    }\n    element = e.target;\n  } else {\n    element = e;\n  }\n  if (isContentEditable(element)) {\n    return;\n  }\n  if (matches(element, linkDisableSelector)) {\n    return enableLinkElement(element);\n  } else if (matches(element, buttonDisableSelector) || matches(element, formEnableSelector)) {\n    return enableFormElement(element);\n  } else if (matches(element, formSubmitSelector)) {\n    return enableFormElements(element);\n  }\n};\n\nconst disableElement = e => {\n  const element = e instanceof Event ? e.target : e;\n  if (isContentEditable(element)) {\n    return;\n  }\n  if (matches(element, linkDisableSelector)) {\n    return disableLinkElement(element);\n  } else if (matches(element, buttonDisableSelector) || matches(element, formDisableSelector)) {\n    return disableFormElement(element);\n  } else if (matches(element, formSubmitSelector)) {\n    return disableFormElements(element);\n  }\n};\n\nvar disableLinkElement = function(element) {\n  if (getData(element, \"ujs:disabled\")) {\n    return;\n  }\n  const replacement = element.getAttribute(\"data-disable-with\");\n  if (replacement != null) {\n    setData(element, \"ujs:enable-with\", element.innerHTML);\n    element.innerHTML = replacement;\n  }\n  element.addEventListener(\"click\", stopEverything);\n  return setData(element, \"ujs:disabled\", true);\n};\n\nvar enableLinkElement = function(element) {\n  const originalText = getData(element, \"ujs:enable-with\");\n  if (originalText != null) {\n    element.innerHTML = originalText;\n    setData(element, \"ujs:enable-with\", null);\n  }\n  element.removeEventListener(\"click\", stopEverything);\n  return setData(element, \"ujs:disabled\", null);\n};\n\nvar disableFormElements = form => formElements(form, formDisableSelector).forEach(disableFormElement);\n\nvar disableFormElement = function(element) {\n  if (getData(element, \"ujs:disabled\")) {\n    return;\n  }\n  const replacement = element.getAttribute(\"data-disable-with\");\n  if (replacement != null) {\n    if (matches(element, \"button\")) {\n      setData(element, \"ujs:enable-with\", element.innerHTML);\n      element.innerHTML = replacement;\n    } else {\n      setData(element, \"ujs:enable-with\", element.value);\n      element.value = replacement;\n    }\n  }\n  element.disabled = true;\n  return setData(element, \"ujs:disabled\", true);\n};\n\nvar enableFormElements = form => formElements(form, formEnableSelector).forEach((element => enableFormElement(element)));\n\nvar enableFormElement = function(element) {\n  const originalText = getData(element, \"ujs:enable-with\");\n  if (originalText != null) {\n    if (matches(element, \"button\")) {\n      element.innerHTML = originalText;\n    } else {\n      element.value = originalText;\n    }\n    setData(element, \"ujs:enable-with\", null);\n  }\n  element.disabled = false;\n  return setData(element, \"ujs:disabled\", null);\n};\n\nvar isXhrRedirect = function(event) {\n  const xhr = event.detail ? event.detail[0] : undefined;\n  return xhr && xhr.getResponseHeader(\"X-Xhr-Redirect\");\n};\n\nconst handleMethodWithRails = rails => function(e) {\n  const link = this;\n  const method = link.getAttribute(\"data-method\");\n  if (!method) {\n    return;\n  }\n  if (isContentEditable(this)) {\n    return;\n  }\n  const href = rails.href(link);\n  const csrfToken$1 = csrfToken();\n  const csrfParam$1 = csrfParam();\n  const form = document.createElement(\"form\");\n  let formContent = `<input name='_method' value='${method}' type='hidden' />`;\n  if (csrfParam$1 && csrfToken$1 && !isCrossDomain(href)) {\n    formContent += `<input name='${csrfParam$1}' value='${csrfToken$1}' type='hidden' />`;\n  }\n  formContent += '<input type=\"submit\" />';\n  form.method = \"post\";\n  form.action = href;\n  form.target = link.target;\n  form.innerHTML = formContent;\n  form.style.display = \"none\";\n  document.body.appendChild(form);\n  form.querySelector('[type=\"submit\"]').click();\n  stopEverything(e);\n};\n\nconst isRemote = function(element) {\n  const value = element.getAttribute(\"data-remote\");\n  return value != null && value !== \"false\";\n};\n\nconst handleRemoteWithRails = rails => function(e) {\n  let data, method, url;\n  const element = this;\n  if (!isRemote(element)) {\n    return true;\n  }\n  if (!fire(element, \"ajax:before\")) {\n    fire(element, \"ajax:stopped\");\n    return false;\n  }\n  if (isContentEditable(element)) {\n    fire(element, \"ajax:stopped\");\n    return false;\n  }\n  const withCredentials = element.getAttribute(\"data-with-credentials\");\n  const dataType = element.getAttribute(\"data-type\") || \"script\";\n  if (matches(element, formSubmitSelector)) {\n    const button = getData(element, \"ujs:submit-button\");\n    method = getData(element, \"ujs:submit-button-formmethod\") || element.getAttribute(\"method\") || \"get\";\n    url = getData(element, \"ujs:submit-button-formaction\") || element.getAttribute(\"action\") || location.href;\n    if (method.toUpperCase() === \"GET\") {\n      url = url.replace(/\\?.*$/, \"\");\n    }\n    if (element.enctype === \"multipart/form-data\") {\n      data = new FormData(element);\n      if (button != null) {\n        data.append(button.name, button.value);\n      }\n    } else {\n      data = serializeElement(element, button);\n    }\n    setData(element, \"ujs:submit-button\", null);\n    setData(element, \"ujs:submit-button-formmethod\", null);\n    setData(element, \"ujs:submit-button-formaction\", null);\n  } else if (matches(element, buttonClickSelector) || matches(element, inputChangeSelector)) {\n    method = element.getAttribute(\"data-method\");\n    url = element.getAttribute(\"data-url\");\n    data = serializeElement(element, element.getAttribute(\"data-params\"));\n  } else {\n    method = element.getAttribute(\"data-method\");\n    url = rails.href(element);\n    data = element.getAttribute(\"data-params\");\n  }\n  ajax({\n    type: method || \"GET\",\n    url: url,\n    data: data,\n    dataType: dataType,\n    beforeSend(xhr, options) {\n      if (fire(element, \"ajax:beforeSend\", [ xhr, options ])) {\n        return fire(element, \"ajax:send\", [ xhr ]);\n      } else {\n        fire(element, \"ajax:stopped\");\n        return false;\n      }\n    },\n    success(...args) {\n      return fire(element, \"ajax:success\", args);\n    },\n    error(...args) {\n      return fire(element, \"ajax:error\", args);\n    },\n    complete(...args) {\n      return fire(element, \"ajax:complete\", args);\n    },\n    crossDomain: isCrossDomain(url),\n    withCredentials: withCredentials != null && withCredentials !== \"false\"\n  });\n  stopEverything(e);\n};\n\nconst formSubmitButtonClick = function(e) {\n  const button = this;\n  const {form: form} = button;\n  if (!form) {\n    return;\n  }\n  if (button.name) {\n    setData(form, \"ujs:submit-button\", {\n      name: button.name,\n      value: button.value\n    });\n  }\n  setData(form, \"ujs:formnovalidate-button\", button.formNoValidate);\n  setData(form, \"ujs:submit-button-formaction\", button.getAttribute(\"formaction\"));\n  return setData(form, \"ujs:submit-button-formmethod\", button.getAttribute(\"formmethod\"));\n};\n\nconst preventInsignificantClick = function(e) {\n  const link = this;\n  const method = (link.getAttribute(\"data-method\") || \"GET\").toUpperCase();\n  const data = link.getAttribute(\"data-params\");\n  const metaClick = e.metaKey || e.ctrlKey;\n  const insignificantMetaClick = metaClick && method === \"GET\" && !data;\n  const nonPrimaryMouseClick = e.button != null && e.button !== 0;\n  if (nonPrimaryMouseClick || insignificantMetaClick) {\n    e.stopImmediatePropagation();\n  }\n};\n\nconst Rails = {\n  $: $,\n  ajax: ajax,\n  buttonClickSelector: buttonClickSelector,\n  buttonDisableSelector: buttonDisableSelector,\n  confirm: confirm,\n  cspNonce: cspNonce,\n  csrfToken: csrfToken,\n  csrfParam: csrfParam,\n  CSRFProtection: CSRFProtection,\n  delegate: delegate,\n  disableElement: disableElement,\n  enableElement: enableElement,\n  fileInputSelector: fileInputSelector,\n  fire: fire,\n  formElements: formElements,\n  formEnableSelector: formEnableSelector,\n  formDisableSelector: formDisableSelector,\n  formInputClickSelector: formInputClickSelector,\n  formSubmitButtonClick: formSubmitButtonClick,\n  formSubmitSelector: formSubmitSelector,\n  getData: getData,\n  handleDisabledElement: handleDisabledElement,\n  href: href,\n  inputChangeSelector: inputChangeSelector,\n  isCrossDomain: isCrossDomain,\n  linkClickSelector: linkClickSelector,\n  linkDisableSelector: linkDisableSelector,\n  loadCSPNonce: loadCSPNonce,\n  matches: matches,\n  preventInsignificantClick: preventInsignificantClick,\n  refreshCSRFTokens: refreshCSRFTokens,\n  serializeElement: serializeElement,\n  setData: setData,\n  stopEverything: stopEverything\n};\n\nconst handleConfirm = handleConfirmWithRails(Rails);\n\nRails.handleConfirm = handleConfirm;\n\nconst handleMethod = handleMethodWithRails(Rails);\n\nRails.handleMethod = handleMethod;\n\nconst handleRemote = handleRemoteWithRails(Rails);\n\nRails.handleRemote = handleRemote;\n\nconst start = function() {\n  if (window._rails_loaded) {\n    throw new Error(\"rails-ujs has already been loaded!\");\n  }\n  window.addEventListener(\"pageshow\", (function() {\n    $(formEnableSelector).forEach((function(el) {\n      if (getData(el, \"ujs:disabled\")) {\n        enableElement(el);\n      }\n    }));\n    $(linkDisableSelector).forEach((function(el) {\n      if (getData(el, \"ujs:disabled\")) {\n        enableElement(el);\n      }\n    }));\n  }));\n  delegate(document, linkDisableSelector, \"ajax:complete\", enableElement);\n  delegate(document, linkDisableSelector, \"ajax:stopped\", enableElement);\n  delegate(document, buttonDisableSelector, \"ajax:complete\", enableElement);\n  delegate(document, buttonDisableSelector, \"ajax:stopped\", enableElement);\n  delegate(document, linkClickSelector, \"click\", preventInsignificantClick);\n  delegate(document, linkClickSelector, \"click\", handleDisabledElement);\n  delegate(document, linkClickSelector, \"click\", handleConfirm);\n  delegate(document, linkClickSelector, \"click\", disableElement);\n  delegate(document, linkClickSelector, \"click\", handleRemote);\n  delegate(document, linkClickSelector, \"click\", handleMethod);\n  delegate(document, buttonClickSelector, \"click\", preventInsignificantClick);\n  delegate(document, buttonClickSelector, \"click\", handleDisabledElement);\n  delegate(document, buttonClickSelector, \"click\", handleConfirm);\n  delegate(document, buttonClickSelector, \"click\", disableElement);\n  delegate(document, buttonClickSelector, \"click\", handleRemote);\n  delegate(document, inputChangeSelector, \"change\", handleDisabledElement);\n  delegate(document, inputChangeSelector, \"change\", handleConfirm);\n  delegate(document, inputChangeSelector, \"change\", handleRemote);\n  delegate(document, formSubmitSelector, \"submit\", handleDisabledElement);\n  delegate(document, formSubmitSelector, \"submit\", handleConfirm);\n  delegate(document, formSubmitSelector, \"submit\", handleRemote);\n  delegate(document, formSubmitSelector, \"submit\", (e => setTimeout((() => disableElement(e)), 13)));\n  delegate(document, formSubmitSelector, \"ajax:send\", disableElement);\n  delegate(document, formSubmitSelector, \"ajax:complete\", enableElement);\n  delegate(document, formInputClickSelector, \"click\", preventInsignificantClick);\n  delegate(document, formInputClickSelector, \"click\", handleDisabledElement);\n  delegate(document, formInputClickSelector, \"click\", handleConfirm);\n  delegate(document, formInputClickSelector, \"click\", formSubmitButtonClick);\n  document.addEventListener(\"DOMContentLoaded\", refreshCSRFTokens);\n  document.addEventListener(\"DOMContentLoaded\", loadCSPNonce);\n  return window._rails_loaded = true;\n};\n\nRails.start = start;\n\nif (typeof jQuery !== \"undefined\" && jQuery && jQuery.ajax) {\n  if (jQuery.rails) {\n    throw new Error(\"If you load both jquery_ujs and rails-ujs, use rails-ujs only.\");\n  }\n  jQuery.rails = Rails;\n  jQuery.ajaxPrefilter((function(options, originalOptions, xhr) {\n    if (!options.crossDomain) {\n      return CSRFProtection(xhr);\n    }\n  }));\n}\n\nexport { Rails as default };\n", "/*!\n * Chartkick.js v5.0.1\n * Create beautiful charts with one line of JavaScript\n * https://github.com/ankane/chartkick.js\n * MIT License\n */\n\nfunction isArray(variable) {\n  return Object.prototype.toString.call(variable) === \"[object Array]\";\n}\n\nfunction isFunction(variable) {\n  return variable instanceof Function;\n}\n\nfunction isPlainObject(variable) {\n  // protect against prototype pollution, defense 2\n  return Object.prototype.toString.call(variable) === \"[object Object]\" && !isFunction(variable) && variable instanceof Object;\n}\n\n// https://github.com/madrobby/zepto/blob/master/src/zepto.js\nfunction extend(target, source) {\n  for (var key in source) {\n    // protect against prototype pollution, defense 1\n    if (key === \"__proto__\") { continue; }\n\n    if (isPlainObject(source[key]) || isArray(source[key])) {\n      if (isPlainObject(source[key]) && !isPlainObject(target[key])) {\n        target[key] = {};\n      }\n      if (isArray(source[key]) && !isArray(target[key])) {\n        target[key] = [];\n      }\n      extend(target[key], source[key]);\n    } else if (source[key] !== undefined) {\n      target[key] = source[key];\n    }\n  }\n}\n\nfunction merge(obj1, obj2) {\n  var target = {};\n  extend(target, obj1);\n  extend(target, obj2);\n  return target;\n}\n\nvar DATE_PATTERN = /^(\\d\\d\\d\\d)(?:-)?(\\d\\d)(?:-)?(\\d\\d)$/i;\n\nfunction negativeValues(series) {\n  for (var i = 0; i < series.length; i++) {\n    var data = series[i].data;\n    for (var j = 0; j < data.length; j++) {\n      if (data[j][1] < 0) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction toStr(obj) {\n  return \"\" + obj;\n}\n\nfunction toFloat(obj) {\n  return parseFloat(obj);\n}\n\nfunction toDate(obj) {\n  if (obj instanceof Date) {\n    return obj;\n  } else if (typeof obj === \"number\") {\n    return new Date(obj * 1000); // ms\n  } else {\n    var s = toStr(obj);\n    var matches = s.match(DATE_PATTERN);\n    if (matches) {\n      var year = parseInt(matches[1], 10);\n      var month = parseInt(matches[2], 10) - 1;\n      var day = parseInt(matches[3], 10);\n      return new Date(year, month, day);\n    } else {\n      // try our best to get the str into iso8601\n      // TODO be smarter about this\n      var str = s.replace(/ /, \"T\").replace(\" \", \"\").replace(\"UTC\", \"Z\");\n      // Date.parse returns milliseconds if valid and NaN if invalid\n      return new Date(Date.parse(str) || s);\n    }\n  }\n}\n\nfunction toArr(obj) {\n  if (isArray(obj)) {\n    return obj;\n  } else {\n    var arr = [];\n    for (var i in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, i)) {\n        arr.push([i, obj[i]]);\n      }\n    }\n    return arr;\n  }\n}\n\nfunction jsOptionsFunc(defaultOptions, hideLegend, setTitle, setMin, setMax, setStacked, setXtitle, setYtitle) {\n  return function (chart, opts, chartOptions) {\n    var series = chart.data;\n    var options = merge({}, defaultOptions);\n    options = merge(options, chartOptions || {});\n\n    if (chart.singleSeriesFormat || \"legend\" in opts) {\n      hideLegend(options, opts.legend, chart.singleSeriesFormat);\n    }\n\n    if (opts.title) {\n      setTitle(options, opts.title);\n    }\n\n    // min\n    if (\"min\" in opts) {\n      setMin(options, opts.min);\n    } else if (!negativeValues(series)) {\n      setMin(options, 0);\n    }\n\n    // max\n    if (opts.max) {\n      setMax(options, opts.max);\n    }\n\n    if (\"stacked\" in opts) {\n      setStacked(options, opts.stacked);\n    }\n\n    if (opts.colors) {\n      options.colors = opts.colors;\n    }\n\n    if (opts.xtitle) {\n      setXtitle(options, opts.xtitle);\n    }\n\n    if (opts.ytitle) {\n      setYtitle(options, opts.ytitle);\n    }\n\n    // merge library last\n    options = merge(options, opts.library || {});\n\n    return options;\n  };\n}\n\nfunction sortByTime(a, b) {\n  return a[0].getTime() - b[0].getTime();\n}\n\nfunction sortByNumberSeries(a, b) {\n  return a[0] - b[0];\n}\n\n// needed since sort() without arguments does string comparison\nfunction sortByNumber(a, b) {\n  return a - b;\n}\n\nfunction every(values, fn) {\n  for (var i = 0; i < values.length; i++) {\n    if (!fn(values[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction isDay(timeUnit) {\n  return timeUnit === \"day\" || timeUnit === \"week\" || timeUnit === \"month\" || timeUnit === \"year\";\n}\n\nfunction calculateTimeUnit(values, maxDay) {\n  if ( maxDay === void 0 ) maxDay = false;\n\n  if (values.length === 0) {\n    return null;\n  }\n\n  var minute = every(values, function (d) { return d.getMilliseconds() === 0 && d.getSeconds() === 0; });\n  if (!minute) {\n    return null;\n  }\n\n  var hour = every(values, function (d) { return d.getMinutes() === 0; });\n  if (!hour) {\n    return \"minute\";\n  }\n\n  var day = every(values, function (d) { return d.getHours() === 0; });\n  if (!day) {\n    return \"hour\";\n  }\n\n  if (maxDay) {\n    return \"day\";\n  }\n\n  var month = every(values, function (d) { return d.getDate() === 1; });\n  if (!month) {\n    var dayOfWeek = values[0].getDay();\n    var week = every(values, function (d) { return d.getDay() === dayOfWeek; });\n    return (week ? \"week\" : \"day\");\n  }\n\n  var year = every(values, function (d) { return d.getMonth() === 0; });\n  if (!year) {\n    return \"month\";\n  }\n\n  return \"year\";\n}\n\nfunction isDate(obj) {\n  return !isNaN(toDate(obj)) && toStr(obj).length >= 6;\n}\n\nfunction isNumber(obj) {\n  return typeof obj === \"number\";\n}\n\nvar byteSuffixes = [\"bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\"];\n\nfunction formatValue(pre, value, options, axis) {\n  pre = pre || \"\";\n  if (options.prefix) {\n    if (value < 0) {\n      value = value * -1;\n      pre += \"-\";\n    }\n    pre += options.prefix;\n  }\n\n  var suffix = options.suffix || \"\";\n  var precision = options.precision;\n  var round = options.round;\n\n  if (options.byteScale) {\n    var positive = value >= 0;\n    if (!positive) {\n      value *= -1;\n    }\n\n    var baseValue = axis ? options.byteScale : value;\n\n    var suffixIdx;\n    if (baseValue >= 1152921504606846976) {\n      value /= 1152921504606846976;\n      suffixIdx = 6;\n    } else if (baseValue >= 1125899906842624) {\n      value /= 1125899906842624;\n      suffixIdx = 5;\n    } else if (baseValue >= 1099511627776) {\n      value /= 1099511627776;\n      suffixIdx = 4;\n    } else if (baseValue >= 1073741824) {\n      value /= 1073741824;\n      suffixIdx = 3;\n    } else if (baseValue >= 1048576) {\n      value /= 1048576;\n      suffixIdx = 2;\n    } else if (baseValue >= 1024) {\n      value /= 1024;\n      suffixIdx = 1;\n    } else {\n      suffixIdx = 0;\n    }\n\n    // TODO handle manual precision case\n    if (precision === undefined && round === undefined) {\n      if (value >= 1023.5) {\n        if (suffixIdx < byteSuffixes.length - 1) {\n          value = 1.0;\n          suffixIdx += 1;\n        }\n      }\n      precision = value >= 1000 ? 4 : 3;\n    }\n    suffix = \" \" + byteSuffixes[suffixIdx];\n\n    // flip value back\n    if (!positive) {\n      value *= -1;\n    }\n  }\n\n  if (precision !== undefined && round !== undefined) {\n    throw Error(\"Use either round or precision, not both\");\n  }\n\n  if (!axis) {\n    if (precision !== undefined) {\n      value = value.toPrecision(precision);\n      if (!options.zeros) {\n        value = parseFloat(value);\n      }\n    }\n\n    if (round !== undefined) {\n      if (round < 0) {\n        var num = Math.pow(10, -1 * round);\n        value = parseInt((1.0 * value / num).toFixed(0)) * num;\n      } else {\n        value = value.toFixed(round);\n        if (!options.zeros) {\n          value = parseFloat(value);\n        }\n      }\n    }\n  }\n\n  if (options.thousands || options.decimal) {\n    value = toStr(value);\n    var parts = value.split(\".\");\n    value = parts[0];\n    if (options.thousands) {\n      value = value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, options.thousands);\n    }\n    if (parts.length > 1) {\n      value += (options.decimal || \".\") + parts[1];\n    }\n  }\n\n  return pre + value + suffix;\n}\n\nfunction seriesOption(chart, series, option) {\n  if (option in series) {\n    return series[option];\n  } else if (option in chart.options) {\n    return chart.options[option];\n  }\n  return null;\n}\n\nvar baseOptions = {\n  maintainAspectRatio: false,\n  animation: false,\n  plugins: {\n    legend: {},\n    tooltip: {\n      displayColors: false,\n      callbacks: {}\n    },\n    title: {\n      font: {\n        size: 20\n      },\n      color: \"#333\"\n    }\n  },\n  interaction: {}\n};\n\nvar defaultOptions$2 = {\n  scales: {\n    y: {\n      ticks: {\n        maxTicksLimit: 4\n      },\n      title: {\n        font: {\n          size: 16\n        },\n        color: \"#333\"\n      },\n      grid: {}\n    },\n    x: {\n      grid: {\n        drawOnChartArea: false\n      },\n      title: {\n        font: {\n          size: 16\n        },\n        color: \"#333\"\n      },\n      time: {},\n      ticks: {}\n    }\n  }\n};\n\n// http://there4.io/2012/05/02/google-chart-color-list/\nvar defaultColors = [\n  \"#3366CC\", \"#DC3912\", \"#FF9900\", \"#109618\", \"#990099\", \"#3B3EAC\", \"#0099C6\",\n  \"#DD4477\", \"#66AA00\", \"#B82E2E\", \"#316395\", \"#994499\", \"#22AA99\", \"#AAAA11\",\n  \"#6633CC\", \"#E67300\", \"#8B0707\", \"#329262\", \"#5574A6\", \"#651067\"\n];\n\nfunction hideLegend$2(options, legend, hideLegend) {\n  if (legend !== undefined) {\n    options.plugins.legend.display = !!legend;\n    if (legend && legend !== true) {\n      options.plugins.legend.position = legend;\n    }\n  } else if (hideLegend) {\n    options.plugins.legend.display = false;\n  }\n}\n\nfunction setTitle$2(options, title) {\n  options.plugins.title.display = true;\n  options.plugins.title.text = title;\n}\n\nfunction setMin$2(options, min) {\n  if (min !== null) {\n    options.scales.y.min = toFloat(min);\n  }\n}\n\nfunction setMax$2(options, max) {\n  options.scales.y.max = toFloat(max);\n}\n\nfunction setBarMin$1(options, min) {\n  if (min !== null) {\n    options.scales.x.min = toFloat(min);\n  }\n}\n\nfunction setBarMax$1(options, max) {\n  options.scales.x.max = toFloat(max);\n}\n\nfunction setStacked$2(options, stacked) {\n  options.scales.x.stacked = !!stacked;\n  options.scales.y.stacked = !!stacked;\n}\n\nfunction setXtitle$2(options, title) {\n  options.scales.x.title.display = true;\n  options.scales.x.title.text = title;\n}\n\nfunction setYtitle$2(options, title) {\n  options.scales.y.title.display = true;\n  options.scales.y.title.text = title;\n}\n\n// https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\nfunction addOpacity(hex, opacity) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? \"rgba(\" + parseInt(result[1], 16) + \", \" + parseInt(result[2], 16) + \", \" + parseInt(result[3], 16) + \", \" + opacity + \")\" : hex;\n}\n\nfunction notnull(x) {\n  return x !== null && x !== undefined;\n}\n\nfunction setLabelSize(chart, data, options) {\n  var maxLabelSize = Math.ceil(chart.element.offsetWidth / 4.0 / data.labels.length);\n  if (maxLabelSize > 25) {\n    maxLabelSize = 25;\n  } else if (maxLabelSize < 10) {\n    maxLabelSize = 10;\n  }\n  if (!options.scales.x.ticks.callback) {\n    options.scales.x.ticks.callback = function (value) {\n      value = toStr(this.getLabelForValue(value));\n      if (value.length > maxLabelSize) {\n        return value.substring(0, maxLabelSize - 2) + \"...\";\n      } else {\n        return value;\n      }\n    };\n  }\n}\n\nfunction calculateScale(series) {\n  var scale = 1;\n  var max = maxAbsY(series);\n  while (max >= 1024) {\n    scale *= 1024;\n    max /= 1024;\n  }\n  return scale;\n}\n\nfunction setFormatOptions$1(chart, options, chartType) {\n  // options to apply to x and r values for scatter and bubble\n  var numericOptions = {\n    thousands: chart.options.thousands,\n    decimal: chart.options.decimal\n  };\n\n  // options to apply to y value\n  var formatOptions = merge({\n    prefix: chart.options.prefix,\n    suffix: chart.options.suffix,\n    precision: chart.options.precision,\n    round: chart.options.round,\n    zeros: chart.options.zeros\n  }, numericOptions);\n\n  if (chart.options.bytes) {\n    var series = chart.data;\n    if (chartType === \"pie\") {\n      series = [{data: series}];\n    }\n\n    // set step size\n    formatOptions.byteScale = calculateScale(series);\n  }\n\n  if (chartType !== \"pie\") {\n    var axis = options.scales.y;\n    if (chartType === \"bar\") {\n      axis = options.scales.x;\n    }\n\n    if (formatOptions.byteScale) {\n      if (!axis.ticks.stepSize) {\n        axis.ticks.stepSize = formatOptions.byteScale / 2;\n      }\n      if (!axis.ticks.maxTicksLimit) {\n        axis.ticks.maxTicksLimit = 4;\n      }\n    }\n\n    if (!axis.ticks.callback) {\n      axis.ticks.callback = function (value) {\n        return formatValue(\"\", value, formatOptions, true);\n      };\n    }\n\n    if ((chartType === \"scatter\" || chartType === \"bubble\") && !options.scales.x.ticks.callback) {\n      options.scales.x.ticks.callback = function (value) {\n        return formatValue(\"\", value, numericOptions, true);\n      };\n    }\n  }\n\n  if (!options.plugins.tooltip.callbacks.label) {\n    if (chartType === \"scatter\") {\n      options.plugins.tooltip.callbacks.label = function (context) {\n        var label = context.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n\n        var dataPoint = context.parsed;\n        return label + '(' + formatValue('', dataPoint.x, numericOptions) + ', ' + formatValue('', dataPoint.y, formatOptions) + ')';\n      };\n    } else if (chartType === \"bubble\") {\n      options.plugins.tooltip.callbacks.label = function (context) {\n        var label = context.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n        var dataPoint = context.raw;\n        return label + '(' + formatValue('', dataPoint.x, numericOptions) + ', ' + formatValue('', dataPoint.y, formatOptions) + ', ' + formatValue('', dataPoint.v, numericOptions) + ')';\n      };\n    } else if (chartType === \"pie\") {\n      // need to use separate label for pie charts\n      options.plugins.tooltip.callbacks.label = function (context) {\n        return formatValue('', context.parsed, formatOptions);\n      };\n    } else {\n      var valueLabel = chartType === \"bar\" ? \"x\" : \"y\";\n      options.plugins.tooltip.callbacks.label = function (context) {\n        // don't show null values for stacked charts\n        if (context.parsed[valueLabel] === null) {\n          return;\n        }\n\n        var label = context.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n        return formatValue(label, context.parsed[valueLabel], formatOptions);\n      };\n    }\n  }\n\n  // avoid formatting x-axis labels\n  // by default, Chart.js applies locale\n  if ((chartType === \"line\" || chartType === \"area\") && chart.xtype === \"number\") {\n    if (!options.scales.x.ticks.callback) {\n      options.scales.x.ticks.callback = function (value) {\n        return toStr(value);\n      };\n    }\n\n    if (!options.plugins.tooltip.callbacks.title) {\n      options.plugins.tooltip.callbacks.title = function (context) {\n        return toStr(context[0].parsed.x);\n      };\n    }\n  }\n}\n\nfunction maxAbsY(series) {\n  var max = 0;\n  for (var i = 0; i < series.length; i++) {\n    var data = series[i].data;\n    for (var j = 0; j < data.length; j++) {\n      var v = Math.abs(data[j][1]);\n      if (v > max) {\n        max = v;\n      }\n    }\n  }\n  return max;\n}\n\nfunction maxR(series) {\n  // start at zero since radius must be positive\n  var max = 0;\n  for (var i = 0; i < series.length; i++) {\n    var data = series[i].data;\n    for (var j = 0; j < data.length; j++) {\n      var v = data[j][2];\n      if (v > max) {\n        max = v;\n      }\n    }\n  }\n  return max;\n}\n\nvar jsOptions$2 = jsOptionsFunc(merge(baseOptions, defaultOptions$2), hideLegend$2, setTitle$2, setMin$2, setMax$2, setStacked$2, setXtitle$2, setYtitle$2);\n\nfunction prepareDefaultData(chart) {\n  var series = chart.data;\n  var rows = {};\n  var keys = [];\n  var labels = [];\n  var values = [];\n\n  for (var i = 0; i < series.length; i++) {\n    var data = series[i].data;\n\n    for (var j = 0; j < data.length; j++) {\n      var d = data[j];\n      var key = chart.xtype === \"datetime\" ? d[0].getTime() : d[0];\n      if (!rows[key]) {\n        rows[key] = new Array(series.length);\n        keys.push(key);\n      }\n      rows[key][i] = d[1];\n    }\n  }\n\n  if (chart.xtype === \"datetime\" || chart.xtype === \"number\") {\n    keys.sort(sortByNumber);\n  }\n\n  for (var i$1 = 0; i$1 < series.length; i$1++) {\n    values.push([]);\n  }\n\n  for (var i$2 = 0; i$2 < keys.length; i$2++) {\n    var key$1 = keys[i$2];\n\n    var label = chart.xtype === \"datetime\" ? new Date(key$1) : key$1;\n    labels.push(label);\n\n    var row = rows[key$1];\n    for (var j$1 = 0; j$1 < series.length; j$1++) {\n      var v = row[j$1];\n      // Chart.js doesn't like undefined\n      values[j$1].push(v === undefined ? null : v);\n    }\n  }\n\n  return {\n    labels: labels,\n    values: values\n  };\n}\n\nfunction prepareBubbleData(chart) {\n  var series = chart.data;\n  var values = [];\n  var max = maxR(series);\n\n  for (var i = 0; i < series.length; i++) {\n    var data = series[i].data;\n    var points = [];\n    for (var j = 0; j < data.length; j++) {\n      var v = data[j];\n      points.push({\n        x: v[0],\n        y: v[1],\n        r: v[2] * 20 / max,\n        // custom attribute, for tooltip\n        v: v[2]\n      });\n    }\n    values.push(points);\n  }\n\n  return {\n    labels: [],\n    values: values\n  };\n}\n\n// scatter or numeric line/area\nfunction prepareNumberData(chart) {\n  var series = chart.data;\n  var values = [];\n\n  for (var i = 0; i < series.length; i++) {\n    var data = series[i].data;\n\n    data.sort(sortByNumberSeries);\n\n    var points = [];\n    for (var j = 0; j < data.length; j++) {\n      var v = data[j];\n      points.push({\n        x: v[0],\n        y: v[1]\n      });\n    }\n    values.push(points);\n  }\n\n  return {\n    labels: [],\n    values: values\n  };\n}\n\nfunction prepareData(chart, chartType) {\n  if (chartType === \"bubble\") {\n    return prepareBubbleData(chart);\n  } else if (chart.xtype === \"number\" && chartType !== \"bar\" && chartType !== \"column\") {\n    return prepareNumberData(chart);\n  } else {\n    return prepareDefaultData(chart);\n  }\n}\n\nfunction createDataTable(chart, options, chartType) {\n  var ref = prepareData(chart, chartType);\n  var labels = ref.labels;\n  var values = ref.values;\n\n  var series = chart.data;\n  var datasets = [];\n  var colors = chart.options.colors || defaultColors;\n  for (var i = 0; i < series.length; i++) {\n    var s = series[i];\n\n    // use colors for each bar for single series format\n    var color = (void 0);\n    var backgroundColor = (void 0);\n    if (chart.options.colors && chart.singleSeriesFormat && (chartType === \"bar\" || chartType === \"column\") && !s.color && isArray(chart.options.colors) && !isArray(chart.options.colors[0])) {\n      color = colors;\n      backgroundColor = [];\n      for (var j = 0; j < colors.length; j++) {\n        backgroundColor[j] = addOpacity(color[j], 0.5);\n      }\n    } else {\n      color = s.color || colors[i];\n      backgroundColor = chartType !== \"line\" ? addOpacity(color, 0.5) : color;\n    }\n\n    var dataset = {\n      label: s.name || \"\",\n      data: values[i],\n      fill: chartType === \"area\",\n      borderColor: color,\n      backgroundColor: backgroundColor,\n      borderWidth: 2\n    };\n\n    var pointChart = chartType === \"line\" || chartType === \"area\" || chartType === \"scatter\" || chartType === \"bubble\";\n    if (pointChart) {\n      dataset.pointBackgroundColor = color;\n      dataset.pointHoverBackgroundColor = color;\n      dataset.pointHitRadius = 50;\n    }\n\n    if (chartType === \"bubble\") {\n      dataset.pointBackgroundColor = backgroundColor;\n      dataset.pointHoverBackgroundColor = backgroundColor;\n      dataset.pointHoverBorderWidth = 2;\n    }\n\n    if (s.stack) {\n      dataset.stack = s.stack;\n    }\n\n    var curve = seriesOption(chart, s, \"curve\");\n    if (curve === false) {\n      dataset.tension = 0;\n    } else if (pointChart) {\n      dataset.tension = 0.4;\n    }\n\n    var points = seriesOption(chart, s, \"points\");\n    if (points === false) {\n      dataset.pointRadius = 0;\n      dataset.pointHoverRadius = 0;\n    }\n\n    dataset = merge(dataset, chart.options.dataset || {});\n    dataset = merge(dataset, s.library || {});\n    dataset = merge(dataset, s.dataset || {});\n\n    datasets.push(dataset);\n  }\n\n  var xmin = chart.options.xmin;\n  var xmax = chart.options.xmax;\n\n  if (chart.xtype === \"datetime\") {\n    if (notnull(xmin)) {\n      options.scales.x.min = toDate(xmin).getTime();\n    }\n    if (notnull(xmax)) {\n      options.scales.x.max = toDate(xmax).getTime();\n    }\n  } else if (chart.xtype === \"number\") {\n    if (notnull(xmin)) {\n      options.scales.x.min = xmin;\n    }\n    if (notnull(xmax)) {\n      options.scales.x.max = xmax;\n    }\n  }\n\n  if (chart.xtype === \"datetime\") {\n    var timeUnit = calculateTimeUnit(labels);\n\n    // for empty datetime chart\n    if (labels.length === 0) {\n      if (notnull(xmin)) {\n        labels.push(toDate(xmin));\n      }\n      if (notnull(xmax)) {\n        labels.push(toDate(xmax));\n      }\n    }\n\n    if (labels.length > 0) {\n      var minTime = (notnull(xmin) ? toDate(xmin) : labels[0]).getTime();\n      var maxTime = (notnull(xmax) ? toDate(xmax) : labels[0]).getTime();\n\n      for (var i$1 = 1; i$1 < labels.length; i$1++) {\n        var value = labels[i$1].getTime();\n        if (value < minTime) {\n          minTime = value;\n        }\n        if (value > maxTime) {\n          maxTime = value;\n        }\n      }\n\n      var timeDiff = (maxTime - minTime) / (86400 * 1000.0);\n\n      if (!options.scales.x.time.unit) {\n        var step;\n        if (timeUnit === \"year\" || timeDiff > 365 * 10) {\n          options.scales.x.time.unit = \"year\";\n          step = 365;\n        } else if (timeUnit === \"month\" || timeDiff > 30 * 10) {\n          options.scales.x.time.unit = \"month\";\n          step = 30;\n        } else if (timeUnit === \"week\" || timeUnit === \"day\" || timeDiff > 10) {\n          options.scales.x.time.unit = \"day\";\n          step = 1;\n        } else if (timeUnit === \"hour\" || timeDiff > 0.5) {\n          options.scales.x.time.displayFormats = {hour: \"MMM d, h a\"};\n          options.scales.x.time.unit = \"hour\";\n          step = 1 / 24.0;\n        } else if (timeUnit === \"minute\") {\n          options.scales.x.time.displayFormats = {minute: \"h:mm a\"};\n          options.scales.x.time.unit = \"minute\";\n          step = 1 / 24.0 / 60.0;\n        }\n\n        if (step && timeDiff > 0) {\n          // width not available for hidden elements\n          var width = chart.element.offsetWidth;\n          if (width > 0) {\n            var unitStepSize = Math.ceil(timeDiff / step / (width / 100.0));\n            if (timeUnit === \"week\" && step === 1) {\n              unitStepSize = Math.ceil(unitStepSize / 7.0) * 7;\n            }\n            options.scales.x.ticks.stepSize = unitStepSize;\n          }\n        }\n      }\n\n      if (!options.scales.x.time.tooltipFormat) {\n        if (timeUnit === \"year\") {\n          options.scales.x.time.tooltipFormat = \"yyyy\";\n        } else if (timeUnit === \"month\") {\n          options.scales.x.time.tooltipFormat = \"MMM yyyy\";\n        } else if (timeUnit === \"week\" || timeUnit === \"day\") {\n          options.scales.x.time.tooltipFormat = \"PP\";\n        } else if (timeUnit === \"hour\") {\n          options.scales.x.time.tooltipFormat = \"MMM d, h a\";\n        } else if (timeUnit === \"minute\") {\n          options.scales.x.time.tooltipFormat = \"h:mm a\";\n        }\n      }\n    }\n  }\n\n  return {\n    labels: labels,\n    datasets: datasets\n  };\n}\n\nvar defaultExport$2 = function defaultExport(library) {\n  this.name = \"chartjs\";\n  this.library = library;\n};\n\ndefaultExport$2.prototype.renderLineChart = function renderLineChart (chart, chartType) {\n  if (!chartType) {\n    chartType = \"line\";\n  }\n\n  var chartOptions = {};\n\n  var options = jsOptions$2(chart, merge(chartOptions, chart.options));\n  setFormatOptions$1(chart, options, chartType);\n\n  var data = createDataTable(chart, options, chartType);\n\n  if (chart.xtype === \"number\") {\n    options.scales.x.type = options.scales.x.type || \"linear\";\n    options.scales.x.position = options.scales.x.position || \"bottom\";\n  } else {\n    options.scales.x.type = chart.xtype === \"string\" ? \"category\" : \"time\";\n  }\n\n  this.drawChart(chart, \"line\", data, options);\n};\n\ndefaultExport$2.prototype.renderPieChart = function renderPieChart (chart) {\n  var options = merge({}, baseOptions);\n  if (chart.options.donut) {\n    options.cutout = \"50%\";\n  }\n\n  if (\"legend\" in chart.options) {\n    hideLegend$2(options, chart.options.legend);\n  }\n\n  if (chart.options.title) {\n    setTitle$2(options, chart.options.title);\n  }\n\n  options = merge(options, chart.options.library || {});\n  setFormatOptions$1(chart, options, \"pie\");\n\n  var labels = [];\n  var values = [];\n  for (var i = 0; i < chart.data.length; i++) {\n    var point = chart.data[i];\n    labels.push(point[0]);\n    values.push(point[1]);\n  }\n\n  var dataset = {\n    data: values,\n    backgroundColor: chart.options.colors || defaultColors\n  };\n  dataset = merge(dataset, chart.options.dataset || {});\n\n  var data = {\n    labels: labels,\n    datasets: [dataset]\n  };\n\n  this.drawChart(chart, \"pie\", data, options);\n};\n\ndefaultExport$2.prototype.renderColumnChart = function renderColumnChart (chart, chartType) {\n  var options;\n  if (chartType === \"bar\") {\n    var barOptions = merge(baseOptions, defaultOptions$2);\n    barOptions.indexAxis = \"y\";\n\n    // ensure gridlines have proper orientation\n    barOptions.scales.x.grid.drawOnChartArea = true;\n    barOptions.scales.y.grid.drawOnChartArea = false;\n    delete barOptions.scales.y.ticks.maxTicksLimit;\n\n    options = jsOptionsFunc(barOptions, hideLegend$2, setTitle$2, setBarMin$1, setBarMax$1, setStacked$2, setXtitle$2, setYtitle$2)(chart, chart.options);\n  } else {\n    options = jsOptions$2(chart, chart.options);\n  }\n  setFormatOptions$1(chart, options, chartType);\n  var data = createDataTable(chart, options, \"column\");\n  if (chartType !== \"bar\") {\n    setLabelSize(chart, data, options);\n  }\n  if (!(\"mode\" in options.interaction)) {\n    options.interaction.mode = \"index\";\n  }\n  this.drawChart(chart, \"bar\", data, options);\n};\n\ndefaultExport$2.prototype.renderAreaChart = function renderAreaChart (chart) {\n  this.renderLineChart(chart, \"area\");\n};\n\ndefaultExport$2.prototype.renderBarChart = function renderBarChart (chart) {\n  this.renderColumnChart(chart, \"bar\");\n};\n\ndefaultExport$2.prototype.renderScatterChart = function renderScatterChart (chart, chartType) {\n  chartType = chartType || \"scatter\";\n\n  var options = jsOptions$2(chart, chart.options);\n  setFormatOptions$1(chart, options, chartType);\n\n  if (!(\"showLine\" in options)) {\n    options.showLine = false;\n  }\n\n  var data = createDataTable(chart, options, chartType);\n\n  options.scales.x.type = options.scales.x.type || \"linear\";\n  options.scales.x.position = options.scales.x.position || \"bottom\";\n\n  // prevent grouping hover and tooltips\n  if (!(\"mode\" in options.interaction)) {\n    options.interaction.mode = \"nearest\";\n  }\n\n  this.drawChart(chart, chartType, data, options);\n};\n\ndefaultExport$2.prototype.renderBubbleChart = function renderBubbleChart (chart) {\n  this.renderScatterChart(chart, \"bubble\");\n};\n\ndefaultExport$2.prototype.destroy = function destroy (chart) {\n  if (chart.chart) {\n    chart.chart.destroy();\n  }\n};\n\ndefaultExport$2.prototype.drawChart = function drawChart (chart, type, data, options) {\n  this.destroy(chart);\n  if (chart.destroyed) { return; }\n\n  var chartOptions = {\n    type: type,\n    data: data,\n    options: options\n  };\n\n  if (chart.options.code) {\n    window.console.log(\"new Chart(ctx, \" + JSON.stringify(chartOptions) + \");\");\n  }\n\n  chart.element.innerHTML = \"<canvas></canvas>\";\n  var ctx = chart.element.getElementsByTagName(\"CANVAS\")[0];\n  chart.chart = new this.library(ctx, chartOptions);\n};\n\nvar defaultOptions$1 = {\n  chart: {},\n  xAxis: {\n    title: {\n      text: null\n    },\n    labels: {\n      style: {\n        fontSize: \"12px\"\n      }\n    }\n  },\n  yAxis: {\n    title: {\n      text: null\n    },\n    labels: {\n      style: {\n        fontSize: \"12px\"\n      }\n    }\n  },\n  title: {\n    text: null\n  },\n  credits: {\n    enabled: false\n  },\n  legend: {\n    borderWidth: 0\n  },\n  tooltip: {\n    style: {\n      fontSize: \"12px\"\n    }\n  },\n  plotOptions: {\n    areaspline: {},\n    area: {},\n    series: {\n      marker: {}\n    }\n  },\n  time: {\n    useUTC: false\n  }\n};\n\nfunction hideLegend$1(options, legend, hideLegend) {\n  if (legend !== undefined) {\n    options.legend.enabled = !!legend;\n    if (legend && legend !== true) {\n      if (legend === \"top\" || legend === \"bottom\") {\n        options.legend.verticalAlign = legend;\n      } else {\n        options.legend.layout = \"vertical\";\n        options.legend.verticalAlign = \"middle\";\n        options.legend.align = legend;\n      }\n    }\n  } else if (hideLegend) {\n    options.legend.enabled = false;\n  }\n}\n\nfunction setTitle$1(options, title) {\n  options.title.text = title;\n}\n\nfunction setMin$1(options, min) {\n  options.yAxis.min = min;\n}\n\nfunction setMax$1(options, max) {\n  options.yAxis.max = max;\n}\n\nfunction setStacked$1(options, stacked) {\n  var stackedValue = stacked ? (stacked === true ? \"normal\" : stacked) : null;\n  options.plotOptions.series.stacking = stackedValue;\n  options.plotOptions.area.stacking = stackedValue;\n  options.plotOptions.areaspline.stacking = stackedValue;\n}\n\nfunction setXtitle$1(options, title) {\n  options.xAxis.title.text = title;\n}\n\nfunction setYtitle$1(options, title) {\n  options.yAxis.title.text = title;\n}\n\nvar jsOptions$1 = jsOptionsFunc(defaultOptions$1, hideLegend$1, setTitle$1, setMin$1, setMax$1, setStacked$1, setXtitle$1, setYtitle$1);\n\nfunction setFormatOptions(chart, options, chartType) {\n  var formatOptions = {\n    prefix: chart.options.prefix,\n    suffix: chart.options.suffix,\n    thousands: chart.options.thousands,\n    decimal: chart.options.decimal,\n    precision: chart.options.precision,\n    round: chart.options.round,\n    zeros: chart.options.zeros\n  };\n\n  // skip when axis is an array (like with min/max)\n  if (chartType !== \"pie\" && !isArray(options.yAxis) && !options.yAxis.labels.formatter) {\n    options.yAxis.labels.formatter = function () {\n      return formatValue(\"\", this.value, formatOptions);\n    };\n  }\n\n  if (!options.tooltip.pointFormatter && !options.tooltip.pointFormat) {\n    options.tooltip.pointFormatter = function () {\n      return '<span style=\"color:' + this.color + '\">\\u25CF</span> ' + formatValue(this.series.name + ': <b>', this.y, formatOptions) + '</b><br/>';\n    };\n  }\n}\n\nvar defaultExport$1 = function defaultExport(library) {\n  this.name = \"highcharts\";\n  this.library = library;\n};\n\ndefaultExport$1.prototype.renderLineChart = function renderLineChart (chart, chartType) {\n  chartType = chartType || \"spline\";\n  var chartOptions = {};\n  if (chartType === \"areaspline\") {\n    chartOptions = {\n      plotOptions: {\n        areaspline: {\n          stacking: \"normal\"\n        },\n        area: {\n          stacking: \"normal\"\n        },\n        series: {\n          marker: {\n            enabled: false\n          }\n        }\n      }\n    };\n  }\n\n  if (chart.options.curve === false) {\n    if (chartType === \"areaspline\") {\n      chartType = \"area\";\n    } else if (chartType === \"spline\") {\n      chartType = \"line\";\n    }\n  }\n\n  var options = jsOptions$1(chart, chart.options, chartOptions);\n  if (chart.xtype === \"number\") {\n    options.xAxis.type = options.xAxis.type || \"linear\";\n  } else {\n    options.xAxis.type = chart.xtype === \"string\" ? \"category\" : \"datetime\";\n  }\n  if (!options.chart.type) {\n    options.chart.type = chartType;\n  }\n  setFormatOptions(chart, options, chartType);\n\n  var series = chart.data;\n  for (var i = 0; i < series.length; i++) {\n    series[i].name = series[i].name || \"Value\";\n    var data = series[i].data;\n    if (chart.xtype === \"datetime\") {\n      for (var j = 0; j < data.length; j++) {\n        data[j][0] = data[j][0].getTime();\n      }\n    } else if (chart.xtype === \"number\") {\n      data.sort(sortByNumberSeries);\n    }\n    series[i].marker = {symbol: \"circle\"};\n    if (chart.options.points === false) {\n      series[i].marker.enabled = false;\n    }\n  }\n\n  this.drawChart(chart, series, options);\n};\n\ndefaultExport$1.prototype.renderScatterChart = function renderScatterChart (chart) {\n  var options = jsOptions$1(chart, chart.options, {});\n  options.chart.type = \"scatter\";\n  this.drawChart(chart, chart.data, options);\n};\n\ndefaultExport$1.prototype.renderPieChart = function renderPieChart (chart) {\n  var chartOptions = merge(defaultOptions$1, {});\n\n  if (chart.options.colors) {\n    chartOptions.colors = chart.options.colors;\n  }\n  if (chart.options.donut) {\n    chartOptions.plotOptions = {pie: {innerSize: \"50%\"}};\n  }\n\n  if (\"legend\" in chart.options) {\n    hideLegend$1(chartOptions, chart.options.legend);\n  }\n\n  if (chart.options.title) {\n    setTitle$1(chartOptions, chart.options.title);\n  }\n\n  var options = merge(chartOptions, chart.options.library || {});\n  setFormatOptions(chart, options, \"pie\");\n  var series = [{\n    type: \"pie\",\n    name: chart.options.label || \"Value\",\n    data: chart.data\n  }];\n\n  this.drawChart(chart, series, options);\n};\n\ndefaultExport$1.prototype.renderColumnChart = function renderColumnChart (chart, chartType) {\n  chartType = chartType || \"column\";\n  var series = chart.data;\n  var options = jsOptions$1(chart, chart.options);\n  var rows = [];\n  var categories = [];\n  options.chart.type = chartType;\n  setFormatOptions(chart, options, chartType);\n\n  for (var i = 0; i < series.length; i++) {\n    var s = series[i];\n\n    for (var j = 0; j < s.data.length; j++) {\n      var d = s.data[j];\n      if (!rows[d[0]]) {\n        rows[d[0]] = new Array(series.length);\n        categories.push(d[0]);\n      }\n      rows[d[0]][i] = d[1];\n    }\n  }\n\n  if (chart.xtype === \"number\") {\n    categories.sort(sortByNumber);\n  }\n\n  options.xAxis.categories = categories;\n\n  var newSeries = [];\n  for (var i$1 = 0; i$1 < series.length; i$1++) {\n    var d$1 = [];\n    for (var j$1 = 0; j$1 < categories.length; j$1++) {\n      d$1.push(rows[categories[j$1]][i$1] || 0);\n    }\n\n    var d2 = {\n      name: series[i$1].name || \"Value\",\n      data: d$1\n    };\n    if (series[i$1].stack) {\n      d2.stack = series[i$1].stack;\n    }\n\n    newSeries.push(d2);\n  }\n\n  this.drawChart(chart, newSeries, options);\n};\n\ndefaultExport$1.prototype.renderBarChart = function renderBarChart (chart) {\n  this.renderColumnChart(chart, \"bar\");\n};\n\ndefaultExport$1.prototype.renderAreaChart = function renderAreaChart (chart) {\n  this.renderLineChart(chart, \"areaspline\");\n};\n\ndefaultExport$1.prototype.destroy = function destroy (chart) {\n  if (chart.chart) {\n    chart.chart.destroy();\n  }\n};\n\ndefaultExport$1.prototype.drawChart = function drawChart (chart, data, options) {\n  this.destroy(chart);\n  if (chart.destroyed) { return; }\n\n  options.chart.renderTo = chart.element.id;\n  options.series = data;\n\n  if (chart.options.code) {\n    window.console.log(\"new Highcharts.Chart(\" + JSON.stringify(options) + \");\");\n  }\n\n  chart.chart = new this.library.Chart(options);\n};\n\nvar loaded = {};\nvar callbacks = [];\n\n// Set chart options\nvar defaultOptions = {\n  chartArea: {},\n  fontName: \"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif\",\n  pointSize: 6,\n  legend: {\n    textStyle: {\n      fontSize: 12,\n      color: \"#444\"\n    },\n    alignment: \"center\",\n    position: \"right\"\n  },\n  curveType: \"function\",\n  hAxis: {\n    textStyle: {\n      color: \"#666\",\n      fontSize: 12\n    },\n    titleTextStyle: {},\n    gridlines: {\n      color: \"transparent\"\n    },\n    baselineColor: \"#ccc\",\n    viewWindow: {}\n  },\n  vAxis: {\n    textStyle: {\n      color: \"#666\",\n      fontSize: 12\n    },\n    titleTextStyle: {},\n    baselineColor: \"#ccc\",\n    viewWindow: {}\n  },\n  tooltip: {\n    textStyle: {\n      color: \"#666\",\n      fontSize: 12\n    }\n  }\n};\n\nfunction hideLegend(options, legend, hideLegend) {\n  if (legend !== undefined) {\n    var position;\n    if (!legend) {\n      position = \"none\";\n    } else if (legend === true) {\n      position = \"right\";\n    } else {\n      position = legend;\n    }\n    options.legend.position = position;\n  } else if (hideLegend) {\n    options.legend.position = \"none\";\n  }\n}\n\nfunction setTitle(options, title) {\n  options.title = title;\n  options.titleTextStyle = {color: \"#333\", fontSize: \"20px\"};\n}\n\nfunction setMin(options, min) {\n  options.vAxis.viewWindow.min = min;\n}\n\nfunction setMax(options, max) {\n  options.vAxis.viewWindow.max = max;\n}\n\nfunction setBarMin(options, min) {\n  options.hAxis.viewWindow.min = min;\n}\n\nfunction setBarMax(options, max) {\n  options.hAxis.viewWindow.max = max;\n}\n\nfunction setStacked(options, stacked) {\n  options.isStacked = stacked || false;\n}\n\nfunction setXtitle(options, title) {\n  options.hAxis.title = title;\n  options.hAxis.titleTextStyle.italic = false;\n}\n\nfunction setYtitle(options, title) {\n  options.vAxis.title = title;\n  options.vAxis.titleTextStyle.italic = false;\n}\n\nvar jsOptions = jsOptionsFunc(defaultOptions, hideLegend, setTitle, setMin, setMax, setStacked, setXtitle, setYtitle);\n\nfunction resize(callback) {\n  if (window.attachEvent) {\n    window.attachEvent(\"onresize\", callback);\n  } else if (window.addEventListener) {\n    window.addEventListener(\"resize\", callback, true);\n  }\n  callback();\n}\n\nvar defaultExport = function defaultExport(library) {\n  this.name = \"google\";\n  this.library = library;\n};\n\ndefaultExport.prototype.renderLineChart = function renderLineChart (chart) {\n    var this$1$1 = this;\n\n  this.waitForLoaded(chart, function () {\n    var chartOptions = {};\n\n    if (chart.options.curve === false) {\n      chartOptions.curveType = \"none\";\n    }\n\n    if (chart.options.points === false) {\n      chartOptions.pointSize = 0;\n    }\n\n    var options = jsOptions(chart, chart.options, chartOptions);\n    var data = this$1$1.createDataTable(chart.data, chart.xtype);\n\n    this$1$1.drawChart(chart, \"LineChart\", data, options);\n  });\n};\n\ndefaultExport.prototype.renderPieChart = function renderPieChart (chart) {\n    var this$1$1 = this;\n\n  this.waitForLoaded(chart, function () {\n    var chartOptions = {\n      chartArea: {\n        top: \"10%\",\n        height: \"80%\"\n      },\n      legend: {}\n    };\n    if (chart.options.colors) {\n      chartOptions.colors = chart.options.colors;\n    }\n    if (chart.options.donut) {\n      chartOptions.pieHole = 0.5;\n    }\n    if (\"legend\" in chart.options) {\n      hideLegend(chartOptions, chart.options.legend);\n    }\n    if (chart.options.title) {\n      setTitle(chartOptions, chart.options.title);\n    }\n    var options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});\n\n    var data = new this$1$1.library.visualization.DataTable();\n    data.addColumn(\"string\", \"\");\n    data.addColumn(\"number\", \"Value\");\n    data.addRows(chart.data);\n\n    this$1$1.drawChart(chart, \"PieChart\", data, options);\n  });\n};\n\ndefaultExport.prototype.renderColumnChart = function renderColumnChart (chart) {\n    var this$1$1 = this;\n\n  this.waitForLoaded(chart, function () {\n    var options = jsOptions(chart, chart.options);\n    var data = this$1$1.createDataTable(chart.data, chart.xtype);\n\n    this$1$1.drawChart(chart, \"ColumnChart\", data, options);\n  });\n};\n\ndefaultExport.prototype.renderBarChart = function renderBarChart (chart) {\n    var this$1$1 = this;\n\n  this.waitForLoaded(chart, function () {\n    var chartOptions = {\n      hAxis: {\n        gridlines: {\n          color: \"#ccc\"\n        }\n      }\n    };\n    var options = jsOptionsFunc(defaultOptions, hideLegend, setTitle, setBarMin, setBarMax, setStacked, setXtitle, setYtitle)(chart, chart.options, chartOptions);\n    var data = this$1$1.createDataTable(chart.data, chart.xtype);\n\n    this$1$1.drawChart(chart, \"BarChart\", data, options);\n  });\n};\n\ndefaultExport.prototype.renderAreaChart = function renderAreaChart (chart) {\n    var this$1$1 = this;\n\n  this.waitForLoaded(chart, function () {\n    var chartOptions = {\n      isStacked: true,\n      pointSize: 0,\n      areaOpacity: 0.5\n    };\n\n    var options = jsOptions(chart, chart.options, chartOptions);\n    var data = this$1$1.createDataTable(chart.data, chart.xtype);\n\n    this$1$1.drawChart(chart, \"AreaChart\", data, options);\n  });\n};\n\ndefaultExport.prototype.renderGeoChart = function renderGeoChart (chart) {\n    var this$1$1 = this;\n\n  this.waitForLoaded(chart, \"geochart\", function () {\n    var chartOptions = {\n      legend: \"none\",\n      colorAxis: {\n        colors: chart.options.colors || [\"#f6c7b6\", \"#ce502d\"]\n      }\n    };\n    var options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});\n\n    var data = new this$1$1.library.visualization.DataTable();\n    data.addColumn(\"string\", \"\");\n    data.addColumn(\"number\", chart.options.label || \"Value\");\n    data.addRows(chart.data);\n\n    this$1$1.drawChart(chart, \"GeoChart\", data, options);\n  });\n};\n\ndefaultExport.prototype.renderScatterChart = function renderScatterChart (chart) {\n    var this$1$1 = this;\n\n  this.waitForLoaded(chart, function () {\n    var chartOptions = {};\n    var options = jsOptions(chart, chart.options, chartOptions);\n\n    var series = chart.data;\n    var rows2 = [];\n    for (var i = 0; i < series.length; i++) {\n      series[i].name = series[i].name || \"Value\";\n      var d = series[i].data;\n      for (var j = 0; j < d.length; j++) {\n        var row = new Array(series.length + 1);\n        row[0] = d[j][0];\n        row[i + 1] = d[j][1];\n        rows2.push(row);\n      }\n    }\n\n    var data = new this$1$1.library.visualization.DataTable();\n    data.addColumn(\"number\", \"\");\n    for (var i$1 = 0; i$1 < series.length; i$1++) {\n      data.addColumn(\"number\", series[i$1].name);\n    }\n    data.addRows(rows2);\n\n    this$1$1.drawChart(chart, \"ScatterChart\", data, options);\n  });\n};\n\ndefaultExport.prototype.renderTimeline = function renderTimeline (chart) {\n    var this$1$1 = this;\n\n  this.waitForLoaded(chart, \"timeline\", function () {\n    var chartOptions = {\n      legend: \"none\"\n    };\n\n    if (chart.options.colors) {\n      chartOptions.colors = chart.options.colors;\n    }\n    var options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});\n\n    var data = new this$1$1.library.visualization.DataTable();\n    data.addColumn({type: \"string\", id: \"Name\"});\n    data.addColumn({type: \"date\", id: \"Start\"});\n    data.addColumn({type: \"date\", id: \"End\"});\n    data.addRows(chart.data);\n\n    chart.element.style.lineHeight = \"normal\";\n\n    this$1$1.drawChart(chart, \"Timeline\", data, options);\n  });\n};\n\n// TODO remove resize events\ndefaultExport.prototype.destroy = function destroy (chart) {\n  if (chart.chart) {\n    chart.chart.clearChart();\n  }\n};\n\ndefaultExport.prototype.drawChart = function drawChart (chart, type, data, options) {\n  this.destroy(chart);\n  if (chart.destroyed) { return; }\n\n  if (chart.options.code) {\n    window.console.log(\"var data = new google.visualization.DataTable(\" + data.toJSON() + \");\\nvar chart = new google.visualization.\" + type + \"(element);\\nchart.draw(data, \" + JSON.stringify(options) + \");\");\n  }\n\n  chart.chart = new this.library.visualization[type](chart.element);\n  resize(function () {\n    chart.chart.draw(data, options);\n  });\n};\n\ndefaultExport.prototype.waitForLoaded = function waitForLoaded (chart, pack, callback) {\n    var this$1$1 = this;\n\n  if (!callback) {\n    callback = pack;\n    pack = \"corechart\";\n  }\n\n  callbacks.push({pack: pack, callback: callback});\n\n  if (loaded[pack]) {\n    this.runCallbacks();\n  } else {\n    loaded[pack] = true;\n\n    // https://groups.google.com/forum/#!topic/google-visualization-api/fMKJcyA2yyI\n    var loadOptions = {\n      packages: [pack],\n      callback: function () { this$1$1.runCallbacks(); }\n    };\n    var config = chart.__config();\n    if (config.language) {\n      loadOptions.language = config.language;\n    }\n    if (pack === \"geochart\" && config.mapsApiKey) {\n      loadOptions.mapsApiKey = config.mapsApiKey;\n    }\n\n    this.library.charts.load(\"current\", loadOptions);\n  }\n};\n\ndefaultExport.prototype.runCallbacks = function runCallbacks () {\n  for (var i = 0; i < callbacks.length; i++) {\n    var cb = callbacks[i];\n    var call = this.library.visualization && ((cb.pack === \"corechart\" && this.library.visualization.LineChart) || (cb.pack === \"timeline\" && this.library.visualization.Timeline) || (cb.pack === \"geochart\" && this.library.visualization.GeoChart));\n    if (call) {\n      cb.callback();\n      callbacks.splice(i, 1);\n      i--;\n    }\n  }\n};\n\n// cant use object as key\ndefaultExport.prototype.createDataTable = function createDataTable (series, columnType) {\n  var rows = [];\n  var sortedLabels = [];\n  for (var i = 0; i < series.length; i++) {\n    var s = series[i];\n    series[i].name = series[i].name || \"Value\";\n\n    for (var j = 0; j < s.data.length; j++) {\n      var d = s.data[j];\n      var key = columnType === \"datetime\" ? d[0].getTime() : d[0];\n      if (!rows[key]) {\n        rows[key] = new Array(series.length);\n        sortedLabels.push(key);\n      }\n      rows[key][i] = d[1];\n    }\n  }\n\n  var rows2 = [];\n  var values = [];\n  for (var j$1 = 0; j$1 < sortedLabels.length; j$1++) {\n    var i$1 = sortedLabels[j$1];\n    var value = (void 0);\n    if (columnType === \"datetime\") {\n      value = new Date(i$1);\n      values.push(value);\n    } else {\n      value = i$1;\n    }\n    rows2.push([value].concat(rows[i$1]));\n  }\n\n  var day = true;\n  if (columnType === \"datetime\") {\n    rows2.sort(sortByTime);\n\n    var timeUnit = calculateTimeUnit(values, true);\n    day = isDay(timeUnit);\n  } else if (columnType === \"number\") {\n    rows2.sort(sortByNumberSeries);\n\n    for (var i$2 = 0; i$2 < rows2.length; i$2++) {\n      rows2[i$2][0] = toStr(rows2[i$2][0]);\n    }\n\n    columnType = \"string\";\n  }\n\n  // create datatable\n  var data = new this.library.visualization.DataTable();\n  columnType = columnType === \"datetime\" && day ? \"date\" : columnType;\n  data.addColumn(columnType, \"\");\n  for (var i$3 = 0; i$3 < series.length; i$3++) {\n    data.addColumn(\"number\", series[i$3].name);\n  }\n  data.addRows(rows2);\n\n  return data;\n};\n\nvar adapters = [];\n\nfunction getAdapterType(library) {\n  if (library) {\n    if (library.product === \"Highcharts\") {\n      return defaultExport$1;\n    } else if (library.charts) {\n      return defaultExport;\n    } else if (isFunction(library)) {\n      return defaultExport$2;\n    }\n  }\n  throw new Error(\"Unknown adapter\");\n}\n\nfunction addAdapter(library) {\n  var adapterType = getAdapterType(library);\n\n  for (var i = 0; i < adapters.length; i++) {\n    if (adapters[i].library === library) {\n      return;\n    }\n  }\n\n  adapters.push(new adapterType(library));\n}\n\nfunction loadAdapters() {\n  if (\"Chart\" in window) {\n    addAdapter(window.Chart);\n  }\n\n  if (\"Highcharts\" in window) {\n    addAdapter(window.Highcharts);\n  }\n\n  if (window.google && window.google.charts) {\n    addAdapter(window.google);\n  }\n}\n\n// TODO remove chartType if cross-browser way\n// to get the name of the chart class\nfunction callAdapter(chartType, chart) {\n  var fnName = \"render\" + chartType;\n  var adapterName = chart.options.adapter;\n\n  loadAdapters();\n\n  for (var i = 0; i < adapters.length; i++) {\n    var adapter = adapters[i];\n    if ((!adapterName || adapterName === adapter.name) && isFunction(adapter[fnName])) {\n      chart.adapter = adapter.name;\n      chart.__adapterObject = adapter;\n      return adapter[fnName](chart);\n    }\n  }\n\n  if (adapters.length > 0) {\n    throw new Error(\"No charting library found for \" + chartType);\n  } else {\n    throw new Error(\"No charting libraries found - be sure to include one before your charts\");\n  }\n}\n\nvar Chartkick = {\n  charts: {},\n  configure: function (options) {\n    for (var key in options) {\n      if (Object.prototype.hasOwnProperty.call(options, key)) {\n        Chartkick.config[key] = options[key];\n      }\n    }\n  },\n  setDefaultOptions: function (opts) {\n    Chartkick.options = opts;\n  },\n  eachChart: function (callback) {\n    for (var chartId in Chartkick.charts) {\n      if (Object.prototype.hasOwnProperty.call(Chartkick.charts, chartId)) {\n        callback(Chartkick.charts[chartId]);\n      }\n    }\n  },\n  destroyAll: function () {\n    for (var chartId in Chartkick.charts) {\n      if (Object.prototype.hasOwnProperty.call(Chartkick.charts, chartId)) {\n        Chartkick.charts[chartId].destroy();\n        delete Chartkick.charts[chartId];\n      }\n    }\n  },\n  config: {},\n  options: {},\n  adapters: adapters,\n  addAdapter: addAdapter,\n  use: function (adapter) {\n    addAdapter(adapter);\n    return Chartkick;\n  }\n};\n\nfunction formatSeriesBubble(data) {\n  var r = [];\n  for (var i = 0; i < data.length; i++) {\n    r.push([toFloat(data[i][0]), toFloat(data[i][1]), toFloat(data[i][2])]);\n  }\n  return r;\n}\n\n// casts data to proper type\n// sorting is left to adapters\nfunction formatSeriesData(data, keyType) {\n  if (keyType === \"bubble\") {\n    return formatSeriesBubble(data);\n  }\n\n  var keyFunc;\n  if (keyType === \"number\") {\n    keyFunc = toFloat;\n  } else if (keyType === \"datetime\") {\n    keyFunc = toDate;\n  } else {\n    keyFunc = toStr;\n  }\n\n  var r = [];\n  for (var i = 0; i < data.length; i++) {\n    r.push([keyFunc(data[i][0]), toFloat(data[i][1])]);\n  }\n  return r;\n}\n\nfunction detectXType(series, noDatetime, options) {\n  if (dataEmpty(series)) {\n    if ((options.xmin || options.xmax) && (!options.xmin || isDate(options.xmin)) && (!options.xmax || isDate(options.xmax))) {\n      return \"datetime\";\n    } else {\n      return \"number\";\n    }\n  } else if (detectXTypeWithFunction(series, isNumber)) {\n    return \"number\";\n  } else if (!noDatetime && detectXTypeWithFunction(series, isDate)) {\n    return \"datetime\";\n  } else {\n    return \"string\";\n  }\n}\n\nfunction detectXTypeWithFunction(series, func) {\n  for (var i = 0; i < series.length; i++) {\n    var data = toArr(series[i].data);\n    for (var j = 0; j < data.length; j++) {\n      if (!func(data[j][0])) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n// creates a shallow copy of each element of the array\n// elements are expected to be objects\nfunction copySeries(series) {\n  var newSeries = [];\n  for (var i = 0; i < series.length; i++) {\n    var copy = {};\n    for (var j in series[i]) {\n      if (Object.prototype.hasOwnProperty.call(series[i], j)) {\n        copy[j] = series[i][j];\n      }\n    }\n    newSeries.push(copy);\n  }\n  return newSeries;\n}\n\nfunction processSeries(chart, keyType, noDatetime) {\n  var opts = chart.options;\n  var series = chart.rawData;\n\n  // see if one series or multiple\n  chart.singleSeriesFormat = !isArray(series) || !isPlainObject(series[0]);\n  if (chart.singleSeriesFormat) {\n    series = [{name: opts.label, data: series}];\n  }\n\n  // convert to array\n  // must come before dataEmpty check\n  series = copySeries(series);\n  for (var i = 0; i < series.length; i++) {\n    series[i].data = toArr(series[i].data);\n  }\n\n  chart.xtype = keyType || (opts.discrete ? \"string\" : detectXType(series, noDatetime, opts));\n\n  // right format\n  for (var i$1 = 0; i$1 < series.length; i$1++) {\n    series[i$1].data = formatSeriesData(series[i$1].data, chart.xtype);\n  }\n\n  return series;\n}\n\nfunction processSimple(chart) {\n  var perfectData = toArr(chart.rawData);\n  for (var i = 0; i < perfectData.length; i++) {\n    perfectData[i] = [toStr(perfectData[i][0]), toFloat(perfectData[i][1])];\n  }\n  return perfectData;\n}\n\nfunction dataEmpty(data, chartType) {\n  if (chartType === \"PieChart\" || chartType === \"GeoChart\" || chartType === \"Timeline\") {\n    return data.length === 0;\n  } else {\n    for (var i = 0; i < data.length; i++) {\n      if (data[i].data.length > 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nfunction addDownloadButton(chart) {\n  var download = chart.options.download;\n  if (download === true) {\n    download = {};\n  } else if (typeof download === \"string\") {\n    download = {filename: download};\n  }\n\n  var link = document.createElement(\"a\");\n  link.download = download.filename || \"chart.png\";\n  link.style.position = \"absolute\";\n  link.style.top = \"20px\";\n  link.style.right = \"20px\";\n  link.style.zIndex = 1000;\n  link.style.lineHeight = \"20px\";\n  link.target = \"_blank\"; // for safari\n\n  var image = document.createElement(\"img\");\n  // icon from Font Awesome, modified to set fill color\n  var svg = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 512 512\\\"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path fill=\\\"#CCCCCC\\\" d=\\\"M344 240h-56L287.1 152c0-13.25-10.75-24-24-24h-16C234.7 128 223.1 138.8 223.1 152L224 240h-56c-9.531 0-18.16 5.656-22 14.38C142.2 263.1 143.9 273.3 150.4 280.3l88.75 96C243.7 381.2 250.1 384 256.8 384c7.781-.3125 13.25-2.875 17.75-7.844l87.25-96c6.406-7.031 8.031-17.19 4.188-25.88S353.5 240 344 240zM256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 464c-114.7 0-208-93.31-208-208S141.3 48 256 48s208 93.31 208 208S370.7 464 256 464z\\\"/></svg>\";\n  image.src = \"data:image/svg+xml;utf8,\" + (encodeURIComponent(svg));\n  image.alt = \"Download\";\n  image.style.width = \"20px\";\n  image.style.height = \"20px\";\n  image.style.border = \"none\";\n  link.appendChild(image);\n\n  var element = chart.element;\n  element.style.position = \"relative\";\n\n  chart.__downloadAttached = true;\n\n  // mouseenter\n  chart.__enterEvent = element.addEventListener(\"mouseover\", function (e) {\n    var related = e.relatedTarget;\n    // check download option again to ensure it wasn't changed\n    if ((!related || (related !== this && !this.contains(related))) && chart.options.download) {\n      link.href = chart.toImage(download);\n      element.appendChild(link);\n    }\n  });\n\n  // mouseleave\n  chart.__leaveEvent = element.addEventListener(\"mouseout\", function (e) {\n    var related = e.relatedTarget;\n    if (!related || (related !== this && !this.contains(related))) {\n      if (link.parentNode) {\n        link.parentNode.removeChild(link);\n      }\n    }\n  });\n}\n\nvar pendingRequests = [];\nvar runningRequests = 0;\nvar maxRequests = 4;\n\nfunction pushRequest(url, success, error) {\n  pendingRequests.push([url, success, error]);\n  runNext();\n}\n\nfunction runNext() {\n  if (runningRequests < maxRequests) {\n    var request = pendingRequests.shift();\n    if (request) {\n      runningRequests++;\n      getJSON(request[0], request[1], request[2]);\n      runNext();\n    }\n  }\n}\n\nfunction requestComplete() {\n  runningRequests--;\n  runNext();\n}\n\nfunction getJSON(url, success, error) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", url, true);\n  xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n  xhr.onload = function () {\n    requestComplete();\n    if (xhr.status === 200) {\n      success(JSON.parse(xhr.responseText));\n    } else {\n      error(xhr.statusText);\n    }\n  };\n  xhr.send();\n}\n\n// helpers\n\nfunction setText(element, text) {\n  element.textContent = text;\n}\n\n// TODO remove prefix for all messages\nfunction chartError(element, message, noPrefix) {\n  if (!noPrefix) {\n    message = \"Error Loading Chart: \" + message;\n  }\n  setText(element, message);\n  element.style.color = \"#ff0000\";\n}\n\nfunction errorCatcher(chart) {\n  try {\n    chart.__render();\n  } catch (err) {\n    chartError(chart.element, err.message);\n    throw err;\n  }\n}\n\nfunction fetchDataSource(chart, dataSource, showLoading) {\n  // only show loading message for urls and callbacks\n  if (showLoading && chart.options.loading && (typeof dataSource === \"string\" || typeof dataSource === \"function\")) {\n    setText(chart.element, chart.options.loading);\n  }\n\n  if (typeof dataSource === \"string\") {\n    pushRequest(dataSource, function (data) {\n      chart.rawData = data;\n      errorCatcher(chart);\n    }, function (message) {\n      chartError(chart.element, message);\n    });\n  } else if (typeof dataSource === \"function\") {\n    try {\n      dataSource(function (data) {\n        chart.rawData = data;\n        errorCatcher(chart);\n      }, function (message) {\n        chartError(chart.element, message, true);\n      });\n    } catch (err) {\n      chartError(chart.element, err, true);\n    }\n  } else {\n    chart.rawData = dataSource;\n    errorCatcher(chart);\n  }\n}\n\nfunction renderChart(chartType, chart) {\n  if (dataEmpty(chart.data, chartType)) {\n    var message = chart.options.empty || (chart.options.messages && chart.options.messages.empty) || \"No data\";\n    setText(chart.element, message);\n  } else {\n    callAdapter(chartType, chart);\n    // TODO add downloadSupported method to adapter\n    if (chart.options.download && !chart.__downloadAttached && chart.adapter === \"chartjs\") {\n      addDownloadButton(chart);\n    }\n  }\n}\n\nfunction getElement(element) {\n  if (typeof element === \"string\") {\n    var elementId = element;\n    element = document.getElementById(element);\n    if (!element) {\n      throw new Error(\"No element with id \" + elementId);\n    }\n  }\n  return element;\n}\n\n// define classes\n\nvar Chart = function Chart(element, dataSource, options) {\n  this.element = getElement(element);\n  this.options = merge(Chartkick.options, options || {});\n  this.dataSource = dataSource;\n\n  // TODO handle charts without an id for eachChart and destroyAll\n  if (this.element.id) {\n    Chartkick.charts[this.element.id] = this;\n  }\n\n  fetchDataSource(this, dataSource, true);\n\n  if (this.options.refresh) {\n    this.startRefresh();\n  }\n};\n\nChart.prototype.getElement = function getElement () {\n  return this.element;\n};\n\nChart.prototype.getDataSource = function getDataSource () {\n  return this.dataSource;\n};\n\nChart.prototype.getData = function getData () {\n  return this.data;\n};\n\nChart.prototype.getOptions = function getOptions () {\n  return this.options;\n};\n\nChart.prototype.getChartObject = function getChartObject () {\n  return this.chart;\n};\n\nChart.prototype.getAdapter = function getAdapter () {\n  return this.adapter;\n};\n\nChart.prototype.updateData = function updateData (dataSource, options) {\n  this.dataSource = dataSource;\n  if (options) {\n    this.__updateOptions(options);\n  }\n  fetchDataSource(this, dataSource, true);\n};\n\nChart.prototype.setOptions = function setOptions (options) {\n  this.__updateOptions(options);\n  this.redraw();\n};\n\nChart.prototype.redraw = function redraw () {\n  fetchDataSource(this, this.rawData);\n};\n\nChart.prototype.refreshData = function refreshData () {\n  if (typeof this.dataSource === \"string\") {\n    // prevent browser from caching\n    var sep = this.dataSource.indexOf(\"?\") === -1 ? \"?\" : \"&\";\n    var url = this.dataSource + sep + \"_=\" + (new Date()).getTime();\n    fetchDataSource(this, url);\n  } else if (typeof this.dataSource === \"function\") {\n    fetchDataSource(this, this.dataSource);\n  }\n};\n\nChart.prototype.startRefresh = function startRefresh () {\n    var this$1$1 = this;\n\n  var refresh = this.options.refresh;\n\n  if (refresh && typeof this.dataSource !== \"string\" && typeof this.dataSource !== \"function\") {\n    throw new Error(\"Data source must be a URL or callback for refresh\");\n  }\n\n  if (!this.intervalId) {\n    if (refresh) {\n      this.intervalId = setInterval(function () {\n        this$1$1.refreshData();\n      }, refresh * 1000);\n    } else {\n      throw new Error(\"No refresh interval\");\n    }\n  }\n};\n\nChart.prototype.stopRefresh = function stopRefresh () {\n  if (this.intervalId) {\n    clearInterval(this.intervalId);\n    this.intervalId = null;\n  }\n};\n\nChart.prototype.toImage = function toImage (download) {\n  // TODO move logic to adapter\n  if (this.adapter === \"chartjs\") {\n    if (download && download.background && download.background !== \"transparent\") {\n      // https://stackoverflow.com/questions/30464750/chartjs-line-chart-set-background-color\n      var canvas = this.chart.canvas;\n      var ctx = this.chart.ctx;\n      var tmpCanvas = document.createElement(\"canvas\");\n      var tmpCtx = tmpCanvas.getContext(\"2d\");\n      tmpCanvas.width = ctx.canvas.width;\n      tmpCanvas.height = ctx.canvas.height;\n      tmpCtx.fillStyle = download.background;\n      tmpCtx.fillRect(0, 0, tmpCanvas.width, tmpCanvas.height);\n      tmpCtx.drawImage(canvas, 0, 0);\n      return tmpCanvas.toDataURL(\"image/png\");\n    } else {\n      return this.chart.toBase64Image();\n    }\n  } else {\n    throw new Error(\"Feature only available for Chart.js\");\n  }\n};\n\nChart.prototype.destroy = function destroy () {\n  this.destroyed = true;\n  this.stopRefresh();\n\n  if (this.__adapterObject) {\n    this.__adapterObject.destroy(this);\n  }\n\n  if (this.__enterEvent) {\n    this.element.removeEventListener(\"mouseover\", this.__enterEvent);\n  }\n\n  if (this.__leaveEvent) {\n    this.element.removeEventListener(\"mouseout\", this.__leaveEvent);\n  }\n};\n\nChart.prototype.__updateOptions = function __updateOptions (options) {\n  var updateRefresh = options.refresh && options.refresh !== this.options.refresh;\n  this.options = merge(Chartkick.options, options);\n  if (updateRefresh) {\n    this.stopRefresh();\n    this.startRefresh();\n  }\n};\n\nChart.prototype.__render = function __render () {\n  this.data = this.__processData();\n  renderChart(this.__chartName(), this);\n};\n\nChart.prototype.__config = function __config () {\n  return Chartkick.config;\n};\n\nvar LineChart = /*@__PURE__*/(function (Chart) {\n  function LineChart () {\n    Chart.apply(this, arguments);\n  }\n\n  if ( Chart ) LineChart.__proto__ = Chart;\n  LineChart.prototype = Object.create( Chart && Chart.prototype );\n  LineChart.prototype.constructor = LineChart;\n\n  LineChart.prototype.__processData = function __processData () {\n    return processSeries(this);\n  };\n\n  LineChart.prototype.__chartName = function __chartName () {\n    return \"LineChart\";\n  };\n\n  return LineChart;\n}(Chart));\n\nvar PieChart = /*@__PURE__*/(function (Chart) {\n  function PieChart () {\n    Chart.apply(this, arguments);\n  }\n\n  if ( Chart ) PieChart.__proto__ = Chart;\n  PieChart.prototype = Object.create( Chart && Chart.prototype );\n  PieChart.prototype.constructor = PieChart;\n\n  PieChart.prototype.__processData = function __processData () {\n    return processSimple(this);\n  };\n\n  PieChart.prototype.__chartName = function __chartName () {\n    return \"PieChart\";\n  };\n\n  return PieChart;\n}(Chart));\n\nvar ColumnChart = /*@__PURE__*/(function (Chart) {\n  function ColumnChart () {\n    Chart.apply(this, arguments);\n  }\n\n  if ( Chart ) ColumnChart.__proto__ = Chart;\n  ColumnChart.prototype = Object.create( Chart && Chart.prototype );\n  ColumnChart.prototype.constructor = ColumnChart;\n\n  ColumnChart.prototype.__processData = function __processData () {\n    return processSeries(this, null, true);\n  };\n\n  ColumnChart.prototype.__chartName = function __chartName () {\n    return \"ColumnChart\";\n  };\n\n  return ColumnChart;\n}(Chart));\n\nvar BarChart = /*@__PURE__*/(function (Chart) {\n  function BarChart () {\n    Chart.apply(this, arguments);\n  }\n\n  if ( Chart ) BarChart.__proto__ = Chart;\n  BarChart.prototype = Object.create( Chart && Chart.prototype );\n  BarChart.prototype.constructor = BarChart;\n\n  BarChart.prototype.__processData = function __processData () {\n    return processSeries(this, null, true);\n  };\n\n  BarChart.prototype.__chartName = function __chartName () {\n    return \"BarChart\";\n  };\n\n  return BarChart;\n}(Chart));\n\nvar AreaChart = /*@__PURE__*/(function (Chart) {\n  function AreaChart () {\n    Chart.apply(this, arguments);\n  }\n\n  if ( Chart ) AreaChart.__proto__ = Chart;\n  AreaChart.prototype = Object.create( Chart && Chart.prototype );\n  AreaChart.prototype.constructor = AreaChart;\n\n  AreaChart.prototype.__processData = function __processData () {\n    return processSeries(this);\n  };\n\n  AreaChart.prototype.__chartName = function __chartName () {\n    return \"AreaChart\";\n  };\n\n  return AreaChart;\n}(Chart));\n\nvar GeoChart = /*@__PURE__*/(function (Chart) {\n  function GeoChart () {\n    Chart.apply(this, arguments);\n  }\n\n  if ( Chart ) GeoChart.__proto__ = Chart;\n  GeoChart.prototype = Object.create( Chart && Chart.prototype );\n  GeoChart.prototype.constructor = GeoChart;\n\n  GeoChart.prototype.__processData = function __processData () {\n    return processSimple(this);\n  };\n\n  GeoChart.prototype.__chartName = function __chartName () {\n    return \"GeoChart\";\n  };\n\n  return GeoChart;\n}(Chart));\n\nvar ScatterChart = /*@__PURE__*/(function (Chart) {\n  function ScatterChart () {\n    Chart.apply(this, arguments);\n  }\n\n  if ( Chart ) ScatterChart.__proto__ = Chart;\n  ScatterChart.prototype = Object.create( Chart && Chart.prototype );\n  ScatterChart.prototype.constructor = ScatterChart;\n\n  ScatterChart.prototype.__processData = function __processData () {\n    return processSeries(this, \"number\");\n  };\n\n  ScatterChart.prototype.__chartName = function __chartName () {\n    return \"ScatterChart\";\n  };\n\n  return ScatterChart;\n}(Chart));\n\nvar BubbleChart = /*@__PURE__*/(function (Chart) {\n  function BubbleChart () {\n    Chart.apply(this, arguments);\n  }\n\n  if ( Chart ) BubbleChart.__proto__ = Chart;\n  BubbleChart.prototype = Object.create( Chart && Chart.prototype );\n  BubbleChart.prototype.constructor = BubbleChart;\n\n  BubbleChart.prototype.__processData = function __processData () {\n    return processSeries(this, \"bubble\");\n  };\n\n  BubbleChart.prototype.__chartName = function __chartName () {\n    return \"BubbleChart\";\n  };\n\n  return BubbleChart;\n}(Chart));\n\nvar Timeline = /*@__PURE__*/(function (Chart) {\n  function Timeline () {\n    Chart.apply(this, arguments);\n  }\n\n  if ( Chart ) Timeline.__proto__ = Chart;\n  Timeline.prototype = Object.create( Chart && Chart.prototype );\n  Timeline.prototype.constructor = Timeline;\n\n  Timeline.prototype.__processData = function __processData () {\n    var data = this.rawData;\n    for (var i = 0; i < data.length; i++) {\n      data[i][1] = toDate(data[i][1]);\n      data[i][2] = toDate(data[i][2]);\n    }\n    return data;\n  };\n\n  Timeline.prototype.__chartName = function __chartName () {\n    return \"Timeline\";\n  };\n\n  return Timeline;\n}(Chart));\n\nChartkick.LineChart = LineChart;\nChartkick.PieChart = PieChart;\nChartkick.ColumnChart = ColumnChart;\nChartkick.BarChart = BarChart;\nChartkick.AreaChart = AreaChart;\nChartkick.GeoChart = GeoChart;\nChartkick.ScatterChart = ScatterChart;\nChartkick.BubbleChart = BubbleChart;\nChartkick.Timeline = Timeline;\n\n// not ideal, but allows for simpler integration\nif (typeof window !== \"undefined\" && !window.Chartkick) {\n  window.Chartkick = Chartkick;\n\n  // clean up previous charts before Turbolinks loads new page\n  document.addEventListener(\"turbolinks:before-render\", function () {\n    if (Chartkick.config.autoDestroy !== false) {\n      Chartkick.destroyAll();\n    }\n  });\n\n  // clean up previous charts before Turbo loads new page\n  document.addEventListener(\"turbo:before-render\", function () {\n    if (Chartkick.config.autoDestroy !== false) {\n      Chartkick.destroyAll();\n    }\n  });\n\n  // use setTimeout so charting library can come later in same JS file\n  setTimeout(function () {\n    window.dispatchEvent(new Event(\"chartkick:load\"));\n  }, 0);\n}\n\n// backwards compatibility for esm require\nChartkick.default = Chartkick;\n\nexport { Chartkick as default };\n", "/*!\n * @kurkle/color v0.3.2\n * https://github.com/kurkle/color#readme\n * (c) 2023 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n  x: 'dark',\n  Z: 'light',\n  Y: 're',\n  X: 'blu',\n  W: 'gr',\n  V: 'medium',\n  U: 'slate',\n  A: 'ee',\n  T: 'ol',\n  S: 'or',\n  B: 'ra',\n  C: 'lateg',\n  D: 'ights',\n  R: 'in',\n  Q: 'turquois',\n  E: 'hi',\n  P: 'ro',\n  O: 'al',\n  N: 'le',\n  M: 'de',\n  L: 'yello',\n  F: 'en',\n  K: 'ch',\n  G: 'arks',\n  H: 'ea',\n  I: 'ightg',\n  J: 'wh'\n};\nconst names$1 = {\n  OiceXe: 'f0f8ff',\n  antiquewEte: 'faebd7',\n  aqua: 'ffff',\n  aquamarRe: '7fffd4',\n  azuY: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '0',\n  blanKedOmond: 'ffebcd',\n  Xe: 'ff',\n  XeviTet: '8a2be2',\n  bPwn: 'a52a2a',\n  burlywood: 'deb887',\n  caMtXe: '5f9ea0',\n  KartYuse: '7fff00',\n  KocTate: 'd2691e',\n  cSO: 'ff7f50',\n  cSnflowerXe: '6495ed',\n  cSnsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: 'ffff',\n  xXe: '8b',\n  xcyan: '8b8b',\n  xgTMnPd: 'b8860b',\n  xWay: 'a9a9a9',\n  xgYF: '6400',\n  xgYy: 'a9a9a9',\n  xkhaki: 'bdb76b',\n  xmagFta: '8b008b',\n  xTivegYF: '556b2f',\n  xSange: 'ff8c00',\n  xScEd: '9932cc',\n  xYd: '8b0000',\n  xsOmon: 'e9967a',\n  xsHgYF: '8fbc8f',\n  xUXe: '483d8b',\n  xUWay: '2f4f4f',\n  xUgYy: '2f4f4f',\n  xQe: 'ced1',\n  xviTet: '9400d3',\n  dAppRk: 'ff1493',\n  dApskyXe: 'bfff',\n  dimWay: '696969',\n  dimgYy: '696969',\n  dodgerXe: '1e90ff',\n  fiYbrick: 'b22222',\n  flSOwEte: 'fffaf0',\n  foYstWAn: '228b22',\n  fuKsia: 'ff00ff',\n  gaRsbSo: 'dcdcdc',\n  ghostwEte: 'f8f8ff',\n  gTd: 'ffd700',\n  gTMnPd: 'daa520',\n  Way: '808080',\n  gYF: '8000',\n  gYFLw: 'adff2f',\n  gYy: '808080',\n  honeyMw: 'f0fff0',\n  hotpRk: 'ff69b4',\n  RdianYd: 'cd5c5c',\n  Rdigo: '4b0082',\n  ivSy: 'fffff0',\n  khaki: 'f0e68c',\n  lavFMr: 'e6e6fa',\n  lavFMrXsh: 'fff0f5',\n  lawngYF: '7cfc00',\n  NmoncEffon: 'fffacd',\n  ZXe: 'add8e6',\n  ZcSO: 'f08080',\n  Zcyan: 'e0ffff',\n  ZgTMnPdLw: 'fafad2',\n  ZWay: 'd3d3d3',\n  ZgYF: '90ee90',\n  ZgYy: 'd3d3d3',\n  ZpRk: 'ffb6c1',\n  ZsOmon: 'ffa07a',\n  ZsHgYF: '20b2aa',\n  ZskyXe: '87cefa',\n  ZUWay: '778899',\n  ZUgYy: '778899',\n  ZstAlXe: 'b0c4de',\n  ZLw: 'ffffe0',\n  lime: 'ff00',\n  limegYF: '32cd32',\n  lRF: 'faf0e6',\n  magFta: 'ff00ff',\n  maPon: '800000',\n  VaquamarRe: '66cdaa',\n  VXe: 'cd',\n  VScEd: 'ba55d3',\n  VpurpN: '9370db',\n  VsHgYF: '3cb371',\n  VUXe: '7b68ee',\n  VsprRggYF: 'fa9a',\n  VQe: '48d1cc',\n  VviTetYd: 'c71585',\n  midnightXe: '191970',\n  mRtcYam: 'f5fffa',\n  mistyPse: 'ffe4e1',\n  moccasR: 'ffe4b5',\n  navajowEte: 'ffdead',\n  navy: '80',\n  Tdlace: 'fdf5e6',\n  Tive: '808000',\n  TivedBb: '6b8e23',\n  Sange: 'ffa500',\n  SangeYd: 'ff4500',\n  ScEd: 'da70d6',\n  pOegTMnPd: 'eee8aa',\n  pOegYF: '98fb98',\n  pOeQe: 'afeeee',\n  pOeviTetYd: 'db7093',\n  papayawEp: 'ffefd5',\n  pHKpuff: 'ffdab9',\n  peru: 'cd853f',\n  pRk: 'ffc0cb',\n  plum: 'dda0dd',\n  powMrXe: 'b0e0e6',\n  purpN: '800080',\n  YbeccapurpN: '663399',\n  Yd: 'ff0000',\n  Psybrown: 'bc8f8f',\n  PyOXe: '4169e1',\n  saddNbPwn: '8b4513',\n  sOmon: 'fa8072',\n  sandybPwn: 'f4a460',\n  sHgYF: '2e8b57',\n  sHshell: 'fff5ee',\n  siFna: 'a0522d',\n  silver: 'c0c0c0',\n  skyXe: '87ceeb',\n  UXe: '6a5acd',\n  UWay: '708090',\n  UgYy: '708090',\n  snow: 'fffafa',\n  sprRggYF: 'ff7f',\n  stAlXe: '4682b4',\n  tan: 'd2b48c',\n  teO: '8080',\n  tEstN: 'd8bfd8',\n  tomato: 'ff6347',\n  Qe: '40e0d0',\n  viTet: 'ee82ee',\n  JHt: 'f5deb3',\n  wEte: 'ffffff',\n  wEtesmoke: 'f5f5f5',\n  Lw: 'ffff00',\n  LwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n", "/**\n * @namespace Chart.helpers\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ActiveDataPoint, ChartEvent} from '../types/index.js';\n\n/**\n * An empty function that can be used, for example, for optional callback.\n */\nexport function noop() {\n  /* noop */\n}\n\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */\nexport const uid = (() => {\n  let id = 0;\n  return () => id++;\n})();\n\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isNullOrUndef(value: unknown): value is null | undefined {\n  return value === null || typeof value === 'undefined';\n}\n\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */\nexport function isArray<T = unknown>(value: unknown): value is T[] {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isObject(value: unknown): value is AnyObject {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */\nfunction isNumberFinite(value: unknown): value is number {\n  return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\nexport {\n  isNumberFinite as isFinite,\n};\n\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */\nexport function finiteOrDefault(value: unknown, defaultValue: number) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\n\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */\nexport function valueOrDefault<T>(value: T | undefined, defaultValue: T) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\n\nexport const toPercentage = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : +value / dimension;\n\nexport const toDimension = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\n\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */\nexport function callback<T extends (this: TA, ...restArgs: unknown[]) => R, TA, R>(\n  fn: T | undefined,\n  args: unknown[],\n  thisArg?: TA\n): R | undefined {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\n\n/**\n * Note(SB) for performance sake, this method should only be used when loopable type\n * is unknown or in none intensive code (not called often and small loopable). Else\n * it's preferable to use a regular for() loop and save extra function calls.\n * @param loopable - The object or array to be iterated.\n * @param fn - The function to call for each item.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n * @param [reverse] - If true, iterates backward on the loopable.\n */\nexport function each<T, TA>(\n  loopable: Record<string, T>,\n  fn: (this: TA, v: T, i: string) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[],\n  fn: (this: TA, v: T, i: number) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[] | Record<string, T>,\n  fn: (this: TA, v: T, i: any) => void,\n  thisArg?: TA,\n  reverse?: boolean\n) {\n  let i: number, len: number, keys: string[];\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\n\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */\nexport function _elementsEqual(a0: ActiveDataPoint[], a1: ActiveDataPoint[]) {\n  let i: number, ilen: number, v0: ActiveDataPoint, v1: ActiveDataPoint;\n\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */\nexport function clone<T>(source: T): T {\n  if (isArray(source)) {\n    return source.map(clone) as unknown as T;\n  }\n\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone(source[keys[k]]);\n    }\n\n    return target;\n  }\n\n  return source;\n}\n\nfunction isValidKey(key: string) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\n\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */\nexport function _merger(key: string, target: AnyObject, source: AnyObject, options: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone(sval);\n  }\n}\n\nexport interface MergeOptions {\n  merger?: (key: string, target: AnyObject, source: AnyObject, options?: AnyObject) => void;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` with the given `options`.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @param [options] - Merging options:\n * @param [options.merger] - The merge method (key, target, source, options)\n * @returns The `target` object.\n */\nexport function merge<T>(target: T, source: [], options?: MergeOptions): T;\nexport function merge<T, S1>(target: T, source: S1, options?: MergeOptions): T & S1;\nexport function merge<T, S1>(target: T, source: [S1], options?: MergeOptions): T & S1;\nexport function merge<T, S1, S2>(target: T, source: [S1, S2], options?: MergeOptions): T & S1 & S2;\nexport function merge<T, S1, S2, S3>(target: T, source: [S1, S2, S3], options?: MergeOptions): T & S1 & S2 & S3;\nexport function merge<T, S1, S2, S3, S4>(\n  target: T,\n  source: [S1, S2, S3, S4],\n  options?: MergeOptions\n): T & S1 & S2 & S3 & S4;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n\n  if (!isObject(target)) {\n    return target as AnyObject;\n  }\n\n  options = options || {};\n  const merger = options.merger || _merger;\n  let current: AnyObject;\n\n  for (let i = 0; i < ilen; ++i) {\n    current = sources[i];\n    if (!isObject(current)) {\n      continue;\n    }\n\n    const keys = Object.keys(current);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, current, options as AnyObject);\n    }\n  }\n\n  return target;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` *only* if not defined in target.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @returns The `target` object.\n */\nexport function mergeIf<T>(target: T, source: []): T;\nexport function mergeIf<T, S1>(target: T, source: S1): T & S1;\nexport function mergeIf<T, S1>(target: T, source: [S1]): T & S1;\nexport function mergeIf<T, S1, S2>(target: T, source: [S1, S2]): T & S1 & S2;\nexport function mergeIf<T, S1, S2, S3>(target: T, source: [S1, S2, S3]): T & S1 & S2 & S3;\nexport function mergeIf<T, S1, S2, S3, S4>(target: T, source: [S1, S2, S3, S4]): T & S1 & S2 & S3 & S4;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  return merge<T>(target, source, {merger: _mergerIf});\n}\n\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */\nexport function _mergerIf(key: string, target: AnyObject, source: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone(sval);\n  }\n}\n\n/**\n * @private\n */\nexport function _deprecated(scope: string, value: unknown, previous: string, current: string) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n      '\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\n\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n  // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n  '': v => v,\n  // default resolvers\n  x: o => o.x,\n  y: o => o.y\n};\n\n/**\n * @private\n */\nexport function _splitKey(key: string) {\n  const parts = key.split('.');\n  const keys: string[] = [];\n  let tmp = '';\n  for (const part of parts) {\n    tmp += part;\n    if (tmp.endsWith('\\\\')) {\n      tmp = tmp.slice(0, -1) + '.';\n    } else {\n      keys.push(tmp);\n      tmp = '';\n    }\n  }\n  return keys;\n}\n\nfunction _getKeyResolver(key: string) {\n  const keys = _splitKey(key);\n  return obj => {\n    for (const k of keys) {\n      if (k === '') {\n        // For backward compatibility:\n        // Chart.helpers.core resolveObjectKey should break at empty key\n        break;\n      }\n      obj = obj && obj[k];\n    }\n    return obj;\n  };\n}\n\nexport function resolveObjectKey(obj: AnyObject, key: string): any {\n  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n  return resolver(obj);\n}\n\n/**\n * @private\n */\nexport function _capitalize(str: string) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n\nexport const defined = (value: unknown) => typeof value !== 'undefined';\n\nexport const isFunction = (value: unknown): value is (...args: any[]) => any => typeof value === 'function';\n\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nexport const setsEqual = <T>(a: Set<T>, b: Set<T>) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * @param e - The event\n * @private\n */\nexport function _isClickEvent(e: ChartEvent) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n", "import type {Point} from '../types/geometric.js';\nimport {isFinite as isFiniteNumber} from './helpers.core.js';\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */\n\nexport const PI = Math.PI;\nexport const TAU = 2 * PI;\nexport const PITAU = TAU + PI;\nexport const INFINITY = Number.POSITIVE_INFINITY;\nexport const RAD_PER_DEG = PI / 180;\nexport const HALF_PI = PI / 2;\nexport const QUARTER_PI = PI / 4;\nexport const TWO_THIRDS_PI = PI * 2 / 3;\n\nexport const log10 = Math.log10;\nexport const sign = Math.sign;\n\nexport function almostEquals(x: number, y: number, epsilon: number) {\n  return Math.abs(x - y) < epsilon;\n}\n\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */\nexport function niceNum(range: number) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\n\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */\nexport function _factorize(value: number) {\n  const result: number[] = [];\n  const sqrt = Math.sqrt(value);\n  let i: number;\n\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) { // if value is a square number\n    result.push(sqrt);\n  }\n\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\n\nexport function isNumber(n: unknown): n is number {\n  return !isNaN(parseFloat(n as string)) && isFinite(n as number);\n}\n\nexport function almostWhole(x: number, epsilon: number) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\n\n/**\n * @private\n */\nexport function _setMinAndMaxByKey(\n  array: Record<string, number>[],\n  target: { min: number, max: number },\n  property: string\n) {\n  let i: number, ilen: number, value: number;\n\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\n\nexport function toRadians(degrees: number) {\n  return degrees * (PI / 180);\n}\n\nexport function toDegrees(radians: number) {\n  return radians * (180 / PI);\n}\n\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */\nexport function _decimalPlaces(x: number) {\n  if (!isFiniteNumber(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\n\n// Gets the angle from vertical upright to the point about a centre.\nexport function getAngleFromPoint(\n  centrePoint: Point,\n  anglePoint: Point\n) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n  if (angle < (-0.5 * PI)) {\n    angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n  }\n\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\n\nexport function distanceBetweenPoints(pt1: Point, pt2: Point) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */\nexport function _angleDiff(a: number, b: number) {\n  return (a - b + PITAU) % TAU - PI;\n}\n\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */\nexport function _normalizeAngle(a: number) {\n  return (a % TAU + TAU) % TAU;\n}\n\n/**\n * @private\n */\nexport function _angleBetween(angle: number, start: number, end: number, sameAngleIsFullCircle?: boolean) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\n\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */\nexport function _limitValue(value: number, min: number, max: number) {\n  return Math.max(min, Math.min(max, value));\n}\n\n/**\n * @param {number} value\n * @private\n */\nexport function _int16Range(value: number) {\n  return _limitValue(value, -32768, 32767);\n}\n\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */\nexport function _isBetween(value: number, start: number, end: number, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n", "import {_capitalize} from './helpers.core.js';\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param value - value to find\n * @param cmp\n * @private\n */\nexport function _lookup(\n  table: number[],\n  value: number,\n  cmp?: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup<T>(\n  table: T[],\n  value: number,\n  cmp: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup(\n  table: unknown[],\n  value: number,\n  cmp?: (value: number) => boolean\n) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid: number;\n\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return {lo, hi};\n}\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */\nexport const _lookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number,\n  last?: boolean\n) =>\n  _lookup(table, value, last\n    ? index => {\n      const ti = table[index][key];\n      return ti < value || ti === value && table[index + 1][key] === value;\n    }\n    : index => table[index][key] < value);\n\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */\nexport const _rlookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number\n) =>\n  _lookup(table, value, index => table[index][key] >= value);\n\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */\nexport function _filterBetween(values: number[], min: number, max: number) {\n  let start = 0;\n  let end = values.length;\n\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\n\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'] as const;\n\nexport interface ArrayListener<T> {\n  _onDataPush?(...item: T[]): void;\n  _onDataPop?(): void;\n  _onDataShift?(): void;\n  _onDataSplice?(index: number, deleteCount: number, ...items: T[]): void;\n  _onDataUnshift?(...item: T[]): void;\n}\n\n/**\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\n * called on the '_onData*' callbacks (e.g. _onDataPush, etc.) with same arguments.\n */\nexport function listenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n\n        return res;\n      }\n    });\n  });\n}\n\n\n/**\n * Removes the given array event listener and cleanup extra attached properties (such as\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\n */\nexport function unlistenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n\n  if (listeners.length > 0) {\n    return;\n  }\n\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n\n  delete array._chartjs;\n}\n\n/**\n * @param items\n */\nexport function _arrayUnique<T>(items: T[]) {\n  const set = new Set<T>(items);\n\n  if (set.size === items.length) {\n    return items;\n  }\n\n  return Array.from(set);\n}\n", "import type {ChartMeta, PointElement} from '../types/index.js';\n\nimport {_limitValue} from './helpers.math.js';\nimport {_lookupByKey} from './helpers.collection.js';\n\nexport function fontString(pixelSize: number, fontStyle: string, fontFamily: string) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n\n/**\n* Request animation polyfill\n*/\nexport const requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\n\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */\nexport function throttled<TArgs extends Array<any>>(\n  fn: (...args: TArgs) => void,\n  thisArg: any,\n) {\n  let argsToUse = [] as TArgs;\n  let ticking = false;\n\n  return function(...args: TArgs) {\n    // Save the args for use later\n    argsToUse = args;\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, argsToUse);\n      });\n    }\n  };\n}\n\n/**\n * Debounces calling `fn` for `delay` ms\n */\nexport function debounce<TArgs extends Array<any>>(fn: (...args: TArgs) => void, delay: number) {\n  let timeout;\n  return function(...args: TArgs) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\n\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */\nexport const _toLeftRightCenter = (align: 'start' | 'end' | 'center') => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */\nexport const _alignStartEnd = (align: 'start' | 'end' | 'center', start: number, end: number) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */\nexport const _textX = (align: 'left' | 'right' | 'center', left: number, right: number, rtl: boolean) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\n/**\n * Return start and count of visible points.\n * @private\n */\nexport function _getStartAndCountOfVisiblePoints(meta: ChartMeta<'line' | 'scatter'>, points: PointElement[], animationsDisabled: boolean) {\n  const pointCount = points.length;\n\n  let start = 0;\n  let count = pointCount;\n\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, axis, min).lo,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n\n  return {start, count};\n}\n\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */\nexport function _scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n", "import {PI, TAU, HALF_PI} from './helpers.math.js';\n\nconst atEdge = (t: number) => t === 0 || t === 1;\nconst elasticIn = (t: number, s: number, p: number) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t: number, s: number, p: number) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */\nconst effects = {\n  linear: (t: number) => t,\n\n  easeInQuad: (t: number) => t * t,\n\n  easeOutQuad: (t: number) => -t * (t - 2),\n\n  easeInOutQuad: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n\n  easeInCubic: (t: number) => t * t * t,\n\n  easeOutCubic: (t: number) => (t -= 1) * t * t + 1,\n\n  easeInOutCubic: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n\n  easeInQuart: (t: number) => t * t * t * t,\n\n  easeOutQuart: (t: number) => -((t -= 1) * t * t * t - 1),\n\n  easeInOutQuart: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n\n  easeInQuint: (t: number) => t * t * t * t * t,\n\n  easeOutQuint: (t: number) => (t -= 1) * t * t * t * t + 1,\n\n  easeInOutQuint: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n\n  easeInSine: (t: number) => -Math.cos(t * HALF_PI) + 1,\n\n  easeOutSine: (t: number) => Math.sin(t * HALF_PI),\n\n  easeInOutSine: (t: number) => -0.5 * (Math.cos(PI * t) - 1),\n\n  easeInExpo: (t: number) => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n\n  easeOutExpo: (t: number) => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n\n  easeInOutExpo: (t: number) => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n\n  easeInCirc: (t: number) => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n\n  easeOutCirc: (t: number) => Math.sqrt(1 - (t -= 1) * t),\n\n  easeInOutCirc: (t: number) => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n\n  easeInElastic: (t: number) => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n\n  easeOutElastic: (t: number) => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n\n  easeInOutElastic(t: number) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n\n  easeInBack(t: number) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n\n  easeOutBack(t: number) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n\n  easeInOutBack(t: number) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n\n  easeInBounce: (t: number) => 1 - effects.easeOutBounce(1 - t),\n\n  easeOutBounce(t: number) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n\n  easeInOutBounce: (t: number) => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n} as const;\n\nexport type EasingFunction = keyof typeof effects\n\nexport default effects;\n", "import {Color} from '@kurkle/color';\n\nexport function isPatternOrGradient(value: unknown): value is CanvasPattern | CanvasGradient {\n  if (value && typeof value === 'object') {\n    const type = value.toString();\n    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n  }\n\n  return false;\n}\n\nexport function color(value: CanvasGradient): CanvasGradient;\nexport function color(value: CanvasPattern): CanvasPattern;\nexport function color(\n  value:\n  | string\n  | { r: number; g: number; b: number; a: number }\n  | [number, number, number]\n  | [number, number, number, number]\n): Color;\nexport function color(value) {\n  return isPatternOrGradient(value) ? value : new Color(value);\n}\n\nexport function getHoverColor(value: CanvasGradient): CanvasGradient;\nexport function getHoverColor(value: CanvasPattern): CanvasPattern;\nexport function getHoverColor(value: string): string;\nexport function getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n", "const numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\n\nexport function applyAnimationsDefaults(defaults) {\n  defaults.set('animation', {\n    delay: undefined,\n    duration: 1000,\n    easing: 'easeOutQuart',\n    fn: undefined,\n    from: undefined,\n    loop: undefined,\n    to: undefined,\n    type: undefined,\n  });\n\n  defaults.describe('animation', {\n    _fallback: false,\n    _indexable: false,\n    _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n  });\n\n  defaults.set('animations', {\n    colors: {\n      type: 'color',\n      properties: colors\n    },\n    numbers: {\n      type: 'number',\n      properties: numbers\n    },\n  });\n\n  defaults.describe('animations', {\n    _fallback: 'animation',\n  });\n\n  defaults.set('transitions', {\n    active: {\n      animation: {\n        duration: 400\n      }\n    },\n    resize: {\n      animation: {\n        duration: 0\n      }\n    },\n    show: {\n      animations: {\n        colors: {\n          from: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          duration: 0 // show immediately\n        },\n      }\n    },\n    hide: {\n      animations: {\n        colors: {\n          to: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          easing: 'linear',\n          fn: v => v | 0 // for keeping the dataset visible all the way through the animation\n        },\n      }\n    }\n  });\n}\n", "export function applyLayoutsDefaults(defaults) {\n  defaults.set('layout', {\n    autoPadding: true,\n    padding: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }\n  });\n}\n", "\nconst intlCache = new Map<string, Intl.NumberFormat>();\n\nfunction getNumberFormat(locale: string, options?: Intl.NumberFormatOptions) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\n\nexport function formatNumber(num: number, locale: string, options?: Intl.NumberFormatOptions) {\n  return getNumberFormat(locale, options).format(num);\n}\n", "import {isArray} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {log10} from '../helpers/helpers.math.js';\n\n/**\n * Namespace to hold formatters for different types of ticks\n * @namespace Chart.Ticks.formatters\n */\nconst formatters = {\n  /**\n   * Formatter for value labels\n   * @method Chart.Ticks.formatters.values\n   * @param value the value to display\n   * @return {string|string[]} the label to display\n   */\n  values(value) {\n    return isArray(value) ? /** @type {string[]} */ (value) : '' + value;\n  },\n\n  /**\n   * Formatter for numeric ticks\n   * @method Chart.Ticks.formatters.numeric\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0'; // never show decimal places for 0\n    }\n\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue; // This is used when there are less than 2 ticks as the tick interval.\n\n    if (ticks.length > 1) {\n      // all ticks are small or there huge numbers; use scientific notation\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n\n      delta = calculateDelta(tickValue, ticks);\n    }\n\n    const logDelta = log10(Math.abs(delta));\n\n    // When datasets have values approaching Number.MAX_VALUE, the tick calculations might result in\n    // infinity and eventually NaN. Passing NaN for minimumFractionDigits or maximumFractionDigits\n    // will make the number formatter throw. So instead we check for isNaN and use a fallback value.\n    //\n    // toFixed has a max of 20 decimal places\n    const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n\n    return formatNumber(tickValue, locale, options);\n  },\n\n\n  /**\n   * Formatter for logarithmic ticks\n   * @method Chart.Ticks.formatters.logarithmic\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = ticks[index].significand || (tickValue / (Math.pow(10, Math.floor(log10(tickValue)))));\n    if ([1, 2, 3, 5, 10, 15].includes(remain) || index > 0.8 * ticks.length) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n\n};\n\n\nfunction calculateDelta(tickValue, ticks) {\n  // Figure out how many digits to show\n  // The space between the first two ticks might be smaller than normal spacing\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n\n  // If we have a number like 2.5 as the delta, figure out how many decimal places we need\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    // not an integer\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\n\n/**\n * Namespace to hold static tick generation functions\n * @namespace Chart.Ticks\n */\nexport default {formatters};\n", "import Ticks from './core.ticks.js';\n\nexport function applyScaleDefaults(defaults) {\n  defaults.set('scale', {\n    display: true,\n    offset: false,\n    reverse: false,\n    beginAtZero: false,\n\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 3.0.0\n     */\n    bounds: 'ticks',\n\n    clip: true,\n\n    /**\n     * Addition grace added to max and reduced from min data value.\n     * @since 3.0.0\n     */\n    grace: 0,\n\n    // grid line settings\n    grid: {\n      display: true,\n      lineWidth: 1,\n      drawOnChartArea: true,\n      drawTicks: true,\n      tickLength: 8,\n      tickWidth: (_ctx, options) => options.lineWidth,\n      tickColor: (_ctx, options) => options.color,\n      offset: false,\n    },\n\n    border: {\n      display: true,\n      dash: [],\n      dashOffset: 0.0,\n      width: 1\n    },\n\n    // scale title\n    title: {\n      // display property\n      display: false,\n\n      // actual label\n      text: '',\n\n      // top/bottom padding\n      padding: {\n        top: 4,\n        bottom: 4\n      }\n    },\n\n    // label settings\n    ticks: {\n      minRotation: 0,\n      maxRotation: 50,\n      mirror: false,\n      textStrokeWidth: 0,\n      textStrokeColor: '',\n      padding: 3,\n      display: true,\n      autoSkip: true,\n      autoSkipPadding: 3,\n      labelOffset: 0,\n      // We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\n      callback: Ticks.formatters.values,\n      minor: {},\n      major: {},\n      align: 'center',\n      crossAlign: 'near',\n\n      showLabelBackdrop: false,\n      backdropColor: 'rgba(255, 255, 255, 0.75)',\n      backdropPadding: 2,\n    }\n  });\n\n  defaults.route('scale.ticks', 'color', '', 'color');\n  defaults.route('scale.grid', 'color', '', 'borderColor');\n  defaults.route('scale.border', 'color', '', 'borderColor');\n  defaults.route('scale.title', 'color', '', 'color');\n\n  defaults.describe('scale', {\n    _fallback: false,\n    _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n    _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash',\n  });\n\n  defaults.describe('scales', {\n    _fallback: 'scale',\n  });\n\n  defaults.describe('scale.ticks', {\n    _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n    _indexable: (name) => name !== 'backdropPadding',\n  });\n}\n", "import {getHoverColor} from '../helpers/helpers.color.js';\nimport {isObject, merge, valueOrDefault} from '../helpers/helpers.core.js';\nimport {applyAnimationsDefaults} from './core.animations.defaults.js';\nimport {applyLayoutsDefaults} from './core.layouts.defaults.js';\nimport {applyScaleDefaults} from './core.scale.defaults.js';\n\nexport const overrides = Object.create(null);\nexport const descriptors = Object.create(null);\n\n/**\n * @param {object} node\n * @param {string} key\n * @return {object}\n */\nfunction getScope(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\n\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope(root, scope), values);\n  }\n  return merge(getScope(root, ''), scope);\n}\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Defaults {\n  constructor(_descriptors, _appliers) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true,\n      includeInvisible: false\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n\n    this.describe(_descriptors);\n    this.apply(_appliers);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n\n  /**\n\t * @param {string} scope\n\t */\n  get(scope) {\n    return getScope(this, scope);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n\n  /**\n\t * Routes the named defaults to fallback to another scope/name.\n\t * This routing is useful when those target values, like defaults.color, are changed runtime.\n\t * If the values would be copied, the runtime change would not take effect. By routing, the\n\t * fallback is evaluated at each access, so its always up to date.\n\t *\n\t * Example:\n\t *\n\t * \tdefaults.route('elements.arc', 'backgroundColor', '', 'color')\n\t *   - reads the backgroundColor from defaults.color when undefined locally\n\t *\n\t * @param {string} scope Scope this route applies to.\n\t * @param {string} name Property name that should be routed to different namespace when not defined here.\n\t * @param {string} targetScope The namespace where those properties should be routed to.\n\t * Empty string ('') is the root of defaults.\n\t * @param {string} targetName The target name in the target scope the property should be routed to.\n\t */\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope(this, scope);\n    const targetScopeObject = getScope(this, targetScope);\n    const privateName = '_' + name;\n\n    Object.defineProperties(scopeObject, {\n      // A private property is defined to hold the actual value, when this property is set in its scope (set in the setter)\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      // The actual property is defined as getter/setter so we can do the routing when value is not locally set.\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n\n  apply(appliers) {\n    appliers.forEach((apply) => apply(this));\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n}, [applyAnimationsDefaults, applyLayoutsDefaults, applyScaleDefaults]);\n", "import type {\n  Chart,\n  Point,\n  FontSpec,\n  CanvasFontSpec,\n  PointStyle,\n  RenderTextOpts,\n  BackdropOptions\n} from '../types/index.js';\nimport type {\n  TRBL,\n  SplinePoint,\n  RoundedRect,\n  TRBLCorners\n} from '../types/geometric.js';\nimport {isArray, isNullOrUndef} from './helpers.core.js';\nimport {PI, TAU, HALF_PI, QUARTER_PI, TWO_THIRDS_PI, RAD_PER_DEG} from './helpers.math.js';\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */\nexport function toFontString(font: FontSpec) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\n\n/**\n * @private\n */\nexport function _measureText(\n  ctx: CanvasRenderingContext2D,\n  data: Record<string, number>,\n  gc: string[],\n  longest: number,\n  string: string\n) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\n\ntype Thing = string | undefined | null\ntype Things = (Thing | Thing[])[]\n\n/**\n * @private\n */\n// eslint-disable-next-line complexity\nexport function _longestText(\n  ctx: CanvasRenderingContext2D,\n  font: string,\n  arrayOfThings: Things,\n  cache?: {data?: Record<string, number>, garbageCollect?: string[], font?: string}\n) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n\n  ctx.save();\n\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i: number, j: number, jlen: number, thing: Thing | Thing[], nestedThing: Thing | Thing[];\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n\n    // Undefined strings and arrays should not be measured\n    if (thing !== undefined && thing !== null && !isArray(thing)) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      // if it is an array lets measure each element\n      // to do maybe simplify this function a bit so we can do this more recursively?\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        // Undefined strings and arrays should not be measured\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n\n  ctx.restore();\n\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\n\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */\nexport function _alignPixel(chart: Chart, pixel: number, width: number) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n\n/**\n * Clears the entire canvas.\n */\nexport function clearCanvas(canvas?: HTMLCanvasElement, ctx?: CanvasRenderingContext2D) {\n  if (!ctx && !canvas) {\n    return;\n  }\n\n  ctx = ctx || canvas.getContext('2d');\n\n  ctx.save();\n  // canvas.width and canvas.height do not consider the canvas transform,\n  // while clearRect does\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\n\nexport interface DrawPointOptions {\n  pointStyle: PointStyle;\n  rotation?: number;\n  radius: number;\n  borderWidth: number;\n}\n\nexport function drawPoint(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number\n) {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  drawPointLegend(ctx, options, x, y, null);\n}\n\n// eslint-disable-next-line complexity\nexport function drawPointLegend(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number,\n  w: number\n) {\n  let type: string, xOffset: number, yOffset: number, size: number, cornerRadius: number, width: number, xOffsetW: number, yOffsetW: number;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n\n  ctx.beginPath();\n\n  switch (style) {\n  // Default includes circle\n    default:\n      if (w) {\n        ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n      } else {\n        ctx.arc(x, y, radius, 0, TAU);\n      }\n      ctx.closePath();\n      break;\n    case 'triangle':\n      width = w ? w / 2 : radius;\n      ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      ctx.closePath();\n      break;\n    case 'rectRounded':\n    // NOTE: the rounded rect implementation changed to use `arc` instead of\n    // `quadraticCurveTo` since it generates better results when rect is\n    // almost a circle. 0.516 (instead of 0.5) produces results with visually\n    // closer proportion to the previous impl and it is inscribed in the\n    // circle with `radius`. For more details, see the following PRs:\n    // https://github.com/chartjs/Chart.js/issues/5597\n    // https://github.com/chartjs/Chart.js/issues/5858\n      cornerRadius = radius * 0.516;\n      size = radius - cornerRadius;\n      xOffset = Math.cos(rad + QUARTER_PI) * size;\n      xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      yOffset = Math.sin(rad + QUARTER_PI) * size;\n      yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n      ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n      ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n      ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n      ctx.closePath();\n      break;\n    case 'rect':\n      if (!rotation) {\n        size = Math.SQRT1_2 * radius;\n        width = w ? w / 2 : size;\n        ctx.rect(x - width, y - size, 2 * width, 2 * size);\n        break;\n      }\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'rectRot':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      ctx.closePath();\n      break;\n    case 'crossRot':\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'cross':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'star':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      rad += QUARTER_PI;\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'line':\n      xOffset = w ? w / 2 : Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      break;\n    case 'dash':\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n      break;\n    case false:\n      ctx.closePath();\n      break;\n  }\n\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\n\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */\nexport function _isPointInArea(\n  point: Point,\n  area: TRBL,\n  margin?: number\n) {\n  margin = margin || 0.5; // margin - default is to match rounded decimals\n\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\n\nexport function clipArea(ctx: CanvasRenderingContext2D, area: TRBL) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\n\nexport function unclipArea(ctx: CanvasRenderingContext2D) {\n  ctx.restore();\n}\n\n/**\n * @private\n */\nexport function _steppedLineTo(\n  ctx: CanvasRenderingContext2D,\n  previous: Point,\n  target: Point,\n  flip?: boolean,\n  mode?: string\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @private\n */\nexport function _bezierCurveTo(\n  ctx: CanvasRenderingContext2D,\n  previous: SplinePoint,\n  target: SplinePoint,\n  flip?: boolean\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\n\nfunction setRenderOpts(ctx: CanvasRenderingContext2D, opts: RenderTextOpts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\n\nfunction decorateText(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  line: string,\n  opts: RenderTextOpts\n) {\n  if (opts.strikethrough || opts.underline) {\n    /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\n\nfunction drawBackdrop(ctx: CanvasRenderingContext2D, opts: BackdropOptions) {\n  const oldColor = ctx.fillStyle;\n\n  ctx.fillStyle = opts.color as string;\n  ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n  ctx.fillStyle = oldColor;\n}\n\n/**\n * Render text onto the canvas\n */\nexport function renderText(\n  ctx: CanvasRenderingContext2D,\n  text: string | string[],\n  x: number,\n  y: number,\n  font: CanvasFontSpec,\n  opts: RenderTextOpts = {}\n) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i: number, line: string;\n\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n\n    if (opts.backdrop) {\n      drawBackdrop(ctx, opts.backdrop);\n    }\n\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n\n    y += Number(font.lineHeight);\n  }\n\n  ctx.restore();\n}\n\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */\nexport function addRoundedRectPath(\n  ctx: CanvasRenderingContext2D,\n  rect: RoundedRect & { radius: TRBLCorners }\n) {\n  const {x, y, w, h, radius} = rect;\n\n  // top left arc\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n\n  // line from top left to bottom left\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n\n  // bottom left arc\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n\n  // line from bottom left to bottom right\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n\n  // bottom right arc\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n\n  // line from bottom right to top right\n  ctx.lineTo(x + w, y + radius.topRight);\n\n  // top right arc\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n\n  // line from top right to top left\n  ctx.lineTo(x + radius.topLeft, y);\n}\n", "import defaults from '../core/core.defaults.js';\nimport {isArray, isObject, toDimension, valueOrDefault} from './helpers.core.js';\nimport {toFontString} from './helpers.canvas.js';\nimport type {ChartArea, FontSpec, Point} from '../types/index.js';\nimport type {TRBL, TRBLCorners} from '../types/geometric.js';\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n\n/**\n * @alias Chart.helpers.options\n * @namespace\n */\n/**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */\nexport function toLineHeight(value: number | string, size: number): number {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n\n  value = +matches[2];\n\n  switch (matches[3]) {\n    case 'px':\n      return value;\n    case '%':\n      value /= 100;\n      break;\n    default:\n      break;\n  }\n\n  return size * value;\n}\n\nconst numberOrZero = (v: unknown) => +v || 0;\n\n/**\n * @param value\n * @param props\n */\nexport function _readValueToProps<K extends string>(value: number | Record<K, number>, props: K[]): Record<K, number>;\nexport function _readValueToProps<K extends string, T extends string>(value: number | Record<K & T, number>, props: Record<T, K>): Record<T, number>;\nexport function _readValueToProps(value: number | Record<string, number>, props: string[] | Record<string, string>) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\n\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */\nexport function toTRBL(value: number | TRBL | Point) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\n\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */\nexport function toTRBLCorners(value: number | TRBLCorners) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\n\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */\nexport function toPadding(value?: number | TRBL): ChartArea {\n  const obj = toTRBL(value) as ChartArea;\n\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n\n  return obj;\n}\n\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */\n\nexport function toFont(options: Partial<FontSpec>, fallback?: Partial<FontSpec>) {\n  options = options || {};\n  fallback = fallback || defaults.font as FontSpec;\n\n  let size = valueOrDefault(options.size, fallback.size);\n\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = undefined;\n  }\n\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n\n  font.string = toFontString(font);\n  return font;\n}\n\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */\nexport function resolve(inputs: Array<unknown>, context?: object, index?: number, info?: { cacheable: boolean }) {\n  let cacheable = true;\n  let i: number, ilen: number, value: unknown;\n\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\n\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */\nexport function _addGrace(minmax: { min: number; max: number; }, grace: number | string, beginAtZero: boolean) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value: number, add: number) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\n\n/**\n * Create a context inheriting parentContext\n * @param parentContext\n * @param context\n * @returns\n */\nexport function createContext<T extends object>(parentContext: null, context: T): T;\nexport function createContext<T extends object, P extends T>(parentContext: P, context: T): P & T;\nexport function createContext(parentContext: object, context: object) {\n  return Object.assign(Object.create(parentContext), context);\n}\n", "/* eslint-disable @typescript-eslint/no-use-before-define */\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartMeta} from '../types/index.js';\nimport type {\n  ResolverObjectKey,\n  ResolverCache,\n  ResolverProxy,\n  DescriptorDefaults,\n  Descriptor,\n  ContextCache,\n  ContextProxy\n} from './helpers.config.types.js';\nimport {isArray, isFunction, isObject, resolveObjectKey, _capitalize} from './helpers.core.js';\n\nexport * from './helpers.config.types.js';\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */\nexport function _createResolver<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  scopes: T,\n  prefixes = [''],\n  rootScopes?: R,\n  fallback?: ResolverObjectKey,\n  getTarget = () => scopes[0]\n) {\n  const finalRootScopes = rootScopes || scopes;\n  if (typeof fallback === 'undefined') {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache: ResolverCache<T, R> = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: finalRootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope: AnyObject) => _createResolver([scope, ...scopes], prefixes, finalRootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop: string) {\n      delete target[prop]; // remove from cache\n      delete target._keys; // remove cached keys\n      delete scopes[0][prop]; // remove from top level scope\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop: string) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop: string, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value; // set to top level scope + cache\n      delete target._keys; // remove cached keys\n      return true;\n    }\n  }) as ResolverProxy<T, R>;\n}\n\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */\nexport function _attachContext<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  proxy: ResolverProxy<T, R>,\n  context: AnyObject,\n  subProxy?: ResolverProxy<T, R>,\n  descriptorDefaults?: DescriptorDefaults\n) {\n  const cache: ContextCache<T, R> = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx: AnyObject) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope: AnyObject) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop) {\n      delete target[prop]; // remove from cache\n      delete proxy[prop]; // remove from proxy\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop, value) {\n      proxy[prop] = value; // set to proxy\n      delete target[prop]; // remove from cache\n      return true;\n    }\n  }) as ContextProxy<T, R>;\n}\n\n/**\n * @private\n */\nexport function _descriptors(\n  proxy: ResolverCache,\n  defaults: DescriptorDefaults = {scriptable: true, indexable: true}\n): Descriptor {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\n\nconst readKey = (prefix: string, name: string) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop: string, value: unknown) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\n\nfunction _cached(\n  target: AnyObject,\n  prop: string,\n  resolve: () => unknown\n) {\n  if (Object.prototype.hasOwnProperty.call(target, prop) || prop === 'constructor') {\n    return target[prop];\n  }\n\n  const value = resolve();\n  // cache the resolved value\n  target[prop] = value;\n  return value;\n}\n\nfunction _resolveWithContext(\n  target: ContextCache,\n  prop: string,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop]; // resolve from proxy\n\n  // resolve with context\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    // if the resolved value is an object, create a sub resolver for it\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\n\nfunction _resolveScriptable(\n  prop: string,\n  getValue: (ctx: AnyObject, sub: AnyObject) => unknown,\n  target: ContextCache,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  let value = getValue(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    // When scriptable option returns an object, create a resolver on that.\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\n\nfunction _resolveArray(\n  prop: string,\n  value: unknown[],\n  target: ContextCache,\n  isIndexable: (key: string) => boolean\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n\n  if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n    return value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    // Array of objects, return array or resolvers\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\n\nfunction resolveFallback(\n  fallback: ResolverObjectKey | ((prop: ResolverObjectKey, value: unknown) => ResolverObjectKey),\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\n\nconst getScope = (key: ResolverObjectKey, parent: AnyObject) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\n\nfunction addScopes(\n  set: Set<AnyObject>,\n  parentScopes: AnyObject[],\n  key: ResolverObjectKey,\n  parentFallback: ResolverObjectKey,\n  value: unknown\n) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n        // When we reach the descriptor that defines a new _fallback, return that.\n        // The fallback will resume to that new scope.\n        return fallback;\n      }\n    } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n      // Fallback to `false` results to `false`, when falling back to different key.\n      // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n      return null;\n    }\n  }\n  return false;\n}\n\nfunction createSubResolver(\n  parentScopes: AnyObject[],\n  resolver: ResolverCache,\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set<AnyObject>();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (typeof fallback !== 'undefined' && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop as string, value));\n}\n\nfunction addScopesFromKey(\n  set: Set<AnyObject>,\n  allScopes: AnyObject[],\n  key: ResolverObjectKey,\n  fallback: ResolverObjectKey,\n  item: unknown\n) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\n\nfunction subGetTarget(\n  resolver: ResolverCache,\n  prop: string,\n  value: unknown\n) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    // For array of objects, the object is used to store updated values\n    return value;\n  }\n  return target || {};\n}\n\nfunction _resolveWithPrefixes(\n  prop: string,\n  prefixes: string[],\n  scopes: AnyObject[],\n  proxy: ResolverProxy\n) {\n  let value: unknown;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (typeof value !== 'undefined') {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\n\nfunction _resolve(key: string, scopes: AnyObject[]) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (typeof value !== 'undefined') {\n      return value;\n    }\n  }\n}\n\nfunction getKeysFromAllScopes(target: ResolverCache) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\n\nfunction resolveKeysFromAllScopes(scopes: AnyObject[]) {\n  const set = new Set<string>();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nexport function _parseObjectDataRadialScale(\n  meta: ChartMeta<'line' | 'scatter'>,\n  data: AnyObject[],\n  start: number,\n  count: number\n) {\n  const {iScale} = meta;\n  const {key = 'r'} = this._parsing;\n  const parsed = new Array<{r: unknown}>(count);\n  let i: number, ilen: number, index: number, item: AnyObject;\n\n  for (i = 0, ilen = count; i < ilen; ++i) {\n    index = i + start;\n    item = data[index];\n    parsed[i] = {\n      r: iScale.parse(resolveObjectKey(item, key), index)\n    };\n  }\n  return parsed;\n}\n", "import {almostEquals, distanceBetweenPoints, sign} from './helpers.math.js';\nimport {_isPointInArea} from './helpers.canvas.js';\nimport type {ChartArea} from '../types/index.js';\nimport type {SplinePoint} from '../types/geometric.js';\n\nconst EPSILON = Number.EPSILON || 1e-14;\n\ntype OptionalSplinePoint = SplinePoint | false\nconst getPoint = (points: SplinePoint[], i: number): OptionalSplinePoint => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis: 'x' | 'y') => indexAxis === 'x' ? 'y' : 'x';\n\nexport function splineCurve(\n  firstPoint: SplinePoint,\n  middlePoint: SplinePoint,\n  afterPoint: SplinePoint,\n  t: number\n): {\n    previous: SplinePoint\n    next: SplinePoint\n  } {\n  // Props to Rob Spencer at scaled innovation for his post on splining between points\n  // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\n  // This function must also respect \"skipped\" points\n\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n\n  // If all points are the same, s01 & s02 will be inf\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n\n  const fa = t * s01; // scaling factor for triangle Ta\n  const fb = t * s12;\n\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\n\n/**\n * Adjust tangents to ensure monotonic properties\n */\nfunction monotoneAdjust(points: SplinePoint[], deltaK: number[], mK: number[]) {\n  const pointsLen = points.length;\n\n  let alphaK: number, betaK: number, tauK: number, squaredMagnitude: number, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\n\nfunction monotoneCompute(points: SplinePoint[], mK: number[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta: number, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\n\n/**\n * This function calculates Bézier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */\nexport function splineCurveMonotone(points: SplinePoint[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK: number[] = Array(pointsLen).fill(0);\n  const mK: number[] = Array(pointsLen);\n\n  // Calculate slopes (deltaK) and initialize tangents (mK)\n  let i, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n\n      // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n        : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n          : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n\n  monotoneAdjust(points, deltaK, mK);\n\n  monotoneCompute(points, mK, indexAxis);\n}\n\nfunction capControlPoint(pt: number, min: number, max: number) {\n  return Math.max(Math.min(pt, max), min);\n}\n\nfunction capBezierPoints(points: SplinePoint[], area: ChartArea) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\n\n/**\n * @private\n */\nexport function _updateBezierControlPoints(\n  points: SplinePoint[],\n  options,\n  area: ChartArea,\n  loop: boolean,\n  indexAxis: 'x' | 'y'\n) {\n  let i: number, ilen: number, point: SplinePoint, controlPoints: ReturnType<typeof splineCurve>;\n\n  // Only consider points that are drawn in case the spanGaps option is used\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n", "import type {ChartArea, Scale} from '../types/index.js';\nimport type Chart from '../core/core.controller.js';\nimport type {ChartEvent} from '../types.js';\nimport {INFINITY} from './helpers.math.js';\n\n/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */\n\n/**\n * @private\n */\nexport function _isDomSupported(): boolean {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n\n/**\n * @private\n */\nexport function _getParentNode(domNode: HTMLCanvasElement): HTMLCanvasElement {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = (parent as ShadowRoot).host;\n  }\n  return parent as HTMLCanvasElement;\n}\n\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */\n\nfunction parseMaxStyle(styleValue: string | number, node: HTMLElement, parentProperty: string) {\n  let valueInPixels: number;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n\n    if (styleValue.indexOf('%') !== -1) {\n      // percentage * size in dimension\n      valueInPixels = (valueInPixels / 100) * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n\n  return valueInPixels;\n}\n\nconst getComputedStyle = (element: HTMLElement): CSSStyleDeclaration =>\n  element.ownerDocument.defaultView.getComputedStyle(element, null);\n\nexport function getStyle(el: HTMLElement, property: string): string {\n  return getComputedStyle(el).getPropertyValue(property);\n}\n\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles: CSSStyleDeclaration, style: string, suffix?: string): ChartArea {\n  const result = {} as ChartArea;\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\n\nconst useOffsetPos = (x: number, y: number, target: HTMLElement | EventTarget) =>\n  (x > 0 || y > 0) && (!target || !(target as HTMLElement).shadowRoot);\n\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */\nfunction getCanvasPosition(\n  e: Event | TouchEvent | MouseEvent,\n  canvas: HTMLCanvasElement\n): {\n    x: number;\n    y: number;\n    box: boolean;\n  } {\n  const touches = (e as TouchEvent).touches;\n  const source = (touches && touches.length ? touches[0] : e) as MouseEvent;\n  const {offsetX, offsetY} = source as MouseEvent;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\n\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */\n\nexport function getRelativePosition(\n  event: Event | ChartEvent | TouchEvent | MouseEvent,\n  chart: Chart\n): { x: number; y: number } {\n  if ('native' in event) {\n    return event;\n  }\n\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(event, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\n\nfunction getContainerSize(canvas: HTMLCanvasElement, width: number, height: number): Partial<Scale> {\n  let maxWidth: number, maxHeight: number;\n\n  if (width === undefined || height === undefined) {\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect(); // this is the border box of the container\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\n\nconst round1 = (v: number) => Math.round(v * 10) / 10;\n\n// eslint-disable-next-line complexity\nexport function getMaximumSize(\n  canvas: HTMLCanvasElement,\n  bbWidth?: number,\n  bbHeight?: number,\n  aspectRatio?: number\n): { width: number; height: number } {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    // https://github.com/chartjs/Chart.js/issues/4659\n    // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n    height = round1(width / 2);\n  }\n\n  const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n\n  if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n    height = containerSize.height;\n    width = round1(Math.floor(height * aspectRatio));\n  }\n\n  return {width, height};\n}\n\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */\nexport function retinaScale(\n  chart: Chart,\n  forceRatio: number,\n  forceStyle?: boolean\n): boolean | void {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n\n  chart.height = Math.floor(chart.height);\n  chart.width = Math.floor(chart.width);\n\n  const canvas = chart.canvas;\n\n  // If no style has been set on the canvas, the render size is used as display size,\n  // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n  // See https://github.com/chartjs/Chart.js/issues/3575\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */\nexport const supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() { // This function will be called when the browser attempts to access the passive property.\n        passiveSupported = true;\n        return false;\n      }\n    } as EventListenerOptions;\n\n    if (_isDomSupported()) {\n      window.addEventListener('test', null, options);\n      window.removeEventListener('test', null, options);\n    }\n  } catch (e) {\n    // continue regardless of error\n  }\n  return passiveSupported;\n}());\n\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */\n\nexport function readUsedSize(\n  element: HTMLElement,\n  property: 'width' | 'height'\n): number | undefined {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n", "import type {Point, SplinePoint} from '../types/geometric.js';\n\n/**\n * @private\n */\nexport function _pointInLine(p1: Point, p2: Point, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\n\n/**\n * @private\n */\nexport function _steppedInterpolation(\n  p1: Point,\n  p2: Point,\n  t: number, mode: 'middle' | 'after' | unknown\n) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n      : mode === 'after' ? t < 1 ? p1.y : p2.y\n        : t > 0 ? p2.y : p1.y\n  };\n}\n\n/**\n * @private\n */\nexport function _bezierInterpolation(p1: SplinePoint, p2: SplinePoint, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n", "export interface RTLAdapter {\n  x(x: number): number;\n  setWidth(w: number): void;\n  textAlign(align: 'center' | 'left' | 'right'): 'center' | 'left' | 'right';\n  xPlus(x: number, value: number): number;\n  leftForLtr(x: number, itemWidth: number): number;\n}\n\nconst getRightToLeftAdapter = function(rectX: number, width: number): RTLAdapter {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\n\nconst getLeftToRightAdapter = function(): RTLAdapter {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) { // eslint-disable-line no-unused-vars\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) { // eslint-disable-line @typescript-eslint/no-unused-vars\n      return x;\n    },\n  };\n};\n\nexport function getRtlAdapter(rtl: boolean, rectX: number, width: number) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\n\nexport function overrideTextDirection(ctx: CanvasRenderingContext2D, direction: 'ltr' | 'rtl') {\n  let style: CSSStyleDeclaration, original: [string, string];\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n\n    style.setProperty('direction', direction, 'important');\n    (ctx as { prevTextDirection?: [string, string] }).prevTextDirection = original;\n  }\n}\n\nexport function restoreTextDirection(ctx: CanvasRenderingContext2D, original?: [string, string]) {\n  if (original !== undefined) {\n    delete (ctx as { prevTextDirection?: [string, string] }).prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n", "import {_angleBetween, _angleDiff, _isBetween, _normalizeAngle} from './helpers.math.js';\nimport {createContext} from './helpers.options.js';\nimport {isPatternOrGradient} from './helpers.color.js';\n\n/**\n * @typedef { import('../elements/element.line.js').default } LineElement\n * @typedef { import('../elements/element.point.js').default } PointElement\n * @typedef {{start: number, end: number, loop: boolean, style?: any}} Segment\n */\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\n\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\n\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  // eslint-disable-next-line prefer-const\n  let {start, end, loop} = segment;\n  let i, ilen;\n\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\n\n/**\n * Returns the sub-segment(s) of a line segment that fall in the given bounds\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} [segment.style] - segment style\n * @param {PointElement[]} points - the points that this segment refers to\n * @param {object} [bounds]\n * @param {string} bounds.property - the property of a `PointElement` we are bounding. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the property\n * @param {number} bounds.end - end value of the property\n * @private\n **/\nexport function _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n\n    if (point.skip) {\n      continue;\n    }\n\n    value = normalize(point[property]);\n\n    if (value === prevValue) {\n      continue;\n    }\n\n    inside = between(value, startBound, endBound);\n\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n\n  return result;\n}\n\n\n/**\n * Returns the segments of the line that are inside given bounds\n * @param {LineElement} line\n * @param {object} [bounds]\n * @param {string} bounds.property - the property we are bounding with. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the `property`\n * @param {number} bounds.end - end value of the `property`\n * @private\n */\nexport function _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\n\n/**\n * Find start and end index of a line.\n */\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n\n  if (loop && !spanGaps) {\n    // loop and not spanning gaps, first find a gap to start from\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n\n  // find first non skipped point (after the first gap possibly)\n  while (start < count && points[start].skip) {\n    start++;\n  }\n\n  // if we looped to count, start needs to be 0\n  start %= count;\n\n  if (loop) {\n    // loop will go past count, if start > 0\n    end += start;\n  }\n\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n\n  // end could be more than count, normalize\n  end %= count;\n\n  return {start, end};\n}\n\n/**\n * Compute solid segments from Points, when spanGaps === false\n * @param {PointElement[]} points - the points\n * @param {number} start - start index\n * @param {number} max - max index (can go past count on a loop)\n * @param {boolean} loop - boolean indicating that this would be a loop if no gaps are found\n */\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        // @ts-ignore\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n\n  return result;\n}\n\n/**\n * Compute the continuous segments that define the whole line\n * There can be skipped points within a segment, if spanGaps is true.\n * @param {LineElement} line\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n * @private\n */\nexport function _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n\n  if (!count) {\n    return [];\n  }\n\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n\n/**\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\n\n/**\n * @param {LineElement} line\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    // Style can not start/end on a skipped point, adjust indices accordingly\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n\n  return result;\n}\n\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\n\nfunction styleChanged(style, prevStyle) {\n  if (!prevStyle) {\n    return false;\n  }\n  const cache = [];\n  const replacer = function(key, value) {\n    if (!isPatternOrGradient(value)) {\n      return value;\n    }\n    if (!cache.includes(value)) {\n      cache.push(value);\n    }\n    return cache.indexOf(value);\n  };\n  return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n", "import {requestAnimFrame} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('./core.animation.js').default } Animation\n * @typedef { import('./core.controller.js').default } Chart\n */\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is export for typedoc\n */\nexport class Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n\n  /**\n\t * @private\n\t */\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _update(date = Date.now()) {\n    let remaining = 0;\n\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n\n      for (; i >= 0; --i) {\n        item = items[i];\n\n        if (item._active) {\n          if (item._total > anims.duration) {\n            // if the animation has been updated and its duration prolonged,\n            // update to total duration of current animations run (for progress event)\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          // Remove the item by replacing it with last item and removing the last\n          // A lot faster than splice.\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n\n      remaining += items.length;\n    });\n\n    this._lastDate = date;\n\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} event - event name\n\t * @param {Function} cb - callback\n\t */\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n\n  /**\n\t * Add animations\n\t * @param {Chart} chart\n\t * @param {Animation[]} items - animations\n\t */\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n\n  /**\n\t * Counts number of active animations for the chart\n\t * @param {Chart} chart\n\t */\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n\n  /**\n\t * Start animating (all charts)\n\t * @param {Chart} chart\n\t */\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n\t * Stop all animations for the chart\n\t * @param {Chart} chart\n\t */\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n\n  /**\n\t * Remove chart from Animator\n\t * @param {Chart} chart\n\t */\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Animator();\n", "import effects from '../helpers/helpers.easing.js';\nimport {resolve} from '../helpers/helpers.options.js';\nimport {color as helpersColor} from '../helpers/helpers.color.js';\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  /**\n   * @param {string} from\n   * @param {string} to\n   * @param {number} factor\n   */\n  color(from, to, factor) {\n    const c0 = helpersColor(from || transparent);\n    const c1 = c0.valid && helpersColor(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\n\nexport default class Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n\n  active() {\n    return this._active;\n  }\n\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n\n  cancel() {\n    if (this._active) {\n      // update current evaluated value, for smoother animations\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n\n    this._active = from !== to && (loop || (elapsed < duration));\n\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n\n    this._target[prop] = this._fn(from, to, factor);\n  }\n\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n", "import animator from './core.animator.js';\nimport Animation from './core.animation.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isObject} from '../helpers/helpers.core.js';\n\nexport default class Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n\n    const animationOptions = Object.keys(defaults.animation);\n    const animatedProps = this._properties;\n\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n\n  /**\n\t * Utility to handle animation of `options`.\n\t * @private\n\t */\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      // Going to shared options:\n      // After all animations are done, assign the shared options object to the element\n      // So any new updates to the shared options are observed\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n        // rejected, noop\n      });\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @private\n\t */\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n\n      if (animation) {\n        if (cfg && animation.active()) {\n          // There is an existing active animation, let's update that\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        // not animated, set directly to new value\n        target[prop] = value;\n        continue;\n      }\n\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n\n\n  /**\n\t * Update `target` properties to new values, using configured animations\n\t * @param {object} target - object to update\n\t * @param {object} values - new target properties\n\t * @returns {boolean|undefined} - `true` if animations were started\n\t **/\n  update(target, values) {\n    if (this._properties.size === 0) {\n      // Nothing is animated, just apply the new values.\n      Object.assign(target, values);\n      return;\n    }\n\n    const animations = this._createAnimations(target, values);\n\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\n\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  // @ts-ignore\n  return Promise.all(running);\n}\n\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    // Going from shared options to distinct one:\n    // Create new options object containing the old shared values and start updating that.\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n", "import Animations from './core.animations.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isFinite, isObject, valueOrDefault, resolveObjectKey, defined} from '../helpers/helpers.core.js';\nimport {listenArrayEvents, unlistenArrayEvents} from '../helpers/helpers.collection.js';\nimport {createContext, sign} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('./core.scale.js').default } Scale\n */\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\n\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\n\nfunction toClip(value) {\n  let t, r, b, l;\n\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\n\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\n\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n\n  if (value === null) {\n    return;\n  }\n\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\n\nfunction convertObjectDataToArray(data, meta) {\n  const {iScale, vScale} = meta;\n  const iAxisKey = iScale.axis === 'x' ? 'x' : 'y';\n  const vAxisKey = vScale.axis === 'x' ? 'x' : 'y';\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      [iAxisKey]: key,\n      [vAxisKey]: data[key]\n    };\n  }\n  return adata;\n}\n\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\n\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\n\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\n\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\n\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n\n  return null;\n}\n\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {}); // map structure is {stackKey: {datasetIndex: value}}\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n\n    const visualValues = stack._visualValues || (stack._visualValues = {});\n    visualValues[datasetIndex] = value;\n  }\n}\n\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\n\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\n\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\n\nfunction clearStacks(meta, items) {\n  // Not using meta.index here, because it might be already updated if the dataset changed location\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n    if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n      delete stacks[axis]._visualValues[datasetIndex];\n    }\n  }\n}\n\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\n\nexport default class DatasetController {\n\n  /**\n   * @type {any}\n   */\n  static defaults = {};\n\n  /**\n   * Element type used to generate a meta dataset (e.g. Chart.element.LineElement).\n   */\n  static datasetElementType = null;\n\n  /**\n   * Element type used to generate a meta data (e.g. Chart.element.PointElement).\n   */\n  static dataElementType = null;\n\n  /**\n\t * @param {Chart} chart\n\t * @param {number} datasetIndex\n\t */\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    /** @type {boolean | object} */\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.supportsDecimation = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.datasetElementType = new.target.datasetElementType;\n    this.dataElementType = new.target.dataElementType;\n\n    this.initialize();\n  }\n\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n\n    if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n      console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n    }\n  }\n\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n\n  /**\n\t * @param {string} scaleID\n\t * @return {Scale}\n\t */\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n\n  /**\n\t * @private\n\t */\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n\n  reset() {\n    this._update('reset');\n  }\n\n  /**\n\t * @private\n\t */\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n\n    // In order to correctly handle data addition/deletion animation (and thus simulate\n    // real-time charts), we need to monitor these data modifications and synchronize\n    // the internal metadata accordingly.\n\n    if (isObject(data)) {\n      const meta = this._cachedMeta;\n      this._data = convertObjectDataToArray(data, meta);\n    } else if (_data !== data) {\n      if (_data) {\n        // This case happens when the user replaced the data array instance.\n        unlistenArrayEvents(_data, this);\n        // Discard old parsed data and stacks\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n\n  addElements() {\n    const meta = this._cachedMeta;\n\n    this._dataCheck();\n\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n\n    this._dataCheck();\n\n    // make sure cached _stacked status is current\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n\n    // detect change in stack option\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      // remove values from old stack\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n\n    // Re-sync meta data in case the user replaced the data array or if we missed\n    // any updates and so make sure that we handle number of datapoints changing.\n    this._resyncElements(resetNewElements);\n\n    // if stack changed, update stack values for the whole dataset\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n    }\n  }\n\n  /**\n\t * Merges user-supplied and default dataset-level options\n\t * @private\n\t */\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n\n  /**\n\t * @param {number} start\n\t * @param {number} count\n\t */\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [1,3,4]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {xScale0: 0, yScale0: 1}\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [[1,2],[3,4]]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {x: 0, y: 1}\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [{x:1, y:5}, {x:2, y:10}]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id. _custom is optional\n\t * Example: {xScale0: 0, yScale0: 1, _custom: {r: 10, foo: 'bar'}}\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]._visualValues\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        // if the data is sorted, we don't need to check further from this end of array\n        break;\n      }\n    }\n    if (sorted) {\n      // in the sorted case, find first non-skipped value from other end of array\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return false;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {} // eslint-disable-line no-unused-vars\n\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n\n  /**\n\t * Returns a set of predefined style properties that should be used to represent the dataset\n\t * or the data if the index is specified\n\t * @param {number} index - data index\n\t * @param {boolean} [active] - true if hover\n\t * @return {object} style object\n\t */\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n\n  /**\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    // context is provided as a function, and is called only if needed,\n    // so we don't create a context for each element if not needed.\n    const context = () => this.getContext(index, active, mode);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n\n    if (values.$shared) {\n      // `$shared` indicates this set of options can be shared between multiple elements.\n      // Sharing is used to reduce number of properties to change during animation.\n      values.$shared = sharing;\n\n      // We cache options by `mode`, which can be 'active' for example. This enables us\n      // to have the 'active' element options and 'default' options to switch between\n      // when interacting.\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n\n    return values;\n  }\n\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n\n  /**\n\t * Utility for getting the options object shared between elements\n\t * @protected\n\t */\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n\n  /**\n\t * Utility for determining if `options` should be included in the updated properties\n\t * @protected\n\t */\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n\n  /**\n   * @todo v4, rename to getSharedOptions and remove excess functions\n   */\n  _getSharedOptions(start, mode) {\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const previouslySharedOptions = this._sharedOptions;\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    return {sharedOptions, includeOptions};\n  }\n\n  /**\n\t * Utility for updating an element with new properties, using animations when appropriate.\n\t * @protected\n\t */\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n\n  /**\n\t * Utility to animate the shared options, that are potentially affecting multiple elements.\n\t * @protected\n\t */\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      // When going from active to inactive, we need to update to the shared options.\n      // This way the once hovered element will end up with the same original shared options instance, after animation.\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n\n  /**\n\t * @private\n\t */\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n\n    // Apply changes detected through array listeners\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n\n    if (count) {\n      // TODO: It is not optimal to always parse the old data\n      // This is done because we are not detecting direct assignments:\n      // chart.data.datasets[0].data[5] = 10;\n      // chart.data.datasets[0].data[5].y = 10;\n      this.parse(0, count);\n    }\n\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n\n  updateElements(element, start, count, mode) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @private\n\t */\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n\n  /**\n\t * @private\n   */\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {\n  _arrayUnique, isArray, isNullOrUndef,\n  valueOrDefault, resolveObjectKey, sign, defined\n} from '../helpers/index.js';\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\n\n/**\n * Computes the \"optimal\" sample size to maintain bars equally sized while preventing overlap.\n * @private\n */\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      // Ignore truncated pixels\n      return;\n    }\n    if (defined(prev)) {\n      // curr - prev === 0 is ignored\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n\n  return min;\n}\n\n/**\n * Computes an \"ideal\" category based on the absolute bar thickness or, if undefined or null,\n * uses the smallest interval (see computeMinSampleSize) that prevents bar overlapping. This\n * mode currently always generates bars equally sized (until we introduce scriptable options?).\n * @private\n */\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    // When bar thickness is enforced, category and bar percentages are ignored.\n    // Note(SB): we could add support for relative bar thickness (e.g. barThickness: '50%')\n    // and deprecate barPercentage since this value is ignored when thickness is absolute.\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\n\n/**\n * Computes an \"optimal\" category that globally arranges bars side by side (no gap when\n * percentage options are 1), based on the previous and following categories. This mode\n * generates bars with different widths when data are not evenly spaced.\n * @private\n */\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n\n  if (prev === null) {\n    // first data: its size is double based on the next point or,\n    // if it's also the last data, we use the scale size.\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n\n  if (next === null) {\n    // last data: its size is also double based on the previous point.\n    next = curr + curr - prev;\n  }\n\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\n\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n\n  // Store `barEnd` (furthest away from origin) as parsed value,\n  // to make stacking straight forward\n  item[vScale.axis] = barEnd;\n\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\n\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\n\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\n\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\n\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\n\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\n\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n\n  if (edge === true) {\n    properties.borderSkipped = {top: true, right: true, bottom: true, left: true};\n    return;\n  }\n\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\n\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\n\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\n\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\n\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\n\nexport default class BarController extends DatasetController {\n\n  static id = 'bar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'bar',\n\n    categoryPercentage: 0.8,\n    barPercentage: 0.9,\n    grouped: true,\n\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'base', 'width', 'height']\n      }\n    }\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n        offset: true,\n        grid: {\n          offset: true\n        }\n      },\n      _value_: {\n        type: 'linear',\n        beginAtZero: true,\n      }\n    }\n  };\n\n\n  /**\n\t * Overriding primitive data parsing since we support mixed primitive/array\n\t * data for float bars\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n\n  /**\n\t * Overriding array data parsing since we support mixed primitive/array\n\t * data for float bars\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n\n  /**\n\t * Overriding object data parsing since we support mixed primitive/array\n\t * value-scale data for float bars\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      // float bar: only one end of the bar is considered by `super`\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n\n  initialize() {\n    this.enableOptionSharing = true;\n\n    super.initialize();\n\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n\n  /**\n\t * Returns the stacks based on groups and bar visibility.\n\t * @param {number} [last] - The dataset index\n\t * @param {number} [dataIndex] - The data index of the ruler\n\t * @returns {string[]} The list of stack IDs\n\t * @private\n\t */\n  _getStacks(last, dataIndex) {\n    const {iScale} = this._cachedMeta;\n    const metasets = iScale.getMatchingVisibleMetas(this._type)\n      .filter(meta => meta.controller.options.grouped);\n    const stacked = iScale.options.stacked;\n    const stacks = [];\n\n    const skipNull = (meta) => {\n      const parsed = meta.controller.getParsed(dataIndex);\n      const val = parsed && parsed[meta.vScale.axis];\n\n      if (isNullOrUndef(val) || isNaN(val)) {\n        return true;\n      }\n    };\n\n    for (const meta of metasets) {\n      if (dataIndex !== undefined && skipNull(meta)) {\n        continue;\n      }\n\n      // stacked   | meta.stack\n      //           | found | not found | undefined\n      // false     |   x   |     x     |     x\n      // true      |       |     x     |\n      // undefined |       |     x     |     x\n      if (stacked === false || stacks.indexOf(meta.stack) === -1 ||\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\n        stacks.push(meta.stack);\n      }\n      if (meta.index === last) {\n        break;\n      }\n    }\n\n    // No stacks? that means there is no visible data. Let's still initialize an `undefined`\n    // stack where possible invisible bars will be located.\n    // https://github.com/chartjs/Chart.js/issues/6368\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n\n    return stacks;\n  }\n\n  /**\n\t * Returns the effective number of stacks based on groups and bar visibility.\n\t * @private\n\t */\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n\n  /**\n\t * Returns the stack index for the given dataset based on groups and bar visibility.\n\t * @param {number} [datasetIndex] - The dataset index\n\t * @param {string} [name] - The stack name to find\n   * @param {number} [dataIndex]\n\t * @returns {number} The stack index\n\t * @private\n\t */\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1; // indexOf returns -1 if element is not present\n\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n\n  /**\n\t * @private\n\t */\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      // bar thickness ratio used for non-grouped bars\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n\n  /**\n\t * Note: pixel values are not clamped to the scale area.\n\t * @private\n\t */\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked, index: datasetIndex}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      // bars crossing origin are not stacked\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      // When not visible, no height\n      head = base;\n    }\n\n    size = head - base;\n\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      const startPixel = vScale.getPixelForDecimal(0);\n      const endPixel = vScale.getPixelForDecimal(1);\n      const min = Math.min(startPixel, endPixel);\n      const max = Math.max(startPixel, endPixel);\n      base = Math.max(Math.min(base, max), min);\n      head = base + size;\n\n      if (_stacked && !floating) {\n        // visual data coordinates after applying minBarLength\n        parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n      }\n    }\n\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      // For non-grouped bar charts, exact pixel values are used\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null && !rects[i].hidden) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {valueOrDefault} from '../helpers/helpers.core.js';\n\nexport default class BubbleController extends DatasetController {\n\n  static id = 'bubble';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'point',\n\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'borderWidth', 'radius']\n      }\n    }\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      x: {\n        type: 'linear'\n      },\n      y: {\n        type: 'linear'\n      }\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const labels = this.chart.data.labels || [];\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n\n    return {\n      label: labels[index] || '',\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n\n  update(mode) {\n    const points = this._cachedMeta.data;\n\n    // Update Points\n    this.updateElements(points, 0, points.length, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n\n    // In case values were cached (and thus frozen), we need to clone the values\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n\n    // Custom radius resolution\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n\n    return values;\n  }\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {isObject, resolveObjectKey, toPercentage, toDimension, valueOrDefault} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {toRadians, PI, TAU, HALF_PI, _angleBetween} from '../helpers/helpers.math.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  // If the chart's circumference isn't a full circle, calculate size as a ratio of the width/height of the arc\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\n\nexport default class DoughnutController extends DatasetController {\n\n  static id = 'doughnut';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'arc',\n    animation: {\n      // Boolean - Whether we animate the rotation of the Doughnut\n      animateRotate: true,\n      // Boolean - Whether we animate scaling the Doughnut from the centre\n      animateScale: false\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n      },\n    },\n    // The percentage of the chart that we cut out of the middle.\n    cutout: '50%',\n\n    // The rotation of the chart, where the first data arc begins.\n    rotation: 0,\n\n    // The total circumference of the chart.\n    circumference: 360,\n\n    // The outer radius of the chart\n    radius: '100%',\n\n    // Spacing between arcs\n    spacing: 0,\n\n    indexAxis: 'r',\n  };\n\n  static descriptors = {\n    _scriptable: (name) => name !== 'spacing',\n    _indexable: (name) => name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash'),\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    // Need to override these to give a nice default\n    plugins: {\n      legend: {\n        labels: {\n          generateLabels(chart) {\n            const data = chart.data;\n            if (data.labels.length && data.datasets.length) {\n              const {labels: {pointStyle, color}} = chart.legend.options;\n\n              return data.labels.map((label, i) => {\n                const meta = chart.getDatasetMeta(0);\n                const style = meta.controller.getStyle(i);\n\n                return {\n                  text: label,\n                  fillStyle: style.backgroundColor,\n                  strokeStyle: style.borderColor,\n                  fontColor: color,\n                  lineWidth: style.borderWidth,\n                  pointStyle: pointStyle,\n                  hidden: !chart.getDataVisibility(i),\n\n                  // Extra data used for toggling the correct item\n                  index: i\n                };\n              });\n            }\n            return [];\n          }\n        },\n\n        onClick(e, legendItem, legend) {\n          legend.chart.toggleDataVisibility(legendItem.index);\n          legend.chart.update();\n        }\n      }\n    }\n  };\n\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n\n  linkScales() {}\n\n  /**\n\t * Override data parsing, since we are not using scales\n\t */\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n\n  /**\n\t * @private\n\t */\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n\n  /**\n\t * Get the maximal rotation & circumference extents\n\t * across all visible datasets.\n\t */\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n\n    // Compute the maximal rotation & circumference limits.\n    // If we only consider our dataset, this can cause problems when two datasets\n    // are both less than a circle with different rotations (starting angles)\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n\n    meta.total = this.calculateTotal();\n\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n\n  /**\n   * @private\n   */\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    let startAngle = this._getRotation();\n    let i;\n\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n\n    return total;\n  }\n\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n\n    if (!arcs) {\n      // Find the outmost visible dataset\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          break;\n        }\n      }\n    }\n\n    if (!arcs) {\n      return 0;\n    }\n\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n\n  getMaxOffset(arcs) {\n    let max = 0;\n\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n\n  /**\n\t * Get radius length offset of the dataset in relation to the visible datasets weights. This allows determining the inner and outer radius correctly\n\t * @private\n\t */\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n\n    return ringWeightOffset;\n  }\n\n  /**\n\t * @private\n\t */\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n\n  /**\n\t * Returns the sum of all visible data set weights.\n\t * @private\n\t */\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class LineController extends DatasetController {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n\n    showLine: true,\n    spanGaps: false,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n      },\n      _value_: {\n        type: 'linear',\n      },\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    this.supportsDecimation = true;\n    super.initialize();\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    // Update Line\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    const end = start + count;\n    const pointsCount = points.length;\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = 0; i < pointsCount; ++i) {\n      const point = points[i];\n      const properties = directUpdate ? point : {};\n\n      if (i < start || i >= end) {\n        properties.skip = true;\n        continue;\n      }\n\n      const parsed = this.getParsed(i);\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {toRadians, PI, formatNumber, _parseObjectDataRadialScale} from '../helpers/index.js';\n\nexport default class PolarAreaController extends DatasetController {\n\n  static id = 'polarArea';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    dataElementType: 'arc',\n    animation: {\n      animateRotate: true,\n      animateScale: true\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n      },\n    },\n    indexAxis: 'r',\n    startAngle: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    plugins: {\n      legend: {\n        labels: {\n          generateLabels(chart) {\n            const data = chart.data;\n            if (data.labels.length && data.datasets.length) {\n              const {labels: {pointStyle, color}} = chart.legend.options;\n\n              return data.labels.map((label, i) => {\n                const meta = chart.getDatasetMeta(0);\n                const style = meta.controller.getStyle(i);\n\n                return {\n                  text: label,\n                  fillStyle: style.backgroundColor,\n                  strokeStyle: style.borderColor,\n                  fontColor: color,\n                  lineWidth: style.borderWidth,\n                  pointStyle: pointStyle,\n                  hidden: !chart.getDataVisibility(i),\n\n                  // Extra data used for toggling the correct item\n                  index: i\n                };\n              });\n            }\n            return [];\n          }\n        },\n\n        onClick(e, legendItem, legend) {\n          legend.chart.toggleDataVisibility(legendItem.index);\n          legend.chart.update();\n        }\n      }\n    },\n\n    scales: {\n      r: {\n        type: 'radialLinear',\n        angleLines: {\n          display: false\n        },\n        beginAtZero: true,\n        grid: {\n          circular: true\n        },\n        pointLabels: {\n          display: false\n        },\n        startAngle: 0\n      }\n    }\n  };\n\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n\n  /**\n   * @protected\n   */\n  getMinMax() {\n    const meta = this._cachedMeta;\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n\n    meta.data.forEach((element, index) => {\n      const parsed = this.getParsed(index).r;\n\n      if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n        if (parsed < range.min) {\n          range.min = parsed;\n        }\n\n        if (parsed > range.max) {\n          range.max = parsed;\n        }\n      }\n    });\n\n    return range;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n\n    const defaultAngle = 360 / this.countVisibleElements();\n\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n      angle = endAngle;\n\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n\n  countVisibleElements() {\n    const meta = this._cachedMeta;\n    let count = 0;\n\n    meta.data.forEach((element, index) => {\n      if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n\n    return count;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\n", "import DoughnutController from './controller.doughnut.js';\n\n// Pie charts are Doughnut chart with different defaults\nexport default class PieController extends DoughnutController {\n\n  static id = 'pie';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    // The percentage of the chart that we cut out of the middle.\n    cutout: 0,\n\n    // The rotation of the chart, where the first data arc begins.\n    rotation: 0,\n\n    // The total circumference of the chart.\n    circumference: 360,\n\n    // The outer radius of the chart\n    radius: '100%'\n  };\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {_parseObjectDataRadialScale} from '../helpers/index.js';\n\nexport default class RadarController extends DatasetController {\n\n  static id = 'radar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n    indexAxis: 'r',\n    showLine: true,\n    elements: {\n      line: {\n        fill: 'start'\n      }\n    },\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    scales: {\n      r: {\n        type: 'radialLinear',\n      }\n    }\n  };\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n\n    // Update Line\n    line.points = points;\n    // In resize mode only point locations change, so no need to set the points or options.\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n\n      this.updateElement(line, undefined, properties, mode);\n    }\n\n    // Update Points\n    this.updateElements(points, 0, points.length, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class ScatterController extends DatasetController {\n\n  static id = 'scatter';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'point',\n    showLine: false,\n    fill: false\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n\n    interaction: {\n      mode: 'point'\n    },\n\n    scales: {\n      x: {\n        type: 'linear'\n      },\n      y: {\n        type: 'linear'\n      }\n    }\n  };\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const labels = this.chart.data.labels || [];\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n\n    return {\n      label: labels[index] || '',\n      value: '(' + x + ', ' + y + ')'\n    };\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {data: points = []} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    if (this.options.showLine) {\n\n      // https://github.com/chartjs/Chart.js/issues/11333\n      if (!this.datasetElementType) {\n        this.addElements();\n      }\n      const {dataset: line, _dataset} = meta;\n\n      // Update Line\n      line._chart = this.chart;\n      line._datasetIndex = this.index;\n      line._decimated = !!_dataset._decimated;\n      line.points = points;\n\n      const options = this.resolveDatasetElementOptions(mode);\n      options.segment = this.options.segment;\n      this.updateElement(line, undefined, {\n        animated: !animationsDisabled,\n        options\n      }, mode);\n    } else if (this.datasetElementType) {\n      // https://github.com/chartjs/Chart.js/issues/11333\n      delete meta.dataset;\n      this.datasetElementType = false;\n    }\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  addElements() {\n    const {showLine} = this.options;\n\n    if (!this.datasetElementType && showLine) {\n      this.datasetElementType = this.chart.registry.getElement('line');\n    }\n\n    super.addElements();\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const data = meta.data || [];\n\n    if (!this.options.showLine) {\n      let max = 0;\n      for (let i = data.length - 1; i >= 0; --i) {\n        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n      }\n      return max > 0 && max;\n    }\n\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n\n    if (!data.length) {\n      return border;\n    }\n\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n}\n", "/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartOptions} from '../types/index.js';\n\nexport type TimeUnit = 'millisecond' | 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'quarter' | 'year';\n\nexport interface DateAdapter<T extends AnyObject = AnyObject> {\n  readonly options: T;\n  /**\n   * Will called with chart options after adapter creation.\n   */\n  init(this: DateAdapter<T>, chartOptions: ChartOptions): void;\n  /**\n   * Returns a map of time formats for the supported formatting units defined\n   * in Unit as well as 'datetime' representing a detailed date/time string.\n   */\n  formats(this: DateAdapter<T>): Record<string, string>;\n  /**\n   * Parses the given `value` and return the associated timestamp.\n   * @param value - the value to parse (usually comes from the data)\n   * @param [format] - the expected data format\n   */\n  parse(this: DateAdapter<T>, value: unknown, format?: TimeUnit): number | null;\n  /**\n   * Returns the formatted date in the specified `format` for a given `timestamp`.\n   * @param timestamp - the timestamp to format\n   * @param format - the date/time token\n   */\n  format(this: DateAdapter<T>, timestamp: number, format: TimeUnit): string;\n  /**\n   * Adds the specified `amount` of `unit` to the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param amount - the amount to add\n   * @param unit - the unit as string\n   */\n  add(this: DateAdapter<T>, timestamp: number, amount: number, unit: TimeUnit): number;\n  /**\n   * Returns the number of `unit` between the given timestamps.\n   * @param a - the input timestamp (reference)\n   * @param b - the timestamp to subtract\n   * @param unit - the unit as string\n   */\n  diff(this: DateAdapter<T>, a: number, b: number, unit: TimeUnit): number;\n  /**\n   * Returns start of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   * @param [weekday] - the ISO day of the week with 1 being Monday\n   * and 7 being Sunday (only needed if param *unit* is `isoWeek`).\n   */\n  startOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek', weekday?: number): number;\n  /**\n   * Returns end of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   */\n  endOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek'): number;\n}\n\nfunction abstract<T = void>(): T {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */\nclass DateAdapterBase implements DateAdapter {\n\n  /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */\n  static override<T extends AnyObject = AnyObject>(\n    members: Partial<Omit<DateAdapter<T>, 'options'>>\n  ) {\n    Object.assign(DateAdapterBase.prototype, members);\n  }\n\n  readonly options: AnyObject;\n\n  constructor(options: AnyObject) {\n    this.options = options || {};\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  init() {}\n\n  formats(): Record<string, string> {\n    return abstract();\n  }\n\n  parse(): number | null {\n    return abstract();\n  }\n\n  format(): string {\n    return abstract();\n  }\n\n  add(): number {\n    return abstract();\n  }\n\n  diff(): number {\n    return abstract();\n  }\n\n  startOf(): number {\n    return abstract();\n  }\n\n  endOf(): number {\n    return abstract();\n  }\n}\n\nexport default {\n  _date: DateAdapterBase\n};\n", "import {_lookupByKey, _rlookupByKey} from '../helpers/helpers.collection.js';\nimport {getRelativePosition} from '../helpers/helpers.dom.js';\nimport {_angleBetween, getAngleFromPoint} from '../helpers/helpers.math.js';\nimport {_isPointInArea} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef {{axis?: string, intersect?: boolean, includeInvisible?: boolean}} InteractionOptions\n * @typedef {{datasetIndex: number, index: number, element: import('./core.element.js').default}} InteractionItem\n * @typedef { import('../types/index.js').Point } Point\n */\n\n/**\n * Helper function to do binary search when possible\n * @param {object} metaset - the dataset meta\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {number} value - the value to find\n * @param {boolean} [intersect] - should the element intersect\n * @returns {{lo:number, hi:number}} indices to search data array between\n */\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      // _sharedOptions indicates that each element has equal options -> equal proportions\n      // So we can do a ranged binary search based on the range of first element and\n      // be confident to get the full range of indices that can intersect with the value.\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  // Default to all elements, when binary search can not be used.\n  return {lo: 0, hi: data.length - 1};\n}\n\n/**\n * Helper function to select candidate elements for interaction\n * @param {Chart} chart - the chart\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {function} handler - the callback to execute for each visible item\n * @param {boolean} [intersect] - consider intersecting items\n */\nfunction evaluateInteractionItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\n/**\n * Get a distance metric function for two points based on the\n * axis mode setting\n * @param {string} axis - the axis mode. x|y|xy|r\n */\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\n\n/**\n * Helper function to get the items that intersect the event position\n * @param {Chart} chart - the chart\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n  const items = [];\n\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return items;\n  }\n\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n      return;\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a radial chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a cartesian chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      // Can have multiple items at the same distance in which case we sort by size\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position considering all visible items in the chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return [];\n  }\n\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n\n/**\n * Helper function to get the items matching along the given X or Y axis\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis to match\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n  const items = [];\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n\n  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n    }\n  });\n\n  // If we want to trigger on an intersect and we don't have any items\n  // that intersect the position, return nothing\n  if (intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\n\n/**\n * Contains interaction related functions\n * @namespace Chart.Interaction\n */\nexport default {\n  // Part of the public API to facilitate developers creating their own modes\n  evaluateInteractionItems,\n\n  // Helper function for different modes\n  modes: {\n    /**\n\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\n\t\t * @function Chart.Interaction.modes.index\n\t\t * @since v2.4.0\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      // Default axis for index mode is 'x' to match old behaviour\n      const axis = options.axis || 'x';\n      const includeInvisible = options.includeInvisible || false;\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)\n        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      const elements = [];\n\n      if (!items.length) {\n        return [];\n      }\n\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n\n        // don't count items that are skipped (null data)\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n\n      return elements;\n    },\n\n    /**\n\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\n\t\t * @function Chart.Interaction.modes.dataset\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :\n        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n\n      return items;\n    },\n\n    /**\n\t\t * Point mode returns all elements that hit test based on the event position\n\t\t * of the event\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * nearest mode returns the element closest to the point\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * x mode returns the elements that hit-test at the current x coordinate\n\t\t * @function Chart.Interaction.modes.x\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    x(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n    },\n\n    /**\n\t\t * y mode returns the elements that hit-test at the current y coordinate\n\t\t * @function Chart.Interaction.modes.y\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    y(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n    }\n  }\n};\n", "import {defined, each, isObject} from '../helpers/helpers.core.js';\nimport {toPadding} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n */\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\n\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\n\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\n\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\n\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\n\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\n\n/**\n * store dimensions used instead of available chartArea in fitBoxes\n **/\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\n\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\n\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\n\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\n\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n\n  // dynamically placed boxes size is not considered\n  if (!isObject(pos)) {\n    if (layout.size) {\n      // this layout was already counted for, lets first reduce old size\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n\n  // return booleans on the changes per direction\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\n\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\n\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\n\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n\n    // Dimensions changed and there were non full width boxes before this\n    // -> we have to refit those\n    refit |= same && refitBoxes.length;\n\n    // Chart area changed in the opposite direction\n    changed = changed || other;\n\n    if (!box.fullSize) { // fullSize boxes don't need to be re-fitted in any case\n      refitBoxes.push(layout);\n    }\n  }\n\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\n\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\n\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n\n  chartArea.x = x;\n  chartArea.y = y;\n}\n\n/**\n * @interface LayoutItem\n * @typedef {object} LayoutItem\n * @prop {string} position - The position of the item in the chart layout. Possible values are\n * 'left', 'top', 'right', 'bottom', and 'chartArea'\n * @prop {number} weight - The weight used to sort the item. Higher weights are further away from the chart area\n * @prop {boolean} fullSize - if true, and the item is horizontal, then push vertical boxes down\n * @prop {function} isHorizontal - returns true if the layout item is horizontal (ie. top or bottom)\n * @prop {function} update - Takes two parameters: width and height. Returns size of item\n * @prop {function} draw - Draws the element\n * @prop {function} [getPadding] -  Returns an object with padding on the edges\n * @prop {number} width - Width of item. Must be valid after update()\n * @prop {number} height - Height of item. Must be valid after update()\n * @prop {number} left - Left edge of the item. Set by layout system and cannot be used in update\n * @prop {number} top - Top edge of the item. Set by layout system and cannot be used in update\n * @prop {number} right - Right edge of the item. Set by layout system and cannot be used in update\n * @prop {number} bottom - Bottom edge of the item. Set by layout system and cannot be used in update\n */\n\n// The layout service is very self explanatory.  It's responsible for the layout within a chart.\n// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\n// It is this service's responsibility of carrying out that layout.\nexport default {\n\n  /**\n\t * Register a box to a chart.\n\t * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.\n\t * @param {Chart} chart - the chart to use\n\t * @param {LayoutItem} item - the item to add to be laid out\n\t */\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n\n    // initialize item with default values\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    // @ts-ignore\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n\n    chart.boxes.push(item);\n  },\n\n  /**\n\t * Remove a layoutItem from a chart\n\t * @param {Chart} chart - the chart to remove the box from\n\t * @param {LayoutItem} layoutItem - the item to remove from the layout\n\t */\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n\n  /**\n\t * Sets (or updates) options on the given `item`.\n\t * @param {Chart} chart - the chart in which the item lives (or will be added to)\n\t * @param {LayoutItem} item - the item to configure with the given options\n\t * @param {object} options - the new item options.\n\t */\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n\n  /**\n\t * Fits boxes of the given chart into the given size by having each box measure itself\n\t * then running a fitting algorithm\n\t * @param {Chart} chart - the chart\n\t * @param {number} width - the width to fit into\n\t * @param {number} height - the height to fit into\n   * @param {number} minPadding - minimum padding required for each side of chart area\n\t */\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n\n    // Before any changes are made, notify boxes that an update is about to being\n    // This is used to clear any cached data (e.g. scale limits)\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n\n    // Essentially we now have any number of boxes on each of the 4 sides.\n    // Our canvas looks like the following.\n    // The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\n    // B1 is the bottom axis\n    // There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\n    // These locations are single-box locations only, when trying to register a chartArea location that is already taken,\n    // an error will be thrown.\n    //\n    // |----------------------------------------------------|\n    // |                  T1 (Full Width)                   |\n    // |----------------------------------------------------|\n    // |    |    |                 T2                  |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    | C1 |                           | C2 |    |\n    // |    |    |----|                           |----|    |\n    // |    |    |                                     |    |\n    // | L1 | L2 |           ChartArea (C0)            | R1 |\n    // |    |    |                                     |    |\n    // |    |    |----|                           |----|    |\n    // |    |    | C3 |                           | C4 |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    |                 B1                  |    |\n    // |----------------------------------------------------|\n    // |                  B2 (Full Width)                   |\n    // |----------------------------------------------------|\n    //\n\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n\n    // First fit the fullSize boxes, to reduce probability of re-fitting.\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n\n    // Then fit vertical boxes\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n\n    // Then fit horizontal boxes\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      // if the area changed, re-fit vertical boxes\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n\n    handleMaxPadding(chartArea);\n\n    // Finally place the boxes to correct coordinates\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n\n    // Move to opposite side of chart\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n\n    // Finally update boxes in chartArea (radial scale for example)\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n", "\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\n/**\n * Abstract class that allows abstracting platform dependencies away from the chart.\n */\nexport default class BasePlatform {\n  /**\n\t * Called at chart construction time, returns a context2d instance implementing\n\t * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.\n\t * @param {HTMLCanvasElement} canvas - The canvas from which to acquire context (platform specific)\n\t * @param {number} [aspectRatio] - The chart options\n\t */\n  acquireContext(canvas, aspectRatio) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Called at chart destruction time, releases any resources associated to the context\n\t * previously returned by the acquireContext() method.\n\t * @param {CanvasRenderingContext2D} context - The context2d instance\n\t * @returns {boolean} true if the method succeeded, else false\n\t */\n  releaseContext(context) { // eslint-disable-line no-unused-vars\n    return false;\n  }\n\n  /**\n\t * Registers the specified listener on the given chart.\n\t * @param {Chart} chart - Chart from which to listen for event\n\t * @param {string} type - The ({@link ChartEvent}) type to listen for\n\t * @param {function} listener - Receives a notification (an object that implements\n\t * the {@link ChartEvent} interface) when an event of the specified type occurs.\n\t */\n  addEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Removes the specified listener previously registered with addEventListener.\n\t * @param {Chart} chart - Chart from which to remove the listener\n\t * @param {string} type - The ({@link ChartEvent}) type to remove\n\t * @param {function} listener - The listener function to remove from the event target.\n\t */\n  removeEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @returns {number} the current devicePixelRatio of the device this platform is connected to.\n\t */\n  getDevicePixelRatio() {\n    return 1;\n  }\n\n  /**\n\t * Returns the maximum size in pixels of given canvas element.\n\t * @param {HTMLCanvasElement} element\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @returns {boolean} true if the canvas is attached to the platform, false if not.\n\t */\n  isAttached(canvas) { // eslint-disable-line no-unused-vars\n    return true;\n  }\n\n  /**\n   * Updates config with platform specific requirements\n   * @param {import('../core/core.config.js').default} config\n   */\n  updateConfig(config) { // eslint-disable-line no-unused-vars\n    // no-op\n  }\n}\n", "/**\n * Platform fallback implementation (minimal).\n * @see https://github.com/chartjs/Chart.js/pull/4591#issuecomment-319575939\n */\n\nimport BasePlatform from './platform.base.js';\n\n/**\n * Platform class for charts without access to the DOM or to many element properties\n * This platform is used by default for any chart passed an OffscreenCanvas.\n * @extends BasePlatform\n */\nexport default class BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n", "/**\n * Chart.Platform implementation for targeting a web browser\n */\n\nimport BasePlatform from './platform.base.js';\nimport {_getParentNode, getRelativePosition, supportsEventListenerOptions, readUsedSize, getMaximumSize} from '../helpers/helpers.dom.js';\nimport {throttled} from '../helpers/helpers.extras.js';\nimport {isNullOrUndef} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nconst EXPANDO_KEY = '$chartjs';\n\n/**\n * DOM event types -> Chart.js event types.\n * Note: only events with different types are mapped.\n * @see https://developer.mozilla.org/en-US/docs/Web/Events\n */\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\n\nconst isNullOrEmpty = value => value === null || value === '';\n/**\n * Initializes the canvas style and render size without modifying the canvas display size,\n * since responsiveness is handled by the controller.resize() method. The config is used\n * to determine the aspect ratio to apply in case no explicit height has been specified.\n * @param {HTMLCanvasElement} canvas\n * @param {number} [aspectRatio]\n */\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n\n  // NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\n  // returns null or '' if no explicit value has been set to the canvas attribute.\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n\n  // Chart.js modifies some canvas values that we want to restore on destroy\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n\n  // Force canvas to display as block to avoid extra space caused by inline\n  // elements, which would interfere with the responsive resize process.\n  // https://github.com/chartjs/Chart.js/issues/2538\n  style.display = style.display || 'block';\n  // Include possible borders in the size\n  style.boxSizing = style.boxSizing || 'border-box';\n\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      // If no explicit render height and style height, let's apply the aspect ratio,\n      // which one can be specified by the user but also by charts as default option\n      // (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n\n  return canvas;\n}\n\n// Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\n// https://github.com/chartjs/Chart.js/issues/4287\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\n\nfunction addListener(node, type, listener) {\n  if (node) {\n    node.addEventListener(type, listener, eventListenerOptions);\n  }\n}\n\nfunction removeListener(chart, type, listener) {\n  if (chart && chart.canvas) {\n    chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n  }\n}\n\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\n\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\n\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\n\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\n\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\n\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\n\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      // If the container size shrank during chart resize, let's assume\n      // scrollbar appeared. So we resize again with the scrollbar visible -\n      // effectively making chart smaller and the scrollbar hidden again.\n      // Because we are inside `throttled`, and currently `ticking`, scroll\n      // events are ignored during this whole 2 resize process.\n      // If we assumed wrong and something else happened, we are resizing\n      // twice in a frame (potential performance issue)\n      listener();\n    }\n  }, window);\n\n  // @ts-ignore until https://github.com/microsoft/TypeScript/issues/37861 implemented\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    // When its container's display is set to 'none' the callback will be called with a\n    // size of (0, 0), which will cause the chart to lose its original height, so skip\n    // resizing in such case.\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n\n  return observer;\n}\n\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\n\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    // This case can occur if the chart is destroyed while waiting\n    // for the throttled function to occur. We prevent crashes by checking\n    // for a destroyed chart\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart);\n\n  addListener(canvas, type, proxy);\n\n  return proxy;\n}\n\n/**\n * Platform class for charts that can access the DOM and global window/document properties\n * @extends BasePlatform\n */\nexport default class DomPlatform extends BasePlatform {\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [aspectRatio]\n\t * @return {CanvasRenderingContext2D|null}\n\t */\n  acquireContext(canvas, aspectRatio) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n\n    // `instanceof HTMLCanvasElement/CanvasRenderingContext2D` fails when the canvas is\n    // inside an iframe or when running in a protected environment. We could guess the\n    // types from their toString() value but let's keep things flexible and assume it's\n    // a sufficient condition if the canvas has a context2D which has canvas as `canvas`.\n    // https://github.com/chartjs/Chart.js/issues/3887\n    // https://github.com/chartjs/Chart.js/issues/4102\n    // https://github.com/chartjs/Chart.js/issues/4152\n    if (context && context.canvas === canvas) {\n      // Load platform resources on first chart creation, to make it possible to\n      // import the library before setting platform options.\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n\n    return null;\n  }\n\n  /**\n\t * @param {CanvasRenderingContext2D} context\n\t */\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n\n    // The canvas render size might have been changed (and thus the state stack discarded),\n    // we can't use save() and restore() to restore the initial state. So make sure that at\n    // least the canvas context is reset to the default state by setting the canvas width.\n    // https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\n    // eslint-disable-next-line no-self-assign\n    canvas.width = canvas.width;\n\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n\n  /**\n\t *\n\t * @param {Chart} chart\n\t * @param {string} type\n\t * @param {function} listener\n\t */\n  addEventListener(chart, type, listener) {\n    // Can have only one listener per type, so make sure previous is removed\n    this.removeEventListener(chart, type);\n\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} type\n\t */\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n\n    if (!proxy) {\n      return;\n    }\n\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t */\n  isAttached(canvas) {\n    const container = canvas && _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n", "import {_isDomSupported} from '../helpers/index.js';\nimport BasePlatform from './platform.base.js';\nimport BasicPlatform from './platform.basic.js';\nimport DomPlatform from './platform.dom.js';\n\nexport function _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nexport {BasePlatform, BasicPlatform, DomPlatform};\n", "import type {AnyObject} from '../types/basic.js';\nimport type {Point} from '../types/geometric.js';\nimport type {Animation} from '../types/animation.js';\nimport {isNumber} from '../helpers/helpers.math.js';\n\nexport default class Element<T = AnyObject, O = AnyObject> {\n\n  static defaults = {};\n  static defaultRoutes = undefined;\n\n  x: number;\n  y: number;\n  active = false;\n  options: O;\n  $animations: Record<keyof T, Animation>;\n\n  tooltipPosition(useFinalPosition: boolean): Point {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y} as Point;\n  }\n\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n\n  /**\n   * Gets the current or final value of each prop. Can return extra properties (whole object).\n   * @param props - properties to get\n   * @param [final] - get the final value (animation target)\n   */\n  getProps<P extends (keyof T)[]>(props: P, final?: boolean): Pick<T, P[number]>;\n  getProps<P extends string>(props: P[], final?: boolean): Partial<Record<P, unknown>>;\n  getProps(props: string[], final?: boolean): Partial<Record<string, unknown>> {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      // let's not create an object, if not needed\n      return this as Record<string, unknown>;\n    }\n    const ret: Record<string, unknown> = {};\n    props.forEach((prop) => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop as string];\n    });\n    return ret;\n  }\n}\n", "import {isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\nimport {_factorize} from '../helpers/helpers.math.js';\n\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a subset of ticks to be plotted to avoid overlapping labels.\n * @param {import('./core.scale.js').default} scale\n * @param {Tick[]} ticks\n * @return {Tick[]}\n * @private\n */\nexport function autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const determinedMaxTicks = determineMaxTicks(scale);\n  const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n\n  // If there are too many major ticks to display them all\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\n\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\n\n/**\n * @param {number[]} majorIndices\n * @param {Tick[]} ticks\n * @param {number} ticksLimit\n */\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n\n  // If the major ticks are evenly spaced apart, place the minor ticks\n  // so that they divide the major ticks into even chunks\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\n\n/**\n * @param {Tick[]} ticks\n */\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number[]} majorIndices\n * @param {number} spacing\n */\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number} spacing\n * @param {number} [majorStart]\n * @param {number} [majorEnd]\n */\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n\n  next = start;\n\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\n\n\n/**\n * @param {number[]} arr\n */\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n\n  if (len < 2) {\n    return false;\n  }\n\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n", "import Element from './core.element.js';\nimport {_alignPixel, _measureText, renderText, clipArea, unclipArea} from '../helpers/helpers.canvas.js';\nimport {callback as call, each, finiteOrDefault, isArray, isFinite, isNullOrUndef, isObject, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toDegrees, toRadians, _int16Range, _limitValue, HALF_PI} from '../helpers/helpers.math.js';\nimport {_alignStartEnd, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {createContext, toFont, toPadding, _addGrace} from '../helpers/helpers.options.js';\nimport {autoSkip} from './core.scale.autoskip.js';\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit) => Math.min(maxTicksLimit || ticksLength, ticksLength);\n\n/**\n * @typedef { import('../types/index.js').Chart } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a new array containing numItems from arr\n * @param {any[]} arr\n * @param {number} numItems\n */\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\n\n/**\n * @param {Scale} scale\n * @param {number} index\n * @param {boolean} offsetGridLines\n */\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n\n    // Return undefined if the pixel is out of the range\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\n\n/**\n * @param {object} caches\n * @param {number} length\n */\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\n\n/**\n * @param {object} options\n */\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\n\n/**\n * @param {object} options\n */\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n\n  return (lines * font.lineHeight) + padding.height;\n}\n\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\n\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\n\nfunction titleAlign(align, position, reverse) {\n  /** @type {CanvasTextAlign} */\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\n\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\n\nexport default class Scale extends Element {\n\n  // eslint-disable-next-line max-statements\n  constructor(cfg) {\n    super();\n\n    /** @type {string} */\n    this.id = cfg.id;\n    /** @type {string} */\n    this.type = cfg.type;\n    /** @type {any} */\n    this.options = undefined;\n    /** @type {CanvasRenderingContext2D} */\n    this.ctx = cfg.ctx;\n    /** @type {Chart} */\n    this.chart = cfg.chart;\n\n    // implements box\n    /** @type {number} */\n    this.top = undefined;\n    /** @type {number} */\n    this.bottom = undefined;\n    /** @type {number} */\n    this.left = undefined;\n    /** @type {number} */\n    this.right = undefined;\n    /** @type {number} */\n    this.width = undefined;\n    /** @type {number} */\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    /** @type {number} */\n    this.maxWidth = undefined;\n    /** @type {number} */\n    this.maxHeight = undefined;\n    /** @type {number} */\n    this.paddingTop = undefined;\n    /** @type {number} */\n    this.paddingBottom = undefined;\n    /** @type {number} */\n    this.paddingLeft = undefined;\n    /** @type {number} */\n    this.paddingRight = undefined;\n\n    // scale-specific properties\n    /** @type {string=} */\n    this.axis = undefined;\n    /** @type {number=} */\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    /** @type {Tick[]} */\n    this.ticks = [];\n    /** @type {object[]|null} */\n    this._gridLineItems = null;\n    /** @type {object[]|null} */\n    this._labelItems = null;\n    /** @type {object|null} */\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    /** @type {number} */\n    this._startPixel = undefined;\n    /** @type {number} */\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @param {any} options\n\t * @since 3.0\n\t */\n  init(options) {\n    this.options = options.setContext(this.getContext());\n\n    this.axis = options.axis;\n\n    // parse min/max value, so we can properly determine min/max for other scales\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n\n  /**\n\t * Parse a supported input value to internal representation.\n\t * @param {*} raw\n\t * @param {number} [index]\n\t * @since 3.0\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    return raw;\n  }\n\n  /**\n\t * @return {{min: number, max: number, minDefined: boolean, maxDefined: boolean}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isFinite(_userMin),\n      maxDefined: isFinite(_userMax)\n    };\n  }\n\n  /**\n\t * @param {boolean} canStack\n\t * @return {{min: number, max: number}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getMinMax(canStack) {\n    // eslint-disable-next-line prefer-const\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n\n    // Make sure min <= max when only min or max is defined by user and the data is outside that range\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n\n  /**\n\t * Get the padding needed for the scale\n\t * @return {{top: number, left: number, bottom: number, right: number}} the necessary padding\n\t * @private\n\t */\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n\n  /**\n\t * Returns the scale tick objects\n\t * @return {Tick[]}\n\t * @since 2.7\n\t */\n  getTicks() {\n    return this.ticks;\n  }\n\n  /**\n\t * @return {string[]}\n\t */\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n\n  /**\n   * @return {import('../types.js').LabelItem[]}\n   */\n  getLabelItems(chartArea = this.chart.chartArea) {\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    return items;\n  }\n\n  // When a new layout is created, reset the data limits cache\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n\n  // These methods are ordered by lifecycle. Utilities then follow.\n  // Any function defined here is inherited by all scale types.\n  // Any function can be extended by the scale type\n\n  beforeUpdate() {\n    call(this.options.beforeUpdate, [this]);\n  }\n\n  /**\n\t * @param {number} maxWidth - the max width in pixels\n\t * @param {number} maxHeight - the max height in pixels\n\t * @param {{top: number, left: number, bottom: number, right: number}} margins - the space between the edge of the other scales and edge of the chart\n\t *   This space comes from two sources:\n\t *     - padding - space that's required to show the labels at the edges of the scale\n\t *     - thickness of scales or legends in another orientation\n\t */\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n\n    // Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n    this.beforeUpdate();\n\n    // Absorb the master measurements\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n\n    // Dimensions\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n\n    // Data min/max\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n\n    this.beforeBuildTicks();\n\n    this.ticks = this.buildTicks() || [];\n\n    // Allow modification of ticks in callback.\n    this.afterBuildTicks();\n\n    // Compute tick rotation and fit using a sampled subset of labels\n    // We generally don't need to compute the size of every single label for determining scale size\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n\n    // configure is called twice, once here, once from core.controller.updateLayout.\n    // Here we haven't been positioned yet, but dimensions are correct.\n    // Variables set in configure are needed for calculateLabelRotation, and\n    // it's ok that coordinates are not correct there, only dimensions matter.\n    this.configure();\n\n    // Tick Rotation\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation(); // Preconditions: number of ticks and sizes of largest labels must be calculated beforehand\n    this.afterCalculateLabelRotation();\n\n    // Auto-skip\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n      this.afterAutoSkip();\n    }\n\n    if (samplingEnabled) {\n      // Generate labels using all non-skipped ticks\n      this._convertTicksToLabels(this.ticks);\n    }\n\n    this.beforeFit();\n    this.fit(); // Preconditions: label rotation and label sizes must be calculated beforehand\n    this.afterFit();\n\n    // IMPORTANT: after this point, we consider that `this.ticks` will NEVER change!\n\n    this.afterUpdate();\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      // by default vertical scales are from bottom to top, so pixels are reversed\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n\n  afterUpdate() {\n    call(this.options.afterUpdate, [this]);\n  }\n\n  //\n\n  beforeSetDimensions() {\n    call(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    if (this.isHorizontal()) {\n      // Reset position before calculating rotation\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n\n      // Reset position before calculating rotation\n      this.top = 0;\n      this.bottom = this.height;\n    }\n\n    // Reset padding\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    call(this.options.afterSetDimensions, [this]);\n  }\n\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    call(this.options[name], [this]);\n  }\n\n  // Data limits\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n\n  //\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  /**\n\t * @return {object[]} the ticks\n\t */\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n\n  beforeTickToLabelConversion() {\n    call(this.options.beforeTickToLabelConversion, [this]);\n  }\n  /**\n\t * Convert ticks to label strings\n\t * @param {Tick[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = call(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    call(this.options.afterTickToLabelConversion, [this]);\n  }\n\n  //\n\n  beforeCalculateLabelRotation() {\n    call(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n\n    // Estimate the width of each grid based on the canvas width, the maximum\n    // label width and the number of tick intervals\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n\n    // Allow 3 pixels x2 padding either side for label readability\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    call(this.options.afterCalculateLabelRotation, [this]);\n  }\n  afterAutoSkip() {}\n\n  //\n\n  beforeFit() {\n    call(this.options.beforeFit, [this]);\n  }\n  fit() {\n    // Reset\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight; // fill all the height\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n\n      // Don't bother fitting the ticks if we are not showing the labels\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n\n        if (isHorizontal) {\n        // A horizontal axis is more constrained by the height.\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n        // A vertical axis is more constrained by the width. Labels are the\n        // dominant factor here, so get that length first and account for padding\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n\n    this._handleMargins();\n\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n\n      // Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned\n      // which means that the right padding is dominated by the font height\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else if (align !== 'inner') {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n\n      // Adjust padding taking into account changes in offsets\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n\n  /**\n\t * Handle margins and padding interactions\n\t * @private\n\t */\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n\n  afterFit() {\n    call(this.options.afterFit, [this]);\n  }\n\n  // Shared Methods\n  /**\n\t * @return {boolean}\n\t */\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  /**\n\t * @return {boolean}\n\t */\n  isFullSize() {\n    return this.options.fullSize;\n  }\n\n  /**\n\t * @param {Tick[]} ticks\n\t * @private\n\t */\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n\n    this.generateTickLabels(ticks);\n\n    // Ticks should be skipped when callback returns null or undef, so lets remove those.\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n\n    this.afterTickToLabelConversion();\n  }\n\n  /**\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n    }\n\n    return labelSizes;\n  }\n\n  /**\n\t * Returns {width, height, offset} objects for the first, last, widest, highest tick\n\t * labels where offset indicates the anchor point offset from the top in pixels.\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _computeLabelSizes(ticks, length, maxTicksLimit) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n\n    for (i = 0; i < length; i += increment) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      // Undefined labels and arrays should not be measured\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        // if it is an array let's measure each element\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = /** @type {string} */ (label[j]);\n          // Undefined labels and arrays should not be measured\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n\n  /**\n\t * Used to get the label to display in the tooltip for the given value\n\t * @param {*} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value;\n  }\n\n  /**\n\t * Returns the location of the given data point. Value can either be an index or a numerical value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {*} value\n\t * @param {number} [index]\n\t * @return {number}\n\t */\n  getPixelForValue(value, index) { // eslint-disable-line no-unused-vars\n    return NaN;\n  }\n\n  /**\n\t * Used to get the data value from a given pixel. This is the inverse of getPixelForValue\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} pixel\n\t * @return {*}\n\t */\n  getValueForPixel(pixel) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Returns the location of the tick at the given index\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} index\n\t * @return {number}\n\t */\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  /**\n\t * Utility for getting the pixel location of a percentage of scale\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} decimal\n\t * @return {number}\n\t */\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n\n  /**\n\t * Returns the pixel for the minimum chart value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @return {number}\n\t */\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n\n  /**\n\t * @return {number}\n\t */\n  getBaseValue() {\n    const {min, max} = this;\n\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index) {\n    const ticks = this.ticks || [];\n\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n\n  /**\n\t * @return {number}\n\t * @private\n\t */\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n\n    // Calculate space needed by label in axis direction.\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n\n    // Calculate space needed for 1 tick in axis direction.\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n\n  /**\n\t * @return {boolean}\n\t * @private\n\t */\n  _isVisible() {\n    const display = this.options.display;\n\n    if (display !== 'auto') {\n      return !!display;\n    }\n\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position, border} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = borderOpts.display ? borderOpts.width : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const context = this.getContext(i);\n      const optsAtIndex = grid.setContext(context);\n      const optsAtIndexBorder = border.setContext(context);\n\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = optsAtIndexBorder.dash || [];\n      const borderDashOffset = optsAtIndexBorder.dashOffset;\n\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n\n      lineValue = getPixelForGridLine(this, i, offset);\n\n      // Skip if the pixel is out of the range\n      if (lineValue === undefined) {\n        continue;\n      }\n\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n\n    return items;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      let tickTextAlign = textAlign;\n\n      if (isHorizontal) {\n        x = pixel;\n\n        if (textAlign === 'inner') {\n          if (i === ilen - 1) {\n            tickTextAlign = !this.options.reverse ? 'right' : 'left';\n          } else if (i === 0) {\n            tickTextAlign = !this.options.reverse ? 'left' : 'right';\n          } else {\n            tickTextAlign = 'center';\n          }\n        }\n\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          // eslint-disable-next-line no-lonely-if\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n        if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n          x += (lineHeight / 2) * Math.sin(rotation);\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n\n      let backdrop;\n\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n\n        let top = textOffset - labelPadding.top;\n        let left = 0 - labelPadding.left;\n\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        default:\n          break;\n        }\n\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        case 'inner':\n          if (i === ilen - 1) {\n            left -= width;\n          } else if (i > 0) {\n            left -= width / 2;\n          }\n          break;\n        default:\n          break;\n        }\n\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n\n          color: optsAtIndex.backdropColor,\n        };\n      }\n\n      items.push({\n        label,\n        font,\n        textOffset,\n        options: {\n          rotation,\n          color,\n          strokeColor,\n          strokeWidth,\n          textAlign: tickTextAlign,\n          textBaseline,\n          translation: [x, y],\n          backdrop,\n        }\n      });\n    }\n\n    return items;\n  }\n\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n\n    let align = 'center';\n\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    } else if (ticks.align === 'inner') {\n      align = 'inner';\n    }\n\n    return align;\n  }\n\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n\n    let textAlign;\n    let x;\n\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n\n    return {textAlign, x};\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n\n    const chart = this.chart;\n    const position = this.options.position;\n\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n\n  /**\n   * @protected\n   */\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {\n    const {chart, ctx, options: {border, grid}} = this;\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = border.display ? borderOpts.width : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.width;\n    ctx.strokeStyle = borderOpts.color;\n\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n\n    if (!optionTicks.display) {\n      return;\n    }\n\n    const ctx = this.ctx;\n\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n\n    const items = this.getLabelItems(chartArea);\n    for (const item of items) {\n      const renderTextOptions = item.options;\n      const tickFont = item.font;\n      const label = item.label;\n      const y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n    }\n\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n\n    if (!title.display) {\n      return;\n    }\n\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n\n  /**\n\t * @return {object[]}\n\t * @private\n\t */\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    const bz = valueOrDefault(opts.border && opts.border.z, 0);\n\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      // backward compatibility: draw has been overridden by custom scale\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: bz,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n\n  /**\n\t * Returns visible dataset metas that are attached to this scale\n\t * @param {string} [type] - if specified, also filter by dataset type\n\t * @return {object[]}\n\t */\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n\n  /**\n\t * @param {number} index\n\t * @return {object}\n\t * @protected\n \t */\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n\n  /**\n   * @protected\n   */\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n", "import {merge} from '../helpers/index.js';\nimport defaults, {overrides} from './core.defaults.js';\n\n/**\n * @typedef {{id: string, defaults: any, overrides?: any, defaultRoutes: any}} IChartComponent\n */\n\nexport default class TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t * @returns {string} The scope where items defaults were registered to.\n\t */\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n\n    if (isIChartComponent(proto)) {\n      // Make sure the parent is registered and note the scope where its defaults are.\n      parentScope = this.register(proto);\n    }\n\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n\n    if (id in items) {\n      // already registered\n      return scope;\n    }\n\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n\n    return scope;\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object?}\n\t */\n  get(id) {\n    return this.items[id];\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t */\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n\n    if (id in items) {\n      delete items[id];\n    }\n\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\n\nfunction registerDefaults(item, scope, parentScope) {\n  // Inherit the parent's defaults and keep existing defaults\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n\n  defaults.set(scope, itemDefaults);\n\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\n\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\n\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n", "import DatasetController from './core.datasetController.js';\nimport Element from './core.element.js';\nimport Scale from './core.scale.js';\nimport TypedRegistry from './core.typedRegistry.js';\nimport {each, callback as call, _capitalize} from '../helpers/helpers.core.js';\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    // Order is important, Scale has Element in prototype chain,\n    // so Scales must be before Elements. Plugins are a fallback, so not listed here.\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  add(...args) {\n    this._each('register', args);\n  }\n\n  remove(...args) {\n    this._each('unregister', args);\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof DatasetController}\n\t */\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Element}\n\t */\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object}\n\t */\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Scale}\n\t */\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n\n  /**\n\t * @private\n\t */\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        // Handle loopable args\n        // Use case:\n        //  import * as plugins from './plugins.js';\n        //  Chart.register(plugins);\n        each(arg, item => {\n          // If there are mixed types in the loopable, make sure those are\n          // registered in correct registry\n          // Use case: (treemap exporting controller, elements etc)\n          //  import * as treemap from 'chartjs-chart-treemap.js';\n          //  Chart.register(treemap);\n\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    call(component['before' + camelMethod], [], component); // beforeRegister / beforeUnregister\n    registry[method](component);\n    call(component['after' + camelMethod], [], component); // afterRegister / afterUnregister\n  }\n\n  /**\n\t * @private\n\t */\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    // plugins is the fallback registry\n    return this.plugins;\n  }\n\n  /**\n\t * @private\n\t */\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Registry();\n", "import registry from './core.registry.js';\nimport {callback as callCallback, isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../plugins/plugin.tooltip.js').default } Tooltip\n */\n\n/**\n * @callback filterCallback\n * @param {{plugin: object, options: object}} value\n * @param {number} [index]\n * @param {array} [array]\n * @param {object} [thisArg]\n * @return {boolean}\n */\n\n\nexport default class PluginService {\n  constructor() {\n    this._init = [];\n  }\n\n  /**\n\t * Calls enabled plugins for `chart` on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {Chart} chart - The chart instance for which plugins should be called.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {object} [args] - Extra arguments to apply to the hook call.\n   * @param {filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callCallback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  invalidate() {\n    // When plugins are registered, there is the possibility of a double\n    // invalidate situation. In this case, we only want to invalidate once.\n    // If we invalidate multiple times, the `_oldCache` is lost and all of the\n    // plugins are restarted without being correctly stopped.\n    // See https://github.com/chartjs/Chart.js/issues/8147\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n\n    const descriptors = this._cache = this._createDescriptors(chart);\n\n    this._notifyStateChanges(chart);\n\n    return descriptors;\n  }\n\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    // options === false => all plugins are disabled\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\n\n/**\n * @param {import('./core.config.js').default} config\n */\nfunction allPlugins(config) {\n  const localIds = {};\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n      localIds[plugin.id] = true;\n    }\n  }\n\n  return {plugins, localIds};\n}\n\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\n\nfunction createDescriptors(chart, {plugins, localIds}, options, all) {\n  const result = [];\n  const context = chart.getContext();\n\n  for (const plugin of plugins) {\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context)\n    });\n  }\n\n  return result;\n}\n\nfunction pluginOpts(config, {plugin, local}, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  if (local && plugin.defaults) {\n    // make sure plugin defaults are in scopes for local (not registered) plugins\n    scopes.push(plugin.defaults);\n  }\n  return config.createResolver(scopes, context, [''], {\n    // These are just defaults that plugins can override\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n", "import defaults, {overrides, descriptors} from './core.defaults.js';\nimport {mergeIf, resolveObjectKey, isArray, isFunction, valueOrDefault, isObject} from '../helpers/helpers.core.js';\nimport {_attachContext, _createResolver, _descriptors} from '../helpers/helpers.config.js';\n\nexport function getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\n\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\n\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\n\nfunction idMatchesAxis(id) {\n  if (id === 'x' || id === 'y' || id === 'r') {\n    return id;\n  }\n}\n\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\n\nexport function determineAxis(id, ...scaleOptions) {\n  if (idMatchesAxis(id)) {\n    return id;\n  }\n  for (const opts of scaleOptions) {\n    const axis = opts.axis\n      || axisFromPosition(opts.position)\n      || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n    if (axis) {\n      return axis;\n    }\n  }\n  throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\n\nfunction getAxisFromDataset(id, axis, dataset) {\n  if (dataset[axis + 'AxisID'] === id) {\n    return {axis};\n  }\n}\n\nfunction retrieveAxisFromDatasets(id, config) {\n  if (config.data && config.data.datasets) {\n    const boundDs = config.data.datasets.filter((d) => d.xAxisID === id || d.yAxisID === id);\n    if (boundDs.length) {\n      return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n    }\n  }\n  return {};\n}\n\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const scales = Object.create(null);\n\n  // First figure out first scale id's per axis.\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n\n  // Then merge dataset defaults to scale configs\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n\n  // apply scale defaults, if not overridden by dataset defaults\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n\n  return scales;\n}\n\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\n\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\n\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n\n  initOptions(config);\n\n  return config;\n}\n\nconst keyCache = new Map();\nconst keysCached = new Set();\n\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\n\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\n\nexport default class Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n\n  get platform() {\n    return this._config.platform;\n  }\n\n  get type() {\n    return this._config.type;\n  }\n\n  set type(type) {\n    this._config.type = type;\n  }\n\n  get data() {\n    return this._config.data;\n  }\n\n  set data(data) {\n    this._config.data = initData(data);\n  }\n\n  get options() {\n    return this._config.options;\n  }\n\n  set options(options) {\n    this._config.options = options;\n  }\n\n  get plugins() {\n    return this._config.plugins;\n  }\n\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @return {string[][]}\n   */\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset animation options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @param {string} transition\n   * @return {string[][]}\n   */\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        // The following are used for looking up the `animations` and `animation` keys\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving element options that belong\n   * to an dataset. These keys do not include the dataset itself, because it\n   * is not under options.\n   * @param {string} datasetType\n   * @param {string} elementType\n   * @return {string[][]}\n   */\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving plugin options.\n   * @param {{id: string, additionalOptionScopes?: string[]}} plugin\n   * @return {string[][]}\n   */\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n\n  /**\n   * @private\n   */\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n\n  /**\n   * Resolves the objects from options and defaults for option value resolution.\n   * @param {object} mainScope - The main scope object for options\n   * @param {string[][]} keyLists - The arrays of keys in resolution order\n   * @param {boolean} [resetCache] - reset the cache for this mainScope\n   */\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n\n    const scopes = new Set();\n\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n\n  /**\n   * Returns the option scopes for resolving chart options\n   * @return {object[]}\n   */\n  chartOptionScopes() {\n    const {options, type} = this;\n\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {}, // https://github.com/chartjs/Chart.js/issues/8531\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {string[]} names\n   * @param {function|object} context\n   * @param {string[]} [prefixes]\n   * @return {object}\n   */\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      // subResolver is passed to scriptable options. It should not resolve to hover options.\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {object} [context]\n   * @param {string[]} [prefixes]\n   * @param {{scriptable: boolean, indexable: boolean, allKeys?: boolean}} [descriptorDefaults]\n   */\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\n\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\n\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).some((key) => isFunction(value[key]));\n\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n", "import animator from './core.animator.js';\nimport defaults, {overrides} from './core.defaults.js';\nimport Interaction from './core.interaction.js';\nimport layouts from './core.layouts.js';\nimport {_detectPlatform} from '../platform/index.js';\nimport PluginService from './core.plugins.js';\nimport registry from './core.registry.js';\nimport Config, {determineAxis, getIndexAxis} from './core.config.js';\nimport {retinaScale, _isDomSupported} from '../helpers/helpers.dom.js';\nimport {each, callback as callCallback, uid, valueOrDefault, _elementsEqual, isNullOrUndef, setsEqual, defined, isFunction, _isClickEvent} from '../helpers/helpers.core.js';\nimport {clearCanvas, clipArea, createContext, unclipArea, _isPointInArea} from '../helpers/index.js';\n// @ts-ignore\nimport {version} from '../../package.json';\nimport {debounce} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').Point } Point\n */\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\n\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\n\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n\n  chart.notifyPlugins('afterRender');\n  callCallback(animationOptions && animationOptions.onComplete, [context], chart);\n}\n\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callCallback(animationOptions && animationOptions.onProgress, [context], chart);\n}\n\n/**\n * Chart.js can take a string id of a canvas element, a 2d context, or a canvas element itself.\n * Attempt to unwrap the item passed into the chart constructor so that it is a canvas element (if possible).\n */\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    // Support for array based queries (such as jQuery)\n    item = item[0];\n  }\n\n  if (item && item.canvas) {\n    // Support for any object associated to a canvas (including a context2d)\n    item = item.canvas;\n  }\n  return item;\n}\n\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\n\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\n\n/**\n * @param {ChartEvent} e\n * @param {ChartEvent|null} lastEvent\n * @param {boolean} inChartArea\n * @param {boolean} isClick\n * @returns {ChartEvent|null}\n */\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\n\nfunction getSizeForArea(scale, chartArea, field) {\n  return scale.options.clip ? scale[field] : chartArea[field];\n}\n\nfunction getDatasetArea(meta, chartArea) {\n  const {xScale, yScale} = meta;\n  if (xScale && yScale) {\n    return {\n      left: getSizeForArea(xScale, chartArea, 'left'),\n      right: getSizeForArea(xScale, chartArea, 'right'),\n      top: getSizeForArea(yScale, chartArea, 'top'),\n      bottom: getSizeForArea(yScale, chartArea, 'bottom')\n    };\n  }\n  return chartArea;\n}\n\nclass Chart {\n\n  static defaults = defaults;\n  static instances = instances;\n  static overrides = overrides;\n  static registry = registry;\n  static version = version;\n  static getChart = getChart;\n\n  static register(...items) {\n    registry.add(...items);\n    invalidatePlugins();\n  }\n\n  static unregister(...items) {\n    registry.remove(...items);\n    invalidatePlugins();\n  }\n\n  // eslint-disable-next-line max-statements\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.'\n      );\n    }\n\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    // Store the previously used aspect ratio to determine if a resize\n    // is needed during updates. Do this after _options is set since\n    // aspectRatio uses a getter\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    /** @type {?{attach?: function, detach?: function, resize?: function}} */\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n\n    // Add the chart instance to the global namespace\n    instances[this.id] = this;\n\n    if (!context || !canvas) {\n      // The given item is not a compatible context2d element, let's return before finalizing\n      // the chart initialization but after setting basic chart / controller properties that\n      // can help to figure out that the chart is not valid (e.g chart.canvas !== null);\n      // https://github.com/chartjs/Chart.js/issues/2807\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      // If aspectRatio is defined in options, use that.\n      return aspectRatio;\n    }\n\n    if (maintainAspectRatio && _aspectRatio) {\n      // If maintainAspectRatio is truthly and we had previously determined _aspectRatio, use that\n      return _aspectRatio;\n    }\n\n    // Calculate\n    return height ? width / height : null;\n  }\n\n  get data() {\n    return this.config.data;\n  }\n\n  set data(data) {\n    this.config.data = data;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  set options(options) {\n    this.config.options = options;\n  }\n\n  get registry() {\n    return registry;\n  }\n\n  /**\n\t * @private\n\t */\n  _initialize() {\n    // Before init plugin notification\n    this.notifyPlugins('beforeInit');\n\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n\n    this.bindEvents();\n\n    // After init plugin notification\n    this.notifyPlugins('afterInit');\n\n    return this;\n  }\n\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n\n  /**\n\t * Resize the chart to its container or to explicit dimensions.\n\t * @param {number} [width]\n\t * @param {number} [height]\n\t */\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n\n    this.notifyPlugins('resize', {size: newSize});\n\n    callCallback(options.onResize, [this, newSize], this);\n\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        // The resize update is delayed, only draw without updating.\n        this.render();\n      }\n    }\n  }\n\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n\n  /**\n\t * Builds a map of scale ID to scale object for future lookup.\n\t */\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n\n      scale.init(scaleOptions, options);\n    });\n    // clear up discarded scales\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n\n  /**\n\t * @private\n\t */\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n\n    this._removeUnreferencedMetasets();\n\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n\n    this._updateMetasets();\n    return newControllers;\n  }\n\n  /**\n\t * Reset the elements of all datasets\n\t * @private\n\t */\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n\n  /**\n\t* Resets the chart back to its state before the initial animation\n\t*/\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n\n  update(mode) {\n    const config = this.config;\n\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n\n    // plugins options references might have change, let's invalidate the cache\n    // https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\n    this._plugins.invalidate();\n\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    // Make sure dataset controllers are updated and new controllers are reset\n    const newControllers = this.buildOrUpdateControllers();\n\n    this.notifyPlugins('beforeElementsUpdate');\n\n    // Make sure all dataset controllers have correct meta data counts\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      // New controllers will be reset after the layout pass, so we only want to modify\n      // elements added to new datasets\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n\n    // Only reset the controllers if we have animations\n    if (!animsDisabled) {\n      // Can only reset the new controllers after the scales have been updated\n      // Reset is done to get the starting point for the initial animation\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n\n    this._updateDatasets(mode);\n\n    // Do this before render so that any plugins that need final scale updates can use it\n    this.notifyPlugins('afterUpdate', {mode});\n\n    this._layers.sort(compare2Level('z', '_idx'));\n\n    // Replay last event from before update, or set hover styles on active elements\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n\n    this.render();\n  }\n\n  /**\n   * @private\n   */\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n\n  /**\n   * @private\n   */\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      // The configured events have changed. Rebind.\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n\n  /**\n\t * Updates the chart layout unless a plugin returns `false` to the `beforeLayout`\n\t * hook, in which case, plugins will not be called on `afterLayout`.\n\t * @private\n\t */\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n\n    layouts.update(this, this.width, this.height, minPadding);\n\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        // Skip drawing and configuring chartArea boxes when chartArea is zero or negative\n        return;\n      }\n\n      // configure is called twice, once in core.scale.update and once here.\n      // Here the boxes are fully updated and at their final positions.\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n\n    this.notifyPlugins('afterLayout');\n  }\n\n  /**\n\t * Updates all datasets unless a plugin returns `false` to the `beforeDatasetsUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetsUpdate`.\n\t * @private\n\t */\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n\n  /**\n\t * Updates dataset at index unless a plugin returns `false` to the `beforeDatasetUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetUpdate`.\n\t * @private\n\t */\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n\n    meta.controller._update(mode);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      this._resize(width, height);\n      this._resizeBeforeDraw = null;\n    }\n    this.clear();\n\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    // Because of plugin hooks (before/afterDatasetsDraw), datasets can't\n    // currently be part of layers. Instead, we draw\n    // layers <= 0 before(default, backward compat), and the rest after\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this._drawDatasets();\n\n    // Rest of layers\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this.notifyPlugins('afterDraw');\n  }\n\n  /**\n\t * @private\n\t */\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n\n    return result;\n  }\n\n  /**\n\t * Gets the visible dataset metas in drawing order\n\t * @return {object[]}\n\t */\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n\n  /**\n\t * Draws all datasets unless a plugin returns `false` to the `beforeDatasetsDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetsDraw`.\n\t * @private\n\t */\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n\n  /**\n\t * Draws dataset at index unless a plugin returns `false` to the `beforeDatasetDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetDraw`.\n\t * @private\n\t */\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = getDatasetArea(meta, this.chartArea);\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n\n    meta.controller.draw();\n\n    if (useClip) {\n      unclipArea(ctx);\n    }\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n\n  /**\n   * Checks whether the given point is in the chart area.\n   * @param {Point} point - in relative coordinates (see, e.g., getRelativePosition)\n   * @returns {boolean}\n   */\n  isPointInArea(point) {\n    return _isPointInArea(point, this.chartArea, this._minPadding);\n  }\n\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n\n    return [];\n  }\n\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\t\t\t// See isDatasetVisible() comment\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n\n    return meta;\n  }\n\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n\n    const meta = this.getDatasetMeta(datasetIndex);\n\n    // meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\n    // the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n\n  /**\n\t * @private\n\t */\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      // Animate visible state, so hide animation can be seen. This could be handled better if update / updateDataset returned a Promise.\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n\n  /**\n\t * @private\n\t */\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n\n    this._stop();\n    this.config.clearCache();\n\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n\n    delete instances[this.id];\n\n    this.notifyPlugins('afterDestroy');\n  }\n\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n\n  /**\n\t * @private\n\t */\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n\n  /**\n   * @private\n   */\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n\n    each(this.options.events, (type) => _add(type, listener));\n  }\n\n  /**\n   * @private\n   */\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n\n    let detached; // eslint-disable-line prefer-const\n    const attached = () => {\n      _remove('attach', attached);\n\n      this.attached = true;\n      this.resize();\n\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n\n    detached = () => {\n      this.attached = false;\n\n      _remove('resize', listener);\n\n      // Stop animating and remove metasets, so when re-attached, the animations start from beginning.\n      this._stop();\n      this._resize(0, 0);\n\n      _add('attach', attached);\n    };\n\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n\n  /**\n\t * Get active (hovered) elements\n\t * @returns array\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active (hovered) elements\n\t * @param {array} activeElements New active data points\n\t */\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n\n    if (changed) {\n      this._active = active;\n      // Make sure we don't use the previous mouse event to override the active elements in update.\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n\n  /**\n\t * Calls enabled plugins on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {Object} [args] - Extra arguments to apply to the hook call.\n   * @param {import('./core.plugins.js').filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n\n  /**\n   * Check if a plugin with the specific ID is registered and enabled\n   * @param {string} pluginId - The ID of the plugin of which to check if it is enabled\n   * @returns {boolean}\n   */\n  isPluginEnabled(pluginId) {\n    return this._plugins._cache.filter(p => p.plugin.id === pluginId).length === 1;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: this.isPointInArea(e)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n\n    if (changed || args.changed) {\n      this.render();\n    }\n\n    return this;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e the event to handle\n\t * @param {boolean} [replay] - true if the event was replayed by `update`\n   * @param {boolean} [inChartArea] - true if the event is inside chartArea\n\t * @return {boolean} true if the chart needs to re-render\n\t * @private\n\t */\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n\n    // If the event is replayed from `update`, we should evaluate with the final positions.\n    //\n    // The `replay`:\n    // It's the last event (excluding click) that has occurred before `update`.\n    // So mouse has not moved. It's also over the chart, because there is a `replay`.\n    //\n    // The why:\n    // If animations are active, the elements haven't moved yet compared to state before update.\n    // But if they will, we are activating the elements that would be active, if this check\n    // was done after the animations have completed. => \"final positions\".\n    // If there is no animations, the \"final\" and \"current\" positions are equal.\n    // This is done so we do not have to evaluate the active elements each animation frame\n    // - it would be expensive.\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n\n    if (inChartArea) {\n      // Set _lastEvent to null while we are processing the event handlers.\n      // This prevents recursion if the handler calls chart.update()\n      this._lastEvent = null;\n\n      // Invoke onHover hook\n      callCallback(options.onHover, [e, active, this], this);\n\n      if (isClick) {\n        callCallback(options.onClick, [e, active, this], this);\n      }\n    }\n\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n\n    this._lastEvent = lastEvent;\n\n    return changed;\n  }\n\n  /**\n   * @param {ChartEvent} e - The event\n   * @param {import('../types/index.js').ActiveElement[]} lastActive - Previously active elements\n   * @param {boolean} inChartArea - Is the envent inside chartArea\n   * @param {boolean} useFinalPosition - Should the evaluation be done with current or final (after animation) element positions\n   * @returns {import('../types/index.js').ActiveElement[]} - The active elements\n   * @pravate\n   */\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      return lastActive;\n    }\n\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\n\n// @ts-ignore\nfunction invalidatePlugins() {\n  return each(Chart.instances, (chart) => chart._plugins.invalidate());\n}\n\nexport default Chart;\n", "import Element from '../core/core.element.js';\nimport {_angleBetween, getAngleFromPoint, TAU, HALF_PI, valueOrDefault} from '../helpers/index.js';\nimport {PI, _isBetween, _limitValue} from '../helpers/helpers.math.js';\nimport {_readValueToProps} from '../helpers/helpers.options.js';\nimport type {ArcOptions, Point} from '../types/index.js';\n\n\nfunction clipArc(ctx: CanvasRenderingContext2D, element: ArcElement, endAngle: number) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n\n  // Draw an inner border by clipping the arc and drawing a double-width border\n  // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\n\n/**\n * Parse border radius from the provided options\n */\nfunction parseBorderRadius(arc: ArcElement, innerRadius: number, outerRadius: number, angleDelta: number) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n\n  // Outer limits are complicated. We want to compute the available angular distance at\n  // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n  // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n  //\n  // If the borderRadius is large, that value can become negative.\n  // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n  // we know that the thickness term will dominate and compute the limits at that point\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\n\n/**\n * Convert (r, 𝜃) to (x, y)\n */\nfunction rThetaToXY(r: number, theta: number, x: number, y: number) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\n\n\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */\nfunction pathArc(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  end: number,\n  circular: boolean,\n) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n\n  let spacingOffset = 0;\n  const alpha = end - start;\n\n  if (spacing) {\n    // When spacing is present, it is the same for all items\n    // So we adjust the start and end angle of the arc such that\n    // the distance is the same as it would be without the spacing\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius(element, innerRadius, outerRadius, endAngle - startAngle);\n\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n\n  ctx.beginPath();\n\n  if (circular) {\n    // The first arc segments from point 1 to point a to point 2\n    const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n    ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n    ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n\n    // The corner segment from point 2 to point 3\n    if (outerEnd > 0) {\n      const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n    }\n\n    // The line from point 3 to point 4\n    const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n    ctx.lineTo(p4.x, p4.y);\n\n    // The corner segment from point 4 to point 5\n    if (innerEnd > 0) {\n      const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n    }\n\n    // The inner arc from point 5 to point b to point 6\n    const innerMidAdjustedAngle = ((endAngle - (innerEnd / innerRadius)) + (startAngle + (innerStart / innerRadius))) / 2;\n    ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), innerMidAdjustedAngle, true);\n    ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + (innerStart / innerRadius), true);\n\n    // The corner segment from point 6 to point 7\n    if (innerStart > 0) {\n      const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n    }\n\n    // The line from point 7 to point 8\n    const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n    ctx.lineTo(p8.x, p8.y);\n\n    // The corner segment from point 8 to point 1\n    if (outerStart > 0) {\n      const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n    }\n  } else {\n    ctx.moveTo(x, y);\n\n    const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n    const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerStartX, outerStartY);\n\n    const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n    const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerEndX, outerEndY);\n  }\n\n  ctx.closePath();\n}\n\nfunction drawArc(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  circular: boolean,\n) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + (circumference % TAU || TAU);\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle, circular);\n  ctx.fill();\n  return endAngle;\n}\n\nfunction drawBorder(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  circular: boolean,\n) {\n  const {fullCircles, startAngle, circumference, options} = element;\n  const {borderWidth, borderJoinStyle, borderDash, borderDashOffset} = options;\n  const inner = options.borderAlign === 'inner';\n\n  if (!borderWidth) {\n    return;\n  }\n\n  ctx.setLineDash(borderDash || []);\n  ctx.lineDashOffset = borderDashOffset;\n\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.stroke();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + (circumference % TAU || TAU);\n    }\n  }\n\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n\n  if (!fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.stroke();\n  }\n}\n\nexport interface ArcProps extends Point {\n  startAngle: number;\n  endAngle: number;\n  innerRadius: number;\n  outerRadius: number;\n  circumference: number;\n}\n\nexport default class ArcElement extends Element<ArcProps, ArcOptions> {\n\n  static id = 'arc';\n\n  static defaults = {\n    borderAlign: 'center',\n    borderColor: '#fff',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: undefined,\n    borderRadius: 0,\n    borderWidth: 2,\n    offset: 0,\n    spacing: 0,\n    angle: undefined,\n    circular: true,\n  };\n\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor'\n  };\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash'\n  };\n\n  circumference: number;\n  endAngle: number;\n  fullCircles: number;\n  innerRadius: number;\n  outerRadius: number;\n  pixelMargin: number;\n  startAngle: number;\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(chartX: number, chartY: number, useFinalPosition: boolean) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n    const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n\n    return (betweenAngles && withinRadius);\n  }\n\n  getCenterPoint(useFinalPosition: boolean) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius'\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n\n  tooltipPosition(useFinalPosition: boolean) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 4;\n    const spacing = (options.spacing || 0) / 2;\n    const circular = options.circular;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n\n    ctx.save();\n\n    const halfAngle = (this.startAngle + this.endAngle) / 2;\n    ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n    const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n    const radiusOffset = offset * fix;\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n\n    drawArc(ctx, this, radiusOffset, spacing, circular);\n    drawBorder(ctx, this, radiusOffset, spacing, circular);\n\n    ctx.restore();\n  }\n}\n", "import Element from '../core/core.element.js';\nimport {_bezierInterpolation, _pointInLine, _steppedInterpolation} from '../helpers/helpers.interpolation.js';\nimport {_computeSegments, _boundSegments} from '../helpers/helpers.segment.js';\nimport {_steppedLineTo, _bezierCurveTo} from '../helpers/helpers.canvas.js';\nimport {_updateBezierControlPoints} from '../helpers/helpers.curve.js';\nimport {valueOrDefault} from '../helpers/index.js';\n\n/**\n * @typedef { import('./element.point.js').default } PointElement\n */\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\n\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @returns {any}\n */\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n\n  return lineTo;\n}\n\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  // eslint-disable-next-line prefer-const\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n\n    prev = point;\n  }\n\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n\n  return !!loop;\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      // Draw line to maxY and minY, using the average x-coordinate\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      // Line to y-value of last point in group. So the line continues\n      // from correct position. Not using move, to have solid path.\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    }\n\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0; // truncated x-coordinate\n\n    if (truncX === prevX) {\n      // Determine `minY` / `maxY` and `avgX` while we stay within same x-position\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      // For first point in group, countX is `0`, so average will be `x` / 1.\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      // Draw line to next x-position, using the first (or only)\n      // y-value in that group\n      ctx.lineTo(x, y);\n\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    // Keep track of the last y-value in group\n    lastY = y;\n  }\n  drawX();\n}\n\n/**\n * @param {LineElement} line - the line\n * @returns {function}\n * @private\n */\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\n\n/**\n * @private\n */\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n\n  return _pointInLine;\n}\n\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\n\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\n\nconst usePath2D = typeof Path2D === 'function';\n\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\n\nexport default class LineElement extends Element {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderCapStyle: 'butt',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderWidth: 3,\n    capBezierPoints: true,\n    cubicInterpolationMode: 'default',\n    fill: false,\n    spanGaps: false,\n    stepped: false,\n    tension: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n  };\n\n\n  constructor(cfg) {\n    super();\n\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n\n  get points() {\n    return this._points;\n  }\n\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n\n  /**\n\t * First non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n\n  /**\n\t * Last non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n\n  /**\n\t * Interpolate a point in this line at the same value on `property` as\n\t * the reference `point` provided\n\t * @param {PointElement} point - the reference point\n\t * @param {string} property - the property to match on\n\t * @returns {PointElement|undefined}\n\t */\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n\n    if (!segments.length) {\n      return;\n    }\n\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n\n  /**\n\t * Append a segment of this line to current path.\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} segment\n\t * @param {number} segment.start - start index of the segment, referring the points array\n \t * @param {number} segment.end - end index of the segment, referring the points array\n \t * @param {boolean} segment.loop - indicates that the segment is a loop\n\t * @param {object} params\n\t * @param {boolean} params.move - move to starting point (vs line to it)\n\t * @param {boolean} params.reverse - path the segment from end to start\n\t * @param {number} params.start - limit segment to points starting from `start` index\n\t * @param {number} params.end - limit segment to points ending at `start` + `count` index\n\t * @returns {undefined|boolean} - true if the segment is a full loop (path should be closed)\n\t */\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n\n  /**\n\t * Append all segments of this line to current path.\n\t * @param {CanvasRenderingContext2D|Path2D} ctx\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t * @returns {undefined|boolean} - true if line is a full loop (path should be closed)\n\t */\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n\n    start = start || 0;\n    count = count || (this.points.length - start);\n\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n\n  /**\n\t * Draw\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} chartArea\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t */\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n\n    if (points.length && options.borderWidth) {\n      ctx.save();\n\n      draw(ctx, this, start, count);\n\n      ctx.restore();\n    }\n\n    if (this.animated) {\n      // When line is animated, the control points and path are not cached.\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\n", "import Element from '../core/core.element.js';\nimport {drawPoint, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport type {\n  CartesianParsedData,\n  ChartArea,\n  Point,\n  PointHoverOptions,\n  PointOptions,\n} from '../types/index.js';\n\nfunction inRange(el: PointElement, pos: number, axis: 'x' | 'y', useFinalPosition?: boolean) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\n\nexport type PointProps = Point\n\nexport default class PointElement extends Element<PointProps, PointOptions & PointHoverOptions> {\n\n  static id = 'point';\n\n  parsed: CartesianParsedData;\n  skip?: boolean;\n  stop?: boolean;\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderWidth: 1,\n    hitRadius: 1,\n    hoverBorderWidth: 1,\n    hoverRadius: 4,\n    pointStyle: 'circle',\n    radius: 3,\n    rotation: 0\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(mouseX: number, mouseY: number, useFinalPosition?: boolean) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n\n  inXRange(mouseX: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseX, 'x', useFinalPosition);\n  }\n\n  inYRange(mouseY: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseY, 'y', useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition?: boolean) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n\n  size(options?: Partial<PointOptions & PointHoverOptions>) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n\n  draw(ctx: CanvasRenderingContext2D, area: ChartArea) {\n    const options = this.options;\n\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n\n  getRange() {\n    const options = this.options || {};\n    // @ts-expect-error Fallbacks should never be hit in practice\n    return options.radius + options.hitRadius;\n  }\n}\n", "import Element from '../core/core.element.js';\nimport {isObject, _isBetween, _limitValue} from '../helpers/index.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {toTRBL, toTRBLCorners} from '../helpers/helpers.options.js';\n\n/** @typedef {{ x: number, y: number, base: number, horizontal: boolean, width: number, height: number }} BarProps */\n\n/**\n * Helper function to get the bounds of the bar regardless of the orientation\n * @param {BarElement} bar the bar\n * @param {boolean} [useFinalPosition]\n * @return {object} bounds of the bar\n * @private\n */\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = /** @type {BarProps} */ (bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition));\n\n  let left, right, top, bottom, half;\n\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n\n  return {left, top, right, bottom};\n}\n\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\n\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\n\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n\n  // If the value is an object, assume the user knows what they are doing\n  // and apply as directed.\n  const enableBorder = enableBorderRadius || isObject(value);\n\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\n\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\n\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n\n  return bounds\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\n\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n\n/**\n * Add a path of a rectangle to the current sub-path\n * @param {CanvasRenderingContext2D} ctx Context\n * @param {*} rect Bounding rect\n */\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\n\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\n\nexport default class BarElement extends Element {\n\n  static id = 'bar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderSkipped: 'start',\n    borderWidth: 0,\n    borderRadius: 0,\n    inflateAmount: 'auto',\n    pointStyle: undefined\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n\n    ctx.save();\n\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n\n    ctx.restore();\n  }\n\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = /** @type {BarProps} */ (this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition));\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\n", "import {DoughnutController, PolarAreaController} from '../index.js';\nimport type {Chart, ChartDataset} from '../types.js';\n\nexport interface ColorsPluginOptions {\n  enabled?: boolean;\n  forceOverride?: boolean;\n}\n\ninterface ColorsDescriptor {\n  backgroundColor?: unknown;\n  borderColor?: unknown;\n}\n\nconst BORDER_COLORS = [\n  'rgb(54, 162, 235)', // blue\n  'rgb(255, 99, 132)', // red\n  'rgb(255, 159, 64)', // orange\n  'rgb(255, 205, 86)', // yellow\n  'rgb(75, 192, 192)', // green\n  'rgb(153, 102, 255)', // purple\n  'rgb(201, 203, 207)' // grey\n];\n\n// Border colors with 50% transparency\nconst BACKGROUND_COLORS = /* #__PURE__ */ BORDER_COLORS.map(color => color.replace('rgb(', 'rgba(').replace(')', ', 0.5)'));\n\nfunction getBorderColor(i: number) {\n  return BORDER_COLORS[i % BORDER_COLORS.length];\n}\n\nfunction getBackgroundColor(i: number) {\n  return BACKGROUND_COLORS[i % BACKGROUND_COLORS.length];\n}\n\nfunction colorizeDefaultDataset(dataset: ChartDataset, i: number) {\n  dataset.borderColor = getBorderColor(i);\n  dataset.backgroundColor = getBackgroundColor(i);\n\n  return ++i;\n}\n\nfunction colorizeDoughnutDataset(dataset: ChartDataset, i: number) {\n  dataset.backgroundColor = dataset.data.map(() => getBorderColor(i++));\n\n  return i;\n}\n\nfunction colorizePolarAreaDataset(dataset: ChartDataset, i: number) {\n  dataset.backgroundColor = dataset.data.map(() => getBackgroundColor(i++));\n\n  return i;\n}\n\nfunction getColorizer(chart: Chart) {\n  let i = 0;\n\n  return (dataset: ChartDataset, datasetIndex: number) => {\n    const controller = chart.getDatasetMeta(datasetIndex).controller;\n\n    if (controller instanceof DoughnutController) {\n      i = colorizeDoughnutDataset(dataset, i);\n    } else if (controller instanceof PolarAreaController) {\n      i = colorizePolarAreaDataset(dataset, i);\n    } else if (controller) {\n      i = colorizeDefaultDataset(dataset, i);\n    }\n  };\n}\n\nfunction containsColorsDefinitions(\n  descriptors: ColorsDescriptor[] | Record<string, ColorsDescriptor>\n) {\n  let k: number | string;\n\n  for (k in descriptors) {\n    if (descriptors[k].borderColor || descriptors[k].backgroundColor) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction containsColorsDefinition(\n  descriptor: ColorsDescriptor\n) {\n  return descriptor && (descriptor.borderColor || descriptor.backgroundColor);\n}\n\nexport default {\n  id: 'colors',\n\n  defaults: {\n    enabled: true,\n    forceOverride: false\n  } as ColorsPluginOptions,\n\n  beforeLayout(chart: Chart, _args, options: ColorsPluginOptions) {\n    if (!options.enabled) {\n      return;\n    }\n\n    const {\n      data: {datasets},\n      options: chartOptions\n    } = chart.config;\n    const {elements} = chartOptions;\n\n    if (!options.forceOverride && (containsColorsDefinitions(datasets) || containsColorsDefinition(chartOptions) || (elements && containsColorsDefinitions(elements)))) {\n      return;\n    }\n\n    const colorizer = getColorizer(chart);\n\n    datasets.forEach(colorizer);\n  }\n};\n", "import {_limitValue, _lookupByKey, isNullOrUndef, resolve} from '../helpers/index.js';\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  /**\n   * Implementation of the Largest Triangle Three Buckets algorithm.\n   *\n   * This implementation is based on the original implementation by Sveinn Steinarsson\n   * in https://github.com/sveinn-steinarsson/flot-downsample/blob/master/jquery.flot.downsample.js\n   *\n   * The original implementation is MIT licensed.\n   */\n  const samples = options.samples || availableWidth;\n  // There are less points than the threshold, returning the whole array\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n\n  const decimated = [];\n\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  // Starting from offset\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n\n  decimated[sampledIndex++] = data[a];\n\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n\n    // Adding offset\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n\n    // Adding offset\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    const {x: pointAx, y: pointAy} = data[a];\n\n    // Note that this is changed from the original algorithm which initializes these\n    // values to 1. The reason for this change is that if the area is small, nextA\n    // would never be set and thus a crash would occur in the next loop as `a` would become\n    // `undefined`. Since the area is always positive, but could be 0 in the case of a flat trace,\n    // initializing with a negative number is the correct solution.\n    maxArea = area = -1;\n\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n\n  // Include the last point\n  decimated[sampledIndex++] = data[endIndex];\n\n  return decimated;\n}\n\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n\n    if (truncX === prevX) {\n      // Determine `minY` / `maxY` and `avgX` while we stay within same x-position\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      // For first point in group, countX is `0`, so average will be `x` / 1.\n      // Use point.x here because we're computing the average data `x` value\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      // Push up to 4 points, 3 for the last interval and the first point for this interval\n      const lastIndex = i - 1;\n\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        // The interval is defined by 4 points: start, min, max, end.\n        // The starting point is already considered at this point, so we need to determine which\n        // of the other points to add. We need to sort these points to ensure the decimated data\n        // is still sorted and then ensure there are no duplicates.\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n\n      // lastIndex === startIndex will occur when a range has only 1 point which could\n      // happen with very uneven data\n      if (i > 0 && lastIndex !== startIndex) {\n        // Last point in the previous interval\n        decimated.push(data[lastIndex]);\n      }\n\n      // Start of the new interval\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n\n  return decimated;\n}\n\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: data,\n    });\n  }\n}\n\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\n\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n\n  let start = 0;\n  let count;\n\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n\n  return {start, count};\n}\n\nexport default {\n  id: 'decimation',\n\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      // The decimation plugin may have been previously enabled. Need to remove old `dataset._data` handlers\n      cleanDecimatedData(chart);\n      return;\n    }\n\n    // Assume the entire chart is available to show a few more points than needed\n    const availableWidth = chart.width;\n\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        // Decimation is only supported for lines that have an X indexAxis\n        return;\n      }\n\n      if (!meta.controller.supportsDecimation) {\n        // Only line datasets are supported\n        return;\n      }\n\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        // Only linear interpolation is supported\n        return;\n      }\n\n      if (chart.options.parsing) {\n        // Plugin only supports data that does not need parsing\n        return;\n      }\n\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      const threshold = options.threshold || 4 * availableWidth;\n      if (count <= threshold) {\n        // No decimation is required until we are above this threshold\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n\n      if (isNullOrUndef(_data)) {\n        // First time we are seeing this dataset\n        // We override the 'data' property with a setter that stores the\n        // raw data in _data, but reads the decimated data from _decimated\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n\n      // Point the chart to the decimated data\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n\n      dataset._decimated = decimated;\n    });\n  },\n\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n", "import {_boundSegment, _boundSegments, _normalizeAngle} from '../../helpers/index.js';\n\nexport function _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = _findSegmentEnd(start, end, points);\n\n    const bounds = _getBounds(property, points[start], points[end], segment.loop);\n\n    if (!target.segments) {\n      // Special case for boundary not supporting `segments` (simpleArc)\n      // Bounds are provided as `target` for partial circle, or undefined for full circle\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n\n    // Get all segments from `target` that intersect the bounds of current segment of `line`\n    const targetSegments = _boundSegments(target, bounds);\n\n    for (const tgt of targetSegments) {\n      const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\n\nexport function _getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\n\nexport function _pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = _findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\n\nexport function _findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\n\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\n", "/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nimport {LineElement} from '../../elements/index.js';\nimport {isArray} from '../../helpers/index.js';\nimport {_pointsFromSegments} from './filler.segment.js';\n\n/**\n * @param {PointElement[] | { x: number; y: number; }} boundary\n * @param {LineElement} line\n * @return {LineElement?}\n */\nexport function _createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n\n  if (isArray(boundary)) {\n    _loop = true;\n    // @ts-ignore\n    points = boundary;\n  } else {\n    points = _pointsFromSegments(boundary, line);\n  }\n\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\n\nexport function _shouldApplyFill(source) {\n  return source && source.fill !== false;\n}\n", "import {isObject, isFinite, valueOrDefault} from '../../helpers/helpers.core.js';\n\n/**\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.line.js').default } LineElement\n * @typedef { import('../../types/index.js').FillTarget } FillTarget\n * @typedef { import('../../types/index.js').ComplexFillTarget } ComplexFillTarget\n */\n\nexport function _resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n\n  if (!propagate) {\n    return fill;\n  }\n\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isFinite(fill)) {\n      return fill;\n    }\n\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n\n    if (target.visible) {\n      return fill;\n    }\n\n    visited.push(fill);\n    fill = target.fill;\n  }\n\n  return false;\n}\n\n/**\n * @param {LineElement} line\n * @param {number} index\n * @param {number} count\n */\nexport function _decodeFill(line, index, count) {\n  /** @type {string | {value: number}} */\n  const fill = parseFillOption(line);\n\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n\n  let target = parseFloat(fill);\n\n  if (isFinite(target) && Math.floor(target) === target) {\n    return decodeTargetIndex(fill[0], index, target, count);\n  }\n\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\n\nfunction decodeTargetIndex(firstCh, index, target, count) {\n  if (firstCh === '-' || firstCh === '+') {\n    target = index + target;\n  }\n\n  if (target === index || target < 0 || target >= count) {\n    return false;\n  }\n\n  return target;\n}\n\n/**\n * @param {FillTarget | ComplexFillTarget} fill\n * @param {Scale} scale\n * @returns {number | null}\n */\nexport function _getTargetPixel(fill, scale) {\n  let pixel = null;\n  if (fill === 'start') {\n    pixel = scale.bottom;\n  } else if (fill === 'end') {\n    pixel = scale.top;\n  } else if (isObject(fill)) {\n    // @ts-ignore\n    pixel = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    pixel = scale.getBasePixel();\n  }\n  return pixel;\n}\n\n/**\n * @param {FillTarget | ComplexFillTarget} fill\n * @param {Scale} scale\n * @param {number} startValue\n * @returns {number | undefined}\n */\nexport function _getTargetValue(fill, scale, startValue) {\n  let value;\n\n  if (fill === 'start') {\n    value = startValue;\n  } else if (fill === 'end') {\n    value = scale.options.reverse ? scale.min : scale.max;\n  } else if (isObject(fill)) {\n    // @ts-ignore\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  return value;\n}\n\n/**\n * @param {LineElement} line\n */\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n\n  if (fill === false || fill === null) {\n    return false;\n  }\n\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\n", "/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nimport {LineElement} from '../../elements/index.js';\nimport {_isBetween} from '../../helpers/index.js';\nimport {_createBoundaryLine} from './filler.helper.js';\n\n/**\n * @param {{ chart: Chart; scale: Scale; index: number; line: LineElement; }} source\n * @return {LineElement}\n */\nexport function _buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(_createBoundaryLine({x: null, y: scale.bottom}, line));\n\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\n\n/**\n * @param {Scale} scale\n * @param {number} index\n * @return {LineElement[]}\n */\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\n\n/**\n * @param {PointElement[]} points\n * @param {PointElement} sourcePoint\n * @param {LineElement[]} linesBelow\n */\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      // First point of an segment -> need to add another point before this,\n      // from next line below.\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        // In the middle of an segment, no need to add more points.\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\n\n/**\n * @param {LineElement} line\n * @param {PointElement} sourcePoint\n * @param {string} property\n * @returns {{point?: PointElement, first?: boolean, last?: boolean}}\n */\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (_isBetween(pointValue, firstValue, lastValue)) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\n", "import {TAU} from '../../helpers/index.js';\n\n// TODO: use elements.ArcElement instead\nexport class simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\n", "import {isFinite} from '../../helpers/index.js';\nimport {_createBoundaryLine} from './filler.helper.js';\nimport {_getTargetPixel, _getTargetValue} from './filler.options.js';\nimport {_buildStackLine} from './filler.target.stack.js';\nimport {simpleArc} from './simpleArc.js';\n\n/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nexport function _getTarget(source) {\n  const {chart, fill, line} = source;\n\n  if (isFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n\n  if (fill === 'stack') {\n    return _buildStackLine(source);\n  }\n\n  if (fill === 'shape') {\n    return true;\n  }\n\n  const boundary = computeBoundary(source);\n\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n\n  return _createBoundaryLine(boundary, line);\n}\n\n/**\n * @param {Chart} chart\n * @param {number} index\n */\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\n\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\n\n\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  const pixel = _getTargetPixel(fill, scale);\n\n  if (isFinite(pixel)) {\n    const horizontal = scale.isHorizontal();\n\n    return {\n      x: horizontal ? pixel : null,\n      y: horizontal ? null : pixel\n    };\n  }\n\n  return null;\n}\n\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const start = options.reverse ? scale.max : scale.min;\n  const value = _getTargetValue(fill, scale, start);\n  const target = [];\n\n  if (options.grid.circular) {\n    const center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n\n  for (let i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\n\n", "import {clipArea, unclipArea} from '../../helpers/index.js';\nimport {_findSegmentEnd, _getBounds, _segments} from './filler.segment.js';\nimport {_getTarget} from './filler.target.js';\n\nexport function _drawfill(ctx, source, area) {\n  const target = _getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\n\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n\n  ctx.save();\n\n  if (property === 'x' && below !== above) {\n    clipVertical(ctx, target, area.top);\n    fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    clipVertical(ctx, target, area.bottom);\n  }\n  fill(ctx, {line, target, color: below, scale, property});\n\n  ctx.restore();\n}\n\nfunction clipVertical(ctx, target, clipY) {\n  const {segments, points} = target;\n  let first = true;\n  let lineLoop = false;\n\n  ctx.beginPath();\n  for (const segment of segments) {\n    const {start, end} = segment;\n    const firstPoint = points[start];\n    const lastPoint = points[_findSegmentEnd(start, end, points)];\n    if (first) {\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      first = false;\n    } else {\n      ctx.lineTo(firstPoint.x, clipY);\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n    }\n    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      ctx.lineTo(lastPoint.x, clipY);\n    }\n  }\n\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n\n    clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n\n    ctx.beginPath();\n\n    const lineLoop = !!line.pathSegment(ctx, src);\n\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n\n    ctx.restore();\n  }\n}\n\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\n\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\n\n", "/**\n * Plugin based on discussion from the following Chart.js issues:\n * @see https://github.com/chartjs/Chart.js/issues/2380#issuecomment-279961569\n * @see https://github.com/chartjs/Chart.js/issues/2440#issuecomment-256461897\n */\n\nimport LineElement from '../../elements/element.line.js';\nimport {_drawfill} from './filler.drawing.js';\nimport {_shouldApplyFill} from './filler.helper.js';\nimport {_decodeFill, _resolveTarget} from './filler.options.js';\n\nexport default {\n  id: 'filler',\n\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: _decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n\n      meta.$filler = source;\n      sources.push(source);\n    }\n\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n\n      source.fill = _resolveTarget(sources, i, options.propagate);\n    }\n  },\n\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n\n      source.line.updateControlPoints(area, source.axis);\n      if (draw && source.fill) {\n        _drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n\n      if (_shouldApplyFill(source)) {\n        _drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n\n    if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n\n    _drawfill(chart.ctx, source, chart.chartArea);\n  },\n\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n", "import defaults from '../core/core.defaults.js';\nimport Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {addRoundedRectPath, drawPointLegend, renderText} from '../helpers/helpers.canvas.js';\nimport {\n  _isBetween,\n  callback as call,\n  clipArea,\n  getRtlAdapter,\n  overrideTextDirection,\n  restoreTextDirection,\n  toFont,\n  toPadding,\n  unclipArea,\n  valueOrDefault,\n} from '../helpers/index.js';\nimport {_alignStartEnd, _textX, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {toTRBLCorners} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n */\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n  }\n\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\n\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\n\nexport class Legend extends Element {\n\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this._added = false;\n\n    // Contains hit boxes for each dataset (in dataset order)\n    this.legendHitBoxes = [];\n\n    /**\n \t\t * @private\n \t\t */\n    this._hoveredItem = null;\n\n    // Are we in doughnut mode which has a different data type\n    this.doughnutMode = false;\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = call(labelOpts.generateLabels, [this.chart], this) || [];\n\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n\n    this.legendItems = legendItems;\n  }\n\n  fit() {\n    const {options, ctx} = this;\n\n    // The legend may not be displayed for a variety of reasons including\n    // the fact that the defaults got set to `false`.\n    // When the legend is not displayed, there are no guarantees that the options\n    // are correctly formatted so we need to bail out as early as possible.\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    let width, height;\n\n    ctx.font = labelFont.string;\n\n    if (this.isHorizontal()) {\n      width = this.maxWidth; // fill all the width\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight; // fill all the height\n      width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n    }\n\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n\n  /**\n\t * @private\n\t */\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n\n    return totalHeight;\n  }\n\n  _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n\n    let left = 0;\n    let col = 0;\n\n    this.legendItems.forEach((legendItem, i) => {\n      const {itemWidth, itemHeight} = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n\n      // If too tall, go to new column\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n\n      // Store the hitbox width and height here. Final position will be updated in `draw`\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n\n      // Get max width\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n\n    return totalWidth;\n  }\n\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n\n      this._draw();\n\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n\n    this.drawTitle();\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    // current position\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n\n      // Set the ctx for the box\n      ctx.save();\n\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n\n      if (labelOpts.usePointStyle) {\n        // Recalculate x and y for drawPoint() because its expecting\n        // x and y to be center of figure (instead of top left)\n        const drawOptions = {\n          radius: boxHeight * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n\n        // Draw pointStyle as legend symbol\n        drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n      } else {\n        // Draw box as legend symbol\n        // Adjust position when boxHeight < fontSize (want it centered)\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n\n        ctx.beginPath();\n\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n\n      ctx.restore();\n    };\n\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n\n    // Horizontal\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n\n    overrideTextDirection(this.ctx, opts.textDirection);\n\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor; // for strikethrough effect\n      ctx.fillStyle = legendItem.fontColor; // render in correct colour\n\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n\n      rtlHelper.setWidth(this.width);\n\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n\n      const realX = rtlHelper.x(x);\n\n      drawLegendBox(realX, y, legendItem);\n\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n\n      // Fill the actual label\n      fillText(rtlHelper.x(x), y, legendItem);\n\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else if (typeof legendItem.text !== 'string') {\n        const fontLineHeight = labelFont.lineHeight;\n        cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n\n    if (!titleOpts.display) {\n      return;\n    }\n\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n\n    // These defaults are used when the legend is vertical.\n    // When horizontal, they are computed below.\n    let left = this.left;\n    let maxWidth = this.width;\n\n    if (this.isHorizontal()) {\n      // Move left / right so that the title is above the legend lines\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      // Move down so that the title is above the legend stack in every alignment\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n\n    // Now that we know the left edge of the inner legend box, compute the correct\n    // X coordinate from the title alignment\n    const x = _alignStartEnd(position, left, left + maxWidth);\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n\n  /**\n\t * @private\n\t */\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      // See if we are touching one of the dataset boxes\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          // Touching an element\n          return this.legendItems[i];\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t */\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n\n    // Chart event already has relative position in it\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        call(opts.onLeave, [e, previous, this], this);\n      }\n\n      this._hoveredItem = hoveredItem;\n\n      if (hoveredItem && !sameItem) {\n        call(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      call(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\n\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n  const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n  const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n  return {itemWidth, itemHeight};\n}\n\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n  let legendItemText = legendItem.text;\n  if (legendItemText && typeof legendItemText !== 'string') {\n    legendItemText = legendItemText.reduce((a, b) => a.length > b.length ? a : b);\n  }\n  return boxWidth + (labelFont.size / 2) + ctx.measureText(legendItemText).width;\n}\n\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n  let itemHeight = _itemHeight;\n  if (typeof legendItem.text !== 'string') {\n    itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n  }\n  return itemHeight;\n}\n\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n  const labelHeight = legendItem.text ? legendItem.text.length : 0;\n  return fontLineHeight * labelHeight;\n}\n\nfunction isListened(type, opts) {\n  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\n\nexport default {\n  id: 'legend',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Legend,\n\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n\n  // During the beforeUpdate step, the layout configuration needs to run\n  // This ensures that if the legend position changes (via an option update)\n  // the layout system respects the change. See https://github.com/chartjs/Chart.js/issues/7527\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n\n  // The labels need to be built after datasets are updated to ensure that colors\n  // and other styling are correct. See https://github.com/chartjs/Chart.js/issues/6968\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n\n\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n\n    // a callback that will handle\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n\n    onHover: null,\n    onLeave: null,\n\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      // Generates labels shown in the legend\n      // Valid properties to return:\n      // text : text to display\n      // fillStyle : fill of coloured box\n      // strokeStyle: stroke of coloured box\n      // hidden : if this legend item refers to a hidden item\n      // lineCap : cap style for line\n      // lineDash\n      // lineDashOffset :\n      // lineJoin :\n      // lineWidth :\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color, useBorderRadius, borderRadius}} = chart.legend.options;\n\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n\n            // Below is extra data used for toggling the datasets\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n", "import Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {PI, isArray, toPadding, toFont} from '../helpers/index.js';\nimport {_toLeftRightCenter, _alignStartEnd} from '../helpers/helpers.extras.js';\nimport {renderText} from '../helpers/helpers.canvas.js';\n\nexport class Title extends Element {\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n\n    this.left = 0;\n    this.top = 0;\n\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n\n    if (!opts.display) {\n      return;\n    }\n\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\n\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\n\nexport default {\n  id: 'title',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Title,\n\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000         // by default greater than legend (1000) to be above\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n", "import {Title} from './plugin.title.js';\nimport layouts from '../core/core.layouts.js';\n\nconst map = new WeakMap();\n\nexport default {\n  id: 'subtitle',\n\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500         // by default greater than legend (1000) and smaller than title (2000)\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n", "import Animations from '../core/core.animations.js';\nimport Element from '../core/core.element.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {each, noop, isNullOrUndef, isArray, _elementsEqual, isObject} from '../helpers/helpers.core.js';\nimport {toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\nimport {getRtlAdapter, overrideTextDirection, restoreTextDirection} from '../helpers/helpers.rtl.js';\nimport {distanceBetweenPoints, _limitValue} from '../helpers/helpers.math.js';\nimport {createContext, drawPoint} from '../helpers/index.js';\n\n/**\n * @typedef { import('../platform/platform.base.js').Chart } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').ActiveElement } ActiveElement\n * @typedef { import('../core/core.interaction.js').InteractionItem } InteractionItem\n */\n\nconst positioners = {\n  /**\n\t * Average mode places the tooltip at the average position of the elements shown\n\t */\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n\n    let i, len;\n    let xSet = new Set();\n    let y = 0;\n    let count = 0;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        xSet.add(pos.x);\n        y += pos.y;\n        ++count;\n      }\n    }\n\n    const xAverage = [...xSet].reduce((a, b) => a + b) / xSet.size;\n\n    return {\n      x: xAverage,\n      y: y / count\n    };\n  },\n\n  /**\n\t * Gets the tooltip position nearest of the item nearest to the event position\n\t */\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n\n    return {\n      x,\n      y\n    };\n  }\n};\n\n// Helper to push or concat based on if the 2nd parameter is an array or not\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      // base = base.concat(toPush);\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n\n  return base;\n}\n\n/**\n * Returns array of strings split by newline\n * @param {*} str - The value to split by newline.\n * @returns {string|string[]} value if newline present - Returned from String split() method\n * @function\n */\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\n\n\n/**\n * Private helper to create a tooltip item model\n * @param {Chart} chart\n * @param {ActiveElement} item - {element, index, datasetIndex} to create the tooltip item for\n * @return new tooltip item\n */\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\n\n/**\n * Get the size of the tooltip\n */\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n\n  // Count of all lines in the body\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    // Body lines may include some extra height depending on boxHeight\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n\n  // Title width\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n\n  ctx.save();\n\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n\n  // Body width\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n\n  // Body lines may include some extra width due to the color box\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n\n  // Reset back to 0\n  widthPadding = 0;\n\n  // Footer width\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n\n  ctx.restore();\n\n  // Add padding\n  width += padding.width;\n\n  return {width, height};\n}\n\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\n\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\n\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n\n  return xAlign;\n}\n\n/**\n * Helper to get the alignment of a tooltip given the size\n */\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\n\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\n\nfunction alignY(size, yAlign, paddingAndSize) {\n  // eslint-disable-next-line prefer-const\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\n\n/**\n * Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\n */\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\n\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\n\n/**\n * Helper to build before and after body lines\n */\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\n\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\n\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\n\nconst defaultCallbacks = {\n  // Args are: (tooltipItems, data)\n  beforeTitle: noop,\n  title(tooltipItems) {\n    if (tooltipItems.length > 0) {\n      const item = tooltipItems[0];\n      const labels = item.chart.data.labels;\n      const labelCount = labels ? labels.length : 0;\n\n      if (this && this.options && this.options.mode === 'dataset') {\n        return item.dataset.label || '';\n      } else if (item.label) {\n        return item.label;\n      } else if (labelCount > 0 && item.dataIndex < labelCount) {\n        return labels[item.dataIndex];\n      }\n    }\n\n    return '';\n  },\n  afterTitle: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeBody: noop,\n\n  // Args are: (tooltipItem, data)\n  beforeLabel: noop,\n  label(tooltipItem) {\n    if (this && this.options && this.options.mode === 'dataset') {\n      return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n    }\n\n    let label = tooltipItem.dataset.label || '';\n\n    if (label) {\n      label += ': ';\n    }\n    const value = tooltipItem.formattedValue;\n    if (!isNullOrUndef(value)) {\n      label += value;\n    }\n    return label;\n  },\n  labelColor(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      borderColor: options.borderColor,\n      backgroundColor: options.backgroundColor,\n      borderWidth: options.borderWidth,\n      borderDash: options.borderDash,\n      borderDashOffset: options.borderDashOffset,\n      borderRadius: 0,\n    };\n  },\n  labelTextColor() {\n    return this.options.bodyColor;\n  },\n  labelPointStyle(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      pointStyle: options.pointStyle,\n      rotation: options.rotation,\n    };\n  },\n  afterLabel: noop,\n\n  // Args are: (tooltipItems, data)\n  afterBody: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeFooter: noop,\n  footer: noop,\n  afterFooter: noop\n};\n\n/**\n * Invoke callback from object with context and arguments.\n * If callback returns `undefined`, then will be invoked default callback.\n * @param {Record<keyof typeof defaultCallbacks, Function>} callbacks\n * @param {keyof typeof defaultCallbacks} name\n * @param {*} ctx\n * @param {*} arg\n * @returns {any}\n */\nfunction invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n  const result = callbacks[name].call(ctx, arg);\n\n  if (typeof result === 'undefined') {\n    return defaultCallbacks[name].call(ctx, arg);\n  }\n\n  return result;\n}\n\nexport class Tooltip extends Element {\n\n  /**\n   * @namespace Chart.Tooltip.positioners\n   */\n  static positioners = positioners;\n\n  constructor(config) {\n    super();\n\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    // TODO: V4, make this private, rename to `_labelStyles`, and combine with `labelPointStyles`\n    // and `labelTextColors` to create a single variable\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n\n    if (cached) {\n      return cached;\n    }\n\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n\n  getTitle(context, options) {\n    const {callbacks} = options;\n\n    const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n    const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n    const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n\n    return lines;\n  }\n\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems)\n    );\n  }\n\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n      pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n\n      bodyItems.push(bodyItem);\n    });\n\n    return bodyItems;\n  }\n\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems)\n    );\n  }\n\n  // Get the footer and beforeFooter and afterFooter lines\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n\n    const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n    const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n    const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n\n    return lines;\n  }\n\n  /**\n\t * @private\n\t */\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n\n    // If the user provided a filter function, use it to modify the tooltip items\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n\n    // If the user provided a sorting function, use it to modify the tooltip items\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n\n    // Determine colors for boxes\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n      labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n      labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n    });\n\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n\n        // Left draws bottom -> top, this y1 is on the bottom\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n\n        // Right draws top -> bottom, thus y1 is on the top\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n\n        // Top draws left -> right, thus x1 is on the left\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n\n        // Bottom draws right -> left, thus x1 is on the right\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.titleAlign, options);\n\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing; // Line Height and spacing\n\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\n        }\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColor = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2, // fit the circle in the box\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      // Recalculate x and y for drawPoint() because its expecting\n      // x and y to be center of figure (instead of top left)\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n\n      // Fill the point with white so that colours merge nicely if the opacity is < 1\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n\n      // Draw the point\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.fillStyle = labelColor.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      // Border\n      ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : (labelColor.borderWidth || 1); // TODO, v4 remove fallback\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.setLineDash(labelColor.borderDash || []);\n      ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n\n      // Fill a white rect so that colours merge nicely if the opacity is < 1\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n      const borderRadius = toTRBLCorners(labelColor.borderRadius);\n\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        // Normal rect\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n\n    // restore fillStyle\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n\n    // Before body lines\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n\n    // Draw body lines now\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n\n      lines = bodyItem.lines;\n      // Draw Legend-like boxes if needed\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        // Reset for any lines that don't include colorbox\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n\n      each(bodyItem.after, fillLineOfText);\n    }\n\n    // Reset back to 0 for after body\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n\n    // After body lines\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing; // Remove last body spacing\n  }\n\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n\n      footerFont = toFont(options.footerFont);\n\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n\n    ctx.fill();\n\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n\n  /**\n\t * Update x/y animation targets when _active elements are animating too\n\t * @private\n\t */\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n\n  /**\n   * Determine if the tooltip will draw anything\n   * @returns {boolean} True if the tooltip will render\n   */\n  _willRender() {\n    return !!this.opacity;\n  }\n\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n\n    if (!opacity) {\n      return;\n    }\n\n    this._updateAnimationTarget(options);\n\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n\n    // IE11/Edge does not like very small opacities, so snap to 0\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n\n    const padding = toPadding(options.padding);\n\n    // Truthy/falsey value for empty tooltip\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n\n      // Draw Background\n      this.drawBackground(pt, ctx, tooltipSize, options);\n\n      overrideTextDirection(ctx, options.textDirection);\n\n      pt.y += padding.top;\n\n      // Titles\n      this.drawTitle(pt, ctx, options);\n\n      // Body\n      this.drawBody(pt, ctx, options);\n\n      // Footer\n      this.drawFooter(pt, ctx, options);\n\n      restoreTextDirection(ctx, options.textDirection);\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * Get active elements in the tooltip\n\t * @returns {Array} Array of elements that are active in the tooltip\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active elements in the tooltip\n\t * @param {array} activeElements Array of active datasetIndex/index pairs.\n\t * @param {object} eventPosition Synthetic event position used in positioning\n\t */\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {boolean} true if the tooltip changed\n\t */\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n\n    // When there are multiple items shown, but the tooltip position is nearest mode\n    // an update may need to be made because our position may have changed even though\n    // the items are the same as before.\n    const positionChanged = this._positionChanged(active, e);\n\n    // Remember Last Actives\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n\n    // Only handle target event on tooltip change\n    if (changed) {\n      this._active = active;\n\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n\n        this.update(true, replay);\n      }\n    }\n\n    return changed;\n  }\n\n  /**\n\t * Helper for determining the active elements for event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {InteractionItem[]} lastActive - Previously active elements\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {InteractionItem[]} - Active elements\n\t * @private\n\t */\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      // But make sure that active elements are still valid.\n      return lastActive.filter(i =>\n        this.chart.data.datasets[i.datasetIndex] &&\n        this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== undefined\n      );\n    }\n\n    // Find Active Elements for tooltips\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n\n    if (options.reverse) {\n      active.reverse();\n    }\n\n    return active;\n  }\n\n  /**\n\t * Determine if the active elements + event combination changes the\n\t * tooltip position\n\t * @param {array} active - Active elements\n\t * @param {ChartEvent} e - Event that triggered the position change\n\t * @returns {boolean} True if the position has changed\n\t */\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\n\nexport default {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n\n    if (tooltip && tooltip._willRender()) {\n      const args = {\n        tooltip\n      };\n\n      if (chart.notifyPlugins('beforeTooltipDraw', {...args, cancelable: true}) === false) {\n        return;\n      }\n\n      tooltip.draw(chart.ctx);\n\n      chart.notifyPlugins('afterTooltipDraw', args);\n    }\n  },\n\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      // If the event is replayed from `update`, we should evaluate with the final positions.\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        // notify chart about the change, so it will render\n        args.changed = true;\n      }\n    }\n  },\n\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: defaultCallbacks\n  },\n\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n\n  // Resolve additionally from `interaction` options and defaults.\n  additionalOptionScopes: ['interaction']\n};\n", "import Scale from '../core/core.scale.js';\nimport {isNullOrUndef, valueOrDefault, _limitValue} from '../helpers/index.js';\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\n\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\n\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\n\nfunction _getLabelForValue(value) {\n  const labels = this.getLabels();\n\n  if (value >= 0 && value < labels.length) {\n    return labels[value];\n  }\n  return value;\n}\n\nexport default class CategoryScale extends Scale {\n\n  static id = 'category';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: _getLabelForValue\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n\n    // If we are viewing some subset of labels, slice the original array\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n\n  getLabelForValue(value) {\n    return _getLabelForValue.call(this, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    super.configure();\n\n    if (!this.isHorizontal()) {\n      // For backward compatibility, vertical category scale reverse is inverted.\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n\n  // Used to get data value locations. Value can either be an index or a numerical value\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  // Must override base implementation because it calls getPixelForValue\n  // and category scale can have duplicate values\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n\n  getBasePixel() {\n    return this.bottom;\n  }\n}\n", "import {isNullOrUndef} from '../helpers/helpers.core.js';\nimport {almostEquals, almostWhole, niceNum, _decimalPlaces, _setMinAndMaxByKey, sign, toRadians} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\n\n/**\n * Generate a set of linear ticks for an axis\n * 1. If generationOptions.min, generationOptions.max, and generationOptions.step are defined:\n *    if (max - min) / step is an integer, ticks are generated as [min, min + step, ..., max]\n *    Note that the generationOptions.maxCount setting is respected in this scenario\n *\n * 2. If generationOptions.min, generationOptions.max, and generationOptions.count is defined\n *    spacing = (max - min) / count\n *    Ticks are generated as [min, min + spacing, ..., max]\n *\n * 3. If generationOptions.count is defined\n *    spacing = (niceMax - niceMin) / count\n *\n * 4. Compute optimal spacing of ticks using niceNum algorithm\n *\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, dataRange) {\n  const ticks = [];\n  // To get a \"nice\" value for the tick spacing, we will use the appropriately named\n  // \"nice number\" algorithm. See https://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\n  // for details.\n\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n\n  // Beyond MIN_SPACING floating point numbers being to lose precision\n  // such that we can't do the math necessary to generate ticks\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    // If the calculated num of spaces exceeds maxNumSpaces, recalculate it\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n\n  if (!isNullOrUndef(precision)) {\n    // If the user specified a precision, round to that number of decimal places\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    // Case 1: If min, max and stepSize are set and they make an evenly spaced scale use it.\n    // spacing = step;\n    // numSpaces = (max - min) / spacing;\n    // Note that we round here to handle the case where almostWhole translated an FP error\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    // Cases 2 & 3, we have a count specified. Handle optional user defined edges to the range.\n    // Sometimes these are no-ops, but it makes the code a lot clearer\n    // and when a user defined range is specified, we want the correct ticks\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    // Case 4\n    numSpaces = (niceMax - niceMin) / spacing;\n\n    // If very close to our rounded value, use it.\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n\n  // The spacing will have changed in cases 1, 2, and 3 so the factor cannot be computed\n  // until this point\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n\n      if (niceMin < min) {\n        j++; // Skip niceMin\n      }\n      // If the next nice tick is close to min, skip it\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n\n  for (; j < numSpaces; ++j) {\n    const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n    if (maxDefined && tickValue > max) {\n      break;\n    }\n    ticks.push({value: tickValue});\n  }\n\n  if (maxDefined && includeBounds && niceMax !== max) {\n    // If the previous tick is too close to max, replace it with max, else add max\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n\n  return ticks;\n}\n\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\n\nexport default class LinearScaleBase extends Scale {\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    /** @type {number} */\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n\n    return +raw;\n  }\n\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n\n    if (min === max) {\n      let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n\n      setMax(max + offset);\n\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    // eslint-disable-next-line prefer-const\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n\n    return maxTicks;\n  }\n\n  /**\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    // Figure out what the max number of ticks we can support it is based on the size of\n    // the axis area. For now, we say that the minimum tick spacing in pixels must be 40\n    // We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n    // the graph. Make sure we always have at least 2 ticks\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks(numericGeneratorOptions, dataRange);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n\n    super.configure();\n\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n", "import {isFinite} from '../helpers/helpers.core.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {toRadians} from '../helpers/index.js';\n\nexport default class LinearScale extends LinearScaleBase {\n\n  static id = 'linear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.numeric\n    }\n  };\n\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? min : 0;\n    this.max = isFinite(max) ? max : 1;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n \t */\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n\n  // Utils\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\n", "import {finiteOrDefault, isFinite} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {_setMinAndMaxByKey, log10} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\n\nconst log10Floor = v => Math.floor(log10(v));\nconst changeExponent = (v, m) => Math.pow(10, log10Floor(v) + m);\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, log10Floor(tickVal)));\n  return remain === 1;\n}\n\nfunction steps(min, max, rangeExp) {\n  const rangeStep = Math.pow(10, rangeExp);\n  const start = Math.floor(min / rangeStep);\n  const end = Math.ceil(max / rangeStep);\n  return end - start;\n}\n\nfunction startExp(min, max) {\n  const range = max - min;\n  let rangeExp = log10Floor(range);\n  while (steps(min, max, rangeExp) > 10) {\n    rangeExp++;\n  }\n  while (steps(min, max, rangeExp) < 10) {\n    rangeExp--;\n  }\n  return Math.min(rangeExp, log10Floor(min));\n}\n\n\n/**\n * Generate a set of logarithmic ticks\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, {min, max}) {\n  min = finiteOrDefault(generationOptions.min, min);\n  const ticks = [];\n  const minExp = log10Floor(min);\n  let exp = startExp(min, max);\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  const stepSize = Math.pow(10, exp);\n  const base = minExp > exp ? Math.pow(10, minExp) : 0;\n  const start = Math.round((min - base) * precision) / precision;\n  const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n  let significand = Math.floor((start - offset) / Math.pow(10, exp));\n  let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n  while (value < max) {\n    ticks.push({value, major: isMajor(value), significand});\n    if (significand >= 10) {\n      significand = significand < 15 ? 15 : 20;\n    } else {\n      significand++;\n    }\n    if (significand >= 20) {\n      exp++;\n      significand = 2;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n  }\n  const lastTick = finiteOrDefault(generationOptions.max, value);\n  ticks.push({value: lastTick, major: isMajor(lastTick), significand});\n\n  return ticks;\n}\n\nexport default class LogarithmicScale extends Scale {\n\n  static id = 'logarithmic';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.logarithmic,\n      major: {\n        enabled: true\n      }\n    }\n  };\n\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isFinite(value) && value > 0 ? value : null;\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? Math.max(0, min) : null;\n    this.max = isFinite(max) ? Math.max(0, max) : null;\n\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n\n    // if data has `0` in it or `beginAtZero` is true, min (non zero) value is at bottom\n    // of scale, and it does not equal suggestedMin, lower the min bound by one exp.\n    if (this._zero && this.min !== this._suggestedMin && !isFinite(this._userMin)) {\n      this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n    }\n\n    this.handleTickRangeOptions();\n  }\n\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (min === max) {\n      if (min <= 0) { // includes null\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(changeExponent(min, -1));\n        setMax(changeExponent(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(changeExponent(max, -1));\n    }\n    if (max <= 0) {\n\n      setMax(changeExponent(min, +1));\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const start = this.min;\n\n    super.configure();\n\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\n", "import defaults from '../core/core.defaults.js';\nimport {_longestText, addRoundedRectPath, renderText, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport {HALF_PI, TAU, toDegrees, toRadians, _normalizeAngle, PI} from '../helpers/helpers.math.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {valueOrDefault, isArray, isFinite, callback as callCallback, isNullOrUndef} from '../helpers/helpers.core.js';\nimport {createContext, toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\n\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\n\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\n\n/**\n * Helper function to fit a radial linear scale with point labels\n */\nfunction fitWithPointLabels(scale) {\n\n  // Right, this is really confusing and there is a lot of maths going on here\n  // The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n  //\n  // Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n  //\n  // Solution:\n  //\n  // We assume the radius of the polygon is half the size of the canvas at first\n  // at each index we check if the text overlaps.\n  //\n  // Where it does, we store that angle and that index.\n  //\n  // After finding the largest index and angle we calculate how much we need to remove\n  // from the shape radius to move the point inwards by that x.\n  //\n  // We average the left and right distances to get the maximum shape radius that can fit in the box\n  // along with labels.\n  //\n  // Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n  // on each side, removing that from the size, halving it and adding the left x protrusion width.\n  //\n  // This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n  // and position it in the most space efficient manner\n  //\n  // https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\n  // Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n  // Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n\n  // Now that text size is determined, compute the full positions\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\n\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\n\nfunction createPointLabelItem(scale, index, itemOpts) {\n  const outerDistance = scale.drawingArea;\n  const {extra, additionalAngle, padding, size} = itemOpts;\n  const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n  const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n  const y = yForAngle(pointLabelPosition.y, size.h, angle);\n  const textAlign = getTextAlignForAngle(angle);\n  const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n  return {\n    // if to draw or overlapped\n    visible: true,\n\n    // Text position\n    x: pointLabelPosition.x,\n    y,\n\n    // Text rendering data\n    textAlign,\n\n    // Bounding box\n    left,\n    top: y,\n    right: left + size.w,\n    bottom: y + size.h\n  };\n}\n\nfunction isNotOverlapped(item, area) {\n  if (!area) {\n    return true;\n  }\n  const {left, top, right, bottom} = item;\n  const apexesInArea = _isPointInArea({x: left, y: top}, area) || _isPointInArea({x: left, y: bottom}, area) ||\n    _isPointInArea({x: right, y: top}, area) || _isPointInArea({x: right, y: bottom}, area);\n  return !apexesInArea;\n}\n\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const {centerPointLabels, display} = opts.pointLabels;\n  const itemOpts = {\n    extra: getTickBackdropHeight(opts) / 2,\n    additionalAngle: centerPointLabels ? PI / valueCount : 0\n  };\n  let area;\n\n  for (let i = 0; i < valueCount; i++) {\n    itemOpts.padding = padding[i];\n    itemOpts.size = labelSizes[i];\n\n    const item = createPointLabelItem(scale, i, itemOpts);\n    items.push(item);\n    if (display === 'auto') {\n      item.visible = isNotOverlapped(item, area);\n      if (item.visible) {\n        area = item;\n      }\n    }\n  }\n  return items;\n}\n\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n\n  return 'right';\n}\n\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\n\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\n\nfunction drawPointLabelBox(ctx, opts, item) {\n  const {left, top, right, bottom} = item;\n  const {backdropColor} = opts;\n\n  if (!isNullOrUndef(backdropColor)) {\n    const borderRadius = toTRBLCorners(opts.borderRadius);\n    const padding = toPadding(opts.backdropPadding);\n    ctx.fillStyle = backdropColor;\n\n    const backdropLeft = left - padding.left;\n    const backdropTop = top - padding.top;\n    const backdropWidth = right - left + padding.width;\n    const backdropHeight = bottom - top + padding.height;\n\n    if (Object.values(borderRadius).some(v => v !== 0)) {\n      ctx.beginPath();\n      addRoundedRectPath(ctx, {\n        x: backdropLeft,\n        y: backdropTop,\n        w: backdropWidth,\n        h: backdropHeight,\n        radius: borderRadius,\n      });\n      ctx.fill();\n    } else {\n      ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n    }\n  }\n}\n\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const item = scale._pointLabelItems[i];\n    if (!item.visible) {\n      // overlapping\n      continue;\n    }\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    drawPointLabelBox(ctx, optsAtIndex, item);\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign} = item;\n\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\n\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    // Draw circular arcs between the points\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    // Draw straight lines connecting each index\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\n\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n\n  const {color, lineWidth} = gridLineOpts;\n\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(borderOpts.dash);\n  ctx.lineDashOffset = borderOpts.dashOffset;\n\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\n\nexport default class RadialLinearScale extends LinearScaleBase {\n\n  static id = 'radialLinear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    display: true,\n\n    // Boolean - Whether to animate scaling the chart from the centre\n    animate: true,\n    position: 'chartArea',\n\n    angleLines: {\n      display: true,\n      lineWidth: 1,\n      borderDash: [],\n      borderDashOffset: 0.0\n    },\n\n    grid: {\n      circular: false\n    },\n\n    startAngle: 0,\n\n    // label settings\n    ticks: {\n      // Boolean - Show a backdrop to the scale label\n      showLabelBackdrop: true,\n\n      callback: Ticks.formatters.numeric\n    },\n\n    pointLabels: {\n      backdropColor: undefined,\n\n      // Number - The backdrop padding above & below the label in pixels\n      backdropPadding: 2,\n\n      // Boolean - if true, show point labels\n      display: true,\n\n      // Number - Point label font size in pixels\n      font: {\n        size: 10\n      },\n\n      // Function - Used to convert point labels\n      callback(label) {\n        return label;\n      },\n\n      // Number - Additionl padding between scale and pointLabel\n      padding: 5,\n\n      // Boolean - if true, center point labels to slices in polar chart\n      centerPointLabels: false\n    }\n  };\n\n  static defaultRoutes = {\n    'angleLines.color': 'borderColor',\n    'pointLabels.color': 'color',\n    'ticks.color': 'color'\n  };\n\n  static descriptors = {\n    angleLines: {\n      _fallback: 'grid'\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.xCenter = undefined;\n    /** @type {number} */\n    this.yCenter = undefined;\n    /** @type {number} */\n    this.drawingArea = undefined;\n    /** @type {string[]} */\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n\n    this.min = isFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isFinite(max) && !isNaN(max) ? max : 0;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n\n    // Point labels\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callCallback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n\n  fit() {\n    const opts = this.options;\n\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n\n    // Take into account half font size + the yPadding of the top value\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid, border} = opts;\n    const labelCount = this._pointLabels.length;\n\n    let i, offset, position;\n\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0 || (index === 0 && this.min < 0)) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const context = this.getContext(index);\n          const optsAtIndex = grid.setContext(context);\n          const optsAtIndexBorder = border.setContext(context);\n\n          drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n        }\n      });\n    }\n\n    if (angleLines.display) {\n      ctx.save();\n\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n\n        if (!lineWidth || !color) {\n          continue;\n        }\n\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n\n        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {}\n\n  /**\n\t * @protected\n\t */\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    if (!tickOpts.display) {\n      return;\n    }\n\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n\n    this.ticks.forEach((tick, index) => {\n      if ((index === 0 && this.min >= 0) && !opts.reverse) {\n        return;\n      }\n\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n        strokeColor: optsAtIndex.textStrokeColor,\n        strokeWidth: optsAtIndex.textStrokeWidth,\n      });\n    });\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {}\n}\n", "import adapters from '../core/core.adapters.js';\nimport {callback as call, isFinite, isNullOrUndef, mergeIf, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toRadians, isNumber, _limitValue} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {_arrayUnique, _filterBetween, _lookup} from '../helpers/helpers.collection.js';\n\n/**\n * @typedef { import('../core/core.adapters.js').TimeUnit } Unit\n * @typedef {{common: boolean, size: number, steps?: number}} Interval\n * @typedef { import('../core/core.adapters.js').DateAdapter } DateAdapter\n */\n\n/**\n * @type {Object<Unit, Interval>}\n */\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\n\n/**\n * @type {Unit[]}\n */\nconst UNITS = /** @type Unit[] */ /* #__PURE__ */ (Object.keys(INTERVALS));\n\n/**\n * @param {number} a\n * @param {number} b\n */\nfunction sorter(a, b) {\n  return a - b;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {*} input\n * @return {number}\n */\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n\n  // Only parse if it's not a timestamp already\n  if (!isFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, /** @type {Unit} */ (parser))\n      : adapter.parse(value);\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n\n  return +value;\n}\n\n/**\n * Figures out what unit results in an appropriate number of auto-generated ticks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @param {number} capacity\n * @return {object}\n */\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n\n  return UNITS[ilen - 1];\n}\n\n/**\n * Figures out what unit to format a set of ticks with\n * @param {TimeScale} scale\n * @param {number} numTicks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @return {Unit}\n */\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n\n/**\n * @param {Unit} unit\n * @return {object}\n */\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\n\n/**\n * @param {object} ticks\n * @param {number} time\n * @param {number[]} [timestamps] - if defined, snap to these timestamps\n */\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\n\n/**\n * @param {TimeScale} scale\n * @param {object[]} ticks\n * @param {object} map\n * @param {Unit} majorUnit\n * @return {object[]}\n */\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {number[]} values\n * @param {Unit|undefined} [majorUnit]\n * @return {object[]}\n */\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  /** @type {Object<number,object>} */\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n\n  // We set the major ticks separately from the above loop because calling startOf for every tick\n  // is expensive when there is a large number of ticks\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\n\nexport default class TimeScale extends Scale {\n\n  static id = 'time';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 2.7.0\n     */\n    bounds: 'data',\n\n    adapters: {},\n    time: {\n      parser: false, // false == a pattern string from or a custom callback that converts its argument to a timestamp\n      unit: false, // false == automatic or override with week, month, year, etc.\n      round: false, // none, or override with week, month, year, etc.\n      isoWeekday: false, // override week start day\n      minUnit: 'millisecond',\n      displayFormats: {}\n    },\n    ticks: {\n      /**\n       * Ticks generation input values:\n       * - 'auto': generates \"optimal\" ticks based on scale size and time options.\n       * - 'data': generates ticks from data (including labels from data {t|x|y} objects).\n       * - 'labels': generates ticks from user given `data.labels` values ONLY.\n       * @see https://github.com/chartjs/Chart.js/pull/4507\n       * @since 2.7.0\n       */\n      source: 'auto',\n\n      callback: false,\n\n      major: {\n        enabled: false\n      }\n    }\n  };\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {{data: number[], labels: number[], all: number[]}} */\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n\n    /** @type {Unit} */\n    this._unit = 'day';\n    /** @type {Unit=} */\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n\n  init(scaleOpts, opts = {}) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    /** @type {DateAdapter} */\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n\n    adapter.init(opts);\n\n    // Backward compatibility: before introducing adapter, `displayFormats` was\n    // supposed to contain *all* unit/string pairs but this can't be resolved\n    // when loading the scale (adapters are loaded afterward), so let's populate\n    // missing formats on update\n    mergeIf(time.displayFormats, adapter.formats());\n\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n\n    super.init(scaleOpts);\n\n    this._normalized = opts.normalized;\n  }\n\n  /**\n\t * @param {*} raw\n\t * @param {number?} [index]\n\t * @return {number}\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    // eslint-disable-next-line prefer-const\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n\n    /**\n\t\t * @param {object} bounds\n\t\t */\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n\n    // If we have user provided `min` and `max` labels / data bounds can be ignored\n    if (!minDefined || !maxDefined) {\n      // Labels are always considered, when user did not force bounds\n      _applyBounds(this._getLabelBounds());\n\n      // If `bounds` is `'ticks'` and `ticks.source` is `'labels'`,\n      // data bounds are ignored (and don't need to be determined)\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n\n    min = isFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n\n    // Make sure that max is strictly higher than min (required by the timeseries lookup table)\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n\n  /**\n\t * @private\n\t */\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n\n  /**\n\t * @return {object[]}\n\t */\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n\n    const min = this.min;\n    const max = this.max;\n\n    const ticks = _filterBetween(timestamps, min, max);\n\n    // PRIVATE\n    // determineUnitForFormatting relies on the number of ticks so we don't use it when\n    // autoSkip is enabled because we don't yet know what the final number of ticks will be\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n\n    if (options.reverse) {\n      ticks.reverse();\n    }\n\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n\n  afterAutoSkip() {\n    // Offsets for bar charts need to be handled with the auto skipped\n    // ticks. Once ticks have been skipped, we re-compute the offsets.\n    if (this.options.offsetAfterAutoskip) {\n      this.initOffsets(this.ticks.map(tick => +tick.value));\n    }\n  }\n\n  /**\n\t * Returns the start and end offsets from edges in the form of {start, end}\n\t * where each value is a relative width to the scale and ranges between 0 and 1.\n\t * They add extra margins on the both sides by scaling down the original scale.\n\t * Offsets are added when the `offset` option is true.\n\t * @param {number[]} timestamps\n\t * @protected\n\t */\n  initOffsets(timestamps = []) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n\n  /**\n\t * Generates a maximum of `capacity` timestamps between min and max, rounded to the\n\t * `minor` unit using the given scale time `options`.\n\t * Important: this method can return ticks outside the min and max range, it's the\n\t * responsibility of the calling code to clamp values if needed.\n\t * @protected\n\t */\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    // @ts-ignore\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n\n    // For 'week' unit, handle the first day of week option\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n\n    // Align first ticks on unit\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n\n    // Prevent browser from freezing in case user options request millions of milliseconds\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n\n    // @ts-ignore\n    return Object.keys(ticks).sort(sorter).map(x => +x);\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n\n  /**\n\t * @param {number} value\n\t * @param {string|undefined} format\n\t * @return {string}\n\t */\n  format(value, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const fmt = format || formats[unit];\n    return this._adapter.format(value, fmt);\n  }\n\n  /**\n\t * Function to format an individual tick mark\n\t * @param {number} time\n\t * @param {number} index\n\t * @param {object[]} ticks\n\t * @param {string|undefined} [format]\n\t * @return {string}\n\t * @private\n\t */\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formatter = options.ticks.callback;\n\n    if (formatter) {\n      return call(formatter, [time, index, ticks], this);\n    }\n\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n\n    return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n  }\n\n  /**\n\t * @param {object[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n\n  /**\n\t * @param {string} label\n\t * @return {{w:number, h:number}}\n\t * @private\n\t */\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n\n  /**\n\t * @param {number} exampleTime\n\t * @return {number}\n\t * @private\n\t */\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n\n    // pick the longest format (milliseconds) for guesstimation\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    // subtract 1 - if offset then there's one less label than tick\n    // if not offset then one half label padding is added to each end leaving room for one less label\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n\n    return (this._cache.data = this.normalize(timestamps));\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n\n  /**\n\t * @param {number[]} values\n\t * @protected\n\t */\n  normalize(values) {\n    // It seems to be somewhat faster to do sorting first\n    return _arrayUnique(values.sort(sorter));\n  }\n}\n", "import TimeScale from './scale.time.js';\nimport {_lookupByKey} from '../helpers/helpers.collection.js';\n\n/**\n * Linearly interpolates the given source `val` using the table. If value is out of bounds, values\n * at edges are used for the interpolation.\n * @param {object} table\n * @param {number} val\n * @param {boolean} [reverse] lookup time based on position instead of vice versa\n * @return {object}\n */\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\n\nclass TimeSeriesScale extends TimeScale {\n\n  static id = 'timeseries';\n\n  /**\n   * @type {any}\n   */\n  static defaults = TimeScale.defaults;\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {object[]} */\n    this._table = [];\n    /** @type {number} */\n    this._minPos = undefined;\n    /** @type {number} */\n    this._tableRange = undefined;\n  }\n\n  /**\n\t * @protected\n\t */\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n\n  /**\n\t * Returns an array of {time, pos} objects used to interpolate a specific `time` or position\n\t * (`pos`) on the scale, by searching entries before and after the requested value. `pos` is\n\t * a decimal between 0 and 1: 0 being the start of the scale (left or top) and 1 the other\n\t * extremity (left + width or top + height). Note that it would be more optimized to directly\n\t * store pre-computed pixels, but the scale dimensions are not guaranteed at the time we need\n\t * to create the lookup table. The table ALWAYS contains at least two items: min and max.\n\t * @param {number[]} timestamps\n\t * @return {object[]}\n\t * @protected\n\t */\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n\n    if (items.length < 2) {\n      // In case there is less that 2 timestamps between min and max, the scale is defined by min and max\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n\n      // only add points that breaks the scale linearity\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n\n  /**\n    * Generates all timestamps defined in the data.\n    * Important: this method can return ticks outside the min and max range, it's the\n    * responsibility of the calling code to clamp values if needed.\n    * @protected\n    */\n  _generate() {\n    const min = this.min;\n    const max = this.max;\n    let timestamps = super.getDataTimestamps();\n    if (!timestamps.includes(min) || !timestamps.length) {\n      timestamps.splice(0, 0, min);\n    }\n    if (!timestamps.includes(max) || timestamps.length === 1) {\n      timestamps.push(max);\n    }\n    return timestamps.sort((a, b) => a - b);\n  }\n\n  /**\n\t * Returns all timestamps\n\t * @return {number[]}\n\t * @private\n\t */\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      // If combining labels and data (data might not contain all labels),\n      // we need to recheck uniqueness and sort\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n\n    return timestamps;\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\n\nexport default TimeSeriesScale;\n", "export * from './controllers/index.js';\nexport * from './core/index.js';\nexport * from './elements/index.js';\nexport * from './platform/index.js';\nexport * from './plugins/index.js';\nexport * from './scales/index.js';\n\nimport * as controllers from './controllers/index.js';\nimport * as elements from './elements/index.js';\nimport * as plugins from './plugins/index.js';\nimport * as scales from './scales/index.js';\n\nexport {\n  controllers,\n  elements,\n  plugins,\n  scales,\n};\n\nexport const registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n", "import {Chart, registerables} from '../dist/chart.js';\n\nChart.register(...registerables);\n\nexport * from '../dist/chart.js';\nexport default Chart;\n", "/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument) {\n  const argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === \"object\" && argStr === \"[object Date]\")\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new argument.constructor(+argument);\n  } else if (\n    typeof argument === \"number\" ||\n    argStr === \"[object Number]\" ||\n    typeof argument === \"string\" ||\n    argStr === \"[object String]\"\n  ) {\n    // TODO: Can we get rid of as?\n    return new Date(argument);\n  } else {\n    // TODO: Can we get rid of as?\n    return new Date(NaN);\n  }\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n", "/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from 'date-fns'\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use contrustor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   )\n * }\n */\nexport function constructFrom(date, value) {\n  if (date instanceof Date) {\n    return new date.constructor(value);\n  } else {\n    return new Date(value);\n  }\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n", "import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added.\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount) {\n  const _date = toDate(date);\n  if (isNaN(amount)) return constructFrom(date, NaN);\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n", "import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be added.\n *\n * @returns The new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n *\n * // Add one month to 30 January 2023:\n * const result = addMonths(new Date(2023, 0, 30), 1)\n * //=> Tue Feb 28 2023 00:00:00\n */\nexport function addMonths(date, amount) {\n  const _date = toDate(date);\n  if (isNaN(amount)) return constructFrom(date, NaN);\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  const dayOfMonth = _date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  const endOfDesiredMonth = constructFrom(date, _date.getTime());\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    _date.setFullYear(\n      endOfDesiredMonth.getFullYear(),\n      endOfDesiredMonth.getMonth(),\n      dayOfMonth,\n    );\n    return _date;\n  }\n}\n\n// Fallback for modularized imports:\nexport default addMonths;\n", "import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of milliseconds to be added.\n *\n * @returns The new date with the milliseconds added\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\nexport function addMilliseconds(date, amount) {\n  const timestamp = +toDate(date);\n  return constructFrom(date, timestamp + amount);\n}\n\n// Fallback for modularized imports:\nexport default addMilliseconds;\n", "/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n", "import { addMilliseconds } from \"./addMilliseconds.mjs\";\nimport { millisecondsInHour } from \"./constants.mjs\";\n\n/**\n * @name addHours\n * @category Hour Helpers\n * @summary Add the specified number of hours to the given date.\n *\n * @description\n * Add the specified number of hours to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of hours to be added.\n *\n * @returns The new date with the hours added\n *\n * @example\n * // Add 2 hours to 10 July 2014 23:00:00:\n * const result = addHours(new Date(2014, 6, 10, 23, 0), 2)\n * //=> Fri Jul 11 2014 01:00:00\n */\nexport function addHours(date, amount) {\n  return addMilliseconds(date, amount * millisecondsInHour);\n}\n\n// Fallback for modularized imports:\nexport default addHours;\n", "let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n", "import { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n", "import { startOfWeek } from \"./startOfWeek.mjs\";\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date) {\n  return startOfWeek(date, { weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n", "import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n", "import { toDate } from \"../toDate.mjs\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n", "import { millisecondsInDay } from \"./constants.mjs\";\nimport { startOfDay } from \"./startOfDay.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.mjs\";\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(dateLeft, dateRight) {\n  const startOfDayLeft = startOfDay(dateLeft);\n  const startOfDayRight = startOfDay(dateRight);\n\n  const timestampLeft =\n    +startOfDayLeft - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  const timestampRight =\n    +startOfDayRight - getTimezoneOffsetInMilliseconds(startOfDayRight);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((timestampLeft - timestampRight) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n", "import { getISOWeekYear } from \"./getISOWeekYear.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date) {\n  const year = getISOWeekYear(date);\n  const fourthOfJanuary = constructFrom(date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n", "import { addMilliseconds } from \"./addMilliseconds.mjs\";\nimport { millisecondsInMinute } from \"./constants.mjs\";\n\n/**\n * @name addMinutes\n * @category Minute Helpers\n * @summary Add the specified number of minutes to the given date.\n *\n * @description\n * Add the specified number of minutes to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of minutes to be added.\n *\n * @returns The new date with the minutes added\n *\n * @example\n * // Add 30 minutes to 10 July 2014 12:00:00:\n * const result = addMinutes(new Date(2014, 6, 10, 12, 0), 30)\n * //=> Thu Jul 10 2014 12:30:00\n */\nexport function addMinutes(date, amount) {\n  return addMilliseconds(date, amount * millisecondsInMinute);\n}\n\n// Fallback for modularized imports:\nexport default addMinutes;\n", "import { addMonths } from \"./addMonths.mjs\";\n\n/**\n * @name addQuarters\n * @category Quarter Helpers\n * @summary Add the specified number of year quarters to the given date.\n *\n * @description\n * Add the specified number of year quarters to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of quarters to be added.\n *\n * @returns The new date with the quarters added\n *\n * @example\n * // Add 1 quarter to 1 September 2014:\n * const result = addQuarters(new Date(2014, 8, 1), 1)\n * //=> Mon Dec 01 2014 00:00:00\n */\nexport function addQuarters(date, amount) {\n  const months = amount * 3;\n  return addMonths(date, months);\n}\n\n// Fallback for modularized imports:\nexport default addQuarters;\n", "import { addMilliseconds } from \"./addMilliseconds.mjs\";\n\n/**\n * @name addSeconds\n * @category Second Helpers\n * @summary Add the specified number of seconds to the given date.\n *\n * @description\n * Add the specified number of seconds to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of seconds to be added.\n *\n * @returns The new date with the seconds added\n *\n * @example\n * // Add 30 seconds to 10 July 2014 12:45:00:\n * const result = addSeconds(new Date(2014, 6, 10, 12, 45, 0), 30)\n * //=> Thu Jul 10 2014 12:45:30\n */\nexport function addSeconds(date, amount) {\n  return addMilliseconds(date, amount * 1000);\n}\n\n// Fallback for modularized imports:\nexport default addSeconds;\n", "import { addDays } from \"./addDays.mjs\";\n\n/**\n * @name addWeeks\n * @category Week Helpers\n * @summary Add the specified number of weeks to the given date.\n *\n * @description\n * Add the specified number of week to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of weeks to be added.\n *\n * @returns The new date with the weeks added\n *\n * @example\n * // Add 4 weeks to 1 September 2014:\n * const result = addWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Sep 29 2014 00:00:00\n */\nexport function addWeeks(date, amount) {\n  const days = amount * 7;\n  return addDays(date, days);\n}\n\n// Fallback for modularized imports:\nexport default addWeeks;\n", "import { addMonths } from \"./addMonths.mjs\";\n\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of years to be added.\n *\n * @returns The new date with the years added\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\nexport function addYears(date, amount) {\n  return addMonths(date, amount * 12);\n}\n\n// Fallback for modularized imports:\nexport default addYears;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The first date to compare\n * @param dateRight - The second date to compare\n *\n * @returns The result of the comparison\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\nexport function compareAsc(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const diff = _dateLeft.getTime() - _dateRight.getTime();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n// Fallback for modularized imports:\nexport default compareAsc;\n", "/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n", "import { isDate } from \"./isDate.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  if (!isDate(date) && typeof date !== \"number\") {\n    return false;\n  }\n  const _date = toDate(date);\n  return !isNaN(Number(_date));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of calendar months\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\nexport function differenceInCalendarMonths(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const yearDiff = _dateLeft.getFullYear() - _dateRight.getFullYear();\n  const monthDiff = _dateLeft.getMonth() - _dateRight.getMonth();\n\n  return yearDiff * 12 + monthDiff;\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarMonths;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInCalendarYears\n * @category Year Helpers\n * @summary Get the number of calendar years between the given dates.\n *\n * @description\n * Get the number of calendar years between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n\n * @returns The number of calendar years\n *\n * @example\n * // How many calendar years are between 31 December 2013 and 11 February 2015?\n * const result = differenceInCalendarYears(\n *   new Date(2015, 1, 11),\n *   new Date(2013, 11, 31)\n * )\n * //=> 2\n */\nexport function differenceInCalendarYears(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  return _dateLeft.getFullYear() - _dateRight.getFullYear();\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarYears;\n", "import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.trunc(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of full days according to the local timezone\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n *\n * @example\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n * //=> 92\n */\nexport function differenceInDays(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const sign = compareLocalAsc(_dateLeft, _dateRight);\n  const difference = Math.abs(differenceInCalendarDays(_dateLeft, _dateRight));\n\n  _dateLeft.setDate(_dateLeft.getDate() - sign * difference);\n\n  // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n  const isLastDayNotFull = Number(\n    compareLocalAsc(_dateLeft, _dateRight) === -sign,\n  );\n  const result = sign * (difference - isLastDayNotFull);\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}\n\n// Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\nfunction compareLocalAsc(dateLeft, dateRight) {\n  const diff =\n    dateLeft.getFullYear() - dateRight.getFullYear() ||\n    dateLeft.getMonth() - dateRight.getMonth() ||\n    dateLeft.getDate() - dateRight.getDate() ||\n    dateLeft.getHours() - dateRight.getHours() ||\n    dateLeft.getMinutes() - dateRight.getMinutes() ||\n    dateLeft.getSeconds() - dateRight.getSeconds() ||\n    dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n// Fallback for modularized imports:\nexport default differenceInDays;\n", "export function getRoundingMethod(method) {\n  return (number) => {\n    const round = method ? Math[method] : Math.trunc;\n    const result = round(number);\n    // Prevent negative zero\n    return result === 0 ? 0 : result;\n  };\n}\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nexport function differenceInMilliseconds(dateLeft, dateRight) {\n  return +toDate(dateLeft) - +toDate(dateRight);\n}\n\n// Fallback for modularized imports:\nexport default differenceInMilliseconds;\n", "import { getRoundingMethod } from \"./_lib/getRoundingMethod.mjs\";\nimport { millisecondsInHour } from \"./constants.mjs\";\nimport { differenceInMilliseconds } from \"./differenceInMilliseconds.mjs\";\n\n/**\n * The {@link differenceInHours} function options.\n */\n\n/**\n * @name differenceInHours\n * @category Hour Helpers\n * @summary Get the number of hours between the given dates.\n *\n * @description\n * Get the number of hours between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of hours\n *\n * @example\n * // How many hours are between 2 July 2014 06:50:00 and 2 July 2014 19:00:00?\n * const result = differenceInHours(\n *   new Date(2014, 6, 2, 19, 0),\n *   new Date(2014, 6, 2, 6, 50)\n * )\n * //=> 12\n */\nexport function differenceInHours(dateLeft, dateRight, options) {\n  const diff =\n    differenceInMilliseconds(dateLeft, dateRight) / millisecondsInHour;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInHours;\n", "import { getRoundingMethod } from \"./_lib/getRoundingMethod.mjs\";\nimport { millisecondsInMinute } from \"./constants.mjs\";\nimport { differenceInMilliseconds } from \"./differenceInMilliseconds.mjs\";\n\n/**\n * The {@link differenceInMinutes} function options.\n */\n\n/**\n * @name differenceInMinutes\n * @category Minute Helpers\n * @summary Get the number of minutes between the given dates.\n *\n * @description\n * Get the signed number of full (rounded towards 0) minutes between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of minutes\n *\n * @example\n * // How many minutes are between 2 July 2014 12:07:59 and 2 July 2014 12:20:00?\n * const result = differenceInMinutes(\n *   new Date(2014, 6, 2, 12, 20, 0),\n *   new Date(2014, 6, 2, 12, 7, 59)\n * )\n * //=> 12\n *\n * @example\n * // How many minutes are between 10:01:59 and 10:00:00\n * const result = differenceInMinutes(\n *   new Date(2000, 0, 1, 10, 0, 0),\n *   new Date(2000, 0, 1, 10, 1, 59)\n * )\n * //=> -1\n */\nexport function differenceInMinutes(dateLeft, dateRight, options) {\n  const diff =\n    differenceInMilliseconds(dateLeft, dateRight) / millisecondsInMinute;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInMinutes;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a day\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nexport function endOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfDay;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date) {\n  const _date = toDate(date);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n", "import { endOfDay } from \"./endOfDay.mjs\";\nimport { endOfMonth } from \"./endOfMonth.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isLastDayOfMonth\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to check\n\n * @returns The date is the last day of a month\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * const result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\nexport function isLastDayOfMonth(date) {\n  const _date = toDate(date);\n  return +endOfDay(_date) === +endOfMonth(_date);\n}\n\n// Fallback for modularized imports:\nexport default isLastDayOfMonth;\n", "import { compareAsc } from \"./compareAsc.mjs\";\nimport { differenceInCalendarMonths } from \"./differenceInCalendarMonths.mjs\";\nimport { isLastDayOfMonth } from \"./isLastDayOfMonth.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @description\n * Get the number of full months between the given dates using trunc as a default rounding method.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of full months\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\nexport function differenceInMonths(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const sign = compareAsc(_dateLeft, _dateRight);\n  const difference = Math.abs(\n    differenceInCalendarMonths(_dateLeft, _dateRight),\n  );\n  let result;\n\n  // Check for the difference of less than month\n  if (difference < 1) {\n    result = 0;\n  } else {\n    if (_dateLeft.getMonth() === 1 && _dateLeft.getDate() > 27) {\n      // This will check if the date is end of Feb and assign a higher end of month date\n      // to compare it with Jan\n      _dateLeft.setDate(30);\n    }\n\n    _dateLeft.setMonth(_dateLeft.getMonth() - sign * difference);\n\n    // Math.abs(diff in full months - diff in calendar months) === 1 if last calendar month is not full\n    // If so, result must be decreased by 1 in absolute value\n    let isLastMonthNotFull = compareAsc(_dateLeft, _dateRight) === -sign;\n\n    // Check for cases of one full calendar month\n    if (\n      isLastDayOfMonth(toDate(dateLeft)) &&\n      difference === 1 &&\n      compareAsc(dateLeft, _dateRight) === 1\n    ) {\n      isLastMonthNotFull = false;\n    }\n\n    result = sign * (difference - Number(isLastMonthNotFull));\n  }\n\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}\n\n// Fallback for modularized imports:\nexport default differenceInMonths;\n", "import { getRoundingMethod } from \"./_lib/getRoundingMethod.mjs\";\nimport { differenceInMonths } from \"./differenceInMonths.mjs\";\n\n/**\n * The {@link differenceInQuarters} function options.\n */\n\n/**\n * @name differenceInQuarters\n * @category Quarter Helpers\n * @summary Get the number of quarters between the given dates.\n *\n * @description\n * Get the number of quarters between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of full quarters\n *\n * @example\n * // How many full quarters are between 31 December 2013 and 2 July 2014?\n * const result = differenceInQuarters(new Date(2014, 6, 2), new Date(2013, 11, 31))\n * //=> 2\n */\nexport function differenceInQuarters(dateLeft, dateRight, options) {\n  const diff = differenceInMonths(dateLeft, dateRight) / 3;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInQuarters;\n", "import { getRoundingMethod } from \"./_lib/getRoundingMethod.mjs\";\nimport { differenceInMilliseconds } from \"./differenceInMilliseconds.mjs\";\n\n/**\n * The {@link differenceInSeconds} function options.\n */\n\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of seconds\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * const result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\nexport function differenceInSeconds(dateLeft, dateRight, options) {\n  const diff = differenceInMilliseconds(dateLeft, dateRight) / 1000;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInSeconds;\n", "import { getRoundingMethod } from \"./_lib/getRoundingMethod.mjs\";\nimport { differenceInDays } from \"./differenceInDays.mjs\";\n\n/**\n * The {@link differenceInWeeks} function options.\n */\n\n/**\n * @name differenceInWeeks\n * @category Week Helpers\n * @summary Get the number of full weeks between the given dates.\n *\n * @description\n * Get the number of full weeks between two dates. Fractional weeks are\n * truncated towards zero by default.\n *\n * One \"full week\" is the distance between a local time in one day to the same\n * local time 7 days earlier or later. A full week can sometimes be less than\n * or more than 7*24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 7*24-hour periods, use this instead:\n * `Math.trunc(differenceInHours(dateLeft, dateRight)/(7*24))|0`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n * @param options - An object with options\n *\n * @returns The number of full weeks\n *\n * @example\n * // How many full weeks are between 5 July 2014 and 20 July 2014?\n * const result = differenceInWeeks(new Date(2014, 6, 20), new Date(2014, 6, 5))\n * //=> 2\n *\n * @example\n * // How many full weeks are between\n * // 1 March 2020 0:00 and 6 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 8 weeks (54 days),\n * // even if DST starts and the period has\n * // only 54*24-1 hours.\n * const result = differenceInWeeks(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 6)\n * )\n * //=> 8\n */\nexport function differenceInWeeks(dateLeft, dateRight, options) {\n  const diff = differenceInDays(dateLeft, dateRight) / 7;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInWeeks;\n", "import { compareAsc } from \"./compareAsc.mjs\";\nimport { differenceInCalendarYears } from \"./differenceInCalendarYears.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInYears\n * @category Year Helpers\n * @summary Get the number of full years between the given dates.\n *\n * @description\n * Get the number of full years between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of full years\n *\n * @example\n * // How many full years are between 31 December 2013 and 11 February 2015?\n * const result = differenceInYears(new Date(2015, 1, 11), new Date(2013, 11, 31))\n * //=> 1\n */\nexport function differenceInYears(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const sign = compareAsc(_dateLeft, _dateRight);\n  const difference = Math.abs(differenceInCalendarYears(_dateLeft, _dateRight));\n\n  // Set both dates to a valid leap year for accurate comparison when dealing\n  // with leap days\n  _dateLeft.setFullYear(1584);\n  _dateRight.setFullYear(1584);\n\n  // Math.abs(diff in full years - diff in calendar years) === 1 if last calendar year is not full\n  // If so, result must be decreased by 1 in absolute value\n  const isLastYearNotFull = compareAsc(_dateLeft, _dateRight) === -sign;\n  const result = sign * (difference - +isLastYearNotFull);\n\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}\n\n// Fallback for modularized imports:\nexport default differenceInYears;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfMinute\n * @category Minute Helpers\n * @summary Return the start of a minute for the given date.\n *\n * @description\n * Return the start of a minute for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a minute\n *\n * @example\n * // The start of a minute for 1 December 2014 22:15:45.400:\n * const result = startOfMinute(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:00\n */\nexport function startOfMinute(date) {\n  const _date = toDate(date);\n  _date.setSeconds(0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMinute;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfQuarter\n * @category Quarter Helpers\n * @summary Return the start of a year quarter for the given date.\n *\n * @description\n * Return the start of a year quarter for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a quarter\n *\n * @example\n * // The start of a quarter for 2 September 2014 11:55:00:\n * const result = startOfQuarter(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Jul 01 2014 00:00:00\n */\nexport function startOfQuarter(date) {\n  const _date = toDate(date);\n  const currentMonth = _date.getMonth();\n  const month = currentMonth - (currentMonth % 3);\n  _date.setMonth(month, 1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfQuarter;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date) {\n  const _date = toDate(date);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfYear\n * @category Year Helpers\n * @summary Return the end of a year for the given date.\n *\n * @description\n * Return the end of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a year\n *\n * @example\n * // The end of a year for 2 September 2014 11:55:00:\n * const result = endOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Dec 31 2014 23:59:59.999\n */\nexport function endOfYear(date) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n  _date.setFullYear(year + 1, 0, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfYear;\n", "import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date) {\n  const cleanDate = toDate(date);\n  const _date = constructFrom(date, 0);\n  _date.setFullYear(cleanDate.getFullYear(), 0, 1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfHour\n * @category Hour Helpers\n * @summary Return the end of an hour for the given date.\n *\n * @description\n * Return the end of an hour for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of an hour\n *\n * @example\n * // The end of an hour for 2 September 2014 11:55:00:\n * const result = endOfHour(new Date(2014, 8, 2, 11, 55))\n * //=> Tue Sep 02 2014 11:59:59.999\n */\nexport function endOfHour(date) {\n  const _date = toDate(date);\n  _date.setMinutes(59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfHour;\n", "import { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link endOfWeek} function options.\n */\n\n/**\n * @name endOfWeek\n * @category Week Helpers\n * @summary Return the end of a week for the given date.\n *\n * @description\n * Return the end of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a week\n *\n * @example\n * // The end of a week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sat Sep 06 2014 23:59:59.999\n *\n * @example\n * // If the week starts on Monday, the end of the week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Sun Sep 07 2014 23:59:59.999\n */\nexport function endOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);\n\n  _date.setDate(_date.getDate() + diff);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfWeek;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfMinute\n * @category Minute Helpers\n * @summary Return the end of a minute for the given date.\n *\n * @description\n * Return the end of a minute for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a minute\n *\n * @example\n * // The end of a minute for 1 December 2014 22:15:45.400:\n * const result = endOfMinute(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:59.999\n */\nexport function endOfMinute(date) {\n  const _date = toDate(date);\n  _date.setSeconds(59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMinute;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfQuarter\n * @category Quarter Helpers\n * @summary Return the end of a year quarter for the given date.\n *\n * @description\n * Return the end of a year quarter for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a quarter\n *\n * @example\n * // The end of a quarter for 2 September 2014 11:55:00:\n * const result = endOfQuarter(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfQuarter(date) {\n  const _date = toDate(date);\n  const currentMonth = _date.getMonth();\n  const month = currentMonth - (currentMonth % 3) + 3;\n  _date.setMonth(month, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfQuarter;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfSecond\n * @category Second Helpers\n * @summary Return the end of a second for the given date.\n *\n * @description\n * Return the end of a second for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a second\n *\n * @example\n * // The end of a second for 1 December 2014 22:15:45.400:\n * const result = endOfSecond(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:45.999\n */\nexport function endOfSecond(date) {\n  const _date = toDate(date);\n  _date.setMilliseconds(999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfSecond;\n", "const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n", "export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n", "import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.mjs\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n", "const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n", "/* eslint-disable no-unused-vars */\n\n/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n", "import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.mjs\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n", "export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n", "export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n", "import { buildMatchFn } from \"../../_lib/buildMatchFn.mjs\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.mjs\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n", "import { formatDistance } from \"./en-US/_lib/formatDistance.mjs\";\nimport { formatLong } from \"./en-US/_lib/formatLong.mjs\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.mjs\";\nimport { localize } from \"./en-US/_lib/localize.mjs\";\nimport { match } from \"./en-US/_lib/match.mjs\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n", "import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { startOfYear } from \"./startOfYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date) {\n  const _date = toDate(date);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n", "import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date) {\n  const _date = toDate(date);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n", "import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n", "import { constructFrom } from \"./constructFrom.mjs\";\nimport { getWeekYear } from \"./getWeekYear.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n", "import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { startOfWeekYear } from \"./startOfWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\n\nexport function getWeek(date, options) {\n  const _date = toDate(date);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n", "export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n", "import { addLeadingZeros } from \"../addLeadingZeros.mjs\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n", "import { getDayOfYear } from \"../../getDayOfYear.mjs\";\nimport { getISOWeek } from \"../../getISOWeek.mjs\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.mjs\";\nimport { getWeek } from \"../../getWeek.mjs\";\nimport { getWeekYear } from \"../../getWeekYear.mjs\";\nimport { addLeadingZeros } from \"../addLeadingZeros.mjs\";\nimport { lightFormatters } from \"./lightFormatters.mjs\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(date.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    const timestamp = date.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n", "const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n", "const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n", "import { defaultLocale } from \"./_lib/defaultLocale.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\nimport { formatters } from \"./_lib/format/formatters.mjs\";\nimport { longFormatters } from \"./_lib/format/longFormatters.mjs\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.mjs\";\nimport { isValid } from \"./isValid.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > \u26A0\uFE0F Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n", "import { getDefaultOptions as getInternalDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * @name getDefaultOptions\n * @category Common Helpers\n * @summary Get default options.\n * @pure false\n *\n * @description\n * Returns an object that contains defaults for\n * `options.locale`, `options.weekStartsOn` and `options.firstWeekContainsDate`\n * arguments for all functions.\n *\n * You can change these with [setDefaultOptions](https://date-fns.org/docs/setDefaultOptions).\n *\n * @returns The default options\n *\n * @example\n * const result = getDefaultOptions()\n * //=> {}\n *\n * @example\n * setDefaultOptions({ weekStarsOn: 1, firstWeekContainsDate: 4 })\n * const result = getDefaultOptions()\n * //=> { weekStarsOn: 1, firstWeekContainsDate: 4 }\n */\nexport function getDefaultOptions() {\n  return Object.assign({}, getInternalDefaultOptions());\n}\n\n// Fallback for modularized imports:\nexport default getDefaultOptions;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISODay\n * @category Weekday Helpers\n * @summary Get the day of the ISO week of the given date.\n *\n * @description\n * Get the day of the ISO week of the given date,\n * which is 7 for Sunday, 1 for Monday etc.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The day of ISO week\n *\n * @example\n * // Which day of the ISO week is 26 February 2012?\n * const result = getISODay(new Date(2012, 1, 26))\n * //=> 7\n */\nexport function getISODay(date) {\n  const _date = toDate(date);\n  let day = _date.getDay();\n\n  if (day === 0) {\n    day = 7;\n  }\n\n  return day;\n}\n\n// Fallback for modularized imports:\nexport default getISODay;\n", "import { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name transpose\n * @category Generic Helpers\n * @summary Transpose the date to the given constructor.\n *\n * @description\n * The function transposes the date to the given constructor. It helps you\n * to transpose the date in the system time zone to say `UTCDate` or any other\n * date extension.\n *\n * @typeParam DateInputType - The input `Date` type derived from the passed argument.\n * @typeParam DateOutputType - The output `Date` type derived from the passed constructor.\n *\n * @param fromDate - The date to use values from\n * @param constructor - The date constructor to use\n *\n * @returns Date transposed to the given constructor\n *\n * @example\n * // Create July 10, 2022 00:00 in locale time zone\n * const date = new Date(2022, 6, 10)\n * //=> 'Sun Jul 10 2022 00:00:00 GMT+0800 (Singapore Standard Time)'\n *\n * @example\n * // Transpose the date to July 10, 2022 00:00 in UTC\n * transpose(date, UTCDate)\n * //=> 'Sun Jul 10 2022 00:00:00 GMT+0000 (Coordinated Universal Time)'\n */\nexport function transpose(fromDate, constructor) {\n  const date =\n    constructor instanceof Date\n      ? constructFrom(constructor, 0)\n      : new constructor(0);\n  date.setFullYear(\n    fromDate.getFullYear(),\n    fromDate.getMonth(),\n    fromDate.getDate(),\n  );\n  date.setHours(\n    fromDate.getHours(),\n    fromDate.getMinutes(),\n    fromDate.getSeconds(),\n    fromDate.getMilliseconds(),\n  );\n  return date;\n}\n\n// Fallback for modularized imports:\nexport default transpose;\n", "import { transpose } from \"../../transpose.mjs\";\nimport { constructFrom } from \"../../constructFrom.mjs\";\n\nconst TIMEZONE_UNIT_PRIORITY = 10;\n\nexport class Setter {\n  subPriority = 0;\n\n  validate(_utcDate, _options) {\n    return true;\n  }\n}\n\nexport class ValueSetter extends Setter {\n  constructor(\n    value,\n\n    validateValue,\n\n    setValue,\n\n    priority,\n    subPriority,\n  ) {\n    super();\n    this.value = value;\n    this.validateValue = validateValue;\n    this.setValue = setValue;\n    this.priority = priority;\n    if (subPriority) {\n      this.subPriority = subPriority;\n    }\n  }\n\n  validate(date, options) {\n    return this.validateValue(date, this.value, options);\n  }\n\n  set(date, flags, options) {\n    return this.setValue(date, flags, this.value, options);\n  }\n}\n\nexport class DateToSystemTimezoneSetter extends Setter {\n  priority = TIMEZONE_UNIT_PRIORITY;\n  subPriority = -1;\n  set(date, flags) {\n    if (flags.timestampIsSet) return date;\n    return constructFrom(date, transpose(date, Date));\n  }\n}\n", "import { ValueSetter } from \"./Setter.mjs\";\n\nexport class Parser {\n  run(dateString, token, match, options) {\n    const result = this.parse(dateString, token, match, options);\n    if (!result) {\n      return null;\n    }\n\n    return {\n      setter: new ValueSetter(\n        result.value,\n        this.validate,\n        this.set,\n        this.priority,\n        this.subPriority,\n      ),\n      rest: result.rest,\n    };\n  }\n\n  validate(_utcDate, _value, _options) {\n    return true;\n  }\n}\n", "import { Parser } from \"../Parser.mjs\";\n\nexport class EraParser extends Parser {\n  priority = 140;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return (\n          match.era(dateString, { width: \"abbreviated\" }) ||\n          match.era(dateString, { width: \"narrow\" })\n        );\n\n      // A, B\n      case \"GGGGG\":\n        return match.era(dateString, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return (\n          match.era(dateString, { width: \"wide\" }) ||\n          match.era(dateString, { width: \"abbreviated\" }) ||\n          match.era(dateString, { width: \"narrow\" })\n        );\n    }\n  }\n\n  set(date, flags, value) {\n    flags.era = value;\n    date.setFullYear(value, 0, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"R\", \"u\", \"t\", \"T\"];\n}\n", "export const numericPatterns = {\n  month: /^(1[0-2]|0?\\d)/, // 0 to 12\n  date: /^(3[0-1]|[0-2]?\\d)/, // 0 to 31\n  dayOfYear: /^(36[0-6]|3[0-5]\\d|[0-2]?\\d?\\d)/, // 0 to 366\n  week: /^(5[0-3]|[0-4]?\\d)/, // 0 to 53\n  hour23h: /^(2[0-3]|[0-1]?\\d)/, // 0 to 23\n  hour24h: /^(2[0-4]|[0-1]?\\d)/, // 0 to 24\n  hour11h: /^(1[0-1]|0?\\d)/, // 0 to 11\n  hour12h: /^(1[0-2]|0?\\d)/, // 0 to 12\n  minute: /^[0-5]?\\d/, // 0 to 59\n  second: /^[0-5]?\\d/, // 0 to 59\n\n  singleDigit: /^\\d/, // 0 to 9\n  twoDigits: /^\\d{1,2}/, // 0 to 99\n  threeDigits: /^\\d{1,3}/, // 0 to 999\n  fourDigits: /^\\d{1,4}/, // 0 to 9999\n\n  anyDigitsSigned: /^-?\\d+/,\n  singleDigitSigned: /^-?\\d/, // 0 to 9, -0 to -9\n  twoDigitsSigned: /^-?\\d{1,2}/, // 0 to 99, -0 to -99\n  threeDigitsSigned: /^-?\\d{1,3}/, // 0 to 999, -0 to -999\n  fourDigitsSigned: /^-?\\d{1,4}/, // 0 to 9999, -0 to -9999\n};\n\nexport const timezonePatterns = {\n  basicOptionalMinutes: /^([+-])(\\d{2})(\\d{2})?|Z/,\n  basic: /^([+-])(\\d{2})(\\d{2})|Z/,\n  basicOptionalSeconds: /^([+-])(\\d{2})(\\d{2})((\\d{2}))?|Z/,\n  extended: /^([+-])(\\d{2}):(\\d{2})|Z/,\n  extendedOptionalSeconds: /^([+-])(\\d{2}):(\\d{2})(:(\\d{2}))?|Z/,\n};\n", "import {\n  millisecondsInHour,\n  millisecondsInMinute,\n  millisecondsInSecond,\n} from \"../../constants.mjs\";\nimport { numericPatterns } from \"./constants.mjs\";\n\nexport function mapValue(parseFnResult, mapFn) {\n  if (!parseFnResult) {\n    return parseFnResult;\n  }\n\n  return {\n    value: mapFn(parseFnResult.value),\n    rest: parseFnResult.rest,\n  };\n}\n\nexport function parseNumericPattern(pattern, dateString) {\n  const matchResult = dateString.match(pattern);\n\n  if (!matchResult) {\n    return null;\n  }\n\n  return {\n    value: parseInt(matchResult[0], 10),\n    rest: dateString.slice(matchResult[0].length),\n  };\n}\n\nexport function parseTimezonePattern(pattern, dateString) {\n  const matchResult = dateString.match(pattern);\n\n  if (!matchResult) {\n    return null;\n  }\n\n  // Input is 'Z'\n  if (matchResult[0] === \"Z\") {\n    return {\n      value: 0,\n      rest: dateString.slice(1),\n    };\n  }\n\n  const sign = matchResult[1] === \"+\" ? 1 : -1;\n  const hours = matchResult[2] ? parseInt(matchResult[2], 10) : 0;\n  const minutes = matchResult[3] ? parseInt(matchResult[3], 10) : 0;\n  const seconds = matchResult[5] ? parseInt(matchResult[5], 10) : 0;\n\n  return {\n    value:\n      sign *\n      (hours * millisecondsInHour +\n        minutes * millisecondsInMinute +\n        seconds * millisecondsInSecond),\n    rest: dateString.slice(matchResult[0].length),\n  };\n}\n\nexport function parseAnyDigitsSigned(dateString) {\n  return parseNumericPattern(numericPatterns.anyDigitsSigned, dateString);\n}\n\nexport function parseNDigits(n, dateString) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigit, dateString);\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigits, dateString);\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigits, dateString);\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigits, dateString);\n    default:\n      return parseNumericPattern(new RegExp(\"^\\\\d{1,\" + n + \"}\"), dateString);\n  }\n}\n\nexport function parseNDigitsSigned(n, dateString) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigitSigned, dateString);\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigitsSigned, dateString);\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigitsSigned, dateString);\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigitsSigned, dateString);\n    default:\n      return parseNumericPattern(new RegExp(\"^-?\\\\d{1,\" + n + \"}\"), dateString);\n  }\n}\n\nexport function dayPeriodEnumToHours(dayPeriod) {\n  switch (dayPeriod) {\n    case \"morning\":\n      return 4;\n    case \"evening\":\n      return 17;\n    case \"pm\":\n    case \"noon\":\n    case \"afternoon\":\n      return 12;\n    case \"am\":\n    case \"midnight\":\n    case \"night\":\n    default:\n      return 0;\n  }\n}\n\nexport function normalizeTwoDigitYear(twoDigitYear, currentYear) {\n  const isCommonEra = currentYear > 0;\n  // Absolute number of the current year:\n  // 1 -> 1 AC\n  // 0 -> 1 BC\n  // -1 -> 2 BC\n  const absCurrentYear = isCommonEra ? currentYear : 1 - currentYear;\n\n  let result;\n  if (absCurrentYear <= 50) {\n    result = twoDigitYear || 100;\n  } else {\n    const rangeEnd = absCurrentYear + 50;\n    const rangeEndCentury = Math.trunc(rangeEnd / 100) * 100;\n    const isPreviousCentury = twoDigitYear >= rangeEnd % 100;\n    result = twoDigitYear + rangeEndCentury - (isPreviousCentury ? 100 : 0);\n  }\n\n  return isCommonEra ? result : 1 - result;\n}\n\nexport function isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0);\n}\n", "import { Parser } from \"../Parser.mjs\";\nimport { mapValue, normalizeTwoDigitYear, parseNDigits } from \"../utils.mjs\";\n\n// From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_Patterns\n// | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n// |----------|-------|----|-------|-------|-------|\n// | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n// | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n// | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n// | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n// | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\nexport class YearParser extends Parser {\n  priority = 130;\n  incompatibleTokens = [\"Y\", \"R\", \"u\", \"w\", \"I\", \"i\", \"e\", \"c\", \"t\", \"T\"];\n\n  parse(dateString, token, match) {\n    const valueCallback = (year) => ({\n      year,\n      isTwoDigitYear: token === \"yy\",\n    });\n\n    switch (token) {\n      case \"y\":\n        return mapValue(parseNDigits(4, dateString), valueCallback);\n      case \"yo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"year\",\n          }),\n          valueCallback,\n        );\n      default:\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\n    }\n  }\n\n  validate(_date, value) {\n    return value.isTwoDigitYear || value.year > 0;\n  }\n\n  set(date, flags, value) {\n    const currentYear = date.getFullYear();\n\n    if (value.isTwoDigitYear) {\n      const normalizedTwoDigitYear = normalizeTwoDigitYear(\n        value.year,\n        currentYear,\n      );\n      date.setFullYear(normalizedTwoDigitYear, 0, 1);\n      date.setHours(0, 0, 0, 0);\n      return date;\n    }\n\n    const year =\n      !(\"era\" in flags) || flags.era === 1 ? value.year : 1 - value.year;\n    date.setFullYear(year, 0, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n}\n", "import { getWeekYear } from \"../../../getWeekYear.mjs\";\nimport { startOfWeek } from \"../../../startOfWeek.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { mapValue, normalizeTwoDigitYear, parseNDigits } from \"../utils.mjs\";\n\n// Local week-numbering year\nexport class LocalWeekYearParser extends Parser {\n  priority = 130;\n\n  parse(dateString, token, match) {\n    const valueCallback = (year) => ({\n      year,\n      isTwoDigitYear: token === \"YY\",\n    });\n\n    switch (token) {\n      case \"Y\":\n        return mapValue(parseNDigits(4, dateString), valueCallback);\n      case \"Yo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"year\",\n          }),\n          valueCallback,\n        );\n      default:\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\n    }\n  }\n\n  validate(_date, value) {\n    return value.isTwoDigitYear || value.year > 0;\n  }\n\n  set(date, flags, value, options) {\n    const currentYear = getWeekYear(date, options);\n\n    if (value.isTwoDigitYear) {\n      const normalizedTwoDigitYear = normalizeTwoDigitYear(\n        value.year,\n        currentYear,\n      );\n      date.setFullYear(\n        normalizedTwoDigitYear,\n        0,\n        options.firstWeekContainsDate,\n      );\n      date.setHours(0, 0, 0, 0);\n      return startOfWeek(date, options);\n    }\n\n    const year =\n      !(\"era\" in flags) || flags.era === 1 ? value.year : 1 - value.year;\n    date.setFullYear(year, 0, options.firstWeekContainsDate);\n    date.setHours(0, 0, 0, 0);\n    return startOfWeek(date, options);\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"R\",\n    \"u\",\n    \"Q\",\n    \"q\",\n    \"M\",\n    \"L\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"i\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { startOfISOWeek } from \"../../../startOfISOWeek.mjs\";\nimport { constructFrom } from \"../../../constructFrom.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { parseNDigitsSigned } from \"../utils.mjs\";\n\n// ISO week-numbering year\nexport class ISOWeekYearParser extends Parser {\n  priority = 130;\n\n  parse(dateString, token) {\n    if (token === \"R\") {\n      return parseNDigitsSigned(4, dateString);\n    }\n\n    return parseNDigitsSigned(token.length, dateString);\n  }\n\n  set(date, _flags, value) {\n    const firstWeekOfYear = constructFrom(date, 0);\n    firstWeekOfYear.setFullYear(value, 0, 4);\n    firstWeekOfYear.setHours(0, 0, 0, 0);\n    return startOfISOWeek(firstWeekOfYear);\n  }\n\n  incompatibleTokens = [\n    \"G\",\n    \"y\",\n    \"Y\",\n    \"u\",\n    \"Q\",\n    \"q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"d\",\n    \"D\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { Parser } from \"../Parser.mjs\";\nimport { parseNDigitsSigned } from \"../utils.mjs\";\n\nexport class ExtendedYearParser extends Parser {\n  priority = 130;\n\n  parse(dateString, token) {\n    if (token === \"u\") {\n      return parseNDigitsSigned(4, dateString);\n    }\n\n    return parseNDigitsSigned(token.length, dateString);\n  }\n\n  set(date, _flags, value) {\n    date.setFullYear(value, 0, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"G\", \"y\", \"Y\", \"R\", \"w\", \"I\", \"i\", \"e\", \"c\", \"t\", \"T\"];\n}\n", "import { Parser } from \"../Parser.mjs\";\nimport { parseNDigits } from \"../utils.mjs\";\n\nexport class QuarterParser extends Parser {\n  priority = 120;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n      case \"QQ\": // 01, 02, 03, 04\n        return parseNDigits(token.length, dateString);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return match.ordinalNumber(dateString, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return (\n          match.quarter(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return match.quarter(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return (\n          match.quarter(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 4;\n  }\n\n  set(date, _flags, value) {\n    date.setMonth((value - 1) * 3, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { Parser } from \"../Parser.mjs\";\nimport { parseNDigits } from \"../utils.mjs\";\n\nexport class StandAloneQuarterParser extends Parser {\n  priority = 120;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n      case \"qq\": // 01, 02, 03, 04\n        return parseNDigits(token.length, dateString);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return match.ordinalNumber(dateString, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return (\n          match.quarter(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"narrow\",\n            context: \"standalone\",\n          })\n        );\n\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return match.quarter(dateString, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return (\n          match.quarter(dateString, {\n            width: \"wide\",\n            context: \"standalone\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"narrow\",\n            context: \"standalone\",\n          })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 4;\n  }\n\n  set(date, _flags, value) {\n    date.setMonth((value - 1) * 3, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { numericPatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { mapValue, parseNDigits, parseNumericPattern } from \"../utils.mjs\";\n\nexport class MonthParser extends Parser {\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"Q\",\n    \"L\",\n    \"w\",\n    \"I\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n\n  priority = 110;\n\n  parse(dateString, token, match) {\n    const valueCallback = (value) => value - 1;\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"M\":\n        return mapValue(\n          parseNumericPattern(numericPatterns.month, dateString),\n          valueCallback,\n        );\n      // 01, 02, ..., 12\n      case \"MM\":\n        return mapValue(parseNDigits(2, dateString), valueCallback);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"month\",\n          }),\n          valueCallback,\n        );\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return (\n          match.month(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.month(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // J, F, ..., D\n      case \"MMMMM\":\n        return match.month(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return (\n          match.month(dateString, { width: \"wide\", context: \"formatting\" }) ||\n          match.month(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.month(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 11;\n  }\n\n  set(date, _flags, value) {\n    date.setMonth(value, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n}\n", "import { numericPatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { mapValue, parseNDigits, parseNumericPattern } from \"../utils.mjs\";\n\nexport class StandAloneMonthParser extends Parser {\n  priority = 110;\n\n  parse(dateString, token, match) {\n    const valueCallback = (value) => value - 1;\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return mapValue(\n          parseNumericPattern(numericPatterns.month, dateString),\n          valueCallback,\n        );\n      // 01, 02, ..., 12\n      case \"LL\":\n        return mapValue(parseNDigits(2, dateString), valueCallback);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"month\",\n          }),\n          valueCallback,\n        );\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return (\n          match.month(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.month(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n\n      // J, F, ..., D\n      case \"LLLLL\":\n        return match.month(dateString, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return (\n          match.month(dateString, { width: \"wide\", context: \"standalone\" }) ||\n          match.month(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.month(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 11;\n  }\n\n  set(date, _flags, value) {\n    date.setMonth(value, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"w\",\n    \"I\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { getWeek } from \"./getWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * The {@link setWeek} function options.\n */\n\n/**\n * @name setWeek\n * @category Week Helpers\n * @summary Set the local week to the given date.\n *\n * @description\n * Set the local week to the given date, saving the weekday number.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param week - The week of the new date\n * @param options - An object with options\n *\n * @returns The new date with the local week set\n *\n * @example\n * // Set the 1st week to 2 January 2005 with default options:\n * const result = setWeek(new Date(2005, 0, 2), 1)\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // Set the 1st week to 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January:\n * const result = setWeek(new Date(2005, 0, 2), 1, {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Sun Jan 4 2004 00:00:00\n */\nexport function setWeek(date, week, options) {\n  const _date = toDate(date);\n  const diff = getWeek(_date, options) - week;\n  _date.setDate(_date.getDate() - diff * 7);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default setWeek;\n", "import { setWeek } from \"../../../setWeek.mjs\";\nimport { startOfWeek } from \"../../../startOfWeek.mjs\";\nimport { numericPatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { parseNDigits, parseNumericPattern } from \"../utils.mjs\";\n\n// Local week of year\nexport class LocalWeekParser extends Parser {\n  priority = 100;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"w\":\n        return parseNumericPattern(numericPatterns.week, dateString);\n      case \"wo\":\n        return match.ordinalNumber(dateString, { unit: \"week\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 53;\n  }\n\n  set(date, _flags, value, options) {\n    return startOfWeek(setWeek(date, value, options), options);\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"R\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"i\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { getISOWeek } from \"./getISOWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name setISOWeek\n * @category ISO Week Helpers\n * @summary Set the ISO week to the given date.\n *\n * @description\n * Set the ISO week to the given date, saving the weekday number.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param week - The ISO week of the new date\n *\n * @returns The new date with the ISO week set\n *\n * @example\n * // Set the 53rd ISO week to 7 August 2004:\n * const result = setISOWeek(new Date(2004, 7, 7), 53)\n * //=> Sat Jan 01 2005 00:00:00\n */\nexport function setISOWeek(date, week) {\n  const _date = toDate(date);\n  const diff = getISOWeek(_date) - week;\n  _date.setDate(_date.getDate() - diff * 7);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default setISOWeek;\n", "import { setISOWeek } from \"../../../setISOWeek.mjs\";\nimport { startOfISOWeek } from \"../../../startOfISOWeek.mjs\";\nimport { numericPatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { parseNDigits, parseNumericPattern } from \"../utils.mjs\";\n\n// ISO week of year\nexport class ISOWeekParser extends Parser {\n  priority = 100;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"I\":\n        return parseNumericPattern(numericPatterns.week, dateString);\n      case \"Io\":\n        return match.ordinalNumber(dateString, { unit: \"week\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 53;\n  }\n\n  set(date, _flags, value) {\n    return startOfISOWeek(setISOWeek(date, value));\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"Y\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"d\",\n    \"D\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { numericPatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport {\n  isLeapYearIndex,\n  parseNDigits,\n  parseNumericPattern,\n} from \"../utils.mjs\";\n\nconst DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nconst DAYS_IN_MONTH_LEAP_YEAR = [\n  31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31,\n];\n\n// Day of the month\nexport class DateParser extends Parser {\n  priority = 90;\n  subPriority = 1;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"d\":\n        return parseNumericPattern(numericPatterns.date, dateString);\n      case \"do\":\n        return match.ordinalNumber(dateString, { unit: \"date\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(date, value) {\n    const year = date.getFullYear();\n    const isLeapYear = isLeapYearIndex(year);\n    const month = date.getMonth();\n    if (isLeapYear) {\n      return value >= 1 && value <= DAYS_IN_MONTH_LEAP_YEAR[month];\n    } else {\n      return value >= 1 && value <= DAYS_IN_MONTH[month];\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setDate(value);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"Q\",\n    \"w\",\n    \"I\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { numericPatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport {\n  isLeapYearIndex,\n  parseNDigits,\n  parseNumericPattern,\n} from \"../utils.mjs\";\n\nexport class DayOfYearParser extends Parser {\n  priority = 90;\n\n  subpriority = 1;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"D\":\n      case \"DD\":\n        return parseNumericPattern(numericPatterns.dayOfYear, dateString);\n      case \"Do\":\n        return match.ordinalNumber(dateString, { unit: \"date\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(date, value) {\n    const year = date.getFullYear();\n    const isLeapYear = isLeapYearIndex(year);\n    if (isLeapYear) {\n      return value >= 1 && value <= 366;\n    } else {\n      return value >= 1 && value <= 365;\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setMonth(0, value);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"I\",\n    \"d\",\n    \"E\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { addDays } from \"./addDays.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link setDay} function options.\n */\n\n/**\n * @name setDay\n * @category Weekday Helpers\n * @summary Set the day of the week to the given date.\n *\n * @description\n * Set the day of the week to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param day - The day of the week of the new date\n * @param options - An object with options.\n *\n * @returns The new date with the day of the week set\n *\n * @example\n * // Set week day to Sunday, with the default weekStartsOn of Sunday:\n * const result = setDay(new Date(2014, 8, 1), 0)\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // Set week day to Sunday, with a weekStartsOn of Monday:\n * const result = setDay(new Date(2014, 8, 1), 0, { weekStartsOn: 1 })\n * //=> Sun Sep 07 2014 00:00:00\n */\nexport function setDay(date, day, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date);\n  const currentDay = _date.getDay();\n\n  const remainder = day % 7;\n  const dayIndex = (remainder + 7) % 7;\n\n  const delta = 7 - weekStartsOn;\n  const diff =\n    day < 0 || day > 6\n      ? day - ((currentDay + delta) % 7)\n      : ((dayIndex + delta) % 7) - ((currentDay + delta) % 7);\n  return addDays(_date, diff);\n}\n\n// Fallback for modularized imports:\nexport default setDay;\n", "import { setDay } from \"../../../setDay.mjs\";\nimport { Parser } from \"../Parser.mjs\";\n\n// Day of week\nexport class DayParser extends Parser {\n  priority = 90;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return (\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // T\n      case \"EEEEE\":\n        return match.day(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return (\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return (\n          match.day(dateString, { width: \"wide\", context: \"formatting\" }) ||\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 6;\n  }\n\n  set(date, _flags, value, options) {\n    date = setDay(date, value, options);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"D\", \"i\", \"e\", \"c\", \"t\", \"T\"];\n}\n", "import { setDay } from \"../../../setDay.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { mapValue, parseNDigits } from \"../utils.mjs\";\n\n// Local day of week\nexport class LocalDayParser extends Parser {\n  priority = 90;\n  parse(dateString, token, match, options) {\n    const valueCallback = (value) => {\n      // We want here floor instead of trunc, so we get -7 for value 0 instead of 0\n      const wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n      return ((value + options.weekStartsOn + 6) % 7) + wholeWeekDays;\n    };\n\n    switch (token) {\n      // 3\n      case \"e\":\n      case \"ee\": // 03\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\n      // 3rd\n      case \"eo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"day\",\n          }),\n          valueCallback,\n        );\n      // Tue\n      case \"eee\":\n        return (\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // T\n      case \"eeeee\":\n        return match.day(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return (\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // Tuesday\n      case \"eeee\":\n      default:\n        return (\n          match.day(dateString, { width: \"wide\", context: \"formatting\" }) ||\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 6;\n  }\n\n  set(date, _flags, value, options) {\n    date = setDay(date, value, options);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"R\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"E\",\n    \"i\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { setDay } from \"../../../setDay.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { mapValue, parseNDigits } from \"../utils.mjs\";\n\n// Stand-alone local day of week\nexport class StandAloneLocalDayParser extends Parser {\n  priority = 90;\n\n  parse(dateString, token, match, options) {\n    const valueCallback = (value) => {\n      // We want here floor instead of trunc, so we get -7 for value 0 instead of 0\n      const wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n      return ((value + options.weekStartsOn + 6) % 7) + wholeWeekDays;\n    };\n\n    switch (token) {\n      // 3\n      case \"c\":\n      case \"cc\": // 03\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\n      // 3rd\n      case \"co\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"day\",\n          }),\n          valueCallback,\n        );\n      // Tue\n      case \"ccc\":\n        return (\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"standalone\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n\n      // T\n      case \"ccccc\":\n        return match.day(dateString, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return (\n          match.day(dateString, { width: \"short\", context: \"standalone\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n\n      // Tuesday\n      case \"cccc\":\n      default:\n        return (\n          match.day(dateString, { width: \"wide\", context: \"standalone\" }) ||\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"standalone\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 6;\n  }\n\n  set(date, _flags, value, options) {\n    date = setDay(date, value, options);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"R\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"E\",\n    \"i\",\n    \"e\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { addDays } from \"./addDays.mjs\";\nimport { getISODay } from \"./getISODay.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name setISODay\n * @category Weekday Helpers\n * @summary Set the day of the ISO week to the given date.\n *\n * @description\n * Set the day of the ISO week to the given date.\n * ISO week starts with Monday.\n * 7 is the index of Sunday, 1 is the index of Monday etc.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param day - The day of the ISO week of the new date\n *\n * @returns The new date with the day of the ISO week set\n *\n * @example\n * // Set Sunday to 1 September 2014:\n * const result = setISODay(new Date(2014, 8, 1), 7)\n * //=> Sun Sep 07 2014 00:00:00\n */\nexport function setISODay(date, day) {\n  const _date = toDate(date);\n  const currentDay = getISODay(_date);\n  const diff = day - currentDay;\n  return addDays(_date, diff);\n}\n\n// Fallback for modularized imports:\nexport default setISODay;\n", "import { setISODay } from \"../../../setISODay.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { mapValue, parseNDigits } from \"../utils.mjs\";\n\n// ISO day of week\nexport class ISODayParser extends Parser {\n  priority = 90;\n\n  parse(dateString, token, match) {\n    const valueCallback = (value) => {\n      if (value === 0) {\n        return 7;\n      }\n      return value;\n    };\n\n    switch (token) {\n      // 2\n      case \"i\":\n      case \"ii\": // 02\n        return parseNDigits(token.length, dateString);\n      // 2nd\n      case \"io\":\n        return match.ordinalNumber(dateString, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return mapValue(\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n            match.day(dateString, {\n              width: \"short\",\n              context: \"formatting\",\n            }) ||\n            match.day(dateString, {\n              width: \"narrow\",\n              context: \"formatting\",\n            }),\n          valueCallback,\n        );\n      // T\n      case \"iiiii\":\n        return mapValue(\n          match.day(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          }),\n          valueCallback,\n        );\n      // Tu\n      case \"iiiiii\":\n        return mapValue(\n          match.day(dateString, {\n            width: \"short\",\n            context: \"formatting\",\n          }) ||\n            match.day(dateString, {\n              width: \"narrow\",\n              context: \"formatting\",\n            }),\n          valueCallback,\n        );\n      // Tuesday\n      case \"iiii\":\n      default:\n        return mapValue(\n          match.day(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n            match.day(dateString, {\n              width: \"abbreviated\",\n              context: \"formatting\",\n            }) ||\n            match.day(dateString, {\n              width: \"short\",\n              context: \"formatting\",\n            }) ||\n            match.day(dateString, {\n              width: \"narrow\",\n              context: \"formatting\",\n            }),\n          valueCallback,\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 7;\n  }\n\n  set(date, _flags, value) {\n    date = setISODay(date, value);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"Y\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"d\",\n    \"D\",\n    \"E\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { Parser } from \"../Parser.mjs\";\nimport { dayPeriodEnumToHours } from \"../utils.mjs\";\n\nexport class AMPMParser extends Parser {\n  priority = 80;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n      case \"aaa\":\n        return (\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n\n      case \"aaaaa\":\n        return match.dayPeriod(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return (\n          match.dayPeriod(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setHours(dayPeriodEnumToHours(value), 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"b\", \"B\", \"H\", \"k\", \"t\", \"T\"];\n}\n", "import { Parser } from \"../Parser.mjs\";\nimport { dayPeriodEnumToHours } from \"../utils.mjs\";\n\nexport class AMPMMidnightParser extends Parser {\n  priority = 80;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n      case \"bbb\":\n        return (\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n\n      case \"bbbbb\":\n        return match.dayPeriod(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return (\n          match.dayPeriod(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setHours(dayPeriodEnumToHours(value), 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"a\", \"B\", \"H\", \"k\", \"t\", \"T\"];\n}\n", "import { Parser } from \"../Parser.mjs\";\nimport { dayPeriodEnumToHours } from \"../utils.mjs\";\n\n// in the morning, in the afternoon, in the evening, at night\nexport class DayPeriodParser extends Parser {\n  priority = 80;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return (\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n\n      case \"BBBBB\":\n        return match.dayPeriod(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return (\n          match.dayPeriod(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setHours(dayPeriodEnumToHours(value), 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"a\", \"b\", \"t\", \"T\"];\n}\n", "import { numericPatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { parseNDigits, parseNumericPattern } from \"../utils.mjs\";\n\nexport class Hour1to12Parser extends Parser {\n  priority = 70;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"h\":\n        return parseNumericPattern(numericPatterns.hour12h, dateString);\n      case \"ho\":\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 12;\n  }\n\n  set(date, _flags, value) {\n    const isPM = date.getHours() >= 12;\n    if (isPM && value < 12) {\n      date.setHours(value + 12, 0, 0, 0);\n    } else if (!isPM && value === 12) {\n      date.setHours(0, 0, 0, 0);\n    } else {\n      date.setHours(value, 0, 0, 0);\n    }\n    return date;\n  }\n\n  incompatibleTokens = [\"H\", \"K\", \"k\", \"t\", \"T\"];\n}\n", "import { numericPatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { parseNDigits, parseNumericPattern } from \"../utils.mjs\";\n\nexport class Hour0to23Parser extends Parser {\n  priority = 70;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"H\":\n        return parseNumericPattern(numericPatterns.hour23h, dateString);\n      case \"Ho\":\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 23;\n  }\n\n  set(date, _flags, value) {\n    date.setHours(value, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"a\", \"b\", \"h\", \"K\", \"k\", \"t\", \"T\"];\n}\n", "import { numericPatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { parseNDigits, parseNumericPattern } from \"../utils.mjs\";\n\nexport class Hour0To11Parser extends Parser {\n  priority = 70;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"K\":\n        return parseNumericPattern(numericPatterns.hour11h, dateString);\n      case \"Ko\":\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 11;\n  }\n\n  set(date, _flags, value) {\n    const isPM = date.getHours() >= 12;\n    if (isPM && value < 12) {\n      date.setHours(value + 12, 0, 0, 0);\n    } else {\n      date.setHours(value, 0, 0, 0);\n    }\n    return date;\n  }\n\n  incompatibleTokens = [\"h\", \"H\", \"k\", \"t\", \"T\"];\n}\n", "import { numericPatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { parseNDigits, parseNumericPattern } from \"../utils.mjs\";\n\nexport class Hour1To24Parser extends Parser {\n  priority = 70;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"k\":\n        return parseNumericPattern(numericPatterns.hour24h, dateString);\n      case \"ko\":\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 24;\n  }\n\n  set(date, _flags, value) {\n    const hours = value <= 24 ? value % 24 : value;\n    date.setHours(hours, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"a\", \"b\", \"h\", \"H\", \"K\", \"t\", \"T\"];\n}\n", "import { numericPatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { parseNDigits, parseNumericPattern } from \"../utils.mjs\";\n\nexport class MinuteParser extends Parser {\n  priority = 60;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"m\":\n        return parseNumericPattern(numericPatterns.minute, dateString);\n      case \"mo\":\n        return match.ordinalNumber(dateString, { unit: \"minute\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 59;\n  }\n\n  set(date, _flags, value) {\n    date.setMinutes(value, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"t\", \"T\"];\n}\n", "import { numericPatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { parseNDigits, parseNumericPattern } from \"../utils.mjs\";\n\nexport class SecondParser extends Parser {\n  priority = 50;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"s\":\n        return parseNumericPattern(numericPatterns.second, dateString);\n      case \"so\":\n        return match.ordinalNumber(dateString, { unit: \"second\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 59;\n  }\n\n  set(date, _flags, value) {\n    date.setSeconds(value, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"t\", \"T\"];\n}\n", "import { Parser } from \"../Parser.mjs\";\nimport { mapValue, parseNDigits } from \"../utils.mjs\";\n\nexport class FractionOfSecondParser extends Parser {\n  priority = 30;\n\n  parse(dateString, token) {\n    const valueCallback = (value) =>\n      Math.trunc(value * Math.pow(10, -token.length + 3));\n    return mapValue(parseNDigits(token.length, dateString), valueCallback);\n  }\n\n  set(date, _flags, value) {\n    date.setMilliseconds(value);\n    return date;\n  }\n\n  incompatibleTokens = [\"t\", \"T\"];\n}\n", "import { constructFrom } from \"../../../constructFrom.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"../../../_lib/getTimezoneOffsetInMilliseconds.mjs\";\nimport { timezonePatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { parseTimezonePattern } from \"../utils.mjs\";\n\n// Timezone (ISO-8601. +00:00 is `'Z'`)\nexport class ISOTimezoneWithZParser extends Parser {\n  priority = 10;\n\n  parse(dateString, token) {\n    switch (token) {\n      case \"X\":\n        return parseTimezonePattern(\n          timezonePatterns.basicOptionalMinutes,\n          dateString,\n        );\n      case \"XX\":\n        return parseTimezonePattern(timezonePatterns.basic, dateString);\n      case \"XXXX\":\n        return parseTimezonePattern(\n          timezonePatterns.basicOptionalSeconds,\n          dateString,\n        );\n      case \"XXXXX\":\n        return parseTimezonePattern(\n          timezonePatterns.extendedOptionalSeconds,\n          dateString,\n        );\n      case \"XXX\":\n      default:\n        return parseTimezonePattern(timezonePatterns.extended, dateString);\n    }\n  }\n\n  set(date, flags, value) {\n    if (flags.timestampIsSet) return date;\n    return constructFrom(\n      date,\n      date.getTime() - getTimezoneOffsetInMilliseconds(date) - value,\n    );\n  }\n\n  incompatibleTokens = [\"t\", \"T\", \"x\"];\n}\n", "import { constructFrom } from \"../../../constructFrom.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"../../../_lib/getTimezoneOffsetInMilliseconds.mjs\";\nimport { timezonePatterns } from \"../constants.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { parseTimezonePattern } from \"../utils.mjs\";\n\n// Timezone (ISO-8601)\nexport class ISOTimezoneParser extends Parser {\n  priority = 10;\n\n  parse(dateString, token) {\n    switch (token) {\n      case \"x\":\n        return parseTimezonePattern(\n          timezonePatterns.basicOptionalMinutes,\n          dateString,\n        );\n      case \"xx\":\n        return parseTimezonePattern(timezonePatterns.basic, dateString);\n      case \"xxxx\":\n        return parseTimezonePattern(\n          timezonePatterns.basicOptionalSeconds,\n          dateString,\n        );\n      case \"xxxxx\":\n        return parseTimezonePattern(\n          timezonePatterns.extendedOptionalSeconds,\n          dateString,\n        );\n      case \"xxx\":\n      default:\n        return parseTimezonePattern(timezonePatterns.extended, dateString);\n    }\n  }\n\n  set(date, flags, value) {\n    if (flags.timestampIsSet) return date;\n    return constructFrom(\n      date,\n      date.getTime() - getTimezoneOffsetInMilliseconds(date) - value,\n    );\n  }\n\n  incompatibleTokens = [\"t\", \"T\", \"X\"];\n}\n", "import { constructFrom } from \"../../../constructFrom.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { parseAnyDigitsSigned } from \"../utils.mjs\";\n\nexport class TimestampSecondsParser extends Parser {\n  priority = 40;\n\n  parse(dateString) {\n    return parseAnyDigitsSigned(dateString);\n  }\n\n  set(date, _flags, value) {\n    return [constructFrom(date, value * 1000), { timestampIsSet: true }];\n  }\n\n  incompatibleTokens = \"*\";\n}\n", "import { constructFrom } from \"../../../constructFrom.mjs\";\nimport { Parser } from \"../Parser.mjs\";\nimport { parseAnyDigitsSigned } from \"../utils.mjs\";\n\nexport class TimestampMillisecondsParser extends Parser {\n  priority = 20;\n\n  parse(dateString) {\n    return parseAnyDigitsSigned(dateString);\n  }\n\n  set(date, _flags, value) {\n    return [constructFrom(date, value), { timestampIsSet: true }];\n  }\n\n  incompatibleTokens = \"*\";\n}\n", "import { EraParser } from \"./parsers/EraParser.mjs\";\nimport { YearParser } from \"./parsers/YearParser.mjs\";\nimport { LocalWeekYearParser } from \"./parsers/LocalWeekYearParser.mjs\";\nimport { ISOWeekYearParser } from \"./parsers/ISOWeekYearParser.mjs\";\nimport { ExtendedYearParser } from \"./parsers/ExtendedYearParser.mjs\";\nimport { QuarterParser } from \"./parsers/QuarterParser.mjs\";\nimport { StandAloneQuarterParser } from \"./parsers/StandAloneQuarterParser.mjs\";\nimport { MonthParser } from \"./parsers/MonthParser.mjs\";\nimport { StandAloneMonthParser } from \"./parsers/StandAloneMonthParser.mjs\";\nimport { LocalWeekParser } from \"./parsers/LocalWeekParser.mjs\";\nimport { ISOWeekParser } from \"./parsers/ISOWeekParser.mjs\";\nimport { DateParser } from \"./parsers/DateParser.mjs\";\nimport { DayOfYearParser } from \"./parsers/DayOfYearParser.mjs\";\nimport { DayParser } from \"./parsers/DayParser.mjs\";\nimport { LocalDayParser } from \"./parsers/LocalDayParser.mjs\";\nimport { StandAloneLocalDayParser } from \"./parsers/StandAloneLocalDayParser.mjs\";\nimport { ISODayParser } from \"./parsers/ISODayParser.mjs\";\nimport { AMPMParser } from \"./parsers/AMPMParser.mjs\";\nimport { AMPMMidnightParser } from \"./parsers/AMPMMidnightParser.mjs\";\nimport { DayPeriodParser } from \"./parsers/DayPeriodParser.mjs\";\nimport { Hour1to12Parser } from \"./parsers/Hour1to12Parser.mjs\";\nimport { Hour0to23Parser } from \"./parsers/Hour0to23Parser.mjs\";\nimport { Hour0To11Parser } from \"./parsers/Hour0To11Parser.mjs\";\nimport { Hour1To24Parser } from \"./parsers/Hour1To24Parser.mjs\";\nimport { MinuteParser } from \"./parsers/MinuteParser.mjs\";\nimport { SecondParser } from \"./parsers/SecondParser.mjs\";\nimport { FractionOfSecondParser } from \"./parsers/FractionOfSecondParser.mjs\";\nimport { ISOTimezoneWithZParser } from \"./parsers/ISOTimezoneWithZParser.mjs\";\nimport { ISOTimezoneParser } from \"./parsers/ISOTimezoneParser.mjs\";\nimport { TimestampSecondsParser } from \"./parsers/TimestampSecondsParser.mjs\";\nimport { TimestampMillisecondsParser } from \"./parsers/TimestampMillisecondsParser.mjs\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O* | Timezone (GMT)                 |\n * |  p  |                                |  P  |                                |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z* | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `parse` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any -- It's ok, we want any here\nexport const parsers = {\n  G: new EraParser(),\n  y: new YearParser(),\n  Y: new LocalWeekYearParser(),\n  R: new ISOWeekYearParser(),\n  u: new ExtendedYearParser(),\n  Q: new QuarterParser(),\n  q: new StandAloneQuarterParser(),\n  M: new MonthParser(),\n  L: new StandAloneMonthParser(),\n  w: new LocalWeekParser(),\n  I: new ISOWeekParser(),\n  d: new DateParser(),\n  D: new DayOfYearParser(),\n  E: new DayParser(),\n  e: new LocalDayParser(),\n  c: new StandAloneLocalDayParser(),\n  i: new ISODayParser(),\n  a: new AMPMParser(),\n  b: new AMPMMidnightParser(),\n  B: new DayPeriodParser(),\n  h: new Hour1to12Parser(),\n  H: new Hour0to23Parser(),\n  K: new Hour0To11Parser(),\n  k: new Hour1To24Parser(),\n  m: new MinuteParser(),\n  s: new SecondParser(),\n  S: new FractionOfSecondParser(),\n  X: new ISOTimezoneWithZParser(),\n  x: new ISOTimezoneParser(),\n  t: new TimestampSecondsParser(),\n  T: new TimestampMillisecondsParser(),\n};\n", "import { constructFrom } from \"./constructFrom.mjs\";\nimport { getDefaultOptions } from \"./getDefaultOptions.mjs\";\nimport { defaultLocale } from \"./_lib/defaultLocale.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { longFormatters } from \"./_lib/format/longFormatters.mjs\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.mjs\";\nimport { parsers } from \"./parse/_lib/parsers.mjs\";\nimport { DateToSystemTimezoneSetter } from \"./parse/_lib/Setter.mjs\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { longFormatters, parsers };\n\n/**\n * The {@link parse} function options.\n */\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\n\nconst notWhitespaceRegExp = /\\S/;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\n/**\n * @name parse\n * @category Common Helpers\n * @summary Parse the date.\n *\n * @description\n * Return the date parsed from string using the given format string.\n *\n * > \u26A0\uFE0F Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters in the format string wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n *\n * Format of the format string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 5 below the table).\n *\n * Not all tokens are compatible. Combinations that don't make sense or could lead to bugs are prohibited\n * and will throw `RangeError`. For example usage of 24-hour format token with AM/PM token will throw an exception:\n *\n * ```javascript\n * parse('23 AM', 'HH a', new Date())\n * //=> RangeError: The format string mustn't contain `HH` and `a` at the same time\n * ```\n *\n * See the compatibility table: https://docs.google.com/spreadsheets/d/e/2PACX-1vQOPU3xUhplll6dyoMmVUXHKl_8CRDs6_ueLmex3SoqwhuolkuN3O05l4rqx5h1dKX8eb46Ul-CCSrq/pubhtml?gid=0&single=true\n *\n * Accepted format string patterns:\n * | Unit                            |Prior| Pattern | Result examples                   | Notes |\n * |---------------------------------|-----|---------|-----------------------------------|-------|\n * | Era                             | 140 | G..GGG  | AD, BC                            |       |\n * |                                 |     | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 |     | GGGGG   | A, B                              |       |\n * | Calendar year                   | 130 | y       | 44, 1, 1900, 2017, 9999           | 4     |\n * |                                 |     | yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\n * |                                 |     | yy      | 44, 01, 00, 17                    | 4     |\n * |                                 |     | yyy     | 044, 001, 123, 999                | 4     |\n * |                                 |     | yyyy    | 0044, 0001, 1900, 2017            | 4     |\n * |                                 |     | yyyyy   | ...                               | 2,4   |\n * | Local week-numbering year       | 130 | Y       | 44, 1, 1900, 2017, 9000           | 4     |\n * |                                 |     | Yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\n * |                                 |     | YY      | 44, 01, 00, 17                    | 4,6   |\n * |                                 |     | YYY     | 044, 001, 123, 999                | 4     |\n * |                                 |     | YYYY    | 0044, 0001, 1900, 2017            | 4,6   |\n * |                                 |     | YYYYY   | ...                               | 2,4   |\n * | ISO week-numbering year         | 130 | R       | -43, 1, 1900, 2017, 9999, -9999   | 4,5   |\n * |                                 |     | RR      | -43, 01, 00, 17                   | 4,5   |\n * |                                 |     | RRR     | -043, 001, 123, 999, -999         | 4,5   |\n * |                                 |     | RRRR    | -0043, 0001, 2017, 9999, -9999    | 4,5   |\n * |                                 |     | RRRRR   | ...                               | 2,4,5 |\n * | Extended year                   | 130 | u       | -43, 1, 1900, 2017, 9999, -999    | 4     |\n * |                                 |     | uu      | -43, 01, 99, -99                  | 4     |\n * |                                 |     | uuu     | -043, 001, 123, 999, -999         | 4     |\n * |                                 |     | uuuu    | -0043, 0001, 2017, 9999, -9999    | 4     |\n * |                                 |     | uuuuu   | ...                               | 2,4   |\n * | Quarter (formatting)            | 120 | Q       | 1, 2, 3, 4                        |       |\n * |                                 |     | Qo      | 1st, 2nd, 3rd, 4th                | 5     |\n * |                                 |     | QQ      | 01, 02, 03, 04                    |       |\n * |                                 |     | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 |     | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 |     | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | 120 | q       | 1, 2, 3, 4                        |       |\n * |                                 |     | qo      | 1st, 2nd, 3rd, 4th                | 5     |\n * |                                 |     | qq      | 01, 02, 03, 04                    |       |\n * |                                 |     | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 |     | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 |     | qqqqq   | 1, 2, 3, 4                        | 3     |\n * | Month (formatting)              | 110 | M       | 1, 2, ..., 12                     |       |\n * |                                 |     | Mo      | 1st, 2nd, ..., 12th               | 5     |\n * |                                 |     | MM      | 01, 02, ..., 12                   |       |\n * |                                 |     | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 |     | MMMM    | January, February, ..., December  | 2     |\n * |                                 |     | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | 110 | L       | 1, 2, ..., 12                     |       |\n * |                                 |     | Lo      | 1st, 2nd, ..., 12th               | 5     |\n * |                                 |     | LL      | 01, 02, ..., 12                   |       |\n * |                                 |     | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 |     | LLLL    | January, February, ..., December  | 2     |\n * |                                 |     | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | 100 | w       | 1, 2, ..., 53                     |       |\n * |                                 |     | wo      | 1st, 2nd, ..., 53th               | 5     |\n * |                                 |     | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | 100 | I       | 1, 2, ..., 53                     | 5     |\n * |                                 |     | Io      | 1st, 2nd, ..., 53th               | 5     |\n * |                                 |     | II      | 01, 02, ..., 53                   | 5     |\n * | Day of month                    |  90 | d       | 1, 2, ..., 31                     |       |\n * |                                 |     | do      | 1st, 2nd, ..., 31st               | 5     |\n * |                                 |     | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     |  90 | D       | 1, 2, ..., 365, 366               | 7     |\n * |                                 |     | Do      | 1st, 2nd, ..., 365th, 366th       | 5     |\n * |                                 |     | DD      | 01, 02, ..., 365, 366             | 7     |\n * |                                 |     | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 |     | DDDD    | ...                               | 2     |\n * | Day of week (formatting)        |  90 | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 |     | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    |  90 | i       | 1, 2, 3, ..., 7                   | 5     |\n * |                                 |     | io      | 1st, 2nd, ..., 7th                | 5     |\n * |                                 |     | ii      | 01, 02, ..., 07                   | 5     |\n * |                                 |     | iii     | Mon, Tue, Wed, ..., Sun           | 5     |\n * |                                 |     | iiii    | Monday, Tuesday, ..., Sunday      | 2,5   |\n * |                                 |     | iiiii   | M, T, W, T, F, S, S               | 5     |\n * |                                 |     | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 5     |\n * | Local day of week (formatting)  |  90 | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 |     | eo      | 2nd, 3rd, ..., 1st                | 5     |\n * |                                 |     | ee      | 02, 03, ..., 01                   |       |\n * |                                 |     | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 |     | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) |  90 | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 |     | co      | 2nd, 3rd, ..., 1st                | 5     |\n * |                                 |     | cc      | 02, 03, ..., 01                   |       |\n * |                                 |     | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 |     | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          |  80 | a..aaa  | AM, PM                            |       |\n * |                                 |     | aaaa    | a.m., p.m.                        | 2     |\n * |                                 |     | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          |  80 | b..bbb  | AM, PM, noon, midnight            |       |\n * |                                 |     | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 |     | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             |  80 | B..BBB  | at night, in the morning, ...     |       |\n * |                                 |     | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 |     | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     |  70 | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 |     | ho      | 1st, 2nd, ..., 11th, 12th         | 5     |\n * |                                 |     | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     |  70 | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 |     | Ho      | 0th, 1st, 2nd, ..., 23rd          | 5     |\n * |                                 |     | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     |  70 | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 |     | Ko      | 1st, 2nd, ..., 11th, 0th          | 5     |\n * |                                 |     | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     |  70 | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 |     | ko      | 24th, 1st, 2nd, ..., 23rd         | 5     |\n * |                                 |     | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          |  60 | m       | 0, 1, ..., 59                     |       |\n * |                                 |     | mo      | 0th, 1st, ..., 59th               | 5     |\n * |                                 |     | mm      | 00, 01, ..., 59                   |       |\n * | Second                          |  50 | s       | 0, 1, ..., 59                     |       |\n * |                                 |     | so      | 0th, 1st, ..., 59th               | 5     |\n * |                                 |     | ss      | 00, 01, ..., 59                   |       |\n * | Seconds timestamp               |  40 | t       | 512969520                         |       |\n * |                                 |     | tt      | ...                               | 2     |\n * | Fraction of second              |  30 | S       | 0, 1, ..., 9                      |       |\n * |                                 |     | SS      | 00, 01, ..., 99                   |       |\n * |                                 |     | SSS     | 000, 001, ..., 999                |       |\n * |                                 |     | SSSS    | ...                               | 2     |\n * | Milliseconds timestamp          |  20 | T       | 512969520900                      |       |\n * |                                 |     | TT      | ...                               | 2     |\n * | Timezone (ISO-8601 w/ Z)        |  10 | X       | -08, +0530, Z                     |       |\n * |                                 |     | XX      | -0800, +0530, Z                   |       |\n * |                                 |     | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 |     | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 |     | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       |  10 | x       | -08, +0530, +00                   |       |\n * |                                 |     | xx      | -0800, +0530, +0000               |       |\n * |                                 |     | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 |     | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 |     | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Long localized date             |  NA | P       | 05/29/1453                        | 5,8   |\n * |                                 |     | PP      | May 29, 1453                      |       |\n * |                                 |     | PPP     | May 29th, 1453                    |       |\n * |                                 |     | PPPP    | Sunday, May 29th, 1453            | 2,5,8 |\n * | Long localized time             |  NA | p       | 12:00 AM                          | 5,8   |\n * |                                 |     | pp      | 12:00:00 AM                       |       |\n * | Combination of date and time    |  NA | Pp      | 05/29/1453, 12:00 AM              |       |\n * |                                 |     | PPpp    | May 29, 1453, 12:00:00 AM         |       |\n * |                                 |     | PPPpp   | May 29th, 1453 at ...             |       |\n * |                                 |     | PPPPpp  | Sunday, May 29th, 1453 at ...     | 2,5,8 |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular.\n *    In `format` function, they will produce different result:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n *    `parse` will try to match both formatting and stand-alone units interchangably.\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table:\n *    - for numerical units (`yyyyyyyy`) `parse` will try to match a number\n *      as wide as the sequence\n *    - for text units (`MMMMMMMM`) `parse` will try to match the widest variation of the unit.\n *      These variations are marked with \"2\" in the last column of the table.\n *\n * 3. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 4. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` will try to guess the century of two digit year by proximity with `referenceDate`:\n *\n *    `parse('50', 'yy', new Date(2018, 0, 1)) //=> Sat Jan 01 2050 00:00:00`\n *\n *    `parse('75', 'yy', new Date(2018, 0, 1)) //=> Wed Jan 01 1975 00:00:00`\n *\n *    while `uu` will just assign the year as is:\n *\n *    `parse('50', 'uu', new Date(2018, 0, 1)) //=> Sat Jan 01 0050 00:00:00`\n *\n *    `parse('75', 'uu', new Date(2018, 0, 1)) //=> Tue Jan 01 0075 00:00:00`\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [setISOWeekYear](https://date-fns.org/docs/setISOWeekYear)\n *    and [setWeekYear](https://date-fns.org/docs/setWeekYear)).\n *\n * 5. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 6. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 7. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 8. `P+` tokens do not have a defined priority since they are merely aliases to other tokens based\n *    on the given locale.\n *\n *    using `en-US` locale: `P` => `MM/dd/yyyy`\n *    using `en-US` locale: `p` => `hh:mm a`\n *    using `pt-BR` locale: `P` => `dd/MM/yyyy`\n *    using `pt-BR` locale: `p` => `HH:mm`\n *\n * Values will be assigned to the date in the descending order of its unit's priority.\n * Units of an equal priority overwrite each other in the order of appearance.\n *\n * If no values of higher priority are parsed (e.g. when parsing string 'January 1st' without a year),\n * the values will be taken from 3rd argument `referenceDate` which works as a context of parsing.\n *\n * `referenceDate` must be passed for correct work of the function.\n * If you're not sure which `referenceDate` to supply, create a new instance of Date:\n * `parse('02/11/2014', 'MM/dd/yyyy', new Date())`\n * In this case parsing will be done in the context of the current date.\n * If `referenceDate` is `Invalid Date` or a value not convertible to valid `Date`,\n * then `Invalid Date` will be returned.\n *\n * The result may vary by locale.\n *\n * If `formatString` matches with `dateString` but does not provides tokens, `referenceDate` will be returned.\n *\n * If parsing failed, `Invalid Date` will be returned.\n * Invalid Date is a Date, whose time value is NaN.\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateStr - The string to parse\n * @param formatStr - The string of tokens\n * @param referenceDate - defines values missing from the parsed dateString\n * @param options - An object with options.\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @returns The parsed date\n *\n * @throws `options.locale` must contain `match` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Parse 11 February 2014 from middle-endian format:\n * var result = parse('02/11/2014', 'MM/dd/yyyy', new Date())\n * //=> Tue Feb 11 2014 00:00:00\n *\n * @example\n * // Parse 28th of February in Esperanto locale in the context of 2010 year:\n * import eo from 'date-fns/locale/eo'\n * var result = parse('28-a de februaro', \"do 'de' MMMM\", new Date(2010, 0, 1), {\n *   locale: eo\n * })\n * //=> Sun Feb 28 2010 00:00:00\n */\nexport function parse(dateStr, formatStr, referenceDate, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  if (formatStr === \"\") {\n    if (dateStr === \"\") {\n      return toDate(referenceDate);\n    } else {\n      return constructFrom(referenceDate, NaN);\n    }\n  }\n\n  const subFnOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  // If timezone isn't specified, it will be set to the system timezone\n  const setters = [new DateToSystemTimezoneSetter()];\n\n  const tokens = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter in longFormatters) {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp);\n\n  const usedTokens = [];\n\n  for (let token of tokens) {\n    if (\n      !options?.useAdditionalWeekYearTokens &&\n      isProtectedWeekYearToken(token)\n    ) {\n      warnOrThrowProtectedError(token, formatStr, dateStr);\n    }\n    if (\n      !options?.useAdditionalDayOfYearTokens &&\n      isProtectedDayOfYearToken(token)\n    ) {\n      warnOrThrowProtectedError(token, formatStr, dateStr);\n    }\n\n    const firstCharacter = token[0];\n    const parser = parsers[firstCharacter];\n    if (parser) {\n      const { incompatibleTokens } = parser;\n      if (Array.isArray(incompatibleTokens)) {\n        const incompatibleToken = usedTokens.find(\n          (usedToken) =>\n            incompatibleTokens.includes(usedToken.token) ||\n            usedToken.token === firstCharacter,\n        );\n        if (incompatibleToken) {\n          throw new RangeError(\n            `The format string mustn't contain \\`${incompatibleToken.fullToken}\\` and \\`${token}\\` at the same time`,\n          );\n        }\n      } else if (parser.incompatibleTokens === \"*\" && usedTokens.length > 0) {\n        throw new RangeError(\n          `The format string mustn't contain \\`${token}\\` and any other token at the same time`,\n        );\n      }\n\n      usedTokens.push({ token: firstCharacter, fullToken: token });\n\n      const parseResult = parser.run(\n        dateStr,\n        token,\n        locale.match,\n        subFnOptions,\n      );\n\n      if (!parseResult) {\n        return constructFrom(referenceDate, NaN);\n      }\n\n      setters.push(parseResult.setter);\n\n      dateStr = parseResult.rest;\n    } else {\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      // Replace two single quote characters with one single quote character\n      if (token === \"''\") {\n        token = \"'\";\n      } else if (firstCharacter === \"'\") {\n        token = cleanEscapedString(token);\n      }\n\n      // Cut token from string, or, if string doesn't match the token, return Invalid Date\n      if (dateStr.indexOf(token) === 0) {\n        dateStr = dateStr.slice(token.length);\n      } else {\n        return constructFrom(referenceDate, NaN);\n      }\n    }\n  }\n\n  // Check if the remaining input contains something other than whitespace\n  if (dateStr.length > 0 && notWhitespaceRegExp.test(dateStr)) {\n    return constructFrom(referenceDate, NaN);\n  }\n\n  const uniquePrioritySetters = setters\n    .map((setter) => setter.priority)\n    .sort((a, b) => b - a)\n    .filter((priority, index, array) => array.indexOf(priority) === index)\n    .map((priority) =>\n      setters\n        .filter((setter) => setter.priority === priority)\n        .sort((a, b) => b.subPriority - a.subPriority),\n    )\n    .map((setterArray) => setterArray[0]);\n\n  let date = toDate(referenceDate);\n\n  if (isNaN(date.getTime())) {\n    return constructFrom(referenceDate, NaN);\n  }\n\n  const flags = {};\n  for (const setter of uniquePrioritySetters) {\n    if (!setter.validate(date, subFnOptions)) {\n      return constructFrom(referenceDate, NaN);\n    }\n\n    const result = setter.set(date, flags, subFnOptions);\n    // Result is tuple (date, flags)\n    if (Array.isArray(result)) {\n      date = result[0];\n      Object.assign(flags, result[1]);\n      // Result is date\n    } else {\n      date = result;\n    }\n  }\n\n  return constructFrom(referenceDate, date);\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default parse;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfHour\n * @category Hour Helpers\n * @summary Return the start of an hour for the given date.\n *\n * @description\n * Return the start of an hour for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an hour\n *\n * @example\n * // The start of an hour for 2 September 2014 11:55:00:\n * const result = startOfHour(new Date(2014, 8, 2, 11, 55))\n * //=> Tue Sep 02 2014 11:00:00\n */\nexport function startOfHour(date) {\n  const _date = toDate(date);\n  _date.setMinutes(0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfHour;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfSecond\n * @category Second Helpers\n * @summary Return the start of a second for the given date.\n *\n * @description\n * Return the start of a second for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a second\n *\n * @example\n * // The start of a second for 1 December 2014 22:15:45.400:\n * const result = startOfSecond(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:45.000\n */\nexport function startOfSecond(date) {\n  const _date = toDate(date);\n  _date.setMilliseconds(0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfSecond;\n", "import { millisecondsInHour, millisecondsInMinute } from \"./constants.mjs\";\n\n/**\n * The {@link parseISO} function options.\n */\n\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n * @param options - An object with options\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * const result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * const result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\nexport function parseISO(argument, options) {\n  const additionalDigits = options?.additionalDigits ?? 2;\n  const dateStrings = splitDateString(argument);\n\n  let date;\n  if (dateStrings.date) {\n    const parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (!date || isNaN(date.getTime())) {\n    return new Date(NaN);\n  }\n\n  const timestamp = date.getTime();\n  let time = 0;\n  let offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n    if (isNaN(time)) {\n      return new Date(NaN);\n    }\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n    if (isNaN(offset)) {\n      return new Date(NaN);\n    }\n  } else {\n    const dirtyDate = new Date(timestamp + time);\n    // JS parsed string assuming it's in UTC timezone\n    // but we need it to be parsed in our timezone\n    // so we use utc values to build date in our timezone.\n    // Year values from 0 to 99 map to the years 1900 to 1999\n    // so set year explicitly with setFullYear.\n    const result = new Date(0);\n    result.setFullYear(\n      dirtyDate.getUTCFullYear(),\n      dirtyDate.getUTCMonth(),\n      dirtyDate.getUTCDate(),\n    );\n    result.setHours(\n      dirtyDate.getUTCHours(),\n      dirtyDate.getUTCMinutes(),\n      dirtyDate.getUTCSeconds(),\n      dirtyDate.getUTCMilliseconds(),\n    );\n    return result;\n  }\n\n  return new Date(timestamp + time + offset);\n}\n\nconst patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/,\n};\n\nconst dateRegex =\n  /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nconst timeRegex =\n  /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nconst timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n\nfunction splitDateString(dateString) {\n  const dateStrings = {};\n  const array = dateString.split(patterns.dateTimeDelimiter);\n  let timeString;\n\n  // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(\n        dateStrings.date.length,\n        dateString.length,\n      );\n    }\n  }\n\n  if (timeString) {\n    const token = patterns.timezone.exec(timeString);\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], \"\");\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  const regex = new RegExp(\n    \"^(?:(\\\\d{4}|[+-]\\\\d{\" +\n      (4 + additionalDigits) +\n      \"})|(\\\\d{2}|[+-]\\\\d{\" +\n      (2 + additionalDigits) +\n      \"})$)\",\n  );\n\n  const captures = dateString.match(regex);\n  // Invalid ISO-formatted year\n  if (!captures) return { year: NaN, restDateString: \"\" };\n\n  const year = captures[1] ? parseInt(captures[1]) : null;\n  const century = captures[2] ? parseInt(captures[2]) : null;\n\n  // either year or century is null, not both\n  return {\n    year: century === null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length),\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return new Date(NaN);\n\n  const captures = dateString.match(dateRegex);\n  // Invalid ISO-formatted string\n  if (!captures) return new Date(NaN);\n\n  const isWeekDate = !!captures[4];\n  const dayOfYear = parseDateUnit(captures[1]);\n  const month = parseDateUnit(captures[2]) - 1;\n  const day = parseDateUnit(captures[3]);\n  const week = parseDateUnit(captures[4]);\n  const dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    const date = new Date(0);\n    if (\n      !validateDate(year, month, day) ||\n      !validateDayOfYearDate(year, dayOfYear)\n    ) {\n      return new Date(NaN);\n    }\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  const captures = timeString.match(timeRegex);\n  if (!captures) return NaN; // Invalid ISO-formatted time\n\n  const hours = parseTimeUnit(captures[1]);\n  const minutes = parseTimeUnit(captures[2]);\n  const seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return (\n    hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * 1000\n  );\n}\n\nfunction parseTimeUnit(value) {\n  return (value && parseFloat(value.replace(\",\", \".\"))) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === \"Z\") return 0;\n\n  const captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n\n  const sign = captures[1] === \"+\" ? -1 : 1;\n  const hours = parseInt(captures[2]);\n  const minutes = (captures[3] && parseInt(captures[3])) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * millisecondsInHour + minutes * millisecondsInMinute);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  const date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  const fourthOfJanuaryDay = date.getUTCDay() || 7;\n  const diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}\n\n// Validation functions\n\n// February is null to handle the leap year (using ||)\nconst daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0);\n}\n\nfunction validateDate(year, month, date) {\n  return (\n    month >= 0 &&\n    month <= 11 &&\n    date >= 1 &&\n    date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28))\n  );\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return (\n    seconds >= 0 &&\n    seconds < 60 &&\n    minutes >= 0 &&\n    minutes < 60 &&\n    hours >= 0 &&\n    hours < 25\n  );\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}\n\n// Fallback for modularized imports:\nexport default parseISO;\n", "/*!\n * chartjs-adapter-date-fns v3.0.0\n * https://www.chartjs.org\n * (c) 2022 chartjs-adapter-date-fns Contributors\n * Released under the MIT license\n */\nimport { _adapters } from 'chart.js';\nimport { toDate, parse, parseISO, isValid, format, addYears, addQuarters, addMonths, addWeeks, addDays, addHours, addMinutes, addSeconds, addMilliseconds, differenceInYears, differenceInQuarters, differenceInMonths, differenceInWeeks, differenceInDays, differenceInHours, differenceInMinutes, differenceInSeconds, differenceInMilliseconds, startOfYear, startOfQuarter, startOfMonth, startOfWeek, startOfDay, startOfHour, startOfMinute, startOfSecond, endOfYear, endOfQuarter, endOfMonth, endOfWeek, endOfDay, endOfHour, endOfMinute, endOfSecond } from 'date-fns';\n\nconst FORMATS = {\n  datetime: 'MMM d, yyyy, h:mm:ss aaaa',\n  millisecond: 'h:mm:ss.SSS aaaa',\n  second: 'h:mm:ss aaaa',\n  minute: 'h:mm aaaa',\n  hour: 'ha',\n  day: 'MMM d',\n  week: 'PP',\n  month: 'MMM yyyy',\n  quarter: 'qqq - yyyy',\n  year: 'yyyy'\n};\n\n_adapters._date.override({\n  _id: 'date-fns', // DEBUG\n\n  formats: function() {\n    return FORMATS;\n  },\n\n  parse: function(value, fmt) {\n    if (value === null || typeof value === 'undefined') {\n      return null;\n    }\n    const type = typeof value;\n    if (type === 'number' || value instanceof Date) {\n      value = toDate(value);\n    } else if (type === 'string') {\n      if (typeof fmt === 'string') {\n        value = parse(value, fmt, new Date(), this.options);\n      } else {\n        value = parseISO(value, this.options);\n      }\n    }\n    return isValid(value) ? value.getTime() : null;\n  },\n\n  format: function(time, fmt) {\n    return format(time, fmt, this.options);\n  },\n\n  add: function(time, amount, unit) {\n    switch (unit) {\n    case 'millisecond': return addMilliseconds(time, amount);\n    case 'second': return addSeconds(time, amount);\n    case 'minute': return addMinutes(time, amount);\n    case 'hour': return addHours(time, amount);\n    case 'day': return addDays(time, amount);\n    case 'week': return addWeeks(time, amount);\n    case 'month': return addMonths(time, amount);\n    case 'quarter': return addQuarters(time, amount);\n    case 'year': return addYears(time, amount);\n    default: return time;\n    }\n  },\n\n  diff: function(max, min, unit) {\n    switch (unit) {\n    case 'millisecond': return differenceInMilliseconds(max, min);\n    case 'second': return differenceInSeconds(max, min);\n    case 'minute': return differenceInMinutes(max, min);\n    case 'hour': return differenceInHours(max, min);\n    case 'day': return differenceInDays(max, min);\n    case 'week': return differenceInWeeks(max, min);\n    case 'month': return differenceInMonths(max, min);\n    case 'quarter': return differenceInQuarters(max, min);\n    case 'year': return differenceInYears(max, min);\n    default: return 0;\n    }\n  },\n\n  startOf: function(time, unit, weekday) {\n    switch (unit) {\n    case 'second': return startOfSecond(time);\n    case 'minute': return startOfMinute(time);\n    case 'hour': return startOfHour(time);\n    case 'day': return startOfDay(time);\n    case 'week': return startOfWeek(time);\n    case 'isoWeek': return startOfWeek(time, {weekStartsOn: +weekday});\n    case 'month': return startOfMonth(time);\n    case 'quarter': return startOfQuarter(time);\n    case 'year': return startOfYear(time);\n    default: return time;\n    }\n  },\n\n  endOf: function(time, unit) {\n    switch (unit) {\n    case 'second': return endOfSecond(time);\n    case 'minute': return endOfMinute(time);\n    case 'hour': return endOfHour(time);\n    case 'day': return endOfDay(time);\n    case 'week': return endOfWeek(time);\n    case 'month': return endOfMonth(time);\n    case 'quarter': return endOfQuarter(time);\n    case 'year': return endOfYear(time);\n    default: return time;\n    }\n  }\n});\n", "import Chartkick from \"chartkick\"\nimport Chart from \"chart.js/auto\"\nimport \"chartjs-adapter-date-fns\"\n\nChartkick.use(Chart)\n"],
  "mappings": "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",
  "names": ["consumer", "error", "message", "consumer", "consumer", "subscription", "window", "indexOf", "isFunction", "isWindow", "document", "version", "jQuery", "callback", "clone", "arr", "matches", "push", "documentElement", "rquickExpr", "m", "i", "match", "tokenize", "cache", "node", "elements", "start", "dir", "skip", "map", "find", "elem", "self", "fire", "add", "index", "resolve", "value", "deferred", "error", "getData", "data", "nodeName", "swap", "name", "Animation", "length", "to", "location", "nonce", "val", "completed", "method", "type", "define", "$", "toastr", "error", "message", "getOptions", "callback", "map", "setTitle", "options", "$", "window", "document", "i", "defaults", "num", "start", "now", "setData", "match", "map", "cache", "draw", "td", "attr", "cell", "resolve", "k", "ajax", "callback", "error", "m", "redraw", "loaded", "state", "col", "idx", "caption", "e", "names", "settings", "set", "module", "version", "version2", "format", "from", "to", "prop", "fn", "numbers", "$", "window", "document", "draw", "match", "dt", "button", "config", "top", "elements", "names", "i", "ien", "selector", "inst", "set", "message", "$", "window", "document", "dispatch", "i", "ien", "version", "zip", "message", "e", "$", "window", "document", "clone", "href", "i", "ien", "e", "exports", "module", "hex", "from", "to", "SparkMD5", "callback", "start", "elements", "toArray", "dispatchEvent", "csrfToken", "delegate", "error", "controllers", "HTMLElement", "message", "FrameLoadingStyle", "location", "cspNonce", "resolve", "match", "elements", "FetchMethod", "delegate", "error", "FormSubmissionState", "FormEnctype", "cookie", "callback", "clone", "index", "TimingMetric", "VisitState", "SystemStatusCode", "session", "visit", "PageStage", "element", "document", "createConsumer", "m", "application", "map", "error", "message", "matches", "index", "match", "delegate", "callback", "fetch", "set", "delegate", "callback", "matches", "match", "oldValue", "index", "error", "descriptors", "constructor", "message", "extend", "application", "elements", "element", "resolve", "toastr", "import_toastr", "import_datatables", "error", "CustomEvent", "confirm", "message", "callback", "href", "start", "extend", "matches", "defaultOptions", "hideLegend", "setTitle", "setMin", "setMax", "setStacked", "setXtitle", "setYtitle", "round", "hex", "colors", "color", "minTime", "maxTime", "defaultExport", "renderLineChart", "renderScatterChart", "renderPieChart", "renderColumnChart", "renderBarChart", "renderAreaChart", "destroy", "drawChart", "callback", "createDataTable", "error", "message", "Chart", "getElement", "getData", "LineChart", "PieChart", "ColumnChart", "BarChart", "AreaChart", "GeoChart", "ScatterChart", "BubbleChart", "Timeline", "m", "interpolate", "color", "noop", "uid", "id", "isNullOrUndef", "value", "isArray", "Array", "type", "Object", "prototype", "toString", "call", "slice", "isObject", "isNumberFinite", "Number", "isFinite", "finiteOrDefault", "defaultValue", "valueOrDefault", "toPercentage", "dimension", "endsWith", "parseFloat", "toDimension", "callback", "fn", "args", "thisArg", "apply", "each", "loopable", "reverse", "i", "len", "keys", "length", "_elementsEqual", "a0", "a1", "ilen", "v0", "v1", "datasetIndex", "index", "clone", "source", "map", "target", "create", "klen", "k", "isValidKey", "key", "indexOf", "_merger", "options", "tval", "sval", "merge", "sources", "merger", "current", "mergeIf", "_mergerIf", "hasOwnProperty", "keyResolvers", "v", "x", "o", "y", "_splitKey", "key", "parts", "split", "keys", "tmp", "part", "endsWith", "slice", "push", "_getKeyResolver", "obj", "k", "resolveObjectKey", "resolver", "_capitalize", "str", "charAt", "toUpperCase", "defined", "value", "isFunction", "setsEqual", "a", "b", "size", "item", "has", "_isClickEvent", "e", "type", "PI", "Math", "TAU", "PITAU", "INFINITY", "Number", "POSITIVE_INFINITY", "RAD_PER_DEG", "HALF_PI", "QUARTER_PI", "TWO_THIRDS_PI", "log10", "sign", "almostEquals", "epsilon", "abs", "niceNum", "range", "roundedRange", "round", "niceRange", "pow", "floor", "fraction", "niceFraction", "_factorize", "result", "sqrt", "i", "sort", "pop", "isNumber", "n", "isNaN", "parseFloat", "isFinite", "almostWhole", "rounded", "_setMinAndMaxByKey", "array", "target", "property", "ilen", "length", "min", "max", "toRadians", "degrees", "toDegrees", "radians", "_decimalPlaces", "isFiniteNumber", "p", "getAngleFromPoint", "centrePoint", "anglePoint", "distanceFromXCenter", "distanceFromYCenter", "radialDistanceFromCenter", "angle", "atan2", "distance", "distanceBetweenPoints", "pt1", "pt2", "_angleDiff", "_normalizeAngle", "_angleBetween", "start", "end", "sameAngleIsFullCircle", "s", "angleToStart", "angleToEnd", "startToAngle", "endToAngle", "_limitValue", "_int16Range", "_isBetween", "_lookup", "table", "cmp", "index", "hi", "lo", "mid", "_lookupByKey", "last", "ti", "_rlookupByKey", "_filterBetween", "values", "arrayEvents", "listenArrayEvents", "listener", "_chartjs", "listeners", "Object", "defineProperty", "configurable", "enumerable", "forEach", "method", "base", "args", "res", "apply", "object", "unlistenArrayEvents", "stub", "indexOf", "splice", "_arrayUnique", "items", "set", "Set", "Array", "from", "requestAnimFrame", "window", "callback", "requestAnimationFrame", "throttled", "fn", "thisArg", "argsToUse", "ticking", "args", "call", "apply", "debounce", "delay", "timeout", "clearTimeout", "setTimeout", "_toLeftRightCenter", "align", "_alignStartEnd", "start", "end", "_textX", "left", "right", "rtl", "check", "_getStartAndCountOfVisiblePoints", "meta", "points", "animationsDisabled", "pointCount", "length", "count", "_sorted", "iScale", "_parsed", "axis", "min", "max", "minDefined", "maxDefined", "getUserBounds", "_limitValue", "Math", "_lookupByKey", "lo", "getPixelForValue", "hi", "_scaleRangesChanged", "xScale", "yScale", "_scaleRanges", "newRanges", "xmin", "xmax", "ymin", "ymax", "changed", "Object", "assign", "atEdge", "t", "elasticIn", "s", "p", "pow", "sin", "TAU", "elasticOut", "effects", "linear", "easeInQuad", "easeOutQuad", "easeInOutQuad", "easeInCubic", "easeOutCubic", "easeInOutCubic", "easeInQuart", "easeOutQuart", "easeInOutQuart", "easeInQuint", "easeOutQuint", "easeInOutQuint", "easeInSine", "cos", "HALF_PI", "easeOutSine", "easeInOutSine", "PI", "easeInExpo", "easeOutExpo", "easeInOutExpo", "easeInCirc", "sqrt", "easeOutCirc", "easeInOutCirc", "easeInElastic", "easeOutElastic", "easeInOutElastic", "easeInBack", "easeOutBack", "easeInOutBack", "easeInBounce", "easeOutBounce", "m", "d", "easeInOutBounce", "isPatternOrGradient", "value", "type", "toString", "color", "Color", "getHoverColor", "saturate", "darken", "hexString", "numbers", "colors", "applyAnimationsDefaults", "defaults", "set", "undefined", "duration", "easing", "from", "loop", "to", "describe", "_fallback", "_indexable", "_scriptable", "name", "properties", "active", "animation", "resize", "show", "animations", "visible", "hide", "v", "applyLayoutsDefaults", "autoPadding", "padding", "top", "bottom", "intlCache", "Map", "getNumberFormat", "locale", "options", "cacheKey", "JSON", "stringify", "formatter", "get", "Intl", "NumberFormat", "formatNumber", "num", "format", "formatters", "values", "isArray", "numeric", "tickValue", "index", "ticks", "chart", "notation", "delta", "maxTick", "abs", "calculateDelta", "logDelta", "log10", "numDecimal", "isNaN", "floor", "minimumFractionDigits", "maximumFractionDigits", "logarithmic", "remain", "significand", "includes", "applyScaleDefaults", "display", "offset", "reverse", "beginAtZero", "bounds", "clip", "grace", "grid", "lineWidth", "drawOnChartArea", "drawTicks", "tickLength", "tickWidth", "_ctx", "tickColor", "border", "dash", "dashOffset", "width", "title", "text", "minRotation", "maxRotation", "mirror", "textStrokeWidth", "textStrokeColor", "autoSkip", "autoSkipPadding", "labelOffset", "Ticks", "minor", "major", "crossAlign", "showLabelBackdrop", "backdropColor", "backdropPadding", "route", "startsWith", "overrides", "create", "descriptors", "getScope", "node", "key", "keys", "split", "i", "n", "k", "root", "scope", "merge", "Defaults", "constructor", "_descriptors", "_appliers", "backgroundColor", "borderColor", "datasets", "devicePixelRatio", "context", "platform", "getDevicePixelRatio", "elements", "events", "font", "family", "size", "style", "lineHeight", "weight", "hover", "hoverBackgroundColor", "ctx", "hoverBorderColor", "hoverColor", "indexAxis", "interaction", "mode", "intersect", "includeInvisible", "maintainAspectRatio", "onHover", "onClick", "parsing", "plugins", "responsive", "scale", "scales", "showLine", "drawActiveElementsOnTop", "override", "targetScope", "targetName", "scopeObject", "targetScopeObject", "privateName", "defineProperties", "writable", "enumerable", "local", "target", "isObject", "valueOrDefault", "appliers", "forEach", "toFontString", "isNullOrUndef", "_measureText", "data", "gc", "longest", "string", "textWidth", "measureText", "push", "_longestText", "arrayOfThings", "cache", "garbageCollect", "save", "ilen", "j", "jlen", "thing", "nestedThing", "restore", "gcLen", "splice", "_alignPixel", "pixel", "currentDevicePixelRatio", "halfWidth", "round", "clearCanvas", "canvas", "getContext", "resetTransform", "clearRect", "height", "drawPoint", "x", "y", "drawPointLegend", "w", "xOffset", "yOffset", "cornerRadius", "xOffsetW", "yOffsetW", "pointStyle", "rotation", "radius", "rad", "RAD_PER_DEG", "translate", "rotate", "drawImage", "beginPath", "ellipse", "arc", "closePath", "moveTo", "TWO_THIRDS_PI", "lineTo", "QUARTER_PI", "SQRT1_2", "rect", "fill", "borderWidth", "stroke", "_isPointInArea", "point", "area", "margin", "clipArea", "unclipArea", "_steppedLineTo", "previous", "flip", "midpoint", "_bezierCurveTo", "bezierCurveTo", "cp1x", "cp2x", "cp1y", "cp2y", "setRenderOpts", "opts", "translation", "fillStyle", "textAlign", "textBaseline", "decorateText", "line", "strikethrough", "underline", "metrics", "actualBoundingBoxLeft", "actualBoundingBoxRight", "actualBoundingBoxAscent", "actualBoundingBoxDescent", "yDecoration", "strokeStyle", "decorationWidth", "drawBackdrop", "oldColor", "fillRect", "renderText", "lines", "strokeWidth", "strokeColor", "backdrop", "strokeText", "maxWidth", "fillText", "Number", "addRoundedRectPath", "h", "topLeft", "bottomLeft", "bottomRight", "topRight", "LINE_HEIGHT", "FONT_STYLE", "toLineHeight", "matches", "match", "numberOrZero", "_readValueToProps", "props", "ret", "objProps", "read", "prop", "toTRBL", "toTRBLCorners", "toPadding", "obj", "toFont", "fallback", "parseInt", "console", "warn", "resolve", "inputs", "info", "cacheable", "_addGrace", "minmax", "change", "toDimension", "keepZero", "add", "createContext", "parentContext", "_createResolver", "scopes", "prefixes", "rootScopes", "getTarget", "finalRootScopes", "_resolve", "Symbol", "toStringTag", "_cacheable", "_scopes", "_rootScopes", "_getTarget", "Proxy", "deleteProperty", "_keys", "_cached", "_resolveWithPrefixes", "getOwnPropertyDescriptor", "Reflect", "getPrototypeOf", "has", "getKeysFromAllScopes", "ownKeys", "storage", "_storage", "_attachContext", "proxy", "subProxy", "descriptorDefaults", "_proxy", "_context", "_subProxy", "_stack", "Set", "setContext", "receiver", "_resolveWithContext", "allKeys", "configurable", "scriptable", "indexable", "_allKeys", "isScriptable", "isFunction", "isIndexable", "readKey", "prefix", "_capitalize", "needsSubResolver", "prototype", "hasOwnProperty", "_resolveScriptable", "_resolveArray", "getValue", "Error", "Array", "join", "delete", "createSubResolver", "arr", "filter", "item", "resolver", "resolveFallback", "parent", "resolveObjectKey", "addScopes", "parentScopes", "parentFallback", "allScopes", "addScopesFromKey", "subGetTarget", "resolveKeysFromAllScopes", "_parseObjectDataRadialScale", "_parsing", "parsed", "r", "parse", "EPSILON", "getPoint", "skip", "getValueAxis", "splineCurve", "firstPoint", "middlePoint", "afterPoint", "current", "next", "d01", "distanceBetweenPoints", "d12", "s01", "s12", "fa", "fb", "monotoneAdjust", "deltaK", "mK", "pointsLen", "alphaK", "betaK", "tauK", "squaredMagnitude", "pointCurrent", "pointAfter", "almostEquals", "monotoneCompute", "valueAxis", "pointBefore", "iPixel", "vPixel", "splineCurveMonotone", "slopeDelta", "sign", "capControlPoint", "pt", "capBezierPoints", "inArea", "inAreaPrev", "inAreaNext", "_updateBezierControlPoints", "controlPoints", "spanGaps", "cubicInterpolationMode", "prev", "tension", "_isDomSupported", "document", "_getParentNode", "domNode", "parentNode", "host", "parseMaxStyle", "styleValue", "parentProperty", "valueInPixels", "indexOf", "getComputedStyle", "element", "ownerDocument", "defaultView", "getStyle", "el", "property", "getPropertyValue", "positions", "getPositionedStyle", "styles", "suffix", "result", "pos", "parseFloat", "useOffsetPos", "shadowRoot", "getCanvasPosition", "e", "touches", "source", "offsetX", "offsetY", "box", "getBoundingClientRect", "clientX", "clientY", "getRelativePosition", "event", "borderBox", "boxSizing", "paddings", "borders", "getContainerSize", "maxHeight", "container", "clientWidth", "clientHeight", "containerStyle", "containerBorder", "containerPadding", "INFINITY", "round1", "getMaximumSize", "bbWidth", "bbHeight", "aspectRatio", "margins", "containerSize", "maintainHeight", "retinaScale", "forceRatio", "forceStyle", "pixelRatio", "deviceHeight", "deviceWidth", "setTransform", "supportsEventListenerOptions", "passiveSupported", "passive", "addEventListener", "removeEventListener", "readUsedSize", "_pointInLine", "p1", "p2", "_steppedInterpolation", "_bezierInterpolation", "cp1", "cp2", "a", "b", "c", "getRightToLeftAdapter", "rectX", "setWidth", "xPlus", "leftForLtr", "itemWidth", "getLeftToRightAdapter", "_itemWidth", "getRtlAdapter", "overrideTextDirection", "direction", "original", "getPropertyPriority", "setProperty", "prevTextDirection", "restoreTextDirection", "propertyFn", "between", "_angleBetween", "compare", "_angleDiff", "normalize", "_normalizeAngle", "_isBetween", "normalizeSegment", "getSegment", "segment", "startBound", "endBound", "_boundSegment", "inside", "subStart", "prevValue", "startIsBefore", "endIsBefore", "shouldStart", "shouldStop", "_boundSegments", "segments", "sub", "findStartAndEnd", "solidSegments", "last", "cur", "stop", "_computeSegments", "segmentOptions", "_loop", "splitByStyles", "completeLoop", "_fullLoop", "doSplitByStyles", "chartContext", "_chart", "baseStyle", "readStyle", "_datasetIndex", "datasetIndex", "prevStyle", "addStyle", "l", "st", "dir", "p0", "p0DataIndex", "p1DataIndex", "styleChanged", "borderCapStyle", "borderDash", "borderDashOffset", "borderJoinStyle", "replacer", "Animator", "constructor", "_request", "_charts", "Map", "_running", "_lastDate", "undefined", "_notify", "chart", "anims", "date", "type", "callbacks", "listeners", "numSteps", "duration", "forEach", "fn", "initial", "currentStep", "Math", "min", "start", "_refresh", "requestAnimFrame", "call", "window", "_update", "Date", "now", "remaining", "running", "items", "length", "i", "draw", "item", "_active", "_total", "tick", "pop", "_getAnims", "charts", "get", "complete", "progress", "set", "listen", "event", "cb", "push", "add", "has", "reduce", "acc", "cur", "max", "_duration", "stop", "cancel", "remove", "delete", "transparent", "interpolators", "boolean", "from", "to", "factor", "color", "c0", "helpersColor", "c1", "valid", "mix", "hexString", "number", "Animation", "cfg", "target", "prop", "currentValue", "resolve", "_fn", "_easing", "effects", "easing", "linear", "_start", "floor", "delay", "_loop", "loop", "_target", "_prop", "_from", "_to", "_promises", "active", "update", "elapsed", "remain", "wait", "promises", "Promise", "res", "rej", "resolved", "method", "Animations", "config", "_chart", "_properties", "configure", "isObject", "animationOptions", "Object", "keys", "defaults", "animation", "animatedProps", "getOwnPropertyNames", "key", "option", "isArray", "properties", "_animateOptions", "values", "newOptions", "options", "resolveTargetOptions", "animations", "_createAnimations", "$shared", "awaitAll", "$animations", "then", "props", "charAt", "value", "size", "assign", "animator", "anim", "all", "scaleClip", "scale", "allowedOverflow", "opts", "reverse", "end", "defaultClip", "xScale", "yScale", "x", "y", "top", "right", "bottom", "left", "toClip", "t", "r", "b", "l", "disabled", "getSortedDatasetIndices", "filterVisible", "metasets", "_getSortedDatasetMetas", "ilen", "index", "applyStack", "stack", "dsIndex", "singleMode", "mode", "datasetIndex", "otherValue", "isFinite", "sign", "convertObjectDataToArray", "data", "meta", "iScale", "vScale", "iAxisKey", "axis", "vAxisKey", "adata", "Array", "isStacked", "stacked", "getStackKey", "indexScale", "valueScale", "id", "getUserBounds", "minDefined", "maxDefined", "Number", "NEGATIVE_INFINITY", "POSITIVE_INFINITY", "getOrCreateStack", "stacks", "stackKey", "indexValue", "subStack", "getLastIndexInStack", "positive", "getMatchingVisibleMetas", "updateStacks", "controller", "parsed", "_cachedMeta", "_stacks", "iAxis", "vAxis", "itemStacks", "_top", "_bottom", "visualValues", "_visualValues", "getFirstScaleId", "scales", "filter", "shift", "createDatasetContext", "parent", "createContext", "dataset", "createDataContext", "element", "dataIndex", "raw", "clearStacks", "_parsed", "isDirectUpdateMode", "cloneIfNotShared", "cached", "shared", "createStack", "canStack", "hidden", "_stacked", "DatasetController", "datasetElementType", "dataElementType", "_ctx", "ctx", "_cachedDataOpts", "getMeta", "_type", "_parsing", "_data", "_objectData", "_sharedOptions", "_drawStart", "_drawCount", "enableOptionSharing", "supportsDecimation", "$context", "_syncList", "initialize", "linkScales", "addElements", "fill", "isPluginEnabled", "console", "warn", "updateIndex", "getDataset", "chooseId", "xid", "xAxisID", "valueOrDefault", "yid", "yAxisID", "rid", "rAxisID", "indexAxis", "iid", "iAxisID", "vid", "vAxisID", "getScaleForId", "rScale", "datasets", "getDatasetMeta", "scaleID", "_getOtherScale", "reset", "_destroy", "unlistenArrayEvents", "_dataCheck", "isExtensible", "listenArrayEvents", "buildOrUpdateElements", "resetNewElements", "stackChanged", "oldStacked", "_resyncElements", "scopeKeys", "datasetScopeKeys", "scopes", "getOptionScopes", "createResolver", "getContext", "parsing", "parse", "count", "sorted", "_sorted", "prev", "parseArrayData", "parseObjectData", "parsePrimitiveData", "isNotInOrderComparedToPrev", "labels", "getLabels", "singleScale", "xAxisKey", "yAxisKey", "resolveObjectKey", "getParsed", "getDataElement", "updateRangeFromParsed", "range", "parsedValue", "NaN", "getMinMax", "otherScale", "otherMin", "otherMax", "_skip", "getAllParsedValues", "getMaxOverflow", "getLabelAndValue", "label", "getLabelForValue", "_clip", "clip", "elements", "area", "chartArea", "drawActiveElementsOnTop", "getStyle", "resolveDatasetElementOptions", "resolveDataElementOptions", "context", "_resolveElementOptions", "elementType", "cache", "cacheKey", "sharing", "defined", "datasetElementScopeKeys", "prefixes", "names", "resolveNamedOptions", "freeze", "_resolveAnimations", "transition", "datasetAnimationScopeKeys", "_cacheable", "getSharedOptions", "includeOptions", "sharedOptions", "_animationsDisabled", "_getSharedOptions", "firstOpts", "previouslySharedOptions", "updateSharedOptions", "updateElement", "_setStyle", "removeHoverStyle", "setHoverStyle", "_removeDatasetHoverStyle", "_setDatasetHoverStyle", "arg1", "arg2", "numMeta", "numData", "_insertElements", "_removeElements", "move", "arr", "updateElements", "removed", "splice", "_sync", "args", "_dataChanges", "_onDataPush", "arguments", "_onDataPop", "_onDataShift", "_onDataSplice", "newCount", "_onDataUnshift", "getAllScaleValues", "_cache", "$bar", "visibleMetas", "concat", "_arrayUnique", "sort", "a", "computeMinSampleSize", "_length", "curr", "updateMinAndPrev", "abs", "getPixelForValue", "ticks", "getPixelForTick", "computeFitCategoryTraits", "ruler", "stackCount", "thickness", "barThickness", "ratio", "isNullOrUndef", "categoryPercentage", "barPercentage", "chunk", "pixels", "computeFlexCategoryTraits", "next", "percent", "parseFloatBar", "entry", "startValue", "endValue", "barStart", "barEnd", "_custom", "parseValue", "parseArrayOrPrimitive", "isFloatBar", "custom", "barSign", "actualBase", "isHorizontal", "borderProps", "horizontal", "base", "setBorderSkipped", "edge", "borderSkipped", "enableBorderRadius", "parseEdge", "swap", "startEnd", "orig", "v1", "v2", "v", "setInflateAmount", "inflateAmount", "BarController", "grouped", "numbers", "overrides", "_index_", "offset", "grid", "_value_", "beginAtZero", "obj", "bars", "getBasePixel", "_getRuler", "vpixels", "head", "_calculateBarValuePixels", "ipixels", "_calculateBarIndexPixels", "center", "height", "width", "_getStacks", "last", "skipNull", "val", "isNaN", "indexOf", "_getStackCount", "_getStackIndex", "name", "_startPixel", "_endPixel", "baseValue", "minBarLength", "floating", "getDataVisibility", "startPixel", "getPixelForDecimal", "endPixel", "getValueForPixel", "halfGrid", "getLineWidthForValue", "maxBarThickness", "Infinity", "stackIndex", "rects", "BubbleController", "radius", "points", "point", "iPixel", "vPixel", "skip", "getRatioAndOffset", "rotation", "circumference", "cutout", "ratioX", "ratioY", "offsetX", "offsetY", "TAU", "startAngle", "endAngle", "startX", "cos", "startY", "sin", "endX", "endY", "calcMax", "angle", "_angleBetween", "calcMin", "maxX", "maxY", "HALF_PI", "minX", "PI", "minY", "DoughnutController", "animateRotate", "animateScale", "spacing", "descriptors", "_scriptable", "_indexable", "startsWith", "aspectRatio", "plugins", "legend", "generateLabels", "pointStyle", "map", "style", "text", "fillStyle", "backgroundColor", "strokeStyle", "borderColor", "fontColor", "lineWidth", "borderWidth", "onClick", "e", "legendItem", "toggleDataVisibility", "innerRadius", "outerRadius", "getter", "_getRotation", "toRadians", "_getCircumference", "_getRotationExtents", "isDatasetVisible", "arcs", "getMaxBorderWidth", "getMaxOffset", "maxSize", "toPercentage", "chartWeight", "_getRingWeight", "maxWidth", "maxHeight", "maxRadius", "toDimension", "radiusLength", "_getVisibleDatasetWeightTotal", "total", "calculateTotal", "_getRingWeightOffset", "_circumference", "calculateCircumference", "animationOpts", "centerX", "centerY", "arc", "metaData", "formatNumber", "locale", "borderAlign", "hoverBorderWidth", "hoverOffset", "ringWeightOffset", "weight", "LineController", "showLine", "spanGaps", "line", "_dataset", "animationsDisabled", "_getStartAndCountOfVisiblePoints", "_scaleRangesChanged", "_datasetIndex", "_decimated", "segment", "animated", "maxGapLength", "isNumber", "directUpdate", "pointsCount", "prevParsed", "nullData", "border", "firstPoint", "lastPoint", "updateControlPoints", "PolarAreaController", "angleLines", "display", "circular", "pointLabels", "_parseObjectDataRadialScale", "bind", "_updateRadius", "minSize", "cutoutPercentage", "getVisibleDatasetCount", "xCenter", "yCenter", "datasetStartAngle", "getIndexAngle", "defaultAngle", "countVisibleElements", "_computeAngle", "getDistanceFromCenterForValue", "PieController", "RadarController", "_fullLoop", "pointPosition", "getPointPositionForValue", "ScatterController", "interaction", "registry", "getElement", "abstract", "Error", "DateAdapterBase", "override", "members", "prototype", "init", "formats", "format", "diff", "startOf", "endOf", "adapters", "_date", "binarySearch", "metaset", "intersect", "lookupMethod", "_reversePixels", "_rlookupByKey", "_lookupByKey", "el", "getRange", "lo", "hi", "evaluateInteractionItems", "position", "handler", "getSortedVisibleDatasetMetas", "j", "getDistanceMetricForAxis", "useX", "useY", "pt1", "pt2", "deltaX", "deltaY", "sqrt", "pow", "getIntersectItems", "useFinalPosition", "includeInvisible", "isPointInArea", "evaluationFunc", "_isPointInArea", "inRange", "getNearestRadialItems", "getProps", "getAngleFromPoint", "getNearestCartesianItems", "distanceMetric", "minDistance", "getCenterPoint", "pointInArea", "distance", "getNearestItems", "getAxisItems", "rangeMethod", "intersectsItem", "modes", "getRelativePosition", "nearest", "STATIC_POSITIONS", "filterByPosition", "array", "pos", "filterDynamicPositionByAxis", "box", "sortByWeight", "v0", "wrapBoxes", "boxes", "layoutBoxes", "stackWeight", "buildStacks", "layouts", "wrap", "includes", "_stack", "placed", "setLayoutDims", "params", "vBoxMaxWidth", "hBoxMaxHeight", "layout", "fullSize", "availableWidth", "availableHeight", "buildLayoutBoxes", "centerHorizontal", "centerVertical", "leftAndTop", "rightAndBottom", "vertical", "getCombinedMax", "maxPadding", "updateMaxPadding", "boxPadding", "updateDims", "getPadding", "newWidth", "outerWidth", "newHeight", "outerHeight", "widthChanged", "w", "heightChanged", "h", "same", "other", "handleMaxPadding", "updatePos", "change", "getMargins", "marginForPositions", "positions", "margin", "fitBoxes", "refitBoxes", "refit", "changed", "setBoxDims", "placeBoxes", "userPadding", "padding", "addBox", "_layers", "z", "removeBox", "layoutItem", "minPadding", "toPadding", "verticalBoxes", "horizontalBoxes", "each", "beforeLayout", "visibleVerticalBoxCount", "BasePlatform", "acquireContext", "canvas", "releaseContext", "addEventListener", "listener", "removeEventListener", "getDevicePixelRatio", "getMaximumSize", "isAttached", "updateConfig", "BasicPlatform", "EXPANDO_KEY", "EVENT_TYPES", "touchstart", "touchmove", "touchend", "pointerenter", "pointerdown", "pointermove", "pointerup", "pointerleave", "pointerout", "isNullOrEmpty", "initCanvas", "renderHeight", "getAttribute", "renderWidth", "boxSizing", "displayWidth", "readUsedSize", "displayHeight", "eventListenerOptions", "supportsEventListenerOptions", "passive", "addListener", "node", "removeListener", "fromNativeEvent", "native", "nodeListContains", "nodeList", "contains", "createAttachObserver", "observer", "MutationObserver", "entries", "trigger", "addedNodes", "removedNodes", "observe", "document", "childList", "subtree", "createDetachObserver", "drpListeningCharts", "oldDevicePixelRatio", "onWindowResize", "dpr", "devicePixelRatio", "resize", "currentDevicePixelRatio", "listenDevicePixelRatioChanges", "unlistenDevicePixelRatioChanges", "createResizeObserver", "container", "_getParentNode", "throttled", "clientWidth", "ResizeObserver", "contentRect", "releaseObserver", "disconnect", "createProxyAndListen", "proxy", "DomPlatform", "removeAttribute", "setAttribute", "proxies", "$proxies", "handlers", "attach", "detach", "isConnected", "_detectPlatform", "_isDomSupported", "OffscreenCanvas", "Element", "defaultRoutes", "tooltipPosition", "hasValue", "final", "ret", "autoSkip", "tickOpts", "determinedMaxTicks", "determineMaxTicks", "ticksLimit", "maxTicksLimit", "majorIndices", "major", "enabled", "getMajorIndices", "numMajorIndices", "first", "newTicks", "skipMajors", "calculateSpacing", "avgMajorSpacing", "round", "tickLength", "_tickSize", "maxScale", "maxChart", "_maxLength", "evenMajorSpacing", "getEvenSpacing", "factors", "_factorize", "result", "ceil", "majorStart", "majorEnd", "len", "reverseAlign", "align", "offsetFromEdge", "getTicksLimit", "ticksLength", "sample", "numItems", "increment", "getPixelForGridLine", "offsetGridLines", "validIndex", "epsilon", "lineValue", "garbageCollect", "caches", "gc", "gcLen", "getTickMarkLength", "drawTicks", "getTitleHeight", "fallback", "font", "toFont", "lines", "lineHeight", "createScaleContext", "createTickContext", "titleAlign", "_toLeftRightCenter", "titleArgs", "titleX", "titleY", "_alignStartEnd", "positionAxisID", "Scale", "_margins", "paddingTop", "paddingBottom", "paddingLeft", "paddingRight", "labelRotation", "_range", "_gridLineItems", "_labelItems", "_labelSizes", "_longestTextCache", "_userMax", "_userMin", "_suggestedMax", "_suggestedMin", "_ticksLength", "_borderValue", "_dataLimitsCached", "setContext", "suggestedMin", "suggestedMax", "finiteOrDefault", "metas", "getTicks", "xLabels", "yLabels", "getLabelItems", "_computeLabelItems", "beforeUpdate", "margins", "grace", "sampleSize", "beforeSetDimensions", "setDimensions", "afterSetDimensions", "beforeDataLimits", "determineDataLimits", "afterDataLimits", "_addGrace", "beforeBuildTicks", "buildTicks", "afterBuildTicks", "samplingEnabled", "_convertTicksToLabels", "beforeCalculateLabelRotation", "calculateLabelRotation", "afterCalculateLabelRotation", "source", "afterAutoSkip", "beforeFit", "fit", "afterFit", "afterUpdate", "reversePixels", "_alignToPixels", "alignToPixels", "_callHooks", "notifyPlugins", "beforeTickToLabelConversion", "generateTickLabels", "callback", "afterTickToLabelConversion", "numTicks", "minRotation", "maxRotation", "tickWidth", "maxLabelDiagonal", "_isVisible", "labelSizes", "_getLabelSizes", "maxLabelWidth", "widest", "maxLabelHeight", "highest", "_limitValue", "title", "toDegrees", "asin", "titleOpts", "gridOpts", "titleHeight", "tickPadding", "angleRadians", "labelHeight", "mirror", "labelWidth", "_calculatePadding", "_handleMargins", "isRotated", "labelsBelowTicks", "offsetLeft", "offsetRight", "isFullSize", "_computeLabelSizes", "widths", "heights", "widestLabelSize", "highestLabelSize", "jlen", "tickFont", "fontString", "nestedLabel", "_resolveTickFontOptions", "string", "_measureText", "valueAt", "idx", "pixel", "decimal", "_int16Range", "_alignPixel", "getDecimalForPixel", "getBaseValue", "optionTicks", "rot", "autoSkipPadding", "_computeGridLineItems", "tl", "borderOpts", "axisWidth", "axisHalfWidth", "alignBorderValue", "borderValue", "alignedLineValue", "tx1", "ty1", "tx2", "ty2", "x1", "y1", "x2", "y2", "limit", "step", "optsAtIndex", "optsAtIndexBorder", "lineColor", "borderDash", "dash", "borderDashOffset", "dashOffset", "tickColor", "tickBorderDash", "tickBorderDashOffset", "crossAlign", "tickAndPadding", "hTickAndPadding", "textAlign", "lineCount", "textOffset", "textBaseline", "_getXAxisLabelAlignment", "_getYAxisLabelAlignment", "labelOffset", "halfCount", "strokeColor", "textStrokeColor", "strokeWidth", "textStrokeWidth", "tickTextAlign", "showLabelBackdrop", "backdrop", "labelPadding", "backdropPadding", "backdropColor", "translation", "_computeLabelArea", "drawBackground", "save", "fillRect", "restore", "findIndex", "drawGrid", "drawLine", "p1", "p2", "setLineDash", "lineDashOffset", "beginPath", "moveTo", "lineTo", "stroke", "drawOnChartArea", "drawBorder", "lastLineWidth", "drawLabels", "clipArea", "renderTextOptions", "renderText", "unclipArea", "drawTitle", "tz", "gz", "bz", "axisID", "_maxDigits", "fontSize", "TypedRegistry", "scope", "create", "isForType", "isPrototypeOf", "register", "proto", "getPrototypeOf", "parentScope", "isIChartComponent", "registerDefaults", "unregister", "itemDefaults", "merge", "routeDefaults", "describe", "routes", "property", "propertyParts", "split", "sourceName", "sourceScope", "join", "parts", "targetName", "targetScope", "route", "Registry", "controllers", "_typedRegistries", "_each", "addControllers", "addPlugins", "addScales", "getController", "_get", "getPlugin", "getScale", "removeControllers", "removeElements", "removePlugins", "removeScales", "typedRegistry", "arg", "reg", "_getRegistryForType", "_exec", "itemReg", "component", "camelMethod", "_capitalize", "PluginService", "_init", "notify", "hook", "_createDescriptors", "_descriptors", "descriptor", "plugin", "callCallback", "cancelable", "invalidate", "_oldCache", "_notifyStateChanges", "allPlugins", "createDescriptors", "previousDescriptors", "some", "localIds", "local", "getOpts", "pluginOpts", "pluginScopeKeys", "scriptable", "indexable", "allKeys", "getIndexAxis", "datasetDefaults", "datasetOptions", "getAxisFromDefaultScaleID", "getDefaultScaleIDFromAxis", "idMatchesAxis", "axisFromPosition", "determineAxis", "scaleOptions", "toLowerCase", "getAxisFromDataset", "retrieveAxisFromDatasets", "boundDs", "d", "mergeScaleConfig", "chartDefaults", "configScales", "chartIndexAxis", "scaleConf", "error", "_proxy", "defaultId", "defaultScaleOptions", "mergeIf", "defaultID", "initOptions", "initData", "initConfig", "keyCache", "keysCached", "Set", "cachedKeys", "generate", "addIfFound", "Config", "_config", "_scopeCache", "_resolverCache", "platform", "clearCache", "clear", "datasetType", "additionalOptionScopes", "_cachedScopes", "mainScope", "resetCache", "keyLists", "chartOptionScopes", "resolver", "subPrefixes", "getResolver", "needContext", "isFunction", "subResolver", "_attachContext", "descriptorDefaults", "resolverCache", "_createResolver", "p", "hasFunction", "isScriptable", "isIndexable", "KNOWN_POSITIONS", "positionIsHorizontal", "compare2Level", "l1", "l2", "onAnimationsComplete", "onComplete", "onAnimationProgress", "onProgress", "getCanvas", "getElementById", "instances", "getChart", "c", "moveNumericKeys", "intKey", "determineLastEvent", "lastEvent", "inChartArea", "isClick", "getSizeForArea", "field", "getDatasetArea", "Chart", "version", "invalidatePlugins", "userConfig", "initialCanvas", "existingChart", "uid", "_options", "_aspectRatio", "_metasets", "_lastEvent", "_listeners", "_responsiveListeners", "_sortedMetasets", "_plugins", "_hiddenIndices", "attached", "_doResize", "debounce", "resizeDelay", "_initialize", "maintainAspectRatio", "responsive", "retinaScale", "bindEvents", "clearCanvas", "_resize", "_resizeBeforeDraw", "newSize", "newRatio", "onResize", "render", "ensureScalesHaveIDs", "scalesOptions", "axisOptions", "buildOrUpdateScales", "scaleOpts", "updated", "isRadial", "dposition", "dtype", "scaleType", "scaleClass", "hasUpdated", "_updateMetasets", "_destroyDatasetMeta", "slice", "_removeUnreferencedMetasets", "buildOrUpdateControllers", "newControllers", "order", "visible", "ControllerClass", "_resetElements", "animsDisabled", "_updateScales", "_checkEventBindings", "_updateHiddenIndices", "_minPadding", "autoPadding", "_updateLayout", "_updateDatasets", "_eventHandler", "_updateHoverStyles", "existingEvents", "newEvents", "events", "setsEqual", "unbindEvents", "changes", "_getUniformDataChanges", "datasetCount", "makeSet", "changeSet", "noArea", "_idx", "_updateDataset", "layers", "_drawDatasets", "_drawDataset", "useClip", "getElementsAtEventForMode", "Interaction", "setDatasetVisibility", "_updateVisibility", "hide", "show", "_stop", "destroy", "toBase64Image", "toDataURL", "bindUserEvents", "bindResponsiveEvents", "_add", "_remove", "detached", "updateHoverStyle", "prefix", "getActiveElements", "setActiveElements", "activeElements", "lastActive", "_elementsEqual", "pluginId", "replay", "hoverOptions", "hover", "deactivated", "activated", "eventFilter", "_handleEvent", "_getActiveElements", "_isClickEvent", "onHover", "clipArc", "pixelMargin", "angleMargin", "closePath", "toRadiusCorners", "_readValueToProps", "parseBorderRadius", "angleDelta", "o", "borderRadius", "halfThickness", "innerLimit", "computeOuterLimit", "outerArcLimit", "outerStart", "outerEnd", "innerStart", "innerEnd", "rThetaToXY", "theta", "pathArc", "innerR", "spacingOffset", "alpha", "noSpacingInnerRadius", "noSpacingOuterRadius", "avNogSpacingRadius", "adjustedAngle", "beta", "angleOffset", "outerStartAdjustedRadius", "outerEndAdjustedRadius", "outerStartAdjustedAngle", "outerEndAdjustedAngle", "innerStartAdjustedRadius", "innerEndAdjustedRadius", "innerStartAdjustedAngle", "innerEndAdjustedAngle", "outerMidAdjustedAngle", "pCenter", "p4", "innerMidAdjustedAngle", "p8", "outerStartX", "outerStartY", "outerEndX", "outerEndY", "drawArc", "fullCircles", "borderJoinStyle", "inner", "lineJoin", "ArcElement", "chartX", "chartY", "rAdjust", "betweenAngles", "withinRadius", "_isBetween", "halfAngle", "halfRadius", "translate", "fix", "radiusOffset", "setStyle", "lineCap", "borderCapStyle", "previous", "getLineMethod", "stepped", "_steppedLineTo", "tension", "cubicInterpolationMode", "_bezierCurveTo", "pathVars", "paramsStart", "paramsEnd", "segmentStart", "segmentEnd", "outside", "pathSegment", "lineMethod", "fastPathSegment", "avgX", "countX", "prevX", "lastY", "pointIndex", "drawX", "truncX", "_getSegmentMethod", "useFastPath", "_getInterpolationMethod", "_steppedInterpolation", "_bezierInterpolation", "_pointInLine", "strokePathWithCache", "path", "_path", "Path2D", "strokePathDirect", "segments", "segmentMethod", "usePath2D", "LineElement", "capBezierPoints", "_points", "_segments", "_pointsUpdated", "_updateBezierControlPoints", "_computeSegments", "interpolate", "_boundSegments", "_interpolate", "interpolated", "hitRadius", "PointElement", "hoverRadius", "mouseX", "mouseY", "inXRange", "inYRange", "drawPoint", "getBarBounds", "bar", "half", "skipOrLimit", "parseBorderWidth", "maxW", "maxH", "toTRBL", "toTRBLCorners", "maxR", "enableBorder", "topLeft", "topRight", "bottomLeft", "bottomRight", "boundingRects", "bounds", "outer", "skipX", "skipY", "skipBoth", "hasRadius", "addNormalRectPath", "rect", "inflateRect", "amount", "refRect", "BarElement", "addRectPath", "addRoundedRectPath", "BORDER_COLORS", "BACKGROUND_COLORS", "replace", "getBorderColor", "getBackgroundColor", "colorizeDefaultDataset", "colorizeDoughnutDataset", "colorizePolarAreaDataset", "getColorizer", "containsColorsDefinitions", "k", "containsColorsDefinition", "forceOverride", "_args", "chartOptions", "colorizer", "lttbDecimation", "samples", "decimated", "bucketWidth", "sampledIndex", "endIndex", "maxAreaPoint", "maxArea", "nextA", "avgY", "avgRangeStart", "avgRangeEnd", "avgRangeLength", "rangeOffs", "rangeTo", "pointAx", "pointAy", "minMaxDecimation", "minIndex", "maxIndex", "startIndex", "xMin", "xMax", "dx", "lastIndex", "intermediateIndex1", "intermediateIndex2", "cleanDecimatedDataset", "defineProperty", "configurable", "enumerable", "writable", "cleanDecimatedData", "getStartAndCountOfVisiblePointsSimplified", "pointCount", "algorithm", "beforeElementsUpdate", "xAxis", "threshold", "tpoints", "_findSegmentEnd", "_getBounds", "targetSegments", "tgt", "subBounds", "fillSources", "_boundSegment", "fillSource", "_getEdge", "_normalizeAngle", "_pointsFromSegments", "boundary", "linePoints", "_createBoundaryLine", "_shouldApplyFill", "_resolveTarget", "sources", "propagate", "visited", "_decodeFill", "parseFillOption", "parseFloat", "decodeTargetIndex", "firstCh", "_getTargetPixel", "_getTargetValue", "fillOption", "_buildStackLine", "sourcePoints", "linesBelow", "getLinesBelow", "addPointsBelow", "below", "unshift", "sourcePoint", "postponed", "findPoint", "pointValue", "firstValue", "lastValue", "simpleArc", "_getTarget", "getLineByIndex", "computeBoundary", "computeCircularBoundary", "computeLinearBoundary", "_drawfill", "lineOpts", "above", "doFill", "clipVertical", "clipY", "lineLoop", "src", "notShape", "clipBounds", "interpolatedLineTo", "targetLoop", "interpolatedPoint", "afterDatasetsUpdate", "$filler", "beforeDraw", "drawTime", "beforeDatasetsDraw", "beforeDatasetDraw", "getBoxSize", "labelOpts", "boxHeight", "boxWidth", "usePointStyle", "pointStyleWidth", "itemHeight", "itemsEqual", "Legend", "_added", "legendHitBoxes", "_hoveredItem", "doughnutMode", "legendItems", "columnSizes", "lineWidths", "buildLabels", "labelFont", "_computeTitleHeight", "_fitRows", "_fitCols", "hitboxes", "totalHeight", "row", "itemWidth", "measureText", "_itemHeight", "heightLimit", "totalWidth", "currentColWidth", "currentColHeight", "col", "calculateItemSize", "adjustHitBoxes", "rtl", "rtlHelper", "getRtlAdapter", "hitbox", "leftForLtr", "_draw", "defaultColor", "halfFontSize", "cursor", "drawLegendBox", "lineDash", "drawOptions", "SQRT2", "xPlus", "drawPointLegend", "yBoxTop", "xBoxLeft", "fillText", "strikethrough", "overrideTextDirection", "textDirection", "textWidth", "setWidth", "realX", "_textX", "fontLineHeight", "calculateLegendItemHeight", "restoreTextDirection", "titleFont", "titlePadding", "topPaddingPlusHalfFontSize", "_getLegendItemAt", "hitBox", "lh", "handleEvent", "isListened", "hoveredItem", "sameItem", "onLeave", "calculateItemWidth", "calculateItemHeight", "legendItemText", "_element", "afterEvent", "ci", "useBorderRadius", "Title", "_padding", "textSize", "_drawArgs", "fontOpts", "createTitle", "titleBlock", "WeakMap", "positioners", "average", "xSet", "xAverage", "eventPosition", "nearestElement", "distanceBetweenPoints", "tp", "pushOrConcat", "toPush", "apply", "splitNewlines", "str", "String", "createTooltipItem", "formattedValue", "getTooltipSize", "tooltip", "body", "footer", "bodyFont", "footerFont", "titleLineCount", "footerLineCount", "bodyLineItemCount", "combinedBodyLength", "bodyItem", "before", "after", "beforeBody", "afterBody", "titleSpacing", "titleMarginBottom", "bodyLineHeight", "displayColors", "bodySpacing", "footerMarginTop", "footerSpacing", "widthPadding", "maxLineWidth", "determineYAlign", "doesNotFitWithAlign", "xAlign", "caret", "caretSize", "caretPadding", "determineXAlign", "yAlign", "chartWidth", "determineAlignment", "alignX", "alignY", "paddingAndSize", "getBackgroundPoint", "alignment", "cornerRadius", "getAlignedX", "getBeforeAfterBodyLines", "createTooltipContext", "tooltipItems", "overrideCallbacks", "defaultCallbacks", "beforeTitle", "noop", "labelCount", "afterTitle", "beforeLabel", "tooltipItem", "labelColor", "labelTextColor", "bodyColor", "labelPointStyle", "afterLabel", "beforeFooter", "afterFooter", "invokeCallbackWithFallback", "Tooltip", "opacity", "_eventPosition", "_size", "_cachedAnimations", "_tooltipItems", "dataPoints", "caretX", "caretY", "labelColors", "labelPointStyles", "labelTextColors", "getTitle", "getBeforeBody", "getBody", "bodyItems", "scoped", "getAfterBody", "getFooter", "_createItems", "itemSort", "positionAndSize", "backgroundPoint", "external", "drawCaret", "tooltipPoint", "caretPosition", "getCaretPosition", "x3", "y3", "ptX", "ptY", "pt", "titleColor", "_drawColorBox", "colorX", "rtlColorX", "yOffSet", "colorY", "multiKeyBackground", "outerX", "innerX", "strokeRect", "drawBody", "bodyAlign", "xLinePadding", "fillLineOfText", "bodyAlignForCalculation", "textColor", "drawFooter", "footerAlign", "footerColor", "tooltipSize", "quadraticCurveTo", "_updateAnimationTarget", "animX", "animY", "_willRender", "hasTooltipContent", "globalAlpha", "positionChanged", "_positionChanged", "_ignoreReplayEvents", "afterInit", "afterDraw", "_fallback", "addIfString", "addedLabels", "findOrAddLabel", "lastIndexOf", "_getLabelForValue", "CategoryScale", "_startValue", "_valueRange", "_addedLabels", "added", "generateTicks", "generationOptions", "dataRange", "MIN_SPACING", "precision", "maxTicks", "maxDigits", "includeBounds", "unit", "maxSpaces", "rmin", "rmax", "countDefined", "minSpacing", "niceNum", "niceMin", "niceMax", "numSpaces", "almostWhole", "almostEquals", "decimalPlaces", "_decimalPlaces", "relativeLabelSize", "tickValue", "rad", "LinearScaleBase", "_endValue", "handleTickRangeOptions", "setMin", "setMax", "minSign", "maxSign", "getTickLimit", "stepSize", "computeTickLimit", "numericGeneratorOptions", "_setMinAndMaxByKey", "LinearScale", "Ticks", "formatters", "numeric", "log10Floor", "log10", "changeExponent", "m", "isMajor", "tickVal", "steps", "rangeExp", "rangeStep", "startExp", "minExp", "exp", "significand", "lastTick", "LogarithmicScale", "logarithmic", "_zero", "getTickBackdropHeight", "measureLabelSize", "_longestText", "determineLimits", "fitWithPointLabels", "limits", "valueCount", "_pointLabels", "pointLabelOpts", "additionalAngle", "centerPointLabels", "getPointLabelContext", "getPointPosition", "drawingArea", "plFont", "hLimits", "vLimits", "updateLimits", "setCenterPoint", "_pointLabelItems", "buildPointLabelItems", "createPointLabelItem", "itemOpts", "outerDistance", "extra", "pointLabelPosition", "yForAngle", "getTextAlignForAngle", "leftForTextAlign", "isNotOverlapped", "apexesInArea", "drawPointLabelBox", "backdropLeft", "backdropTop", "backdropWidth", "backdropHeight", "drawPointLabels", "pathRadiusLine", "drawRadiusLine", "gridLineOpts", "createPointLabelContext", "RadialLinearScale", "animate", "leftMovement", "rightMovement", "topMovement", "bottomMovement", "angleMultiplier", "scalingFactor", "getValueForDistanceFromCenter", "scaledDistance", "pointLabel", "distanceFromCenter", "getBasePosition", "getPointLabelPosition", "rotate", "INTERVALS", "millisecond", "common", "second", "minute", "hour", "day", "week", "month", "quarter", "year", "UNITS", "sorter", "input", "adapter", "_adapter", "parser", "isoWeekday", "_parseOpts", "determineUnitForAutoTicks", "minUnit", "capacity", "interval", "MAX_SAFE_INTEGER", "determineUnitForFormatting", "determineMajorUnit", "addTick", "time", "timestamps", "_lookup", "timestamp", "setMajorTicks", "majorUnit", "ticksFromTimestamps", "TimeScale", "displayFormats", "_unit", "_majorUnit", "_offsets", "_normalized", "normalized", "_applyBounds", "_getLabelBounds", "getLabelTimestamps", "timeOpts", "_generate", "_filterBetween", "_getLabelCapacity", "initOffsets", "offsetAfterAutoskip", "getDecimalForValue", "minor", "weekday", "hasWeekday", "getDataTimestamps", "tooltipFormat", "datetime", "fmt", "_tickFormatFunction", "formatter", "minorFormat", "majorFormat", "offsets", "_getLabelSize", "ticksOpts", "tickLabelWidth", "cosRotation", "sinRotation", "tickFontSize", "exampleTime", "exampleLabel", "normalize", "table", "prevSource", "nextSource", "prevTarget", "nextTarget", "span", "TimeSeriesScale", "_table", "_minPos", "_tableRange", "_getTimestampsForTable", "buildLookupTable", "registerables", "Chart", "toDate", "toDate", "toDate", "toDate", "defaultOptions", "defaultOptions", "toDate", "toDate", "toDate", "toDate", "toDate", "isDate", "isDate", "toDate", "toDate", "toDate", "toDate", "sign", "round", "toDate", "toDate", "toDate", "toDate", "toDate", "sign", "toDate", "sign", "toDate", "toDate", "toDate", "toDate", "toDate", "toDate", "defaultOptions", "toDate", "toDate", "toDate", "toDate", "format", "index", "index", "toDate", "toDate", "toDate", "defaultOptions", "defaultOptions", "toDate", "sign", "formatters", "localize", "sign", "formatLong", "format", "defaultOptions", "toDate", "formatters", "getDefaultOptions", "toDate", "match", "match", "sign", "match", "match", "match", "match", "match", "match", "toDate", "match", "toDate", "match", "match", "match", "defaultOptions", "toDate", "match", "match", "match", "toDate", "match", "match", "match", "match", "match", "match", "match", "match", "match", "match", "formattingTokensRegExp", "longFormattingTokensRegExp", "escapedStringRegExp", "doubleQuoteRegExp", "unescapedLatinCharacterRegExp", "parse", "defaultOptions", "getDefaultOptions", "toDate", "cleanEscapedString", "index", "toDate", "toDate", "sign", "isLeapYearIndex", "adapters", "toDate", "parse", "$", "Chart", "toastr"]
}
